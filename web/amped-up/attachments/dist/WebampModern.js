// build/_snowpack/pkg/common/_commonjsHelpers-4f955397.js
var commonjsGlobal = typeof globalThis !== "undefined" ? globalThis : typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : {};
function getDefaultExportFromCjs(x) {
  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, "default") ? x["default"] : x;
}
function createCommonjsModule(fn, basedir, module) {
  return module = {
    path: basedir,
    exports: {},
    require: function(path, base) {
      return commonjsRequire(path, base === void 0 || base === null ? module.path : base);
    }
  }, fn(module, module.exports), module.exports;
}
function commonjsRequire() {
  throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");
}

// build/_snowpack/pkg/jszip.js
function defaultSetTimout() {
  throw new Error("setTimeout has not been defined");
}
function defaultClearTimeout() {
  throw new Error("clearTimeout has not been defined");
}
var cachedSetTimeout = defaultSetTimout;
var cachedClearTimeout = defaultClearTimeout;
var globalContext;
if (typeof window !== "undefined") {
  globalContext = window;
} else if (typeof self !== "undefined") {
  globalContext = self;
} else {
  globalContext = {};
}
if (typeof globalContext.setTimeout === "function") {
  cachedSetTimeout = setTimeout;
}
if (typeof globalContext.clearTimeout === "function") {
  cachedClearTimeout = clearTimeout;
}
function runTimeout(fun) {
  if (cachedSetTimeout === setTimeout) {
    return setTimeout(fun, 0);
  }
  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
    cachedSetTimeout = setTimeout;
    return setTimeout(fun, 0);
  }
  try {
    return cachedSetTimeout(fun, 0);
  } catch (e) {
    try {
      return cachedSetTimeout.call(null, fun, 0);
    } catch (e2) {
      return cachedSetTimeout.call(this, fun, 0);
    }
  }
}
function runClearTimeout(marker) {
  if (cachedClearTimeout === clearTimeout) {
    return clearTimeout(marker);
  }
  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
    cachedClearTimeout = clearTimeout;
    return clearTimeout(marker);
  }
  try {
    return cachedClearTimeout(marker);
  } catch (e) {
    try {
      return cachedClearTimeout.call(null, marker);
    } catch (e2) {
      return cachedClearTimeout.call(this, marker);
    }
  }
}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;
function cleanUpNextTick() {
  if (!draining || !currentQueue) {
    return;
  }
  draining = false;
  if (currentQueue.length) {
    queue = currentQueue.concat(queue);
  } else {
    queueIndex = -1;
  }
  if (queue.length) {
    drainQueue();
  }
}
function drainQueue() {
  if (draining) {
    return;
  }
  var timeout = runTimeout(cleanUpNextTick);
  draining = true;
  var len = queue.length;
  while (len) {
    currentQueue = queue;
    queue = [];
    while (++queueIndex < len) {
      if (currentQueue) {
        currentQueue[queueIndex].run();
      }
    }
    queueIndex = -1;
    len = queue.length;
  }
  currentQueue = null;
  draining = false;
  runClearTimeout(timeout);
}
function nextTick(fun) {
  var args = new Array(arguments.length - 1);
  if (arguments.length > 1) {
    for (var i = 1; i < arguments.length; i++) {
      args[i - 1] = arguments[i];
    }
  }
  queue.push(new Item(fun, args));
  if (queue.length === 1 && !draining) {
    runTimeout(drainQueue);
  }
}
function Item(fun, array) {
  this.fun = fun;
  this.array = array;
}
Item.prototype.run = function() {
  this.fun.apply(null, this.array);
};
var title = "browser";
var platform = "browser";
var browser = true;
var argv = [];
var version = "";
var versions = {};
var release = {};
var config = {};
function noop() {
}
var on = noop;
var addListener = noop;
var once = noop;
var off = noop;
var removeListener = noop;
var removeAllListeners = noop;
var emit = noop;
function binding(name) {
  throw new Error("process.binding is not supported");
}
function cwd() {
  return "/";
}
function chdir(dir) {
  throw new Error("process.chdir is not supported");
}
function umask() {
  return 0;
}
var performance2 = globalContext.performance || {};
var performanceNow = performance2.now || performance2.mozNow || performance2.msNow || performance2.oNow || performance2.webkitNow || function() {
  return new Date().getTime();
};
function hrtime(previousTimestamp) {
  var clocktime = performanceNow.call(performance2) * 1e-3;
  var seconds = Math.floor(clocktime);
  var nanoseconds = Math.floor(clocktime % 1 * 1e9);
  if (previousTimestamp) {
    seconds = seconds - previousTimestamp[0];
    nanoseconds = nanoseconds - previousTimestamp[1];
    if (nanoseconds < 0) {
      seconds--;
      nanoseconds += 1e9;
    }
  }
  return [seconds, nanoseconds];
}
var startTime = new Date();
function uptime() {
  var currentTime = new Date();
  var dif = currentTime - startTime;
  return dif / 1e3;
}
var process = {
  nextTick,
  title,
  browser,
  env: {NODE_ENV: "production"},
  argv,
  version,
  versions,
  on,
  addListener,
  once,
  off,
  removeListener,
  removeAllListeners,
  emit,
  binding,
  cwd,
  chdir,
  umask,
  hrtime,
  platform,
  release,
  config,
  uptime
};
var jszip_min = createCommonjsModule(function(module, exports) {
  /*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  */
  !function(e) {
    module.exports = e();
  }(function() {
    return function s(a, o, h) {
      function u(r, e2) {
        if (!o[r]) {
          if (!a[r]) {
            var t = typeof commonjsRequire == "function" && commonjsRequire;
            if (!e2 && t)
              return t(r, true);
            if (l)
              return l(r, true);
            var n = new Error("Cannot find module '" + r + "'");
            throw n.code = "MODULE_NOT_FOUND", n;
          }
          var i = o[r] = {exports: {}};
          a[r][0].call(i.exports, function(e3) {
            var t2 = a[r][1][e3];
            return u(t2 || e3);
          }, i, i.exports, s, a, o, h);
        }
        return o[r].exports;
      }
      for (var l = typeof commonjsRequire == "function" && commonjsRequire, e = 0; e < h.length; e++)
        u(h[e]);
      return u;
    }({1: [function(e, t, r) {
      var d = e("./utils"), c = e("./support"), p = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
      r.encode = function(e2) {
        for (var t2, r2, n, i, s, a, o, h = [], u = 0, l = e2.length, f = l, c2 = d.getTypeOf(e2) !== "string"; u < e2.length; )
          f = l - u, n = c2 ? (t2 = e2[u++], r2 = u < l ? e2[u++] : 0, u < l ? e2[u++] : 0) : (t2 = e2.charCodeAt(u++), r2 = u < l ? e2.charCodeAt(u++) : 0, u < l ? e2.charCodeAt(u++) : 0), i = t2 >> 2, s = (3 & t2) << 4 | r2 >> 4, a = 1 < f ? (15 & r2) << 2 | n >> 6 : 64, o = 2 < f ? 63 & n : 64, h.push(p.charAt(i) + p.charAt(s) + p.charAt(a) + p.charAt(o));
        return h.join("");
      }, r.decode = function(e2) {
        var t2, r2, n, i, s, a, o = 0, h = 0, u = "data:";
        if (e2.substr(0, u.length) === u)
          throw new Error("Invalid base64 input, it looks like a data url.");
        var l, f = 3 * (e2 = e2.replace(/[^A-Za-z0-9+/=]/g, "")).length / 4;
        if (e2.charAt(e2.length - 1) === p.charAt(64) && f--, e2.charAt(e2.length - 2) === p.charAt(64) && f--, f % 1 != 0)
          throw new Error("Invalid base64 input, bad content length.");
        for (l = c.uint8array ? new Uint8Array(0 | f) : new Array(0 | f); o < e2.length; )
          t2 = p.indexOf(e2.charAt(o++)) << 2 | (i = p.indexOf(e2.charAt(o++))) >> 4, r2 = (15 & i) << 4 | (s = p.indexOf(e2.charAt(o++))) >> 2, n = (3 & s) << 6 | (a = p.indexOf(e2.charAt(o++))), l[h++] = t2, s !== 64 && (l[h++] = r2), a !== 64 && (l[h++] = n);
        return l;
      };
    }, {"./support": 30, "./utils": 32}], 2: [function(e, t, r) {
      var n = e("./external"), i = e("./stream/DataWorker"), s = e("./stream/Crc32Probe"), a = e("./stream/DataLengthProbe");
      function o(e2, t2, r2, n2, i2) {
        this.compressedSize = e2, this.uncompressedSize = t2, this.crc32 = r2, this.compression = n2, this.compressedContent = i2;
      }
      o.prototype = {getContentWorker: function() {
        var e2 = new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")), t2 = this;
        return e2.on("end", function() {
          if (this.streamInfo.data_length !== t2.uncompressedSize)
            throw new Error("Bug : uncompressed data size mismatch");
        }), e2;
      }, getCompressedWorker: function() {
        return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize", this.compressedSize).withStreamInfo("uncompressedSize", this.uncompressedSize).withStreamInfo("crc32", this.crc32).withStreamInfo("compression", this.compression);
      }}, o.createWorkerFrom = function(e2, t2, r2) {
        return e2.pipe(new s()).pipe(new a("uncompressedSize")).pipe(t2.compressWorker(r2)).pipe(new a("compressedSize")).withStreamInfo("compression", t2);
      }, t.exports = o;
    }, {"./external": 6, "./stream/Crc32Probe": 25, "./stream/DataLengthProbe": 26, "./stream/DataWorker": 27}], 3: [function(e, t, r) {
      var n = e("./stream/GenericWorker");
      r.STORE = {magic: "\0\0", compressWorker: function() {
        return new n("STORE compression");
      }, uncompressWorker: function() {
        return new n("STORE decompression");
      }}, r.DEFLATE = e("./flate");
    }, {"./flate": 7, "./stream/GenericWorker": 28}], 4: [function(e, t, r) {
      var n = e("./utils");
      var o = function() {
        for (var e2, t2 = [], r2 = 0; r2 < 256; r2++) {
          e2 = r2;
          for (var n2 = 0; n2 < 8; n2++)
            e2 = 1 & e2 ? 3988292384 ^ e2 >>> 1 : e2 >>> 1;
          t2[r2] = e2;
        }
        return t2;
      }();
      t.exports = function(e2, t2) {
        return e2 !== void 0 && e2.length ? n.getTypeOf(e2) !== "string" ? function(e3, t3, r2, n2) {
          var i = o, s = n2 + r2;
          e3 ^= -1;
          for (var a = n2; a < s; a++)
            e3 = e3 >>> 8 ^ i[255 & (e3 ^ t3[a])];
          return -1 ^ e3;
        }(0 | t2, e2, e2.length, 0) : function(e3, t3, r2, n2) {
          var i = o, s = n2 + r2;
          e3 ^= -1;
          for (var a = n2; a < s; a++)
            e3 = e3 >>> 8 ^ i[255 & (e3 ^ t3.charCodeAt(a))];
          return -1 ^ e3;
        }(0 | t2, e2, e2.length, 0) : 0;
      };
    }, {"./utils": 32}], 5: [function(e, t, r) {
      r.base64 = false, r.binary = false, r.dir = false, r.createFolders = true, r.date = null, r.compression = null, r.compressionOptions = null, r.comment = null, r.unixPermissions = null, r.dosPermissions = null;
    }, {}], 6: [function(e, t, r) {
      var n = null;
      n = typeof Promise != "undefined" ? Promise : e("lie"), t.exports = {Promise: n};
    }, {lie: 37}], 7: [function(e, t, r) {
      var n = typeof Uint8Array != "undefined" && typeof Uint16Array != "undefined" && typeof Uint32Array != "undefined", i = e("pako"), s = e("./utils"), a = e("./stream/GenericWorker"), o = n ? "uint8array" : "array";
      function h(e2, t2) {
        a.call(this, "FlateWorker/" + e2), this._pako = null, this._pakoAction = e2, this._pakoOptions = t2, this.meta = {};
      }
      r.magic = "\b\0", s.inherits(h, a), h.prototype.processChunk = function(e2) {
        this.meta = e2.meta, this._pako === null && this._createPako(), this._pako.push(s.transformTo(o, e2.data), false);
      }, h.prototype.flush = function() {
        a.prototype.flush.call(this), this._pako === null && this._createPako(), this._pako.push([], true);
      }, h.prototype.cleanUp = function() {
        a.prototype.cleanUp.call(this), this._pako = null;
      }, h.prototype._createPako = function() {
        this._pako = new i[this._pakoAction]({raw: true, level: this._pakoOptions.level || -1});
        var t2 = this;
        this._pako.onData = function(e2) {
          t2.push({data: e2, meta: t2.meta});
        };
      }, r.compressWorker = function(e2) {
        return new h("Deflate", e2);
      }, r.uncompressWorker = function() {
        return new h("Inflate", {});
      };
    }, {"./stream/GenericWorker": 28, "./utils": 32, pako: 38}], 8: [function(e, t, r) {
      function A(e2, t2) {
        var r2, n2 = "";
        for (r2 = 0; r2 < t2; r2++)
          n2 += String.fromCharCode(255 & e2), e2 >>>= 8;
        return n2;
      }
      function n(e2, t2, r2, n2, i2, s2) {
        var a, o, h = e2.file, u = e2.compression, l = s2 !== O.utf8encode, f = I.transformTo("string", s2(h.name)), c = I.transformTo("string", O.utf8encode(h.name)), d = h.comment, p = I.transformTo("string", s2(d)), m = I.transformTo("string", O.utf8encode(d)), _ = c.length !== h.name.length, g = m.length !== d.length, b = "", v = "", y = "", w = h.dir, k = h.date, x = {crc32: 0, compressedSize: 0, uncompressedSize: 0};
        t2 && !r2 || (x.crc32 = e2.crc32, x.compressedSize = e2.compressedSize, x.uncompressedSize = e2.uncompressedSize);
        var S = 0;
        t2 && (S |= 8), l || !_ && !g || (S |= 2048);
        var z = 0, C = 0;
        w && (z |= 16), i2 === "UNIX" ? (C = 798, z |= function(e3, t3) {
          var r3 = e3;
          return e3 || (r3 = t3 ? 16893 : 33204), (65535 & r3) << 16;
        }(h.unixPermissions, w)) : (C = 20, z |= function(e3) {
          return 63 & (e3 || 0);
        }(h.dosPermissions)), a = k.getUTCHours(), a <<= 6, a |= k.getUTCMinutes(), a <<= 5, a |= k.getUTCSeconds() / 2, o = k.getUTCFullYear() - 1980, o <<= 4, o |= k.getUTCMonth() + 1, o <<= 5, o |= k.getUTCDate(), _ && (v = A(1, 1) + A(B(f), 4) + c, b += "up" + A(v.length, 2) + v), g && (y = A(1, 1) + A(B(p), 4) + m, b += "uc" + A(y.length, 2) + y);
        var E = "";
        return E += "\n\0", E += A(S, 2), E += u.magic, E += A(a, 2), E += A(o, 2), E += A(x.crc32, 4), E += A(x.compressedSize, 4), E += A(x.uncompressedSize, 4), E += A(f.length, 2), E += A(b.length, 2), {fileRecord: R.LOCAL_FILE_HEADER + E + f + b, dirRecord: R.CENTRAL_FILE_HEADER + A(C, 2) + E + A(p.length, 2) + "\0\0\0\0" + A(z, 4) + A(n2, 4) + f + b + p};
      }
      var I = e("../utils"), i = e("../stream/GenericWorker"), O = e("../utf8"), B = e("../crc32"), R = e("../signature");
      function s(e2, t2, r2, n2) {
        i.call(this, "ZipFileWorker"), this.bytesWritten = 0, this.zipComment = t2, this.zipPlatform = r2, this.encodeFileName = n2, this.streamFiles = e2, this.accumulate = false, this.contentBuffer = [], this.dirRecords = [], this.currentSourceOffset = 0, this.entriesCount = 0, this.currentFile = null, this._sources = [];
      }
      I.inherits(s, i), s.prototype.push = function(e2) {
        var t2 = e2.meta.percent || 0, r2 = this.entriesCount, n2 = this._sources.length;
        this.accumulate ? this.contentBuffer.push(e2) : (this.bytesWritten += e2.data.length, i.prototype.push.call(this, {data: e2.data, meta: {currentFile: this.currentFile, percent: r2 ? (t2 + 100 * (r2 - n2 - 1)) / r2 : 100}}));
      }, s.prototype.openedSource = function(e2) {
        this.currentSourceOffset = this.bytesWritten, this.currentFile = e2.file.name;
        var t2 = this.streamFiles && !e2.file.dir;
        if (t2) {
          var r2 = n(e2, t2, false, this.currentSourceOffset, this.zipPlatform, this.encodeFileName);
          this.push({data: r2.fileRecord, meta: {percent: 0}});
        } else
          this.accumulate = true;
      }, s.prototype.closedSource = function(e2) {
        this.accumulate = false;
        var t2 = this.streamFiles && !e2.file.dir, r2 = n(e2, t2, true, this.currentSourceOffset, this.zipPlatform, this.encodeFileName);
        if (this.dirRecords.push(r2.dirRecord), t2)
          this.push({data: function(e3) {
            return R.DATA_DESCRIPTOR + A(e3.crc32, 4) + A(e3.compressedSize, 4) + A(e3.uncompressedSize, 4);
          }(e2), meta: {percent: 100}});
        else
          for (this.push({data: r2.fileRecord, meta: {percent: 0}}); this.contentBuffer.length; )
            this.push(this.contentBuffer.shift());
        this.currentFile = null;
      }, s.prototype.flush = function() {
        for (var e2 = this.bytesWritten, t2 = 0; t2 < this.dirRecords.length; t2++)
          this.push({data: this.dirRecords[t2], meta: {percent: 100}});
        var r2 = this.bytesWritten - e2, n2 = function(e3, t3, r3, n3, i2) {
          var s2 = I.transformTo("string", i2(n3));
          return R.CENTRAL_DIRECTORY_END + "\0\0\0\0" + A(e3, 2) + A(e3, 2) + A(t3, 4) + A(r3, 4) + A(s2.length, 2) + s2;
        }(this.dirRecords.length, r2, e2, this.zipComment, this.encodeFileName);
        this.push({data: n2, meta: {percent: 100}});
      }, s.prototype.prepareNextSource = function() {
        this.previous = this._sources.shift(), this.openedSource(this.previous.streamInfo), this.isPaused ? this.previous.pause() : this.previous.resume();
      }, s.prototype.registerPrevious = function(e2) {
        this._sources.push(e2);
        var t2 = this;
        return e2.on("data", function(e3) {
          t2.processChunk(e3);
        }), e2.on("end", function() {
          t2.closedSource(t2.previous.streamInfo), t2._sources.length ? t2.prepareNextSource() : t2.end();
        }), e2.on("error", function(e3) {
          t2.error(e3);
        }), this;
      }, s.prototype.resume = function() {
        return !!i.prototype.resume.call(this) && (!this.previous && this._sources.length ? (this.prepareNextSource(), true) : this.previous || this._sources.length || this.generatedError ? void 0 : (this.end(), true));
      }, s.prototype.error = function(e2) {
        var t2 = this._sources;
        if (!i.prototype.error.call(this, e2))
          return false;
        for (var r2 = 0; r2 < t2.length; r2++)
          try {
            t2[r2].error(e2);
          } catch (e3) {
          }
        return true;
      }, s.prototype.lock = function() {
        i.prototype.lock.call(this);
        for (var e2 = this._sources, t2 = 0; t2 < e2.length; t2++)
          e2[t2].lock();
      }, t.exports = s;
    }, {"../crc32": 4, "../signature": 23, "../stream/GenericWorker": 28, "../utf8": 31, "../utils": 32}], 9: [function(e, t, r) {
      var u = e("../compressions"), n = e("./ZipFileWorker");
      r.generateWorker = function(e2, a, t2) {
        var o = new n(a.streamFiles, t2, a.platform, a.encodeFileName), h = 0;
        try {
          e2.forEach(function(e3, t3) {
            h++;
            var r2 = function(e4, t4) {
              var r3 = e4 || t4, n3 = u[r3];
              if (!n3)
                throw new Error(r3 + " is not a valid compression method !");
              return n3;
            }(t3.options.compression, a.compression), n2 = t3.options.compressionOptions || a.compressionOptions || {}, i = t3.dir, s = t3.date;
            t3._compressWorker(r2, n2).withStreamInfo("file", {name: e3, dir: i, date: s, comment: t3.comment || "", unixPermissions: t3.unixPermissions, dosPermissions: t3.dosPermissions}).pipe(o);
          }), o.entriesCount = h;
        } catch (e3) {
          o.error(e3);
        }
        return o;
      };
    }, {"../compressions": 3, "./ZipFileWorker": 8}], 10: [function(e, t, r) {
      function n() {
        if (!(this instanceof n))
          return new n();
        if (arguments.length)
          throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");
        this.files = Object.create(null), this.comment = null, this.root = "", this.clone = function() {
          var e2 = new n();
          for (var t2 in this)
            typeof this[t2] != "function" && (e2[t2] = this[t2]);
          return e2;
        };
      }
      (n.prototype = e("./object")).loadAsync = e("./load"), n.support = e("./support"), n.defaults = e("./defaults"), n.version = "3.10.1", n.loadAsync = function(e2, t2) {
        return new n().loadAsync(e2, t2);
      }, n.external = e("./external"), t.exports = n;
    }, {"./defaults": 5, "./external": 6, "./load": 11, "./object": 15, "./support": 30}], 11: [function(e, t, r) {
      var u = e("./utils"), i = e("./external"), n = e("./utf8"), s = e("./zipEntries"), a = e("./stream/Crc32Probe"), l = e("./nodejsUtils");
      function f(n2) {
        return new i.Promise(function(e2, t2) {
          var r2 = n2.decompressed.getContentWorker().pipe(new a());
          r2.on("error", function(e3) {
            t2(e3);
          }).on("end", function() {
            r2.streamInfo.crc32 !== n2.decompressed.crc32 ? t2(new Error("Corrupted zip : CRC32 mismatch")) : e2();
          }).resume();
        });
      }
      t.exports = function(e2, o) {
        var h = this;
        return o = u.extend(o || {}, {base64: false, checkCRC32: false, optimizedBinaryString: false, createFolders: false, decodeFileName: n.utf8decode}), l.isNode && l.isStream(e2) ? i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")) : u.prepareContent("the loaded zip file", e2, true, o.optimizedBinaryString, o.base64).then(function(e3) {
          var t2 = new s(o);
          return t2.load(e3), t2;
        }).then(function(e3) {
          var t2 = [i.Promise.resolve(e3)], r2 = e3.files;
          if (o.checkCRC32)
            for (var n2 = 0; n2 < r2.length; n2++)
              t2.push(f(r2[n2]));
          return i.Promise.all(t2);
        }).then(function(e3) {
          for (var t2 = e3.shift(), r2 = t2.files, n2 = 0; n2 < r2.length; n2++) {
            var i2 = r2[n2], s2 = i2.fileNameStr, a2 = u.resolve(i2.fileNameStr);
            h.file(a2, i2.decompressed, {binary: true, optimizedBinaryString: true, date: i2.date, dir: i2.dir, comment: i2.fileCommentStr.length ? i2.fileCommentStr : null, unixPermissions: i2.unixPermissions, dosPermissions: i2.dosPermissions, createFolders: o.createFolders}), i2.dir || (h.file(a2).unsafeOriginalName = s2);
          }
          return t2.zipComment.length && (h.comment = t2.zipComment), h;
        });
      };
    }, {"./external": 6, "./nodejsUtils": 14, "./stream/Crc32Probe": 25, "./utf8": 31, "./utils": 32, "./zipEntries": 33}], 12: [function(e, t, r) {
      var n = e("../utils"), i = e("../stream/GenericWorker");
      function s(e2, t2) {
        i.call(this, "Nodejs stream input adapter for " + e2), this._upstreamEnded = false, this._bindStream(t2);
      }
      n.inherits(s, i), s.prototype._bindStream = function(e2) {
        var t2 = this;
        (this._stream = e2).pause(), e2.on("data", function(e3) {
          t2.push({data: e3, meta: {percent: 0}});
        }).on("error", function(e3) {
          t2.isPaused ? this.generatedError = e3 : t2.error(e3);
        }).on("end", function() {
          t2.isPaused ? t2._upstreamEnded = true : t2.end();
        });
      }, s.prototype.pause = function() {
        return !!i.prototype.pause.call(this) && (this._stream.pause(), true);
      }, s.prototype.resume = function() {
        return !!i.prototype.resume.call(this) && (this._upstreamEnded ? this.end() : this._stream.resume(), true);
      }, t.exports = s;
    }, {"../stream/GenericWorker": 28, "../utils": 32}], 13: [function(e, t, r) {
      var i = e("readable-stream").Readable;
      function n(e2, t2, r2) {
        i.call(this, t2), this._helper = e2;
        var n2 = this;
        e2.on("data", function(e3, t3) {
          n2.push(e3) || n2._helper.pause(), r2 && r2(t3);
        }).on("error", function(e3) {
          n2.emit("error", e3);
        }).on("end", function() {
          n2.push(null);
        });
      }
      e("../utils").inherits(n, i), n.prototype._read = function() {
        this._helper.resume();
      }, t.exports = n;
    }, {"../utils": 32, "readable-stream": 16}], 14: [function(e, t, r) {
      t.exports = {isNode: typeof Buffer != "undefined", newBufferFrom: function(e2, t2) {
        if (Buffer.from && Buffer.from !== Uint8Array.from)
          return Buffer.from(e2, t2);
        if (typeof e2 == "number")
          throw new Error('The "data" argument must not be a number');
        return new Buffer(e2, t2);
      }, allocBuffer: function(e2) {
        if (Buffer.alloc)
          return Buffer.alloc(e2);
        var t2 = new Buffer(e2);
        return t2.fill(0), t2;
      }, isBuffer: function(e2) {
        return Buffer.isBuffer(e2);
      }, isStream: function(e2) {
        return e2 && typeof e2.on == "function" && typeof e2.pause == "function" && typeof e2.resume == "function";
      }};
    }, {}], 15: [function(e, t, r) {
      function s(e2, t2, r2) {
        var n2, i2 = u.getTypeOf(t2), s2 = u.extend(r2 || {}, f);
        s2.date = s2.date || new Date(), s2.compression !== null && (s2.compression = s2.compression.toUpperCase()), typeof s2.unixPermissions == "string" && (s2.unixPermissions = parseInt(s2.unixPermissions, 8)), s2.unixPermissions && 16384 & s2.unixPermissions && (s2.dir = true), s2.dosPermissions && 16 & s2.dosPermissions && (s2.dir = true), s2.dir && (e2 = g(e2)), s2.createFolders && (n2 = _(e2)) && b.call(this, n2, true);
        var a2 = i2 === "string" && s2.binary === false && s2.base64 === false;
        r2 && r2.binary !== void 0 || (s2.binary = !a2), (t2 instanceof c && t2.uncompressedSize === 0 || s2.dir || !t2 || t2.length === 0) && (s2.base64 = false, s2.binary = true, t2 = "", s2.compression = "STORE", i2 = "string");
        var o2 = null;
        o2 = t2 instanceof c || t2 instanceof l ? t2 : p.isNode && p.isStream(t2) ? new m(e2, t2) : u.prepareContent(e2, t2, s2.binary, s2.optimizedBinaryString, s2.base64);
        var h2 = new d(e2, o2, s2);
        this.files[e2] = h2;
      }
      var i = e("./utf8"), u = e("./utils"), l = e("./stream/GenericWorker"), a = e("./stream/StreamHelper"), f = e("./defaults"), c = e("./compressedObject"), d = e("./zipObject"), o = e("./generate"), p = e("./nodejsUtils"), m = e("./nodejs/NodejsStreamInputAdapter"), _ = function(e2) {
        e2.slice(-1) === "/" && (e2 = e2.substring(0, e2.length - 1));
        var t2 = e2.lastIndexOf("/");
        return 0 < t2 ? e2.substring(0, t2) : "";
      }, g = function(e2) {
        return e2.slice(-1) !== "/" && (e2 += "/"), e2;
      }, b = function(e2, t2) {
        return t2 = t2 !== void 0 ? t2 : f.createFolders, e2 = g(e2), this.files[e2] || s.call(this, e2, null, {dir: true, createFolders: t2}), this.files[e2];
      };
      function h(e2) {
        return Object.prototype.toString.call(e2) === "[object RegExp]";
      }
      var n = {load: function() {
        throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");
      }, forEach: function(e2) {
        var t2, r2, n2;
        for (t2 in this.files)
          n2 = this.files[t2], (r2 = t2.slice(this.root.length, t2.length)) && t2.slice(0, this.root.length) === this.root && e2(r2, n2);
      }, filter: function(r2) {
        var n2 = [];
        return this.forEach(function(e2, t2) {
          r2(e2, t2) && n2.push(t2);
        }), n2;
      }, file: function(e2, t2, r2) {
        if (arguments.length !== 1)
          return e2 = this.root + e2, s.call(this, e2, t2, r2), this;
        if (h(e2)) {
          var n2 = e2;
          return this.filter(function(e3, t3) {
            return !t3.dir && n2.test(e3);
          });
        }
        var i2 = this.files[this.root + e2];
        return i2 && !i2.dir ? i2 : null;
      }, folder: function(r2) {
        if (!r2)
          return this;
        if (h(r2))
          return this.filter(function(e3, t3) {
            return t3.dir && r2.test(e3);
          });
        var e2 = this.root + r2, t2 = b.call(this, e2), n2 = this.clone();
        return n2.root = t2.name, n2;
      }, remove: function(r2) {
        r2 = this.root + r2;
        var e2 = this.files[r2];
        if (e2 || (r2.slice(-1) !== "/" && (r2 += "/"), e2 = this.files[r2]), e2 && !e2.dir)
          delete this.files[r2];
        else
          for (var t2 = this.filter(function(e3, t3) {
            return t3.name.slice(0, r2.length) === r2;
          }), n2 = 0; n2 < t2.length; n2++)
            delete this.files[t2[n2].name];
        return this;
      }, generate: function() {
        throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");
      }, generateInternalStream: function(e2) {
        var t2, r2 = {};
        try {
          if ((r2 = u.extend(e2 || {}, {streamFiles: false, compression: "STORE", compressionOptions: null, type: "", platform: "DOS", comment: null, mimeType: "application/zip", encodeFileName: i.utf8encode})).type = r2.type.toLowerCase(), r2.compression = r2.compression.toUpperCase(), r2.type === "binarystring" && (r2.type = "string"), !r2.type)
            throw new Error("No output type specified.");
          u.checkSupport(r2.type), r2.platform !== "darwin" && r2.platform !== "freebsd" && r2.platform !== "linux" && r2.platform !== "sunos" || (r2.platform = "UNIX"), r2.platform === "win32" && (r2.platform = "DOS");
          var n2 = r2.comment || this.comment || "";
          t2 = o.generateWorker(this, r2, n2);
        } catch (e3) {
          (t2 = new l("error")).error(e3);
        }
        return new a(t2, r2.type || "string", r2.mimeType);
      }, generateAsync: function(e2, t2) {
        return this.generateInternalStream(e2).accumulate(t2);
      }, generateNodeStream: function(e2, t2) {
        return (e2 = e2 || {}).type || (e2.type = "nodebuffer"), this.generateInternalStream(e2).toNodejsStream(t2);
      }};
      t.exports = n;
    }, {"./compressedObject": 2, "./defaults": 5, "./generate": 9, "./nodejs/NodejsStreamInputAdapter": 12, "./nodejsUtils": 14, "./stream/GenericWorker": 28, "./stream/StreamHelper": 29, "./utf8": 31, "./utils": 32, "./zipObject": 35}], 16: [function(e, t, r) {
      t.exports = e("stream");
    }, {stream: void 0}], 17: [function(e, t, r) {
      var n = e("./DataReader");
      function i(e2) {
        n.call(this, e2);
        for (var t2 = 0; t2 < this.data.length; t2++)
          e2[t2] = 255 & e2[t2];
      }
      e("../utils").inherits(i, n), i.prototype.byteAt = function(e2) {
        return this.data[this.zero + e2];
      }, i.prototype.lastIndexOfSignature = function(e2) {
        for (var t2 = e2.charCodeAt(0), r2 = e2.charCodeAt(1), n2 = e2.charCodeAt(2), i2 = e2.charCodeAt(3), s = this.length - 4; 0 <= s; --s)
          if (this.data[s] === t2 && this.data[s + 1] === r2 && this.data[s + 2] === n2 && this.data[s + 3] === i2)
            return s - this.zero;
        return -1;
      }, i.prototype.readAndCheckSignature = function(e2) {
        var t2 = e2.charCodeAt(0), r2 = e2.charCodeAt(1), n2 = e2.charCodeAt(2), i2 = e2.charCodeAt(3), s = this.readData(4);
        return t2 === s[0] && r2 === s[1] && n2 === s[2] && i2 === s[3];
      }, i.prototype.readData = function(e2) {
        if (this.checkOffset(e2), e2 === 0)
          return [];
        var t2 = this.data.slice(this.zero + this.index, this.zero + this.index + e2);
        return this.index += e2, t2;
      }, t.exports = i;
    }, {"../utils": 32, "./DataReader": 18}], 18: [function(e, t, r) {
      var n = e("../utils");
      function i(e2) {
        this.data = e2, this.length = e2.length, this.index = 0, this.zero = 0;
      }
      i.prototype = {checkOffset: function(e2) {
        this.checkIndex(this.index + e2);
      }, checkIndex: function(e2) {
        if (this.length < this.zero + e2 || e2 < 0)
          throw new Error("End of data reached (data length = " + this.length + ", asked index = " + e2 + "). Corrupted zip ?");
      }, setIndex: function(e2) {
        this.checkIndex(e2), this.index = e2;
      }, skip: function(e2) {
        this.setIndex(this.index + e2);
      }, byteAt: function() {
      }, readInt: function(e2) {
        var t2, r2 = 0;
        for (this.checkOffset(e2), t2 = this.index + e2 - 1; t2 >= this.index; t2--)
          r2 = (r2 << 8) + this.byteAt(t2);
        return this.index += e2, r2;
      }, readString: function(e2) {
        return n.transformTo("string", this.readData(e2));
      }, readData: function() {
      }, lastIndexOfSignature: function() {
      }, readAndCheckSignature: function() {
      }, readDate: function() {
        var e2 = this.readInt(4);
        return new Date(Date.UTC(1980 + (e2 >> 25 & 127), (e2 >> 21 & 15) - 1, e2 >> 16 & 31, e2 >> 11 & 31, e2 >> 5 & 63, (31 & e2) << 1));
      }}, t.exports = i;
    }, {"../utils": 32}], 19: [function(e, t, r) {
      var n = e("./Uint8ArrayReader");
      function i(e2) {
        n.call(this, e2);
      }
      e("../utils").inherits(i, n), i.prototype.readData = function(e2) {
        this.checkOffset(e2);
        var t2 = this.data.slice(this.zero + this.index, this.zero + this.index + e2);
        return this.index += e2, t2;
      }, t.exports = i;
    }, {"../utils": 32, "./Uint8ArrayReader": 21}], 20: [function(e, t, r) {
      var n = e("./DataReader");
      function i(e2) {
        n.call(this, e2);
      }
      e("../utils").inherits(i, n), i.prototype.byteAt = function(e2) {
        return this.data.charCodeAt(this.zero + e2);
      }, i.prototype.lastIndexOfSignature = function(e2) {
        return this.data.lastIndexOf(e2) - this.zero;
      }, i.prototype.readAndCheckSignature = function(e2) {
        return e2 === this.readData(4);
      }, i.prototype.readData = function(e2) {
        this.checkOffset(e2);
        var t2 = this.data.slice(this.zero + this.index, this.zero + this.index + e2);
        return this.index += e2, t2;
      }, t.exports = i;
    }, {"../utils": 32, "./DataReader": 18}], 21: [function(e, t, r) {
      var n = e("./ArrayReader");
      function i(e2) {
        n.call(this, e2);
      }
      e("../utils").inherits(i, n), i.prototype.readData = function(e2) {
        if (this.checkOffset(e2), e2 === 0)
          return new Uint8Array(0);
        var t2 = this.data.subarray(this.zero + this.index, this.zero + this.index + e2);
        return this.index += e2, t2;
      }, t.exports = i;
    }, {"../utils": 32, "./ArrayReader": 17}], 22: [function(e, t, r) {
      var n = e("../utils"), i = e("../support"), s = e("./ArrayReader"), a = e("./StringReader"), o = e("./NodeBufferReader"), h = e("./Uint8ArrayReader");
      t.exports = function(e2) {
        var t2 = n.getTypeOf(e2);
        return n.checkSupport(t2), t2 !== "string" || i.uint8array ? t2 === "nodebuffer" ? new o(e2) : i.uint8array ? new h(n.transformTo("uint8array", e2)) : new s(n.transformTo("array", e2)) : new a(e2);
      };
    }, {"../support": 30, "../utils": 32, "./ArrayReader": 17, "./NodeBufferReader": 19, "./StringReader": 20, "./Uint8ArrayReader": 21}], 23: [function(e, t, r) {
      r.LOCAL_FILE_HEADER = "PK", r.CENTRAL_FILE_HEADER = "PK", r.CENTRAL_DIRECTORY_END = "PK", r.ZIP64_CENTRAL_DIRECTORY_LOCATOR = "PK\x07", r.ZIP64_CENTRAL_DIRECTORY_END = "PK", r.DATA_DESCRIPTOR = "PK\x07\b";
    }, {}], 24: [function(e, t, r) {
      var n = e("./GenericWorker"), i = e("../utils");
      function s(e2) {
        n.call(this, "ConvertWorker to " + e2), this.destType = e2;
      }
      i.inherits(s, n), s.prototype.processChunk = function(e2) {
        this.push({data: i.transformTo(this.destType, e2.data), meta: e2.meta});
      }, t.exports = s;
    }, {"../utils": 32, "./GenericWorker": 28}], 25: [function(e, t, r) {
      var n = e("./GenericWorker"), i = e("../crc32");
      function s() {
        n.call(this, "Crc32Probe"), this.withStreamInfo("crc32", 0);
      }
      e("../utils").inherits(s, n), s.prototype.processChunk = function(e2) {
        this.streamInfo.crc32 = i(e2.data, this.streamInfo.crc32 || 0), this.push(e2);
      }, t.exports = s;
    }, {"../crc32": 4, "../utils": 32, "./GenericWorker": 28}], 26: [function(e, t, r) {
      var n = e("../utils"), i = e("./GenericWorker");
      function s(e2) {
        i.call(this, "DataLengthProbe for " + e2), this.propName = e2, this.withStreamInfo(e2, 0);
      }
      n.inherits(s, i), s.prototype.processChunk = function(e2) {
        if (e2) {
          var t2 = this.streamInfo[this.propName] || 0;
          this.streamInfo[this.propName] = t2 + e2.data.length;
        }
        i.prototype.processChunk.call(this, e2);
      }, t.exports = s;
    }, {"../utils": 32, "./GenericWorker": 28}], 27: [function(e, t, r) {
      var n = e("../utils"), i = e("./GenericWorker");
      function s(e2) {
        i.call(this, "DataWorker");
        var t2 = this;
        this.dataIsReady = false, this.index = 0, this.max = 0, this.data = null, this.type = "", this._tickScheduled = false, e2.then(function(e3) {
          t2.dataIsReady = true, t2.data = e3, t2.max = e3 && e3.length || 0, t2.type = n.getTypeOf(e3), t2.isPaused || t2._tickAndRepeat();
        }, function(e3) {
          t2.error(e3);
        });
      }
      n.inherits(s, i), s.prototype.cleanUp = function() {
        i.prototype.cleanUp.call(this), this.data = null;
      }, s.prototype.resume = function() {
        return !!i.prototype.resume.call(this) && (!this._tickScheduled && this.dataIsReady && (this._tickScheduled = true, n.delay(this._tickAndRepeat, [], this)), true);
      }, s.prototype._tickAndRepeat = function() {
        this._tickScheduled = false, this.isPaused || this.isFinished || (this._tick(), this.isFinished || (n.delay(this._tickAndRepeat, [], this), this._tickScheduled = true));
      }, s.prototype._tick = function() {
        if (this.isPaused || this.isFinished)
          return false;
        var e2 = null, t2 = Math.min(this.max, this.index + 16384);
        if (this.index >= this.max)
          return this.end();
        switch (this.type) {
          case "string":
            e2 = this.data.substring(this.index, t2);
            break;
          case "uint8array":
            e2 = this.data.subarray(this.index, t2);
            break;
          case "array":
          case "nodebuffer":
            e2 = this.data.slice(this.index, t2);
        }
        return this.index = t2, this.push({data: e2, meta: {percent: this.max ? this.index / this.max * 100 : 0}});
      }, t.exports = s;
    }, {"../utils": 32, "./GenericWorker": 28}], 28: [function(e, t, r) {
      function n(e2) {
        this.name = e2 || "default", this.streamInfo = {}, this.generatedError = null, this.extraStreamInfo = {}, this.isPaused = true, this.isFinished = false, this.isLocked = false, this._listeners = {data: [], end: [], error: []}, this.previous = null;
      }
      n.prototype = {push: function(e2) {
        this.emit("data", e2);
      }, end: function() {
        if (this.isFinished)
          return false;
        this.flush();
        try {
          this.emit("end"), this.cleanUp(), this.isFinished = true;
        } catch (e2) {
          this.emit("error", e2);
        }
        return true;
      }, error: function(e2) {
        return !this.isFinished && (this.isPaused ? this.generatedError = e2 : (this.isFinished = true, this.emit("error", e2), this.previous && this.previous.error(e2), this.cleanUp()), true);
      }, on: function(e2, t2) {
        return this._listeners[e2].push(t2), this;
      }, cleanUp: function() {
        this.streamInfo = this.generatedError = this.extraStreamInfo = null, this._listeners = [];
      }, emit: function(e2, t2) {
        if (this._listeners[e2])
          for (var r2 = 0; r2 < this._listeners[e2].length; r2++)
            this._listeners[e2][r2].call(this, t2);
      }, pipe: function(e2) {
        return e2.registerPrevious(this);
      }, registerPrevious: function(e2) {
        if (this.isLocked)
          throw new Error("The stream '" + this + "' has already been used.");
        this.streamInfo = e2.streamInfo, this.mergeStreamInfo(), this.previous = e2;
        var t2 = this;
        return e2.on("data", function(e3) {
          t2.processChunk(e3);
        }), e2.on("end", function() {
          t2.end();
        }), e2.on("error", function(e3) {
          t2.error(e3);
        }), this;
      }, pause: function() {
        return !this.isPaused && !this.isFinished && (this.isPaused = true, this.previous && this.previous.pause(), true);
      }, resume: function() {
        if (!this.isPaused || this.isFinished)
          return false;
        var e2 = this.isPaused = false;
        return this.generatedError && (this.error(this.generatedError), e2 = true), this.previous && this.previous.resume(), !e2;
      }, flush: function() {
      }, processChunk: function(e2) {
        this.push(e2);
      }, withStreamInfo: function(e2, t2) {
        return this.extraStreamInfo[e2] = t2, this.mergeStreamInfo(), this;
      }, mergeStreamInfo: function() {
        for (var e2 in this.extraStreamInfo)
          Object.prototype.hasOwnProperty.call(this.extraStreamInfo, e2) && (this.streamInfo[e2] = this.extraStreamInfo[e2]);
      }, lock: function() {
        if (this.isLocked)
          throw new Error("The stream '" + this + "' has already been used.");
        this.isLocked = true, this.previous && this.previous.lock();
      }, toString: function() {
        var e2 = "Worker " + this.name;
        return this.previous ? this.previous + " -> " + e2 : e2;
      }}, t.exports = n;
    }, {}], 29: [function(e, t, r) {
      var h = e("../utils"), i = e("./ConvertWorker"), s = e("./GenericWorker"), u = e("../base64"), n = e("../support"), a = e("../external"), o = null;
      if (n.nodestream)
        try {
          o = e("../nodejs/NodejsStreamOutputAdapter");
        } catch (e2) {
        }
      function l(e2, o2) {
        return new a.Promise(function(t2, r2) {
          var n2 = [], i2 = e2._internalType, s2 = e2._outputType, a2 = e2._mimeType;
          e2.on("data", function(e3, t3) {
            n2.push(e3), o2 && o2(t3);
          }).on("error", function(e3) {
            n2 = [], r2(e3);
          }).on("end", function() {
            try {
              var e3 = function(e4, t3, r3) {
                switch (e4) {
                  case "blob":
                    return h.newBlob(h.transformTo("arraybuffer", t3), r3);
                  case "base64":
                    return u.encode(t3);
                  default:
                    return h.transformTo(e4, t3);
                }
              }(s2, function(e4, t3) {
                var r3, n3 = 0, i3 = null, s3 = 0;
                for (r3 = 0; r3 < t3.length; r3++)
                  s3 += t3[r3].length;
                switch (e4) {
                  case "string":
                    return t3.join("");
                  case "array":
                    return Array.prototype.concat.apply([], t3);
                  case "uint8array":
                    for (i3 = new Uint8Array(s3), r3 = 0; r3 < t3.length; r3++)
                      i3.set(t3[r3], n3), n3 += t3[r3].length;
                    return i3;
                  case "nodebuffer":
                    return Buffer.concat(t3);
                  default:
                    throw new Error("concat : unsupported type '" + e4 + "'");
                }
              }(i2, n2), a2);
              t2(e3);
            } catch (e4) {
              r2(e4);
            }
            n2 = [];
          }).resume();
        });
      }
      function f(e2, t2, r2) {
        var n2 = t2;
        switch (t2) {
          case "blob":
          case "arraybuffer":
            n2 = "uint8array";
            break;
          case "base64":
            n2 = "string";
        }
        try {
          this._internalType = n2, this._outputType = t2, this._mimeType = r2, h.checkSupport(n2), this._worker = e2.pipe(new i(n2)), e2.lock();
        } catch (e3) {
          this._worker = new s("error"), this._worker.error(e3);
        }
      }
      f.prototype = {accumulate: function(e2) {
        return l(this, e2);
      }, on: function(e2, t2) {
        var r2 = this;
        return e2 === "data" ? this._worker.on(e2, function(e3) {
          t2.call(r2, e3.data, e3.meta);
        }) : this._worker.on(e2, function() {
          h.delay(t2, arguments, r2);
        }), this;
      }, resume: function() {
        return h.delay(this._worker.resume, [], this._worker), this;
      }, pause: function() {
        return this._worker.pause(), this;
      }, toNodejsStream: function(e2) {
        if (h.checkSupport("nodestream"), this._outputType !== "nodebuffer")
          throw new Error(this._outputType + " is not supported by this method");
        return new o(this, {objectMode: this._outputType !== "nodebuffer"}, e2);
      }}, t.exports = f;
    }, {"../base64": 1, "../external": 6, "../nodejs/NodejsStreamOutputAdapter": 13, "../support": 30, "../utils": 32, "./ConvertWorker": 24, "./GenericWorker": 28}], 30: [function(e, t, r) {
      if (r.base64 = true, r.array = true, r.string = true, r.arraybuffer = typeof ArrayBuffer != "undefined" && typeof Uint8Array != "undefined", r.nodebuffer = typeof Buffer != "undefined", r.uint8array = typeof Uint8Array != "undefined", typeof ArrayBuffer == "undefined")
        r.blob = false;
      else {
        var n = new ArrayBuffer(0);
        try {
          r.blob = new Blob([n], {type: "application/zip"}).size === 0;
        } catch (e2) {
          try {
            var i = new (self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder)();
            i.append(n), r.blob = i.getBlob("application/zip").size === 0;
          } catch (e3) {
            r.blob = false;
          }
        }
      }
      try {
        r.nodestream = !!e("readable-stream").Readable;
      } catch (e2) {
        r.nodestream = false;
      }
    }, {"readable-stream": 16}], 31: [function(e, t, s) {
      for (var o = e("./utils"), h = e("./support"), r = e("./nodejsUtils"), n = e("./stream/GenericWorker"), u = new Array(256), i = 0; i < 256; i++)
        u[i] = 252 <= i ? 6 : 248 <= i ? 5 : 240 <= i ? 4 : 224 <= i ? 3 : 192 <= i ? 2 : 1;
      u[254] = u[254] = 1;
      function a() {
        n.call(this, "utf-8 decode"), this.leftOver = null;
      }
      function l() {
        n.call(this, "utf-8 encode");
      }
      s.utf8encode = function(e2) {
        return h.nodebuffer ? r.newBufferFrom(e2, "utf-8") : function(e3) {
          var t2, r2, n2, i2, s2, a2 = e3.length, o2 = 0;
          for (i2 = 0; i2 < a2; i2++)
            (64512 & (r2 = e3.charCodeAt(i2))) == 55296 && i2 + 1 < a2 && (64512 & (n2 = e3.charCodeAt(i2 + 1))) == 56320 && (r2 = 65536 + (r2 - 55296 << 10) + (n2 - 56320), i2++), o2 += r2 < 128 ? 1 : r2 < 2048 ? 2 : r2 < 65536 ? 3 : 4;
          for (t2 = h.uint8array ? new Uint8Array(o2) : new Array(o2), i2 = s2 = 0; s2 < o2; i2++)
            (64512 & (r2 = e3.charCodeAt(i2))) == 55296 && i2 + 1 < a2 && (64512 & (n2 = e3.charCodeAt(i2 + 1))) == 56320 && (r2 = 65536 + (r2 - 55296 << 10) + (n2 - 56320), i2++), r2 < 128 ? t2[s2++] = r2 : (r2 < 2048 ? t2[s2++] = 192 | r2 >>> 6 : (r2 < 65536 ? t2[s2++] = 224 | r2 >>> 12 : (t2[s2++] = 240 | r2 >>> 18, t2[s2++] = 128 | r2 >>> 12 & 63), t2[s2++] = 128 | r2 >>> 6 & 63), t2[s2++] = 128 | 63 & r2);
          return t2;
        }(e2);
      }, s.utf8decode = function(e2) {
        return h.nodebuffer ? o.transformTo("nodebuffer", e2).toString("utf-8") : function(e3) {
          var t2, r2, n2, i2, s2 = e3.length, a2 = new Array(2 * s2);
          for (t2 = r2 = 0; t2 < s2; )
            if ((n2 = e3[t2++]) < 128)
              a2[r2++] = n2;
            else if (4 < (i2 = u[n2]))
              a2[r2++] = 65533, t2 += i2 - 1;
            else {
              for (n2 &= i2 === 2 ? 31 : i2 === 3 ? 15 : 7; 1 < i2 && t2 < s2; )
                n2 = n2 << 6 | 63 & e3[t2++], i2--;
              1 < i2 ? a2[r2++] = 65533 : n2 < 65536 ? a2[r2++] = n2 : (n2 -= 65536, a2[r2++] = 55296 | n2 >> 10 & 1023, a2[r2++] = 56320 | 1023 & n2);
            }
          return a2.length !== r2 && (a2.subarray ? a2 = a2.subarray(0, r2) : a2.length = r2), o.applyFromCharCode(a2);
        }(e2 = o.transformTo(h.uint8array ? "uint8array" : "array", e2));
      }, o.inherits(a, n), a.prototype.processChunk = function(e2) {
        var t2 = o.transformTo(h.uint8array ? "uint8array" : "array", e2.data);
        if (this.leftOver && this.leftOver.length) {
          if (h.uint8array) {
            var r2 = t2;
            (t2 = new Uint8Array(r2.length + this.leftOver.length)).set(this.leftOver, 0), t2.set(r2, this.leftOver.length);
          } else
            t2 = this.leftOver.concat(t2);
          this.leftOver = null;
        }
        var n2 = function(e3, t3) {
          var r3;
          for ((t3 = t3 || e3.length) > e3.length && (t3 = e3.length), r3 = t3 - 1; 0 <= r3 && (192 & e3[r3]) == 128; )
            r3--;
          return r3 < 0 ? t3 : r3 === 0 ? t3 : r3 + u[e3[r3]] > t3 ? r3 : t3;
        }(t2), i2 = t2;
        n2 !== t2.length && (h.uint8array ? (i2 = t2.subarray(0, n2), this.leftOver = t2.subarray(n2, t2.length)) : (i2 = t2.slice(0, n2), this.leftOver = t2.slice(n2, t2.length))), this.push({data: s.utf8decode(i2), meta: e2.meta});
      }, a.prototype.flush = function() {
        this.leftOver && this.leftOver.length && (this.push({data: s.utf8decode(this.leftOver), meta: {}}), this.leftOver = null);
      }, s.Utf8DecodeWorker = a, o.inherits(l, n), l.prototype.processChunk = function(e2) {
        this.push({data: s.utf8encode(e2.data), meta: e2.meta});
      }, s.Utf8EncodeWorker = l;
    }, {"./nodejsUtils": 14, "./stream/GenericWorker": 28, "./support": 30, "./utils": 32}], 32: [function(e, t, a) {
      var o = e("./support"), h = e("./base64"), r = e("./nodejsUtils"), u = e("./external");
      function n(e2) {
        return e2;
      }
      function l(e2, t2) {
        for (var r2 = 0; r2 < e2.length; ++r2)
          t2[r2] = 255 & e2.charCodeAt(r2);
        return t2;
      }
      e("setimmediate"), a.newBlob = function(t2, r2) {
        a.checkSupport("blob");
        try {
          return new Blob([t2], {type: r2});
        } catch (e2) {
          try {
            var n2 = new (self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder)();
            return n2.append(t2), n2.getBlob(r2);
          } catch (e3) {
            throw new Error("Bug : can't construct the Blob.");
          }
        }
      };
      var i = {stringifyByChunk: function(e2, t2, r2) {
        var n2 = [], i2 = 0, s2 = e2.length;
        if (s2 <= r2)
          return String.fromCharCode.apply(null, e2);
        for (; i2 < s2; )
          t2 === "array" || t2 === "nodebuffer" ? n2.push(String.fromCharCode.apply(null, e2.slice(i2, Math.min(i2 + r2, s2)))) : n2.push(String.fromCharCode.apply(null, e2.subarray(i2, Math.min(i2 + r2, s2)))), i2 += r2;
        return n2.join("");
      }, stringifyByChar: function(e2) {
        for (var t2 = "", r2 = 0; r2 < e2.length; r2++)
          t2 += String.fromCharCode(e2[r2]);
        return t2;
      }, applyCanBeUsed: {uint8array: function() {
        try {
          return o.uint8array && String.fromCharCode.apply(null, new Uint8Array(1)).length === 1;
        } catch (e2) {
          return false;
        }
      }(), nodebuffer: function() {
        try {
          return o.nodebuffer && String.fromCharCode.apply(null, r.allocBuffer(1)).length === 1;
        } catch (e2) {
          return false;
        }
      }()}};
      function s(e2) {
        var t2 = 65536, r2 = a.getTypeOf(e2), n2 = true;
        if (r2 === "uint8array" ? n2 = i.applyCanBeUsed.uint8array : r2 === "nodebuffer" && (n2 = i.applyCanBeUsed.nodebuffer), n2)
          for (; 1 < t2; )
            try {
              return i.stringifyByChunk(e2, r2, t2);
            } catch (e3) {
              t2 = Math.floor(t2 / 2);
            }
        return i.stringifyByChar(e2);
      }
      function f(e2, t2) {
        for (var r2 = 0; r2 < e2.length; r2++)
          t2[r2] = e2[r2];
        return t2;
      }
      a.applyFromCharCode = s;
      var c = {};
      c.string = {string: n, array: function(e2) {
        return l(e2, new Array(e2.length));
      }, arraybuffer: function(e2) {
        return c.string.uint8array(e2).buffer;
      }, uint8array: function(e2) {
        return l(e2, new Uint8Array(e2.length));
      }, nodebuffer: function(e2) {
        return l(e2, r.allocBuffer(e2.length));
      }}, c.array = {string: s, array: n, arraybuffer: function(e2) {
        return new Uint8Array(e2).buffer;
      }, uint8array: function(e2) {
        return new Uint8Array(e2);
      }, nodebuffer: function(e2) {
        return r.newBufferFrom(e2);
      }}, c.arraybuffer = {string: function(e2) {
        return s(new Uint8Array(e2));
      }, array: function(e2) {
        return f(new Uint8Array(e2), new Array(e2.byteLength));
      }, arraybuffer: n, uint8array: function(e2) {
        return new Uint8Array(e2);
      }, nodebuffer: function(e2) {
        return r.newBufferFrom(new Uint8Array(e2));
      }}, c.uint8array = {string: s, array: function(e2) {
        return f(e2, new Array(e2.length));
      }, arraybuffer: function(e2) {
        return e2.buffer;
      }, uint8array: n, nodebuffer: function(e2) {
        return r.newBufferFrom(e2);
      }}, c.nodebuffer = {string: s, array: function(e2) {
        return f(e2, new Array(e2.length));
      }, arraybuffer: function(e2) {
        return c.nodebuffer.uint8array(e2).buffer;
      }, uint8array: function(e2) {
        return f(e2, new Uint8Array(e2.length));
      }, nodebuffer: n}, a.transformTo = function(e2, t2) {
        if (t2 = t2 || "", !e2)
          return t2;
        a.checkSupport(e2);
        var r2 = a.getTypeOf(t2);
        return c[r2][e2](t2);
      }, a.resolve = function(e2) {
        for (var t2 = e2.split("/"), r2 = [], n2 = 0; n2 < t2.length; n2++) {
          var i2 = t2[n2];
          i2 === "." || i2 === "" && n2 !== 0 && n2 !== t2.length - 1 || (i2 === ".." ? r2.pop() : r2.push(i2));
        }
        return r2.join("/");
      }, a.getTypeOf = function(e2) {
        return typeof e2 == "string" ? "string" : Object.prototype.toString.call(e2) === "[object Array]" ? "array" : o.nodebuffer && r.isBuffer(e2) ? "nodebuffer" : o.uint8array && e2 instanceof Uint8Array ? "uint8array" : o.arraybuffer && e2 instanceof ArrayBuffer ? "arraybuffer" : void 0;
      }, a.checkSupport = function(e2) {
        if (!o[e2.toLowerCase()])
          throw new Error(e2 + " is not supported by this platform");
      }, a.MAX_VALUE_16BITS = 65535, a.MAX_VALUE_32BITS = -1, a.pretty = function(e2) {
        var t2, r2, n2 = "";
        for (r2 = 0; r2 < (e2 || "").length; r2++)
          n2 += "\\x" + ((t2 = e2.charCodeAt(r2)) < 16 ? "0" : "") + t2.toString(16).toUpperCase();
        return n2;
      }, a.delay = function(e2, t2, r2) {
        setImmediate(function() {
          e2.apply(r2 || null, t2 || []);
        });
      }, a.inherits = function(e2, t2) {
        function r2() {
        }
        r2.prototype = t2.prototype, e2.prototype = new r2();
      }, a.extend = function() {
        var e2, t2, r2 = {};
        for (e2 = 0; e2 < arguments.length; e2++)
          for (t2 in arguments[e2])
            Object.prototype.hasOwnProperty.call(arguments[e2], t2) && r2[t2] === void 0 && (r2[t2] = arguments[e2][t2]);
        return r2;
      }, a.prepareContent = function(r2, e2, n2, i2, s2) {
        return u.Promise.resolve(e2).then(function(n3) {
          return o.blob && (n3 instanceof Blob || ["[object File]", "[object Blob]"].indexOf(Object.prototype.toString.call(n3)) !== -1) && typeof FileReader != "undefined" ? new u.Promise(function(t2, r3) {
            var e3 = new FileReader();
            e3.onload = function(e4) {
              t2(e4.target.result);
            }, e3.onerror = function(e4) {
              r3(e4.target.error);
            }, e3.readAsArrayBuffer(n3);
          }) : n3;
        }).then(function(e3) {
          var t2 = a.getTypeOf(e3);
          return t2 ? (t2 === "arraybuffer" ? e3 = a.transformTo("uint8array", e3) : t2 === "string" && (s2 ? e3 = h.decode(e3) : n2 && i2 !== true && (e3 = function(e4) {
            return l(e4, o.uint8array ? new Uint8Array(e4.length) : new Array(e4.length));
          }(e3))), e3) : u.Promise.reject(new Error("Can't read the data of '" + r2 + "'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"));
        });
      };
    }, {"./base64": 1, "./external": 6, "./nodejsUtils": 14, "./support": 30, setimmediate: 54}], 33: [function(e, t, r) {
      var n = e("./reader/readerFor"), i = e("./utils"), s = e("./signature"), a = e("./zipEntry"), o = e("./support");
      function h(e2) {
        this.files = [], this.loadOptions = e2;
      }
      h.prototype = {checkSignature: function(e2) {
        if (!this.reader.readAndCheckSignature(e2)) {
          this.reader.index -= 4;
          var t2 = this.reader.readString(4);
          throw new Error("Corrupted zip or bug: unexpected signature (" + i.pretty(t2) + ", expected " + i.pretty(e2) + ")");
        }
      }, isSignature: function(e2, t2) {
        var r2 = this.reader.index;
        this.reader.setIndex(e2);
        var n2 = this.reader.readString(4) === t2;
        return this.reader.setIndex(r2), n2;
      }, readBlockEndOfCentral: function() {
        this.diskNumber = this.reader.readInt(2), this.diskWithCentralDirStart = this.reader.readInt(2), this.centralDirRecordsOnThisDisk = this.reader.readInt(2), this.centralDirRecords = this.reader.readInt(2), this.centralDirSize = this.reader.readInt(4), this.centralDirOffset = this.reader.readInt(4), this.zipCommentLength = this.reader.readInt(2);
        var e2 = this.reader.readData(this.zipCommentLength), t2 = o.uint8array ? "uint8array" : "array", r2 = i.transformTo(t2, e2);
        this.zipComment = this.loadOptions.decodeFileName(r2);
      }, readBlockZip64EndOfCentral: function() {
        this.zip64EndOfCentralSize = this.reader.readInt(8), this.reader.skip(4), this.diskNumber = this.reader.readInt(4), this.diskWithCentralDirStart = this.reader.readInt(4), this.centralDirRecordsOnThisDisk = this.reader.readInt(8), this.centralDirRecords = this.reader.readInt(8), this.centralDirSize = this.reader.readInt(8), this.centralDirOffset = this.reader.readInt(8), this.zip64ExtensibleData = {};
        for (var e2, t2, r2, n2 = this.zip64EndOfCentralSize - 44; 0 < n2; )
          e2 = this.reader.readInt(2), t2 = this.reader.readInt(4), r2 = this.reader.readData(t2), this.zip64ExtensibleData[e2] = {id: e2, length: t2, value: r2};
      }, readBlockZip64EndOfCentralLocator: function() {
        if (this.diskWithZip64CentralDirStart = this.reader.readInt(4), this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8), this.disksCount = this.reader.readInt(4), 1 < this.disksCount)
          throw new Error("Multi-volumes zip are not supported");
      }, readLocalFiles: function() {
        var e2, t2;
        for (e2 = 0; e2 < this.files.length; e2++)
          t2 = this.files[e2], this.reader.setIndex(t2.localHeaderOffset), this.checkSignature(s.LOCAL_FILE_HEADER), t2.readLocalPart(this.reader), t2.handleUTF8(), t2.processAttributes();
      }, readCentralDir: function() {
        var e2;
        for (this.reader.setIndex(this.centralDirOffset); this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER); )
          (e2 = new a({zip64: this.zip64}, this.loadOptions)).readCentralPart(this.reader), this.files.push(e2);
        if (this.centralDirRecords !== this.files.length && this.centralDirRecords !== 0 && this.files.length === 0)
          throw new Error("Corrupted zip or bug: expected " + this.centralDirRecords + " records in central dir, got " + this.files.length);
      }, readEndOfCentral: function() {
        var e2 = this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);
        if (e2 < 0)
          throw !this.isSignature(0, s.LOCAL_FILE_HEADER) ? new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html") : new Error("Corrupted zip: can't find end of central directory");
        this.reader.setIndex(e2);
        var t2 = e2;
        if (this.checkSignature(s.CENTRAL_DIRECTORY_END), this.readBlockEndOfCentral(), this.diskNumber === i.MAX_VALUE_16BITS || this.diskWithCentralDirStart === i.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === i.MAX_VALUE_16BITS || this.centralDirRecords === i.MAX_VALUE_16BITS || this.centralDirSize === i.MAX_VALUE_32BITS || this.centralDirOffset === i.MAX_VALUE_32BITS) {
          if (this.zip64 = true, (e2 = this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR)) < 0)
            throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");
          if (this.reader.setIndex(e2), this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR), this.readBlockZip64EndOfCentralLocator(), !this.isSignature(this.relativeOffsetEndOfZip64CentralDir, s.ZIP64_CENTRAL_DIRECTORY_END) && (this.relativeOffsetEndOfZip64CentralDir = this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END), this.relativeOffsetEndOfZip64CentralDir < 0))
            throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");
          this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir), this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END), this.readBlockZip64EndOfCentral();
        }
        var r2 = this.centralDirOffset + this.centralDirSize;
        this.zip64 && (r2 += 20, r2 += 12 + this.zip64EndOfCentralSize);
        var n2 = t2 - r2;
        if (0 < n2)
          this.isSignature(t2, s.CENTRAL_FILE_HEADER) || (this.reader.zero = n2);
        else if (n2 < 0)
          throw new Error("Corrupted zip: missing " + Math.abs(n2) + " bytes.");
      }, prepareReader: function(e2) {
        this.reader = n(e2);
      }, load: function(e2) {
        this.prepareReader(e2), this.readEndOfCentral(), this.readCentralDir(), this.readLocalFiles();
      }}, t.exports = h;
    }, {"./reader/readerFor": 22, "./signature": 23, "./support": 30, "./utils": 32, "./zipEntry": 34}], 34: [function(e, t, r) {
      var n = e("./reader/readerFor"), s = e("./utils"), i = e("./compressedObject"), a = e("./crc32"), o = e("./utf8"), h = e("./compressions"), u = e("./support");
      function l(e2, t2) {
        this.options = e2, this.loadOptions = t2;
      }
      l.prototype = {isEncrypted: function() {
        return (1 & this.bitFlag) == 1;
      }, useUTF8: function() {
        return (2048 & this.bitFlag) == 2048;
      }, readLocalPart: function(e2) {
        var t2, r2;
        if (e2.skip(22), this.fileNameLength = e2.readInt(2), r2 = e2.readInt(2), this.fileName = e2.readData(this.fileNameLength), e2.skip(r2), this.compressedSize === -1 || this.uncompressedSize === -1)
          throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");
        if ((t2 = function(e3) {
          for (var t3 in h)
            if (Object.prototype.hasOwnProperty.call(h, t3) && h[t3].magic === e3)
              return h[t3];
          return null;
        }(this.compressionMethod)) === null)
          throw new Error("Corrupted zip : compression " + s.pretty(this.compressionMethod) + " unknown (inner file : " + s.transformTo("string", this.fileName) + ")");
        this.decompressed = new i(this.compressedSize, this.uncompressedSize, this.crc32, t2, e2.readData(this.compressedSize));
      }, readCentralPart: function(e2) {
        this.versionMadeBy = e2.readInt(2), e2.skip(2), this.bitFlag = e2.readInt(2), this.compressionMethod = e2.readString(2), this.date = e2.readDate(), this.crc32 = e2.readInt(4), this.compressedSize = e2.readInt(4), this.uncompressedSize = e2.readInt(4);
        var t2 = e2.readInt(2);
        if (this.extraFieldsLength = e2.readInt(2), this.fileCommentLength = e2.readInt(2), this.diskNumberStart = e2.readInt(2), this.internalFileAttributes = e2.readInt(2), this.externalFileAttributes = e2.readInt(4), this.localHeaderOffset = e2.readInt(4), this.isEncrypted())
          throw new Error("Encrypted zip are not supported");
        e2.skip(t2), this.readExtraFields(e2), this.parseZIP64ExtraField(e2), this.fileComment = e2.readData(this.fileCommentLength);
      }, processAttributes: function() {
        this.unixPermissions = null, this.dosPermissions = null;
        var e2 = this.versionMadeBy >> 8;
        this.dir = !!(16 & this.externalFileAttributes), e2 == 0 && (this.dosPermissions = 63 & this.externalFileAttributes), e2 == 3 && (this.unixPermissions = this.externalFileAttributes >> 16 & 65535), this.dir || this.fileNameStr.slice(-1) !== "/" || (this.dir = true);
      }, parseZIP64ExtraField: function() {
        if (this.extraFields[1]) {
          var e2 = n(this.extraFields[1].value);
          this.uncompressedSize === s.MAX_VALUE_32BITS && (this.uncompressedSize = e2.readInt(8)), this.compressedSize === s.MAX_VALUE_32BITS && (this.compressedSize = e2.readInt(8)), this.localHeaderOffset === s.MAX_VALUE_32BITS && (this.localHeaderOffset = e2.readInt(8)), this.diskNumberStart === s.MAX_VALUE_32BITS && (this.diskNumberStart = e2.readInt(4));
        }
      }, readExtraFields: function(e2) {
        var t2, r2, n2, i2 = e2.index + this.extraFieldsLength;
        for (this.extraFields || (this.extraFields = {}); e2.index + 4 < i2; )
          t2 = e2.readInt(2), r2 = e2.readInt(2), n2 = e2.readData(r2), this.extraFields[t2] = {id: t2, length: r2, value: n2};
        e2.setIndex(i2);
      }, handleUTF8: function() {
        var e2 = u.uint8array ? "uint8array" : "array";
        if (this.useUTF8())
          this.fileNameStr = o.utf8decode(this.fileName), this.fileCommentStr = o.utf8decode(this.fileComment);
        else {
          var t2 = this.findExtraFieldUnicodePath();
          if (t2 !== null)
            this.fileNameStr = t2;
          else {
            var r2 = s.transformTo(e2, this.fileName);
            this.fileNameStr = this.loadOptions.decodeFileName(r2);
          }
          var n2 = this.findExtraFieldUnicodeComment();
          if (n2 !== null)
            this.fileCommentStr = n2;
          else {
            var i2 = s.transformTo(e2, this.fileComment);
            this.fileCommentStr = this.loadOptions.decodeFileName(i2);
          }
        }
      }, findExtraFieldUnicodePath: function() {
        var e2 = this.extraFields[28789];
        if (e2) {
          var t2 = n(e2.value);
          return t2.readInt(1) !== 1 ? null : a(this.fileName) !== t2.readInt(4) ? null : o.utf8decode(t2.readData(e2.length - 5));
        }
        return null;
      }, findExtraFieldUnicodeComment: function() {
        var e2 = this.extraFields[25461];
        if (e2) {
          var t2 = n(e2.value);
          return t2.readInt(1) !== 1 ? null : a(this.fileComment) !== t2.readInt(4) ? null : o.utf8decode(t2.readData(e2.length - 5));
        }
        return null;
      }}, t.exports = l;
    }, {"./compressedObject": 2, "./compressions": 3, "./crc32": 4, "./reader/readerFor": 22, "./support": 30, "./utf8": 31, "./utils": 32}], 35: [function(e, t, r) {
      function n(e2, t2, r2) {
        this.name = e2, this.dir = r2.dir, this.date = r2.date, this.comment = r2.comment, this.unixPermissions = r2.unixPermissions, this.dosPermissions = r2.dosPermissions, this._data = t2, this._dataBinary = r2.binary, this.options = {compression: r2.compression, compressionOptions: r2.compressionOptions};
      }
      var s = e("./stream/StreamHelper"), i = e("./stream/DataWorker"), a = e("./utf8"), o = e("./compressedObject"), h = e("./stream/GenericWorker");
      n.prototype = {internalStream: function(e2) {
        var t2 = null, r2 = "string";
        try {
          if (!e2)
            throw new Error("No output type specified.");
          var n2 = (r2 = e2.toLowerCase()) === "string" || r2 === "text";
          r2 !== "binarystring" && r2 !== "text" || (r2 = "string"), t2 = this._decompressWorker();
          var i2 = !this._dataBinary;
          i2 && !n2 && (t2 = t2.pipe(new a.Utf8EncodeWorker())), !i2 && n2 && (t2 = t2.pipe(new a.Utf8DecodeWorker()));
        } catch (e3) {
          (t2 = new h("error")).error(e3);
        }
        return new s(t2, r2, "");
      }, async: function(e2, t2) {
        return this.internalStream(e2).accumulate(t2);
      }, nodeStream: function(e2, t2) {
        return this.internalStream(e2 || "nodebuffer").toNodejsStream(t2);
      }, _compressWorker: function(e2, t2) {
        if (this._data instanceof o && this._data.compression.magic === e2.magic)
          return this._data.getCompressedWorker();
        var r2 = this._decompressWorker();
        return this._dataBinary || (r2 = r2.pipe(new a.Utf8EncodeWorker())), o.createWorkerFrom(r2, e2, t2);
      }, _decompressWorker: function() {
        return this._data instanceof o ? this._data.getContentWorker() : this._data instanceof h ? this._data : new i(this._data);
      }};
      for (var u = ["asText", "asBinary", "asNodeBuffer", "asUint8Array", "asArrayBuffer"], l = function() {
        throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");
      }, f = 0; f < u.length; f++)
        n.prototype[u[f]] = l;
      t.exports = n;
    }, {"./compressedObject": 2, "./stream/DataWorker": 27, "./stream/GenericWorker": 28, "./stream/StreamHelper": 29, "./utf8": 31}], 36: [function(e, l, t) {
      (function(t2) {
        var r, n, e2 = t2.MutationObserver || t2.WebKitMutationObserver;
        if (e2) {
          var i = 0, s = new e2(u), a = t2.document.createTextNode("");
          s.observe(a, {characterData: true}), r = function() {
            a.data = i = ++i % 2;
          };
        } else if (t2.setImmediate || t2.MessageChannel === void 0)
          r = "document" in t2 && "onreadystatechange" in t2.document.createElement("script") ? function() {
            var e3 = t2.document.createElement("script");
            e3.onreadystatechange = function() {
              u(), e3.onreadystatechange = null, e3.parentNode.removeChild(e3), e3 = null;
            }, t2.document.documentElement.appendChild(e3);
          } : function() {
            setTimeout(u, 0);
          };
        else {
          var o = new t2.MessageChannel();
          o.port1.onmessage = u, r = function() {
            o.port2.postMessage(0);
          };
        }
        var h = [];
        function u() {
          var e3, t3;
          n = true;
          for (var r2 = h.length; r2; ) {
            for (t3 = h, h = [], e3 = -1; ++e3 < r2; )
              t3[e3]();
            r2 = h.length;
          }
          n = false;
        }
        l.exports = function(e3) {
          h.push(e3) !== 1 || n || r();
        };
      }).call(this, typeof commonjsGlobal != "undefined" ? commonjsGlobal : typeof self != "undefined" ? self : typeof window != "undefined" ? window : {});
    }, {}], 37: [function(e, t, r) {
      var i = e("immediate");
      function u() {
      }
      var l = {}, s = ["REJECTED"], a = ["FULFILLED"], n = ["PENDING"];
      function o(e2) {
        if (typeof e2 != "function")
          throw new TypeError("resolver must be a function");
        this.state = n, this.queue = [], this.outcome = void 0, e2 !== u && d(this, e2);
      }
      function h(e2, t2, r2) {
        this.promise = e2, typeof t2 == "function" && (this.onFulfilled = t2, this.callFulfilled = this.otherCallFulfilled), typeof r2 == "function" && (this.onRejected = r2, this.callRejected = this.otherCallRejected);
      }
      function f(t2, r2, n2) {
        i(function() {
          var e2;
          try {
            e2 = r2(n2);
          } catch (e3) {
            return l.reject(t2, e3);
          }
          e2 === t2 ? l.reject(t2, new TypeError("Cannot resolve promise with itself")) : l.resolve(t2, e2);
        });
      }
      function c(e2) {
        var t2 = e2 && e2.then;
        if (e2 && (typeof e2 == "object" || typeof e2 == "function") && typeof t2 == "function")
          return function() {
            t2.apply(e2, arguments);
          };
      }
      function d(t2, e2) {
        var r2 = false;
        function n2(e3) {
          r2 || (r2 = true, l.reject(t2, e3));
        }
        function i2(e3) {
          r2 || (r2 = true, l.resolve(t2, e3));
        }
        var s2 = p(function() {
          e2(i2, n2);
        });
        s2.status === "error" && n2(s2.value);
      }
      function p(e2, t2) {
        var r2 = {};
        try {
          r2.value = e2(t2), r2.status = "success";
        } catch (e3) {
          r2.status = "error", r2.value = e3;
        }
        return r2;
      }
      (t.exports = o).prototype.finally = function(t2) {
        if (typeof t2 != "function")
          return this;
        var r2 = this.constructor;
        return this.then(function(e2) {
          return r2.resolve(t2()).then(function() {
            return e2;
          });
        }, function(e2) {
          return r2.resolve(t2()).then(function() {
            throw e2;
          });
        });
      }, o.prototype.catch = function(e2) {
        return this.then(null, e2);
      }, o.prototype.then = function(e2, t2) {
        if (typeof e2 != "function" && this.state === a || typeof t2 != "function" && this.state === s)
          return this;
        var r2 = new this.constructor(u);
        this.state !== n ? f(r2, this.state === a ? e2 : t2, this.outcome) : this.queue.push(new h(r2, e2, t2));
        return r2;
      }, h.prototype.callFulfilled = function(e2) {
        l.resolve(this.promise, e2);
      }, h.prototype.otherCallFulfilled = function(e2) {
        f(this.promise, this.onFulfilled, e2);
      }, h.prototype.callRejected = function(e2) {
        l.reject(this.promise, e2);
      }, h.prototype.otherCallRejected = function(e2) {
        f(this.promise, this.onRejected, e2);
      }, l.resolve = function(e2, t2) {
        var r2 = p(c, t2);
        if (r2.status === "error")
          return l.reject(e2, r2.value);
        var n2 = r2.value;
        if (n2)
          d(e2, n2);
        else {
          e2.state = a, e2.outcome = t2;
          for (var i2 = -1, s2 = e2.queue.length; ++i2 < s2; )
            e2.queue[i2].callFulfilled(t2);
        }
        return e2;
      }, l.reject = function(e2, t2) {
        e2.state = s, e2.outcome = t2;
        for (var r2 = -1, n2 = e2.queue.length; ++r2 < n2; )
          e2.queue[r2].callRejected(t2);
        return e2;
      }, o.resolve = function(e2) {
        if (e2 instanceof this)
          return e2;
        return l.resolve(new this(u), e2);
      }, o.reject = function(e2) {
        var t2 = new this(u);
        return l.reject(t2, e2);
      }, o.all = function(e2) {
        var r2 = this;
        if (Object.prototype.toString.call(e2) !== "[object Array]")
          return this.reject(new TypeError("must be an array"));
        var n2 = e2.length, i2 = false;
        if (!n2)
          return this.resolve([]);
        var s2 = new Array(n2), a2 = 0, t2 = -1, o2 = new this(u);
        for (; ++t2 < n2; )
          h2(e2[t2], t2);
        return o2;
        function h2(e3, t3) {
          r2.resolve(e3).then(function(e4) {
            s2[t3] = e4, ++a2 !== n2 || i2 || (i2 = true, l.resolve(o2, s2));
          }, function(e4) {
            i2 || (i2 = true, l.reject(o2, e4));
          });
        }
      }, o.race = function(e2) {
        var t2 = this;
        if (Object.prototype.toString.call(e2) !== "[object Array]")
          return this.reject(new TypeError("must be an array"));
        var r2 = e2.length, n2 = false;
        if (!r2)
          return this.resolve([]);
        var i2 = -1, s2 = new this(u);
        for (; ++i2 < r2; )
          a2 = e2[i2], t2.resolve(a2).then(function(e3) {
            n2 || (n2 = true, l.resolve(s2, e3));
          }, function(e3) {
            n2 || (n2 = true, l.reject(s2, e3));
          });
        var a2;
        return s2;
      };
    }, {immediate: 36}], 38: [function(e, t, r) {
      var n = {};
      (0, e("./lib/utils/common").assign)(n, e("./lib/deflate"), e("./lib/inflate"), e("./lib/zlib/constants")), t.exports = n;
    }, {"./lib/deflate": 39, "./lib/inflate": 40, "./lib/utils/common": 41, "./lib/zlib/constants": 44}], 39: [function(e, t, r) {
      var a = e("./zlib/deflate"), o = e("./utils/common"), h = e("./utils/strings"), i = e("./zlib/messages"), s = e("./zlib/zstream"), u = Object.prototype.toString, l = 0, f = -1, c = 0, d = 8;
      function p(e2) {
        if (!(this instanceof p))
          return new p(e2);
        this.options = o.assign({level: f, method: d, chunkSize: 16384, windowBits: 15, memLevel: 8, strategy: c, to: ""}, e2 || {});
        var t2 = this.options;
        t2.raw && 0 < t2.windowBits ? t2.windowBits = -t2.windowBits : t2.gzip && 0 < t2.windowBits && t2.windowBits < 16 && (t2.windowBits += 16), this.err = 0, this.msg = "", this.ended = false, this.chunks = [], this.strm = new s(), this.strm.avail_out = 0;
        var r2 = a.deflateInit2(this.strm, t2.level, t2.method, t2.windowBits, t2.memLevel, t2.strategy);
        if (r2 !== l)
          throw new Error(i[r2]);
        if (t2.header && a.deflateSetHeader(this.strm, t2.header), t2.dictionary) {
          var n2;
          if (n2 = typeof t2.dictionary == "string" ? h.string2buf(t2.dictionary) : u.call(t2.dictionary) === "[object ArrayBuffer]" ? new Uint8Array(t2.dictionary) : t2.dictionary, (r2 = a.deflateSetDictionary(this.strm, n2)) !== l)
            throw new Error(i[r2]);
          this._dict_set = true;
        }
      }
      function n(e2, t2) {
        var r2 = new p(t2);
        if (r2.push(e2, true), r2.err)
          throw r2.msg || i[r2.err];
        return r2.result;
      }
      p.prototype.push = function(e2, t2) {
        var r2, n2, i2 = this.strm, s2 = this.options.chunkSize;
        if (this.ended)
          return false;
        n2 = t2 === ~~t2 ? t2 : t2 === true ? 4 : 0, typeof e2 == "string" ? i2.input = h.string2buf(e2) : u.call(e2) === "[object ArrayBuffer]" ? i2.input = new Uint8Array(e2) : i2.input = e2, i2.next_in = 0, i2.avail_in = i2.input.length;
        do {
          if (i2.avail_out === 0 && (i2.output = new o.Buf8(s2), i2.next_out = 0, i2.avail_out = s2), (r2 = a.deflate(i2, n2)) !== 1 && r2 !== l)
            return this.onEnd(r2), !(this.ended = true);
          i2.avail_out !== 0 && (i2.avail_in !== 0 || n2 !== 4 && n2 !== 2) || (this.options.to === "string" ? this.onData(h.buf2binstring(o.shrinkBuf(i2.output, i2.next_out))) : this.onData(o.shrinkBuf(i2.output, i2.next_out)));
        } while ((0 < i2.avail_in || i2.avail_out === 0) && r2 !== 1);
        return n2 === 4 ? (r2 = a.deflateEnd(this.strm), this.onEnd(r2), this.ended = true, r2 === l) : n2 !== 2 || (this.onEnd(l), !(i2.avail_out = 0));
      }, p.prototype.onData = function(e2) {
        this.chunks.push(e2);
      }, p.prototype.onEnd = function(e2) {
        e2 === l && (this.options.to === "string" ? this.result = this.chunks.join("") : this.result = o.flattenChunks(this.chunks)), this.chunks = [], this.err = e2, this.msg = this.strm.msg;
      }, r.Deflate = p, r.deflate = n, r.deflateRaw = function(e2, t2) {
        return (t2 = t2 || {}).raw = true, n(e2, t2);
      }, r.gzip = function(e2, t2) {
        return (t2 = t2 || {}).gzip = true, n(e2, t2);
      };
    }, {"./utils/common": 41, "./utils/strings": 42, "./zlib/deflate": 46, "./zlib/messages": 51, "./zlib/zstream": 53}], 40: [function(e, t, r) {
      var c = e("./zlib/inflate"), d = e("./utils/common"), p = e("./utils/strings"), m = e("./zlib/constants"), n = e("./zlib/messages"), i = e("./zlib/zstream"), s = e("./zlib/gzheader"), _ = Object.prototype.toString;
      function a(e2) {
        if (!(this instanceof a))
          return new a(e2);
        this.options = d.assign({chunkSize: 16384, windowBits: 0, to: ""}, e2 || {});
        var t2 = this.options;
        t2.raw && 0 <= t2.windowBits && t2.windowBits < 16 && (t2.windowBits = -t2.windowBits, t2.windowBits === 0 && (t2.windowBits = -15)), !(0 <= t2.windowBits && t2.windowBits < 16) || e2 && e2.windowBits || (t2.windowBits += 32), 15 < t2.windowBits && t2.windowBits < 48 && (15 & t2.windowBits) == 0 && (t2.windowBits |= 15), this.err = 0, this.msg = "", this.ended = false, this.chunks = [], this.strm = new i(), this.strm.avail_out = 0;
        var r2 = c.inflateInit2(this.strm, t2.windowBits);
        if (r2 !== m.Z_OK)
          throw new Error(n[r2]);
        this.header = new s(), c.inflateGetHeader(this.strm, this.header);
      }
      function o(e2, t2) {
        var r2 = new a(t2);
        if (r2.push(e2, true), r2.err)
          throw r2.msg || n[r2.err];
        return r2.result;
      }
      a.prototype.push = function(e2, t2) {
        var r2, n2, i2, s2, a2, o2, h = this.strm, u = this.options.chunkSize, l = this.options.dictionary, f = false;
        if (this.ended)
          return false;
        n2 = t2 === ~~t2 ? t2 : t2 === true ? m.Z_FINISH : m.Z_NO_FLUSH, typeof e2 == "string" ? h.input = p.binstring2buf(e2) : _.call(e2) === "[object ArrayBuffer]" ? h.input = new Uint8Array(e2) : h.input = e2, h.next_in = 0, h.avail_in = h.input.length;
        do {
          if (h.avail_out === 0 && (h.output = new d.Buf8(u), h.next_out = 0, h.avail_out = u), (r2 = c.inflate(h, m.Z_NO_FLUSH)) === m.Z_NEED_DICT && l && (o2 = typeof l == "string" ? p.string2buf(l) : _.call(l) === "[object ArrayBuffer]" ? new Uint8Array(l) : l, r2 = c.inflateSetDictionary(this.strm, o2)), r2 === m.Z_BUF_ERROR && f === true && (r2 = m.Z_OK, f = false), r2 !== m.Z_STREAM_END && r2 !== m.Z_OK)
            return this.onEnd(r2), !(this.ended = true);
          h.next_out && (h.avail_out !== 0 && r2 !== m.Z_STREAM_END && (h.avail_in !== 0 || n2 !== m.Z_FINISH && n2 !== m.Z_SYNC_FLUSH) || (this.options.to === "string" ? (i2 = p.utf8border(h.output, h.next_out), s2 = h.next_out - i2, a2 = p.buf2string(h.output, i2), h.next_out = s2, h.avail_out = u - s2, s2 && d.arraySet(h.output, h.output, i2, s2, 0), this.onData(a2)) : this.onData(d.shrinkBuf(h.output, h.next_out)))), h.avail_in === 0 && h.avail_out === 0 && (f = true);
        } while ((0 < h.avail_in || h.avail_out === 0) && r2 !== m.Z_STREAM_END);
        return r2 === m.Z_STREAM_END && (n2 = m.Z_FINISH), n2 === m.Z_FINISH ? (r2 = c.inflateEnd(this.strm), this.onEnd(r2), this.ended = true, r2 === m.Z_OK) : n2 !== m.Z_SYNC_FLUSH || (this.onEnd(m.Z_OK), !(h.avail_out = 0));
      }, a.prototype.onData = function(e2) {
        this.chunks.push(e2);
      }, a.prototype.onEnd = function(e2) {
        e2 === m.Z_OK && (this.options.to === "string" ? this.result = this.chunks.join("") : this.result = d.flattenChunks(this.chunks)), this.chunks = [], this.err = e2, this.msg = this.strm.msg;
      }, r.Inflate = a, r.inflate = o, r.inflateRaw = function(e2, t2) {
        return (t2 = t2 || {}).raw = true, o(e2, t2);
      }, r.ungzip = o;
    }, {"./utils/common": 41, "./utils/strings": 42, "./zlib/constants": 44, "./zlib/gzheader": 47, "./zlib/inflate": 49, "./zlib/messages": 51, "./zlib/zstream": 53}], 41: [function(e, t, r) {
      var n = typeof Uint8Array != "undefined" && typeof Uint16Array != "undefined" && typeof Int32Array != "undefined";
      r.assign = function(e2) {
        for (var t2 = Array.prototype.slice.call(arguments, 1); t2.length; ) {
          var r2 = t2.shift();
          if (r2) {
            if (typeof r2 != "object")
              throw new TypeError(r2 + "must be non-object");
            for (var n2 in r2)
              r2.hasOwnProperty(n2) && (e2[n2] = r2[n2]);
          }
        }
        return e2;
      }, r.shrinkBuf = function(e2, t2) {
        return e2.length === t2 ? e2 : e2.subarray ? e2.subarray(0, t2) : (e2.length = t2, e2);
      };
      var i = {arraySet: function(e2, t2, r2, n2, i2) {
        if (t2.subarray && e2.subarray)
          e2.set(t2.subarray(r2, r2 + n2), i2);
        else
          for (var s2 = 0; s2 < n2; s2++)
            e2[i2 + s2] = t2[r2 + s2];
      }, flattenChunks: function(e2) {
        var t2, r2, n2, i2, s2, a;
        for (t2 = n2 = 0, r2 = e2.length; t2 < r2; t2++)
          n2 += e2[t2].length;
        for (a = new Uint8Array(n2), t2 = i2 = 0, r2 = e2.length; t2 < r2; t2++)
          s2 = e2[t2], a.set(s2, i2), i2 += s2.length;
        return a;
      }}, s = {arraySet: function(e2, t2, r2, n2, i2) {
        for (var s2 = 0; s2 < n2; s2++)
          e2[i2 + s2] = t2[r2 + s2];
      }, flattenChunks: function(e2) {
        return [].concat.apply([], e2);
      }};
      r.setTyped = function(e2) {
        e2 ? (r.Buf8 = Uint8Array, r.Buf16 = Uint16Array, r.Buf32 = Int32Array, r.assign(r, i)) : (r.Buf8 = Array, r.Buf16 = Array, r.Buf32 = Array, r.assign(r, s));
      }, r.setTyped(n);
    }, {}], 42: [function(e, t, r) {
      var h = e("./common"), i = true, s = true;
      try {
        String.fromCharCode.apply(null, [0]);
      } catch (e2) {
        i = false;
      }
      try {
        String.fromCharCode.apply(null, new Uint8Array(1));
      } catch (e2) {
        s = false;
      }
      for (var u = new h.Buf8(256), n = 0; n < 256; n++)
        u[n] = 252 <= n ? 6 : 248 <= n ? 5 : 240 <= n ? 4 : 224 <= n ? 3 : 192 <= n ? 2 : 1;
      function l(e2, t2) {
        if (t2 < 65537 && (e2.subarray && s || !e2.subarray && i))
          return String.fromCharCode.apply(null, h.shrinkBuf(e2, t2));
        for (var r2 = "", n2 = 0; n2 < t2; n2++)
          r2 += String.fromCharCode(e2[n2]);
        return r2;
      }
      u[254] = u[254] = 1, r.string2buf = function(e2) {
        var t2, r2, n2, i2, s2, a = e2.length, o = 0;
        for (i2 = 0; i2 < a; i2++)
          (64512 & (r2 = e2.charCodeAt(i2))) == 55296 && i2 + 1 < a && (64512 & (n2 = e2.charCodeAt(i2 + 1))) == 56320 && (r2 = 65536 + (r2 - 55296 << 10) + (n2 - 56320), i2++), o += r2 < 128 ? 1 : r2 < 2048 ? 2 : r2 < 65536 ? 3 : 4;
        for (t2 = new h.Buf8(o), i2 = s2 = 0; s2 < o; i2++)
          (64512 & (r2 = e2.charCodeAt(i2))) == 55296 && i2 + 1 < a && (64512 & (n2 = e2.charCodeAt(i2 + 1))) == 56320 && (r2 = 65536 + (r2 - 55296 << 10) + (n2 - 56320), i2++), r2 < 128 ? t2[s2++] = r2 : (r2 < 2048 ? t2[s2++] = 192 | r2 >>> 6 : (r2 < 65536 ? t2[s2++] = 224 | r2 >>> 12 : (t2[s2++] = 240 | r2 >>> 18, t2[s2++] = 128 | r2 >>> 12 & 63), t2[s2++] = 128 | r2 >>> 6 & 63), t2[s2++] = 128 | 63 & r2);
        return t2;
      }, r.buf2binstring = function(e2) {
        return l(e2, e2.length);
      }, r.binstring2buf = function(e2) {
        for (var t2 = new h.Buf8(e2.length), r2 = 0, n2 = t2.length; r2 < n2; r2++)
          t2[r2] = e2.charCodeAt(r2);
        return t2;
      }, r.buf2string = function(e2, t2) {
        var r2, n2, i2, s2, a = t2 || e2.length, o = new Array(2 * a);
        for (r2 = n2 = 0; r2 < a; )
          if ((i2 = e2[r2++]) < 128)
            o[n2++] = i2;
          else if (4 < (s2 = u[i2]))
            o[n2++] = 65533, r2 += s2 - 1;
          else {
            for (i2 &= s2 === 2 ? 31 : s2 === 3 ? 15 : 7; 1 < s2 && r2 < a; )
              i2 = i2 << 6 | 63 & e2[r2++], s2--;
            1 < s2 ? o[n2++] = 65533 : i2 < 65536 ? o[n2++] = i2 : (i2 -= 65536, o[n2++] = 55296 | i2 >> 10 & 1023, o[n2++] = 56320 | 1023 & i2);
          }
        return l(o, n2);
      }, r.utf8border = function(e2, t2) {
        var r2;
        for ((t2 = t2 || e2.length) > e2.length && (t2 = e2.length), r2 = t2 - 1; 0 <= r2 && (192 & e2[r2]) == 128; )
          r2--;
        return r2 < 0 ? t2 : r2 === 0 ? t2 : r2 + u[e2[r2]] > t2 ? r2 : t2;
      };
    }, {"./common": 41}], 43: [function(e, t, r) {
      t.exports = function(e2, t2, r2, n) {
        for (var i = 65535 & e2 | 0, s = e2 >>> 16 & 65535 | 0, a = 0; r2 !== 0; ) {
          for (r2 -= a = 2e3 < r2 ? 2e3 : r2; s = s + (i = i + t2[n++] | 0) | 0, --a; )
            ;
          i %= 65521, s %= 65521;
        }
        return i | s << 16 | 0;
      };
    }, {}], 44: [function(e, t, r) {
      t.exports = {Z_NO_FLUSH: 0, Z_PARTIAL_FLUSH: 1, Z_SYNC_FLUSH: 2, Z_FULL_FLUSH: 3, Z_FINISH: 4, Z_BLOCK: 5, Z_TREES: 6, Z_OK: 0, Z_STREAM_END: 1, Z_NEED_DICT: 2, Z_ERRNO: -1, Z_STREAM_ERROR: -2, Z_DATA_ERROR: -3, Z_BUF_ERROR: -5, Z_NO_COMPRESSION: 0, Z_BEST_SPEED: 1, Z_BEST_COMPRESSION: 9, Z_DEFAULT_COMPRESSION: -1, Z_FILTERED: 1, Z_HUFFMAN_ONLY: 2, Z_RLE: 3, Z_FIXED: 4, Z_DEFAULT_STRATEGY: 0, Z_BINARY: 0, Z_TEXT: 1, Z_UNKNOWN: 2, Z_DEFLATED: 8};
    }, {}], 45: [function(e, t, r) {
      var o = function() {
        for (var e2, t2 = [], r2 = 0; r2 < 256; r2++) {
          e2 = r2;
          for (var n = 0; n < 8; n++)
            e2 = 1 & e2 ? 3988292384 ^ e2 >>> 1 : e2 >>> 1;
          t2[r2] = e2;
        }
        return t2;
      }();
      t.exports = function(e2, t2, r2, n) {
        var i = o, s = n + r2;
        e2 ^= -1;
        for (var a = n; a < s; a++)
          e2 = e2 >>> 8 ^ i[255 & (e2 ^ t2[a])];
        return -1 ^ e2;
      };
    }, {}], 46: [function(e, t, r) {
      var h, c = e("../utils/common"), u = e("./trees"), d = e("./adler32"), p = e("./crc32"), n = e("./messages"), l = 0, f = 4, m = 0, _ = -2, g = -1, b = 4, i = 2, v = 8, y = 9, s = 286, a = 30, o = 19, w = 2 * s + 1, k = 15, x = 3, S = 258, z = S + x + 1, C = 42, E = 113, A = 1, I = 2, O = 3, B = 4;
      function R(e2, t2) {
        return e2.msg = n[t2], t2;
      }
      function T(e2) {
        return (e2 << 1) - (4 < e2 ? 9 : 0);
      }
      function D(e2) {
        for (var t2 = e2.length; 0 <= --t2; )
          e2[t2] = 0;
      }
      function F(e2) {
        var t2 = e2.state, r2 = t2.pending;
        r2 > e2.avail_out && (r2 = e2.avail_out), r2 !== 0 && (c.arraySet(e2.output, t2.pending_buf, t2.pending_out, r2, e2.next_out), e2.next_out += r2, t2.pending_out += r2, e2.total_out += r2, e2.avail_out -= r2, t2.pending -= r2, t2.pending === 0 && (t2.pending_out = 0));
      }
      function N(e2, t2) {
        u._tr_flush_block(e2, 0 <= e2.block_start ? e2.block_start : -1, e2.strstart - e2.block_start, t2), e2.block_start = e2.strstart, F(e2.strm);
      }
      function U(e2, t2) {
        e2.pending_buf[e2.pending++] = t2;
      }
      function P(e2, t2) {
        e2.pending_buf[e2.pending++] = t2 >>> 8 & 255, e2.pending_buf[e2.pending++] = 255 & t2;
      }
      function L(e2, t2) {
        var r2, n2, i2 = e2.max_chain_length, s2 = e2.strstart, a2 = e2.prev_length, o2 = e2.nice_match, h2 = e2.strstart > e2.w_size - z ? e2.strstart - (e2.w_size - z) : 0, u2 = e2.window, l2 = e2.w_mask, f2 = e2.prev, c2 = e2.strstart + S, d2 = u2[s2 + a2 - 1], p2 = u2[s2 + a2];
        e2.prev_length >= e2.good_match && (i2 >>= 2), o2 > e2.lookahead && (o2 = e2.lookahead);
        do {
          if (u2[(r2 = t2) + a2] === p2 && u2[r2 + a2 - 1] === d2 && u2[r2] === u2[s2] && u2[++r2] === u2[s2 + 1]) {
            s2 += 2, r2++;
            do {
            } while (u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && s2 < c2);
            if (n2 = S - (c2 - s2), s2 = c2 - S, a2 < n2) {
              if (e2.match_start = t2, o2 <= (a2 = n2))
                break;
              d2 = u2[s2 + a2 - 1], p2 = u2[s2 + a2];
            }
          }
        } while ((t2 = f2[t2 & l2]) > h2 && --i2 != 0);
        return a2 <= e2.lookahead ? a2 : e2.lookahead;
      }
      function j(e2) {
        var t2, r2, n2, i2, s2, a2, o2, h2, u2, l2, f2 = e2.w_size;
        do {
          if (i2 = e2.window_size - e2.lookahead - e2.strstart, e2.strstart >= f2 + (f2 - z)) {
            for (c.arraySet(e2.window, e2.window, f2, f2, 0), e2.match_start -= f2, e2.strstart -= f2, e2.block_start -= f2, t2 = r2 = e2.hash_size; n2 = e2.head[--t2], e2.head[t2] = f2 <= n2 ? n2 - f2 : 0, --r2; )
              ;
            for (t2 = r2 = f2; n2 = e2.prev[--t2], e2.prev[t2] = f2 <= n2 ? n2 - f2 : 0, --r2; )
              ;
            i2 += f2;
          }
          if (e2.strm.avail_in === 0)
            break;
          if (a2 = e2.strm, o2 = e2.window, h2 = e2.strstart + e2.lookahead, u2 = i2, l2 = void 0, l2 = a2.avail_in, u2 < l2 && (l2 = u2), r2 = l2 === 0 ? 0 : (a2.avail_in -= l2, c.arraySet(o2, a2.input, a2.next_in, l2, h2), a2.state.wrap === 1 ? a2.adler = d(a2.adler, o2, l2, h2) : a2.state.wrap === 2 && (a2.adler = p(a2.adler, o2, l2, h2)), a2.next_in += l2, a2.total_in += l2, l2), e2.lookahead += r2, e2.lookahead + e2.insert >= x)
            for (s2 = e2.strstart - e2.insert, e2.ins_h = e2.window[s2], e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[s2 + 1]) & e2.hash_mask; e2.insert && (e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[s2 + x - 1]) & e2.hash_mask, e2.prev[s2 & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = s2, s2++, e2.insert--, !(e2.lookahead + e2.insert < x)); )
              ;
        } while (e2.lookahead < z && e2.strm.avail_in !== 0);
      }
      function Z(e2, t2) {
        for (var r2, n2; ; ) {
          if (e2.lookahead < z) {
            if (j(e2), e2.lookahead < z && t2 === l)
              return A;
            if (e2.lookahead === 0)
              break;
          }
          if (r2 = 0, e2.lookahead >= x && (e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + x - 1]) & e2.hash_mask, r2 = e2.prev[e2.strstart & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = e2.strstart), r2 !== 0 && e2.strstart - r2 <= e2.w_size - z && (e2.match_length = L(e2, r2)), e2.match_length >= x)
            if (n2 = u._tr_tally(e2, e2.strstart - e2.match_start, e2.match_length - x), e2.lookahead -= e2.match_length, e2.match_length <= e2.max_lazy_match && e2.lookahead >= x) {
              for (e2.match_length--; e2.strstart++, e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + x - 1]) & e2.hash_mask, r2 = e2.prev[e2.strstart & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = e2.strstart, --e2.match_length != 0; )
                ;
              e2.strstart++;
            } else
              e2.strstart += e2.match_length, e2.match_length = 0, e2.ins_h = e2.window[e2.strstart], e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + 1]) & e2.hash_mask;
          else
            n2 = u._tr_tally(e2, 0, e2.window[e2.strstart]), e2.lookahead--, e2.strstart++;
          if (n2 && (N(e2, false), e2.strm.avail_out === 0))
            return A;
        }
        return e2.insert = e2.strstart < x - 1 ? e2.strstart : x - 1, t2 === f ? (N(e2, true), e2.strm.avail_out === 0 ? O : B) : e2.last_lit && (N(e2, false), e2.strm.avail_out === 0) ? A : I;
      }
      function W(e2, t2) {
        for (var r2, n2, i2; ; ) {
          if (e2.lookahead < z) {
            if (j(e2), e2.lookahead < z && t2 === l)
              return A;
            if (e2.lookahead === 0)
              break;
          }
          if (r2 = 0, e2.lookahead >= x && (e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + x - 1]) & e2.hash_mask, r2 = e2.prev[e2.strstart & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = e2.strstart), e2.prev_length = e2.match_length, e2.prev_match = e2.match_start, e2.match_length = x - 1, r2 !== 0 && e2.prev_length < e2.max_lazy_match && e2.strstart - r2 <= e2.w_size - z && (e2.match_length = L(e2, r2), e2.match_length <= 5 && (e2.strategy === 1 || e2.match_length === x && 4096 < e2.strstart - e2.match_start) && (e2.match_length = x - 1)), e2.prev_length >= x && e2.match_length <= e2.prev_length) {
            for (i2 = e2.strstart + e2.lookahead - x, n2 = u._tr_tally(e2, e2.strstart - 1 - e2.prev_match, e2.prev_length - x), e2.lookahead -= e2.prev_length - 1, e2.prev_length -= 2; ++e2.strstart <= i2 && (e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + x - 1]) & e2.hash_mask, r2 = e2.prev[e2.strstart & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = e2.strstart), --e2.prev_length != 0; )
              ;
            if (e2.match_available = 0, e2.match_length = x - 1, e2.strstart++, n2 && (N(e2, false), e2.strm.avail_out === 0))
              return A;
          } else if (e2.match_available) {
            if ((n2 = u._tr_tally(e2, 0, e2.window[e2.strstart - 1])) && N(e2, false), e2.strstart++, e2.lookahead--, e2.strm.avail_out === 0)
              return A;
          } else
            e2.match_available = 1, e2.strstart++, e2.lookahead--;
        }
        return e2.match_available && (n2 = u._tr_tally(e2, 0, e2.window[e2.strstart - 1]), e2.match_available = 0), e2.insert = e2.strstart < x - 1 ? e2.strstart : x - 1, t2 === f ? (N(e2, true), e2.strm.avail_out === 0 ? O : B) : e2.last_lit && (N(e2, false), e2.strm.avail_out === 0) ? A : I;
      }
      function M(e2, t2, r2, n2, i2) {
        this.good_length = e2, this.max_lazy = t2, this.nice_length = r2, this.max_chain = n2, this.func = i2;
      }
      function H() {
        this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = v, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new c.Buf16(2 * w), this.dyn_dtree = new c.Buf16(2 * (2 * a + 1)), this.bl_tree = new c.Buf16(2 * (2 * o + 1)), D(this.dyn_ltree), D(this.dyn_dtree), D(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new c.Buf16(k + 1), this.heap = new c.Buf16(2 * s + 1), D(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new c.Buf16(2 * s + 1), D(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0;
      }
      function G(e2) {
        var t2;
        return e2 && e2.state ? (e2.total_in = e2.total_out = 0, e2.data_type = i, (t2 = e2.state).pending = 0, t2.pending_out = 0, t2.wrap < 0 && (t2.wrap = -t2.wrap), t2.status = t2.wrap ? C : E, e2.adler = t2.wrap === 2 ? 0 : 1, t2.last_flush = l, u._tr_init(t2), m) : R(e2, _);
      }
      function K(e2) {
        var t2 = G(e2);
        return t2 === m && function(e3) {
          e3.window_size = 2 * e3.w_size, D(e3.head), e3.max_lazy_match = h[e3.level].max_lazy, e3.good_match = h[e3.level].good_length, e3.nice_match = h[e3.level].nice_length, e3.max_chain_length = h[e3.level].max_chain, e3.strstart = 0, e3.block_start = 0, e3.lookahead = 0, e3.insert = 0, e3.match_length = e3.prev_length = x - 1, e3.match_available = 0, e3.ins_h = 0;
        }(e2.state), t2;
      }
      function Y(e2, t2, r2, n2, i2, s2) {
        if (!e2)
          return _;
        var a2 = 1;
        if (t2 === g && (t2 = 6), n2 < 0 ? (a2 = 0, n2 = -n2) : 15 < n2 && (a2 = 2, n2 -= 16), i2 < 1 || y < i2 || r2 !== v || n2 < 8 || 15 < n2 || t2 < 0 || 9 < t2 || s2 < 0 || b < s2)
          return R(e2, _);
        n2 === 8 && (n2 = 9);
        var o2 = new H();
        return (e2.state = o2).strm = e2, o2.wrap = a2, o2.gzhead = null, o2.w_bits = n2, o2.w_size = 1 << o2.w_bits, o2.w_mask = o2.w_size - 1, o2.hash_bits = i2 + 7, o2.hash_size = 1 << o2.hash_bits, o2.hash_mask = o2.hash_size - 1, o2.hash_shift = ~~((o2.hash_bits + x - 1) / x), o2.window = new c.Buf8(2 * o2.w_size), o2.head = new c.Buf16(o2.hash_size), o2.prev = new c.Buf16(o2.w_size), o2.lit_bufsize = 1 << i2 + 6, o2.pending_buf_size = 4 * o2.lit_bufsize, o2.pending_buf = new c.Buf8(o2.pending_buf_size), o2.d_buf = 1 * o2.lit_bufsize, o2.l_buf = 3 * o2.lit_bufsize, o2.level = t2, o2.strategy = s2, o2.method = r2, K(e2);
      }
      h = [new M(0, 0, 0, 0, function(e2, t2) {
        var r2 = 65535;
        for (r2 > e2.pending_buf_size - 5 && (r2 = e2.pending_buf_size - 5); ; ) {
          if (e2.lookahead <= 1) {
            if (j(e2), e2.lookahead === 0 && t2 === l)
              return A;
            if (e2.lookahead === 0)
              break;
          }
          e2.strstart += e2.lookahead, e2.lookahead = 0;
          var n2 = e2.block_start + r2;
          if ((e2.strstart === 0 || e2.strstart >= n2) && (e2.lookahead = e2.strstart - n2, e2.strstart = n2, N(e2, false), e2.strm.avail_out === 0))
            return A;
          if (e2.strstart - e2.block_start >= e2.w_size - z && (N(e2, false), e2.strm.avail_out === 0))
            return A;
        }
        return e2.insert = 0, t2 === f ? (N(e2, true), e2.strm.avail_out === 0 ? O : B) : (e2.strstart > e2.block_start && (N(e2, false), e2.strm.avail_out), A);
      }), new M(4, 4, 8, 4, Z), new M(4, 5, 16, 8, Z), new M(4, 6, 32, 32, Z), new M(4, 4, 16, 16, W), new M(8, 16, 32, 32, W), new M(8, 16, 128, 128, W), new M(8, 32, 128, 256, W), new M(32, 128, 258, 1024, W), new M(32, 258, 258, 4096, W)], r.deflateInit = function(e2, t2) {
        return Y(e2, t2, v, 15, 8, 0);
      }, r.deflateInit2 = Y, r.deflateReset = K, r.deflateResetKeep = G, r.deflateSetHeader = function(e2, t2) {
        return e2 && e2.state ? e2.state.wrap !== 2 ? _ : (e2.state.gzhead = t2, m) : _;
      }, r.deflate = function(e2, t2) {
        var r2, n2, i2, s2;
        if (!e2 || !e2.state || 5 < t2 || t2 < 0)
          return e2 ? R(e2, _) : _;
        if (n2 = e2.state, !e2.output || !e2.input && e2.avail_in !== 0 || n2.status === 666 && t2 !== f)
          return R(e2, e2.avail_out === 0 ? -5 : _);
        if (n2.strm = e2, r2 = n2.last_flush, n2.last_flush = t2, n2.status === C)
          if (n2.wrap === 2)
            e2.adler = 0, U(n2, 31), U(n2, 139), U(n2, 8), n2.gzhead ? (U(n2, (n2.gzhead.text ? 1 : 0) + (n2.gzhead.hcrc ? 2 : 0) + (n2.gzhead.extra ? 4 : 0) + (n2.gzhead.name ? 8 : 0) + (n2.gzhead.comment ? 16 : 0)), U(n2, 255 & n2.gzhead.time), U(n2, n2.gzhead.time >> 8 & 255), U(n2, n2.gzhead.time >> 16 & 255), U(n2, n2.gzhead.time >> 24 & 255), U(n2, n2.level === 9 ? 2 : 2 <= n2.strategy || n2.level < 2 ? 4 : 0), U(n2, 255 & n2.gzhead.os), n2.gzhead.extra && n2.gzhead.extra.length && (U(n2, 255 & n2.gzhead.extra.length), U(n2, n2.gzhead.extra.length >> 8 & 255)), n2.gzhead.hcrc && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending, 0)), n2.gzindex = 0, n2.status = 69) : (U(n2, 0), U(n2, 0), U(n2, 0), U(n2, 0), U(n2, 0), U(n2, n2.level === 9 ? 2 : 2 <= n2.strategy || n2.level < 2 ? 4 : 0), U(n2, 3), n2.status = E);
          else {
            var a2 = v + (n2.w_bits - 8 << 4) << 8;
            a2 |= (2 <= n2.strategy || n2.level < 2 ? 0 : n2.level < 6 ? 1 : n2.level === 6 ? 2 : 3) << 6, n2.strstart !== 0 && (a2 |= 32), a2 += 31 - a2 % 31, n2.status = E, P(n2, a2), n2.strstart !== 0 && (P(n2, e2.adler >>> 16), P(n2, 65535 & e2.adler)), e2.adler = 1;
          }
        if (n2.status === 69)
          if (n2.gzhead.extra) {
            for (i2 = n2.pending; n2.gzindex < (65535 & n2.gzhead.extra.length) && (n2.pending !== n2.pending_buf_size || (n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), F(e2), i2 = n2.pending, n2.pending !== n2.pending_buf_size)); )
              U(n2, 255 & n2.gzhead.extra[n2.gzindex]), n2.gzindex++;
            n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), n2.gzindex === n2.gzhead.extra.length && (n2.gzindex = 0, n2.status = 73);
          } else
            n2.status = 73;
        if (n2.status === 73)
          if (n2.gzhead.name) {
            i2 = n2.pending;
            do {
              if (n2.pending === n2.pending_buf_size && (n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), F(e2), i2 = n2.pending, n2.pending === n2.pending_buf_size)) {
                s2 = 1;
                break;
              }
              s2 = n2.gzindex < n2.gzhead.name.length ? 255 & n2.gzhead.name.charCodeAt(n2.gzindex++) : 0, U(n2, s2);
            } while (s2 !== 0);
            n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), s2 === 0 && (n2.gzindex = 0, n2.status = 91);
          } else
            n2.status = 91;
        if (n2.status === 91)
          if (n2.gzhead.comment) {
            i2 = n2.pending;
            do {
              if (n2.pending === n2.pending_buf_size && (n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), F(e2), i2 = n2.pending, n2.pending === n2.pending_buf_size)) {
                s2 = 1;
                break;
              }
              s2 = n2.gzindex < n2.gzhead.comment.length ? 255 & n2.gzhead.comment.charCodeAt(n2.gzindex++) : 0, U(n2, s2);
            } while (s2 !== 0);
            n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), s2 === 0 && (n2.status = 103);
          } else
            n2.status = 103;
        if (n2.status === 103 && (n2.gzhead.hcrc ? (n2.pending + 2 > n2.pending_buf_size && F(e2), n2.pending + 2 <= n2.pending_buf_size && (U(n2, 255 & e2.adler), U(n2, e2.adler >> 8 & 255), e2.adler = 0, n2.status = E)) : n2.status = E), n2.pending !== 0) {
          if (F(e2), e2.avail_out === 0)
            return n2.last_flush = -1, m;
        } else if (e2.avail_in === 0 && T(t2) <= T(r2) && t2 !== f)
          return R(e2, -5);
        if (n2.status === 666 && e2.avail_in !== 0)
          return R(e2, -5);
        if (e2.avail_in !== 0 || n2.lookahead !== 0 || t2 !== l && n2.status !== 666) {
          var o2 = n2.strategy === 2 ? function(e3, t3) {
            for (var r3; ; ) {
              if (e3.lookahead === 0 && (j(e3), e3.lookahead === 0)) {
                if (t3 === l)
                  return A;
                break;
              }
              if (e3.match_length = 0, r3 = u._tr_tally(e3, 0, e3.window[e3.strstart]), e3.lookahead--, e3.strstart++, r3 && (N(e3, false), e3.strm.avail_out === 0))
                return A;
            }
            return e3.insert = 0, t3 === f ? (N(e3, true), e3.strm.avail_out === 0 ? O : B) : e3.last_lit && (N(e3, false), e3.strm.avail_out === 0) ? A : I;
          }(n2, t2) : n2.strategy === 3 ? function(e3, t3) {
            for (var r3, n3, i3, s3, a3 = e3.window; ; ) {
              if (e3.lookahead <= S) {
                if (j(e3), e3.lookahead <= S && t3 === l)
                  return A;
                if (e3.lookahead === 0)
                  break;
              }
              if (e3.match_length = 0, e3.lookahead >= x && 0 < e3.strstart && (n3 = a3[i3 = e3.strstart - 1]) === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3]) {
                s3 = e3.strstart + S;
                do {
                } while (n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && i3 < s3);
                e3.match_length = S - (s3 - i3), e3.match_length > e3.lookahead && (e3.match_length = e3.lookahead);
              }
              if (e3.match_length >= x ? (r3 = u._tr_tally(e3, 1, e3.match_length - x), e3.lookahead -= e3.match_length, e3.strstart += e3.match_length, e3.match_length = 0) : (r3 = u._tr_tally(e3, 0, e3.window[e3.strstart]), e3.lookahead--, e3.strstart++), r3 && (N(e3, false), e3.strm.avail_out === 0))
                return A;
            }
            return e3.insert = 0, t3 === f ? (N(e3, true), e3.strm.avail_out === 0 ? O : B) : e3.last_lit && (N(e3, false), e3.strm.avail_out === 0) ? A : I;
          }(n2, t2) : h[n2.level].func(n2, t2);
          if (o2 !== O && o2 !== B || (n2.status = 666), o2 === A || o2 === O)
            return e2.avail_out === 0 && (n2.last_flush = -1), m;
          if (o2 === I && (t2 === 1 ? u._tr_align(n2) : t2 !== 5 && (u._tr_stored_block(n2, 0, 0, false), t2 === 3 && (D(n2.head), n2.lookahead === 0 && (n2.strstart = 0, n2.block_start = 0, n2.insert = 0))), F(e2), e2.avail_out === 0))
            return n2.last_flush = -1, m;
        }
        return t2 !== f ? m : n2.wrap <= 0 ? 1 : (n2.wrap === 2 ? (U(n2, 255 & e2.adler), U(n2, e2.adler >> 8 & 255), U(n2, e2.adler >> 16 & 255), U(n2, e2.adler >> 24 & 255), U(n2, 255 & e2.total_in), U(n2, e2.total_in >> 8 & 255), U(n2, e2.total_in >> 16 & 255), U(n2, e2.total_in >> 24 & 255)) : (P(n2, e2.adler >>> 16), P(n2, 65535 & e2.adler)), F(e2), 0 < n2.wrap && (n2.wrap = -n2.wrap), n2.pending !== 0 ? m : 1);
      }, r.deflateEnd = function(e2) {
        var t2;
        return e2 && e2.state ? (t2 = e2.state.status) !== C && t2 !== 69 && t2 !== 73 && t2 !== 91 && t2 !== 103 && t2 !== E && t2 !== 666 ? R(e2, _) : (e2.state = null, t2 === E ? R(e2, -3) : m) : _;
      }, r.deflateSetDictionary = function(e2, t2) {
        var r2, n2, i2, s2, a2, o2, h2, u2, l2 = t2.length;
        if (!e2 || !e2.state)
          return _;
        if ((s2 = (r2 = e2.state).wrap) === 2 || s2 === 1 && r2.status !== C || r2.lookahead)
          return _;
        for (s2 === 1 && (e2.adler = d(e2.adler, t2, l2, 0)), r2.wrap = 0, l2 >= r2.w_size && (s2 === 0 && (D(r2.head), r2.strstart = 0, r2.block_start = 0, r2.insert = 0), u2 = new c.Buf8(r2.w_size), c.arraySet(u2, t2, l2 - r2.w_size, r2.w_size, 0), t2 = u2, l2 = r2.w_size), a2 = e2.avail_in, o2 = e2.next_in, h2 = e2.input, e2.avail_in = l2, e2.next_in = 0, e2.input = t2, j(r2); r2.lookahead >= x; ) {
          for (n2 = r2.strstart, i2 = r2.lookahead - (x - 1); r2.ins_h = (r2.ins_h << r2.hash_shift ^ r2.window[n2 + x - 1]) & r2.hash_mask, r2.prev[n2 & r2.w_mask] = r2.head[r2.ins_h], r2.head[r2.ins_h] = n2, n2++, --i2; )
            ;
          r2.strstart = n2, r2.lookahead = x - 1, j(r2);
        }
        return r2.strstart += r2.lookahead, r2.block_start = r2.strstart, r2.insert = r2.lookahead, r2.lookahead = 0, r2.match_length = r2.prev_length = x - 1, r2.match_available = 0, e2.next_in = o2, e2.input = h2, e2.avail_in = a2, r2.wrap = s2, m;
      }, r.deflateInfo = "pako deflate (from Nodeca project)";
    }, {"../utils/common": 41, "./adler32": 43, "./crc32": 45, "./messages": 51, "./trees": 52}], 47: [function(e, t, r) {
      t.exports = function() {
        this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = false;
      };
    }, {}], 48: [function(e, t, r) {
      t.exports = function(e2, t2) {
        var r2, n, i, s, a, o, h, u, l, f, c, d, p, m, _, g, b, v, y, w, k, x, S, z, C;
        r2 = e2.state, n = e2.next_in, z = e2.input, i = n + (e2.avail_in - 5), s = e2.next_out, C = e2.output, a = s - (t2 - e2.avail_out), o = s + (e2.avail_out - 257), h = r2.dmax, u = r2.wsize, l = r2.whave, f = r2.wnext, c = r2.window, d = r2.hold, p = r2.bits, m = r2.lencode, _ = r2.distcode, g = (1 << r2.lenbits) - 1, b = (1 << r2.distbits) - 1;
        e:
          do {
            p < 15 && (d += z[n++] << p, p += 8, d += z[n++] << p, p += 8), v = m[d & g];
            t:
              for (; ; ) {
                if (d >>>= y = v >>> 24, p -= y, (y = v >>> 16 & 255) === 0)
                  C[s++] = 65535 & v;
                else {
                  if (!(16 & y)) {
                    if ((64 & y) == 0) {
                      v = m[(65535 & v) + (d & (1 << y) - 1)];
                      continue t;
                    }
                    if (32 & y) {
                      r2.mode = 12;
                      break e;
                    }
                    e2.msg = "invalid literal/length code", r2.mode = 30;
                    break e;
                  }
                  w = 65535 & v, (y &= 15) && (p < y && (d += z[n++] << p, p += 8), w += d & (1 << y) - 1, d >>>= y, p -= y), p < 15 && (d += z[n++] << p, p += 8, d += z[n++] << p, p += 8), v = _[d & b];
                  r:
                    for (; ; ) {
                      if (d >>>= y = v >>> 24, p -= y, !(16 & (y = v >>> 16 & 255))) {
                        if ((64 & y) == 0) {
                          v = _[(65535 & v) + (d & (1 << y) - 1)];
                          continue r;
                        }
                        e2.msg = "invalid distance code", r2.mode = 30;
                        break e;
                      }
                      if (k = 65535 & v, p < (y &= 15) && (d += z[n++] << p, (p += 8) < y && (d += z[n++] << p, p += 8)), h < (k += d & (1 << y) - 1)) {
                        e2.msg = "invalid distance too far back", r2.mode = 30;
                        break e;
                      }
                      if (d >>>= y, p -= y, (y = s - a) < k) {
                        if (l < (y = k - y) && r2.sane) {
                          e2.msg = "invalid distance too far back", r2.mode = 30;
                          break e;
                        }
                        if (S = c, (x = 0) === f) {
                          if (x += u - y, y < w) {
                            for (w -= y; C[s++] = c[x++], --y; )
                              ;
                            x = s - k, S = C;
                          }
                        } else if (f < y) {
                          if (x += u + f - y, (y -= f) < w) {
                            for (w -= y; C[s++] = c[x++], --y; )
                              ;
                            if (x = 0, f < w) {
                              for (w -= y = f; C[s++] = c[x++], --y; )
                                ;
                              x = s - k, S = C;
                            }
                          }
                        } else if (x += f - y, y < w) {
                          for (w -= y; C[s++] = c[x++], --y; )
                            ;
                          x = s - k, S = C;
                        }
                        for (; 2 < w; )
                          C[s++] = S[x++], C[s++] = S[x++], C[s++] = S[x++], w -= 3;
                        w && (C[s++] = S[x++], 1 < w && (C[s++] = S[x++]));
                      } else {
                        for (x = s - k; C[s++] = C[x++], C[s++] = C[x++], C[s++] = C[x++], 2 < (w -= 3); )
                          ;
                        w && (C[s++] = C[x++], 1 < w && (C[s++] = C[x++]));
                      }
                      break;
                    }
                }
                break;
              }
          } while (n < i && s < o);
        n -= w = p >> 3, d &= (1 << (p -= w << 3)) - 1, e2.next_in = n, e2.next_out = s, e2.avail_in = n < i ? i - n + 5 : 5 - (n - i), e2.avail_out = s < o ? o - s + 257 : 257 - (s - o), r2.hold = d, r2.bits = p;
      };
    }, {}], 49: [function(e, t, r) {
      var I = e("../utils/common"), O = e("./adler32"), B = e("./crc32"), R = e("./inffast"), T = e("./inftrees"), D = 1, F = 2, N = 0, U = -2, P = 1, n = 852, i = 592;
      function L(e2) {
        return (e2 >>> 24 & 255) + (e2 >>> 8 & 65280) + ((65280 & e2) << 8) + ((255 & e2) << 24);
      }
      function s() {
        this.mode = 0, this.last = false, this.wrap = 0, this.havedict = false, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new I.Buf16(320), this.work = new I.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0;
      }
      function a(e2) {
        var t2;
        return e2 && e2.state ? (t2 = e2.state, e2.total_in = e2.total_out = t2.total = 0, e2.msg = "", t2.wrap && (e2.adler = 1 & t2.wrap), t2.mode = P, t2.last = 0, t2.havedict = 0, t2.dmax = 32768, t2.head = null, t2.hold = 0, t2.bits = 0, t2.lencode = t2.lendyn = new I.Buf32(n), t2.distcode = t2.distdyn = new I.Buf32(i), t2.sane = 1, t2.back = -1, N) : U;
      }
      function o(e2) {
        var t2;
        return e2 && e2.state ? ((t2 = e2.state).wsize = 0, t2.whave = 0, t2.wnext = 0, a(e2)) : U;
      }
      function h(e2, t2) {
        var r2, n2;
        return e2 && e2.state ? (n2 = e2.state, t2 < 0 ? (r2 = 0, t2 = -t2) : (r2 = 1 + (t2 >> 4), t2 < 48 && (t2 &= 15)), t2 && (t2 < 8 || 15 < t2) ? U : (n2.window !== null && n2.wbits !== t2 && (n2.window = null), n2.wrap = r2, n2.wbits = t2, o(e2))) : U;
      }
      function u(e2, t2) {
        var r2, n2;
        return e2 ? (n2 = new s(), (e2.state = n2).window = null, (r2 = h(e2, t2)) !== N && (e2.state = null), r2) : U;
      }
      var l, f, c = true;
      function j(e2) {
        if (c) {
          var t2;
          for (l = new I.Buf32(512), f = new I.Buf32(32), t2 = 0; t2 < 144; )
            e2.lens[t2++] = 8;
          for (; t2 < 256; )
            e2.lens[t2++] = 9;
          for (; t2 < 280; )
            e2.lens[t2++] = 7;
          for (; t2 < 288; )
            e2.lens[t2++] = 8;
          for (T(D, e2.lens, 0, 288, l, 0, e2.work, {bits: 9}), t2 = 0; t2 < 32; )
            e2.lens[t2++] = 5;
          T(F, e2.lens, 0, 32, f, 0, e2.work, {bits: 5}), c = false;
        }
        e2.lencode = l, e2.lenbits = 9, e2.distcode = f, e2.distbits = 5;
      }
      function Z(e2, t2, r2, n2) {
        var i2, s2 = e2.state;
        return s2.window === null && (s2.wsize = 1 << s2.wbits, s2.wnext = 0, s2.whave = 0, s2.window = new I.Buf8(s2.wsize)), n2 >= s2.wsize ? (I.arraySet(s2.window, t2, r2 - s2.wsize, s2.wsize, 0), s2.wnext = 0, s2.whave = s2.wsize) : (n2 < (i2 = s2.wsize - s2.wnext) && (i2 = n2), I.arraySet(s2.window, t2, r2 - n2, i2, s2.wnext), (n2 -= i2) ? (I.arraySet(s2.window, t2, r2 - n2, n2, 0), s2.wnext = n2, s2.whave = s2.wsize) : (s2.wnext += i2, s2.wnext === s2.wsize && (s2.wnext = 0), s2.whave < s2.wsize && (s2.whave += i2))), 0;
      }
      r.inflateReset = o, r.inflateReset2 = h, r.inflateResetKeep = a, r.inflateInit = function(e2) {
        return u(e2, 15);
      }, r.inflateInit2 = u, r.inflate = function(e2, t2) {
        var r2, n2, i2, s2, a2, o2, h2, u2, l2, f2, c2, d, p, m, _, g, b, v, y, w, k, x, S, z, C = 0, E = new I.Buf8(4), A = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
        if (!e2 || !e2.state || !e2.output || !e2.input && e2.avail_in !== 0)
          return U;
        (r2 = e2.state).mode === 12 && (r2.mode = 13), a2 = e2.next_out, i2 = e2.output, h2 = e2.avail_out, s2 = e2.next_in, n2 = e2.input, o2 = e2.avail_in, u2 = r2.hold, l2 = r2.bits, f2 = o2, c2 = h2, x = N;
        e:
          for (; ; )
            switch (r2.mode) {
              case P:
                if (r2.wrap === 0) {
                  r2.mode = 13;
                  break;
                }
                for (; l2 < 16; ) {
                  if (o2 === 0)
                    break e;
                  o2--, u2 += n2[s2++] << l2, l2 += 8;
                }
                if (2 & r2.wrap && u2 === 35615) {
                  E[r2.check = 0] = 255 & u2, E[1] = u2 >>> 8 & 255, r2.check = B(r2.check, E, 2, 0), l2 = u2 = 0, r2.mode = 2;
                  break;
                }
                if (r2.flags = 0, r2.head && (r2.head.done = false), !(1 & r2.wrap) || (((255 & u2) << 8) + (u2 >> 8)) % 31) {
                  e2.msg = "incorrect header check", r2.mode = 30;
                  break;
                }
                if ((15 & u2) != 8) {
                  e2.msg = "unknown compression method", r2.mode = 30;
                  break;
                }
                if (l2 -= 4, k = 8 + (15 & (u2 >>>= 4)), r2.wbits === 0)
                  r2.wbits = k;
                else if (k > r2.wbits) {
                  e2.msg = "invalid window size", r2.mode = 30;
                  break;
                }
                r2.dmax = 1 << k, e2.adler = r2.check = 1, r2.mode = 512 & u2 ? 10 : 12, l2 = u2 = 0;
                break;
              case 2:
                for (; l2 < 16; ) {
                  if (o2 === 0)
                    break e;
                  o2--, u2 += n2[s2++] << l2, l2 += 8;
                }
                if (r2.flags = u2, (255 & r2.flags) != 8) {
                  e2.msg = "unknown compression method", r2.mode = 30;
                  break;
                }
                if (57344 & r2.flags) {
                  e2.msg = "unknown header flags set", r2.mode = 30;
                  break;
                }
                r2.head && (r2.head.text = u2 >> 8 & 1), 512 & r2.flags && (E[0] = 255 & u2, E[1] = u2 >>> 8 & 255, r2.check = B(r2.check, E, 2, 0)), l2 = u2 = 0, r2.mode = 3;
              case 3:
                for (; l2 < 32; ) {
                  if (o2 === 0)
                    break e;
                  o2--, u2 += n2[s2++] << l2, l2 += 8;
                }
                r2.head && (r2.head.time = u2), 512 & r2.flags && (E[0] = 255 & u2, E[1] = u2 >>> 8 & 255, E[2] = u2 >>> 16 & 255, E[3] = u2 >>> 24 & 255, r2.check = B(r2.check, E, 4, 0)), l2 = u2 = 0, r2.mode = 4;
              case 4:
                for (; l2 < 16; ) {
                  if (o2 === 0)
                    break e;
                  o2--, u2 += n2[s2++] << l2, l2 += 8;
                }
                r2.head && (r2.head.xflags = 255 & u2, r2.head.os = u2 >> 8), 512 & r2.flags && (E[0] = 255 & u2, E[1] = u2 >>> 8 & 255, r2.check = B(r2.check, E, 2, 0)), l2 = u2 = 0, r2.mode = 5;
              case 5:
                if (1024 & r2.flags) {
                  for (; l2 < 16; ) {
                    if (o2 === 0)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  r2.length = u2, r2.head && (r2.head.extra_len = u2), 512 & r2.flags && (E[0] = 255 & u2, E[1] = u2 >>> 8 & 255, r2.check = B(r2.check, E, 2, 0)), l2 = u2 = 0;
                } else
                  r2.head && (r2.head.extra = null);
                r2.mode = 6;
              case 6:
                if (1024 & r2.flags && (o2 < (d = r2.length) && (d = o2), d && (r2.head && (k = r2.head.extra_len - r2.length, r2.head.extra || (r2.head.extra = new Array(r2.head.extra_len)), I.arraySet(r2.head.extra, n2, s2, d, k)), 512 & r2.flags && (r2.check = B(r2.check, n2, d, s2)), o2 -= d, s2 += d, r2.length -= d), r2.length))
                  break e;
                r2.length = 0, r2.mode = 7;
              case 7:
                if (2048 & r2.flags) {
                  if (o2 === 0)
                    break e;
                  for (d = 0; k = n2[s2 + d++], r2.head && k && r2.length < 65536 && (r2.head.name += String.fromCharCode(k)), k && d < o2; )
                    ;
                  if (512 & r2.flags && (r2.check = B(r2.check, n2, d, s2)), o2 -= d, s2 += d, k)
                    break e;
                } else
                  r2.head && (r2.head.name = null);
                r2.length = 0, r2.mode = 8;
              case 8:
                if (4096 & r2.flags) {
                  if (o2 === 0)
                    break e;
                  for (d = 0; k = n2[s2 + d++], r2.head && k && r2.length < 65536 && (r2.head.comment += String.fromCharCode(k)), k && d < o2; )
                    ;
                  if (512 & r2.flags && (r2.check = B(r2.check, n2, d, s2)), o2 -= d, s2 += d, k)
                    break e;
                } else
                  r2.head && (r2.head.comment = null);
                r2.mode = 9;
              case 9:
                if (512 & r2.flags) {
                  for (; l2 < 16; ) {
                    if (o2 === 0)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  if (u2 !== (65535 & r2.check)) {
                    e2.msg = "header crc mismatch", r2.mode = 30;
                    break;
                  }
                  l2 = u2 = 0;
                }
                r2.head && (r2.head.hcrc = r2.flags >> 9 & 1, r2.head.done = true), e2.adler = r2.check = 0, r2.mode = 12;
                break;
              case 10:
                for (; l2 < 32; ) {
                  if (o2 === 0)
                    break e;
                  o2--, u2 += n2[s2++] << l2, l2 += 8;
                }
                e2.adler = r2.check = L(u2), l2 = u2 = 0, r2.mode = 11;
              case 11:
                if (r2.havedict === 0)
                  return e2.next_out = a2, e2.avail_out = h2, e2.next_in = s2, e2.avail_in = o2, r2.hold = u2, r2.bits = l2, 2;
                e2.adler = r2.check = 1, r2.mode = 12;
              case 12:
                if (t2 === 5 || t2 === 6)
                  break e;
              case 13:
                if (r2.last) {
                  u2 >>>= 7 & l2, l2 -= 7 & l2, r2.mode = 27;
                  break;
                }
                for (; l2 < 3; ) {
                  if (o2 === 0)
                    break e;
                  o2--, u2 += n2[s2++] << l2, l2 += 8;
                }
                switch (r2.last = 1 & u2, l2 -= 1, 3 & (u2 >>>= 1)) {
                  case 0:
                    r2.mode = 14;
                    break;
                  case 1:
                    if (j(r2), r2.mode = 20, t2 !== 6)
                      break;
                    u2 >>>= 2, l2 -= 2;
                    break e;
                  case 2:
                    r2.mode = 17;
                    break;
                  case 3:
                    e2.msg = "invalid block type", r2.mode = 30;
                }
                u2 >>>= 2, l2 -= 2;
                break;
              case 14:
                for (u2 >>>= 7 & l2, l2 -= 7 & l2; l2 < 32; ) {
                  if (o2 === 0)
                    break e;
                  o2--, u2 += n2[s2++] << l2, l2 += 8;
                }
                if ((65535 & u2) != (u2 >>> 16 ^ 65535)) {
                  e2.msg = "invalid stored block lengths", r2.mode = 30;
                  break;
                }
                if (r2.length = 65535 & u2, l2 = u2 = 0, r2.mode = 15, t2 === 6)
                  break e;
              case 15:
                r2.mode = 16;
              case 16:
                if (d = r2.length) {
                  if (o2 < d && (d = o2), h2 < d && (d = h2), d === 0)
                    break e;
                  I.arraySet(i2, n2, s2, d, a2), o2 -= d, s2 += d, h2 -= d, a2 += d, r2.length -= d;
                  break;
                }
                r2.mode = 12;
                break;
              case 17:
                for (; l2 < 14; ) {
                  if (o2 === 0)
                    break e;
                  o2--, u2 += n2[s2++] << l2, l2 += 8;
                }
                if (r2.nlen = 257 + (31 & u2), u2 >>>= 5, l2 -= 5, r2.ndist = 1 + (31 & u2), u2 >>>= 5, l2 -= 5, r2.ncode = 4 + (15 & u2), u2 >>>= 4, l2 -= 4, 286 < r2.nlen || 30 < r2.ndist) {
                  e2.msg = "too many length or distance symbols", r2.mode = 30;
                  break;
                }
                r2.have = 0, r2.mode = 18;
              case 18:
                for (; r2.have < r2.ncode; ) {
                  for (; l2 < 3; ) {
                    if (o2 === 0)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  r2.lens[A[r2.have++]] = 7 & u2, u2 >>>= 3, l2 -= 3;
                }
                for (; r2.have < 19; )
                  r2.lens[A[r2.have++]] = 0;
                if (r2.lencode = r2.lendyn, r2.lenbits = 7, S = {bits: r2.lenbits}, x = T(0, r2.lens, 0, 19, r2.lencode, 0, r2.work, S), r2.lenbits = S.bits, x) {
                  e2.msg = "invalid code lengths set", r2.mode = 30;
                  break;
                }
                r2.have = 0, r2.mode = 19;
              case 19:
                for (; r2.have < r2.nlen + r2.ndist; ) {
                  for (; g = (C = r2.lencode[u2 & (1 << r2.lenbits) - 1]) >>> 16 & 255, b = 65535 & C, !((_ = C >>> 24) <= l2); ) {
                    if (o2 === 0)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  if (b < 16)
                    u2 >>>= _, l2 -= _, r2.lens[r2.have++] = b;
                  else {
                    if (b === 16) {
                      for (z = _ + 2; l2 < z; ) {
                        if (o2 === 0)
                          break e;
                        o2--, u2 += n2[s2++] << l2, l2 += 8;
                      }
                      if (u2 >>>= _, l2 -= _, r2.have === 0) {
                        e2.msg = "invalid bit length repeat", r2.mode = 30;
                        break;
                      }
                      k = r2.lens[r2.have - 1], d = 3 + (3 & u2), u2 >>>= 2, l2 -= 2;
                    } else if (b === 17) {
                      for (z = _ + 3; l2 < z; ) {
                        if (o2 === 0)
                          break e;
                        o2--, u2 += n2[s2++] << l2, l2 += 8;
                      }
                      l2 -= _, k = 0, d = 3 + (7 & (u2 >>>= _)), u2 >>>= 3, l2 -= 3;
                    } else {
                      for (z = _ + 7; l2 < z; ) {
                        if (o2 === 0)
                          break e;
                        o2--, u2 += n2[s2++] << l2, l2 += 8;
                      }
                      l2 -= _, k = 0, d = 11 + (127 & (u2 >>>= _)), u2 >>>= 7, l2 -= 7;
                    }
                    if (r2.have + d > r2.nlen + r2.ndist) {
                      e2.msg = "invalid bit length repeat", r2.mode = 30;
                      break;
                    }
                    for (; d--; )
                      r2.lens[r2.have++] = k;
                  }
                }
                if (r2.mode === 30)
                  break;
                if (r2.lens[256] === 0) {
                  e2.msg = "invalid code -- missing end-of-block", r2.mode = 30;
                  break;
                }
                if (r2.lenbits = 9, S = {bits: r2.lenbits}, x = T(D, r2.lens, 0, r2.nlen, r2.lencode, 0, r2.work, S), r2.lenbits = S.bits, x) {
                  e2.msg = "invalid literal/lengths set", r2.mode = 30;
                  break;
                }
                if (r2.distbits = 6, r2.distcode = r2.distdyn, S = {bits: r2.distbits}, x = T(F, r2.lens, r2.nlen, r2.ndist, r2.distcode, 0, r2.work, S), r2.distbits = S.bits, x) {
                  e2.msg = "invalid distances set", r2.mode = 30;
                  break;
                }
                if (r2.mode = 20, t2 === 6)
                  break e;
              case 20:
                r2.mode = 21;
              case 21:
                if (6 <= o2 && 258 <= h2) {
                  e2.next_out = a2, e2.avail_out = h2, e2.next_in = s2, e2.avail_in = o2, r2.hold = u2, r2.bits = l2, R(e2, c2), a2 = e2.next_out, i2 = e2.output, h2 = e2.avail_out, s2 = e2.next_in, n2 = e2.input, o2 = e2.avail_in, u2 = r2.hold, l2 = r2.bits, r2.mode === 12 && (r2.back = -1);
                  break;
                }
                for (r2.back = 0; g = (C = r2.lencode[u2 & (1 << r2.lenbits) - 1]) >>> 16 & 255, b = 65535 & C, !((_ = C >>> 24) <= l2); ) {
                  if (o2 === 0)
                    break e;
                  o2--, u2 += n2[s2++] << l2, l2 += 8;
                }
                if (g && (240 & g) == 0) {
                  for (v = _, y = g, w = b; g = (C = r2.lencode[w + ((u2 & (1 << v + y) - 1) >> v)]) >>> 16 & 255, b = 65535 & C, !(v + (_ = C >>> 24) <= l2); ) {
                    if (o2 === 0)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  u2 >>>= v, l2 -= v, r2.back += v;
                }
                if (u2 >>>= _, l2 -= _, r2.back += _, r2.length = b, g === 0) {
                  r2.mode = 26;
                  break;
                }
                if (32 & g) {
                  r2.back = -1, r2.mode = 12;
                  break;
                }
                if (64 & g) {
                  e2.msg = "invalid literal/length code", r2.mode = 30;
                  break;
                }
                r2.extra = 15 & g, r2.mode = 22;
              case 22:
                if (r2.extra) {
                  for (z = r2.extra; l2 < z; ) {
                    if (o2 === 0)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  r2.length += u2 & (1 << r2.extra) - 1, u2 >>>= r2.extra, l2 -= r2.extra, r2.back += r2.extra;
                }
                r2.was = r2.length, r2.mode = 23;
              case 23:
                for (; g = (C = r2.distcode[u2 & (1 << r2.distbits) - 1]) >>> 16 & 255, b = 65535 & C, !((_ = C >>> 24) <= l2); ) {
                  if (o2 === 0)
                    break e;
                  o2--, u2 += n2[s2++] << l2, l2 += 8;
                }
                if ((240 & g) == 0) {
                  for (v = _, y = g, w = b; g = (C = r2.distcode[w + ((u2 & (1 << v + y) - 1) >> v)]) >>> 16 & 255, b = 65535 & C, !(v + (_ = C >>> 24) <= l2); ) {
                    if (o2 === 0)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  u2 >>>= v, l2 -= v, r2.back += v;
                }
                if (u2 >>>= _, l2 -= _, r2.back += _, 64 & g) {
                  e2.msg = "invalid distance code", r2.mode = 30;
                  break;
                }
                r2.offset = b, r2.extra = 15 & g, r2.mode = 24;
              case 24:
                if (r2.extra) {
                  for (z = r2.extra; l2 < z; ) {
                    if (o2 === 0)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  r2.offset += u2 & (1 << r2.extra) - 1, u2 >>>= r2.extra, l2 -= r2.extra, r2.back += r2.extra;
                }
                if (r2.offset > r2.dmax) {
                  e2.msg = "invalid distance too far back", r2.mode = 30;
                  break;
                }
                r2.mode = 25;
              case 25:
                if (h2 === 0)
                  break e;
                if (d = c2 - h2, r2.offset > d) {
                  if ((d = r2.offset - d) > r2.whave && r2.sane) {
                    e2.msg = "invalid distance too far back", r2.mode = 30;
                    break;
                  }
                  p = d > r2.wnext ? (d -= r2.wnext, r2.wsize - d) : r2.wnext - d, d > r2.length && (d = r2.length), m = r2.window;
                } else
                  m = i2, p = a2 - r2.offset, d = r2.length;
                for (h2 < d && (d = h2), h2 -= d, r2.length -= d; i2[a2++] = m[p++], --d; )
                  ;
                r2.length === 0 && (r2.mode = 21);
                break;
              case 26:
                if (h2 === 0)
                  break e;
                i2[a2++] = r2.length, h2--, r2.mode = 21;
                break;
              case 27:
                if (r2.wrap) {
                  for (; l2 < 32; ) {
                    if (o2 === 0)
                      break e;
                    o2--, u2 |= n2[s2++] << l2, l2 += 8;
                  }
                  if (c2 -= h2, e2.total_out += c2, r2.total += c2, c2 && (e2.adler = r2.check = r2.flags ? B(r2.check, i2, c2, a2 - c2) : O(r2.check, i2, c2, a2 - c2)), c2 = h2, (r2.flags ? u2 : L(u2)) !== r2.check) {
                    e2.msg = "incorrect data check", r2.mode = 30;
                    break;
                  }
                  l2 = u2 = 0;
                }
                r2.mode = 28;
              case 28:
                if (r2.wrap && r2.flags) {
                  for (; l2 < 32; ) {
                    if (o2 === 0)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  if (u2 !== (4294967295 & r2.total)) {
                    e2.msg = "incorrect length check", r2.mode = 30;
                    break;
                  }
                  l2 = u2 = 0;
                }
                r2.mode = 29;
              case 29:
                x = 1;
                break e;
              case 30:
                x = -3;
                break e;
              case 31:
                return -4;
              case 32:
              default:
                return U;
            }
        return e2.next_out = a2, e2.avail_out = h2, e2.next_in = s2, e2.avail_in = o2, r2.hold = u2, r2.bits = l2, (r2.wsize || c2 !== e2.avail_out && r2.mode < 30 && (r2.mode < 27 || t2 !== 4)) && Z(e2, e2.output, e2.next_out, c2 - e2.avail_out) ? (r2.mode = 31, -4) : (f2 -= e2.avail_in, c2 -= e2.avail_out, e2.total_in += f2, e2.total_out += c2, r2.total += c2, r2.wrap && c2 && (e2.adler = r2.check = r2.flags ? B(r2.check, i2, c2, e2.next_out - c2) : O(r2.check, i2, c2, e2.next_out - c2)), e2.data_type = r2.bits + (r2.last ? 64 : 0) + (r2.mode === 12 ? 128 : 0) + (r2.mode === 20 || r2.mode === 15 ? 256 : 0), (f2 == 0 && c2 === 0 || t2 === 4) && x === N && (x = -5), x);
      }, r.inflateEnd = function(e2) {
        if (!e2 || !e2.state)
          return U;
        var t2 = e2.state;
        return t2.window && (t2.window = null), e2.state = null, N;
      }, r.inflateGetHeader = function(e2, t2) {
        var r2;
        return e2 && e2.state ? (2 & (r2 = e2.state).wrap) == 0 ? U : ((r2.head = t2).done = false, N) : U;
      }, r.inflateSetDictionary = function(e2, t2) {
        var r2, n2 = t2.length;
        return e2 && e2.state ? (r2 = e2.state).wrap !== 0 && r2.mode !== 11 ? U : r2.mode === 11 && O(1, t2, n2, 0) !== r2.check ? -3 : Z(e2, t2, n2, n2) ? (r2.mode = 31, -4) : (r2.havedict = 1, N) : U;
      }, r.inflateInfo = "pako inflate (from Nodeca project)";
    }, {"../utils/common": 41, "./adler32": 43, "./crc32": 45, "./inffast": 48, "./inftrees": 50}], 50: [function(e, t, r) {
      var D = e("../utils/common"), F = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0], N = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78], U = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0], P = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
      t.exports = function(e2, t2, r2, n, i, s, a, o) {
        var h, u, l, f, c, d, p, m, _, g = o.bits, b = 0, v = 0, y = 0, w = 0, k = 0, x = 0, S = 0, z = 0, C = 0, E = 0, A = null, I = 0, O = new D.Buf16(16), B = new D.Buf16(16), R = null, T = 0;
        for (b = 0; b <= 15; b++)
          O[b] = 0;
        for (v = 0; v < n; v++)
          O[t2[r2 + v]]++;
        for (k = g, w = 15; 1 <= w && O[w] === 0; w--)
          ;
        if (w < k && (k = w), w === 0)
          return i[s++] = 20971520, i[s++] = 20971520, o.bits = 1, 0;
        for (y = 1; y < w && O[y] === 0; y++)
          ;
        for (k < y && (k = y), b = z = 1; b <= 15; b++)
          if (z <<= 1, (z -= O[b]) < 0)
            return -1;
        if (0 < z && (e2 === 0 || w !== 1))
          return -1;
        for (B[1] = 0, b = 1; b < 15; b++)
          B[b + 1] = B[b] + O[b];
        for (v = 0; v < n; v++)
          t2[r2 + v] !== 0 && (a[B[t2[r2 + v]]++] = v);
        if (d = e2 === 0 ? (A = R = a, 19) : e2 === 1 ? (A = F, I -= 257, R = N, T -= 257, 256) : (A = U, R = P, -1), b = y, c = s, S = v = E = 0, l = -1, f = (C = 1 << (x = k)) - 1, e2 === 1 && 852 < C || e2 === 2 && 592 < C)
          return 1;
        for (; ; ) {
          for (p = b - S, _ = a[v] < d ? (m = 0, a[v]) : a[v] > d ? (m = R[T + a[v]], A[I + a[v]]) : (m = 96, 0), h = 1 << b - S, y = u = 1 << x; i[c + (E >> S) + (u -= h)] = p << 24 | m << 16 | _ | 0, u !== 0; )
            ;
          for (h = 1 << b - 1; E & h; )
            h >>= 1;
          if (h !== 0 ? (E &= h - 1, E += h) : E = 0, v++, --O[b] == 0) {
            if (b === w)
              break;
            b = t2[r2 + a[v]];
          }
          if (k < b && (E & f) !== l) {
            for (S === 0 && (S = k), c += y, z = 1 << (x = b - S); x + S < w && !((z -= O[x + S]) <= 0); )
              x++, z <<= 1;
            if (C += 1 << x, e2 === 1 && 852 < C || e2 === 2 && 592 < C)
              return 1;
            i[l = E & f] = k << 24 | x << 16 | c - s | 0;
          }
        }
        return E !== 0 && (i[c + E] = b - S << 24 | 64 << 16 | 0), o.bits = k, 0;
      };
    }, {"../utils/common": 41}], 51: [function(e, t, r) {
      t.exports = {2: "need dictionary", 1: "stream end", 0: "", "-1": "file error", "-2": "stream error", "-3": "data error", "-4": "insufficient memory", "-5": "buffer error", "-6": "incompatible version"};
    }, {}], 52: [function(e, t, r) {
      var i = e("../utils/common"), o = 0, h = 1;
      function n(e2) {
        for (var t2 = e2.length; 0 <= --t2; )
          e2[t2] = 0;
      }
      var s = 0, a = 29, u = 256, l = u + 1 + a, f = 30, c = 19, _ = 2 * l + 1, g = 15, d = 16, p = 7, m = 256, b = 16, v = 17, y = 18, w = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0], k = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13], x = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7], S = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15], z = new Array(2 * (l + 2));
      n(z);
      var C = new Array(2 * f);
      n(C);
      var E = new Array(512);
      n(E);
      var A = new Array(256);
      n(A);
      var I = new Array(a);
      n(I);
      var O, B, R, T = new Array(f);
      function D(e2, t2, r2, n2, i2) {
        this.static_tree = e2, this.extra_bits = t2, this.extra_base = r2, this.elems = n2, this.max_length = i2, this.has_stree = e2 && e2.length;
      }
      function F(e2, t2) {
        this.dyn_tree = e2, this.max_code = 0, this.stat_desc = t2;
      }
      function N(e2) {
        return e2 < 256 ? E[e2] : E[256 + (e2 >>> 7)];
      }
      function U(e2, t2) {
        e2.pending_buf[e2.pending++] = 255 & t2, e2.pending_buf[e2.pending++] = t2 >>> 8 & 255;
      }
      function P(e2, t2, r2) {
        e2.bi_valid > d - r2 ? (e2.bi_buf |= t2 << e2.bi_valid & 65535, U(e2, e2.bi_buf), e2.bi_buf = t2 >> d - e2.bi_valid, e2.bi_valid += r2 - d) : (e2.bi_buf |= t2 << e2.bi_valid & 65535, e2.bi_valid += r2);
      }
      function L(e2, t2, r2) {
        P(e2, r2[2 * t2], r2[2 * t2 + 1]);
      }
      function j(e2, t2) {
        for (var r2 = 0; r2 |= 1 & e2, e2 >>>= 1, r2 <<= 1, 0 < --t2; )
          ;
        return r2 >>> 1;
      }
      function Z(e2, t2, r2) {
        var n2, i2, s2 = new Array(g + 1), a2 = 0;
        for (n2 = 1; n2 <= g; n2++)
          s2[n2] = a2 = a2 + r2[n2 - 1] << 1;
        for (i2 = 0; i2 <= t2; i2++) {
          var o2 = e2[2 * i2 + 1];
          o2 !== 0 && (e2[2 * i2] = j(s2[o2]++, o2));
        }
      }
      function W(e2) {
        var t2;
        for (t2 = 0; t2 < l; t2++)
          e2.dyn_ltree[2 * t2] = 0;
        for (t2 = 0; t2 < f; t2++)
          e2.dyn_dtree[2 * t2] = 0;
        for (t2 = 0; t2 < c; t2++)
          e2.bl_tree[2 * t2] = 0;
        e2.dyn_ltree[2 * m] = 1, e2.opt_len = e2.static_len = 0, e2.last_lit = e2.matches = 0;
      }
      function M(e2) {
        8 < e2.bi_valid ? U(e2, e2.bi_buf) : 0 < e2.bi_valid && (e2.pending_buf[e2.pending++] = e2.bi_buf), e2.bi_buf = 0, e2.bi_valid = 0;
      }
      function H(e2, t2, r2, n2) {
        var i2 = 2 * t2, s2 = 2 * r2;
        return e2[i2] < e2[s2] || e2[i2] === e2[s2] && n2[t2] <= n2[r2];
      }
      function G(e2, t2, r2) {
        for (var n2 = e2.heap[r2], i2 = r2 << 1; i2 <= e2.heap_len && (i2 < e2.heap_len && H(t2, e2.heap[i2 + 1], e2.heap[i2], e2.depth) && i2++, !H(t2, n2, e2.heap[i2], e2.depth)); )
          e2.heap[r2] = e2.heap[i2], r2 = i2, i2 <<= 1;
        e2.heap[r2] = n2;
      }
      function K(e2, t2, r2) {
        var n2, i2, s2, a2, o2 = 0;
        if (e2.last_lit !== 0)
          for (; n2 = e2.pending_buf[e2.d_buf + 2 * o2] << 8 | e2.pending_buf[e2.d_buf + 2 * o2 + 1], i2 = e2.pending_buf[e2.l_buf + o2], o2++, n2 === 0 ? L(e2, i2, t2) : (L(e2, (s2 = A[i2]) + u + 1, t2), (a2 = w[s2]) !== 0 && P(e2, i2 -= I[s2], a2), L(e2, s2 = N(--n2), r2), (a2 = k[s2]) !== 0 && P(e2, n2 -= T[s2], a2)), o2 < e2.last_lit; )
            ;
        L(e2, m, t2);
      }
      function Y(e2, t2) {
        var r2, n2, i2, s2 = t2.dyn_tree, a2 = t2.stat_desc.static_tree, o2 = t2.stat_desc.has_stree, h2 = t2.stat_desc.elems, u2 = -1;
        for (e2.heap_len = 0, e2.heap_max = _, r2 = 0; r2 < h2; r2++)
          s2[2 * r2] !== 0 ? (e2.heap[++e2.heap_len] = u2 = r2, e2.depth[r2] = 0) : s2[2 * r2 + 1] = 0;
        for (; e2.heap_len < 2; )
          s2[2 * (i2 = e2.heap[++e2.heap_len] = u2 < 2 ? ++u2 : 0)] = 1, e2.depth[i2] = 0, e2.opt_len--, o2 && (e2.static_len -= a2[2 * i2 + 1]);
        for (t2.max_code = u2, r2 = e2.heap_len >> 1; 1 <= r2; r2--)
          G(e2, s2, r2);
        for (i2 = h2; r2 = e2.heap[1], e2.heap[1] = e2.heap[e2.heap_len--], G(e2, s2, 1), n2 = e2.heap[1], e2.heap[--e2.heap_max] = r2, e2.heap[--e2.heap_max] = n2, s2[2 * i2] = s2[2 * r2] + s2[2 * n2], e2.depth[i2] = (e2.depth[r2] >= e2.depth[n2] ? e2.depth[r2] : e2.depth[n2]) + 1, s2[2 * r2 + 1] = s2[2 * n2 + 1] = i2, e2.heap[1] = i2++, G(e2, s2, 1), 2 <= e2.heap_len; )
          ;
        e2.heap[--e2.heap_max] = e2.heap[1], function(e3, t3) {
          var r3, n3, i3, s3, a3, o3, h3 = t3.dyn_tree, u3 = t3.max_code, l2 = t3.stat_desc.static_tree, f2 = t3.stat_desc.has_stree, c2 = t3.stat_desc.extra_bits, d2 = t3.stat_desc.extra_base, p2 = t3.stat_desc.max_length, m2 = 0;
          for (s3 = 0; s3 <= g; s3++)
            e3.bl_count[s3] = 0;
          for (h3[2 * e3.heap[e3.heap_max] + 1] = 0, r3 = e3.heap_max + 1; r3 < _; r3++)
            p2 < (s3 = h3[2 * h3[2 * (n3 = e3.heap[r3]) + 1] + 1] + 1) && (s3 = p2, m2++), h3[2 * n3 + 1] = s3, u3 < n3 || (e3.bl_count[s3]++, a3 = 0, d2 <= n3 && (a3 = c2[n3 - d2]), o3 = h3[2 * n3], e3.opt_len += o3 * (s3 + a3), f2 && (e3.static_len += o3 * (l2[2 * n3 + 1] + a3)));
          if (m2 !== 0) {
            do {
              for (s3 = p2 - 1; e3.bl_count[s3] === 0; )
                s3--;
              e3.bl_count[s3]--, e3.bl_count[s3 + 1] += 2, e3.bl_count[p2]--, m2 -= 2;
            } while (0 < m2);
            for (s3 = p2; s3 !== 0; s3--)
              for (n3 = e3.bl_count[s3]; n3 !== 0; )
                u3 < (i3 = e3.heap[--r3]) || (h3[2 * i3 + 1] !== s3 && (e3.opt_len += (s3 - h3[2 * i3 + 1]) * h3[2 * i3], h3[2 * i3 + 1] = s3), n3--);
          }
        }(e2, t2), Z(s2, u2, e2.bl_count);
      }
      function X(e2, t2, r2) {
        var n2, i2, s2 = -1, a2 = t2[1], o2 = 0, h2 = 7, u2 = 4;
        for (a2 === 0 && (h2 = 138, u2 = 3), t2[2 * (r2 + 1) + 1] = 65535, n2 = 0; n2 <= r2; n2++)
          i2 = a2, a2 = t2[2 * (n2 + 1) + 1], ++o2 < h2 && i2 === a2 || (o2 < u2 ? e2.bl_tree[2 * i2] += o2 : i2 !== 0 ? (i2 !== s2 && e2.bl_tree[2 * i2]++, e2.bl_tree[2 * b]++) : o2 <= 10 ? e2.bl_tree[2 * v]++ : e2.bl_tree[2 * y]++, s2 = i2, u2 = (o2 = 0) === a2 ? (h2 = 138, 3) : i2 === a2 ? (h2 = 6, 3) : (h2 = 7, 4));
      }
      function V2(e2, t2, r2) {
        var n2, i2, s2 = -1, a2 = t2[1], o2 = 0, h2 = 7, u2 = 4;
        for (a2 === 0 && (h2 = 138, u2 = 3), n2 = 0; n2 <= r2; n2++)
          if (i2 = a2, a2 = t2[2 * (n2 + 1) + 1], !(++o2 < h2 && i2 === a2)) {
            if (o2 < u2)
              for (; L(e2, i2, e2.bl_tree), --o2 != 0; )
                ;
            else
              i2 !== 0 ? (i2 !== s2 && (L(e2, i2, e2.bl_tree), o2--), L(e2, b, e2.bl_tree), P(e2, o2 - 3, 2)) : o2 <= 10 ? (L(e2, v, e2.bl_tree), P(e2, o2 - 3, 3)) : (L(e2, y, e2.bl_tree), P(e2, o2 - 11, 7));
            s2 = i2, u2 = (o2 = 0) === a2 ? (h2 = 138, 3) : i2 === a2 ? (h2 = 6, 3) : (h2 = 7, 4);
          }
      }
      n(T);
      var q = false;
      function J(e2, t2, r2, n2) {
        P(e2, (s << 1) + (n2 ? 1 : 0), 3), function(e3, t3, r3, n3) {
          M(e3), n3 && (U(e3, r3), U(e3, ~r3)), i.arraySet(e3.pending_buf, e3.window, t3, r3, e3.pending), e3.pending += r3;
        }(e2, t2, r2, true);
      }
      r._tr_init = function(e2) {
        q || (function() {
          var e3, t2, r2, n2, i2, s2 = new Array(g + 1);
          for (n2 = r2 = 0; n2 < a - 1; n2++)
            for (I[n2] = r2, e3 = 0; e3 < 1 << w[n2]; e3++)
              A[r2++] = n2;
          for (A[r2 - 1] = n2, n2 = i2 = 0; n2 < 16; n2++)
            for (T[n2] = i2, e3 = 0; e3 < 1 << k[n2]; e3++)
              E[i2++] = n2;
          for (i2 >>= 7; n2 < f; n2++)
            for (T[n2] = i2 << 7, e3 = 0; e3 < 1 << k[n2] - 7; e3++)
              E[256 + i2++] = n2;
          for (t2 = 0; t2 <= g; t2++)
            s2[t2] = 0;
          for (e3 = 0; e3 <= 143; )
            z[2 * e3 + 1] = 8, e3++, s2[8]++;
          for (; e3 <= 255; )
            z[2 * e3 + 1] = 9, e3++, s2[9]++;
          for (; e3 <= 279; )
            z[2 * e3 + 1] = 7, e3++, s2[7]++;
          for (; e3 <= 287; )
            z[2 * e3 + 1] = 8, e3++, s2[8]++;
          for (Z(z, l + 1, s2), e3 = 0; e3 < f; e3++)
            C[2 * e3 + 1] = 5, C[2 * e3] = j(e3, 5);
          O = new D(z, w, u + 1, l, g), B = new D(C, k, 0, f, g), R = new D(new Array(0), x, 0, c, p);
        }(), q = true), e2.l_desc = new F(e2.dyn_ltree, O), e2.d_desc = new F(e2.dyn_dtree, B), e2.bl_desc = new F(e2.bl_tree, R), e2.bi_buf = 0, e2.bi_valid = 0, W(e2);
      }, r._tr_stored_block = J, r._tr_flush_block = function(e2, t2, r2, n2) {
        var i2, s2, a2 = 0;
        0 < e2.level ? (e2.strm.data_type === 2 && (e2.strm.data_type = function(e3) {
          var t3, r3 = 4093624447;
          for (t3 = 0; t3 <= 31; t3++, r3 >>>= 1)
            if (1 & r3 && e3.dyn_ltree[2 * t3] !== 0)
              return o;
          if (e3.dyn_ltree[18] !== 0 || e3.dyn_ltree[20] !== 0 || e3.dyn_ltree[26] !== 0)
            return h;
          for (t3 = 32; t3 < u; t3++)
            if (e3.dyn_ltree[2 * t3] !== 0)
              return h;
          return o;
        }(e2)), Y(e2, e2.l_desc), Y(e2, e2.d_desc), a2 = function(e3) {
          var t3;
          for (X(e3, e3.dyn_ltree, e3.l_desc.max_code), X(e3, e3.dyn_dtree, e3.d_desc.max_code), Y(e3, e3.bl_desc), t3 = c - 1; 3 <= t3 && e3.bl_tree[2 * S[t3] + 1] === 0; t3--)
            ;
          return e3.opt_len += 3 * (t3 + 1) + 5 + 5 + 4, t3;
        }(e2), i2 = e2.opt_len + 3 + 7 >>> 3, (s2 = e2.static_len + 3 + 7 >>> 3) <= i2 && (i2 = s2)) : i2 = s2 = r2 + 5, r2 + 4 <= i2 && t2 !== -1 ? J(e2, t2, r2, n2) : e2.strategy === 4 || s2 === i2 ? (P(e2, 2 + (n2 ? 1 : 0), 3), K(e2, z, C)) : (P(e2, 4 + (n2 ? 1 : 0), 3), function(e3, t3, r3, n3) {
          var i3;
          for (P(e3, t3 - 257, 5), P(e3, r3 - 1, 5), P(e3, n3 - 4, 4), i3 = 0; i3 < n3; i3++)
            P(e3, e3.bl_tree[2 * S[i3] + 1], 3);
          V2(e3, e3.dyn_ltree, t3 - 1), V2(e3, e3.dyn_dtree, r3 - 1);
        }(e2, e2.l_desc.max_code + 1, e2.d_desc.max_code + 1, a2 + 1), K(e2, e2.dyn_ltree, e2.dyn_dtree)), W(e2), n2 && M(e2);
      }, r._tr_tally = function(e2, t2, r2) {
        return e2.pending_buf[e2.d_buf + 2 * e2.last_lit] = t2 >>> 8 & 255, e2.pending_buf[e2.d_buf + 2 * e2.last_lit + 1] = 255 & t2, e2.pending_buf[e2.l_buf + e2.last_lit] = 255 & r2, e2.last_lit++, t2 === 0 ? e2.dyn_ltree[2 * r2]++ : (e2.matches++, t2--, e2.dyn_ltree[2 * (A[r2] + u + 1)]++, e2.dyn_dtree[2 * N(t2)]++), e2.last_lit === e2.lit_bufsize - 1;
      }, r._tr_align = function(e2) {
        P(e2, 2, 3), L(e2, m, z), function(e3) {
          e3.bi_valid === 16 ? (U(e3, e3.bi_buf), e3.bi_buf = 0, e3.bi_valid = 0) : 8 <= e3.bi_valid && (e3.pending_buf[e3.pending++] = 255 & e3.bi_buf, e3.bi_buf >>= 8, e3.bi_valid -= 8);
        }(e2);
      };
    }, {"../utils/common": 41}], 53: [function(e, t, r) {
      t.exports = function() {
        this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0;
      };
    }, {}], 54: [function(e, t, r) {
      (function(e2) {
        !function(r2, n) {
          if (!r2.setImmediate) {
            var i, s, t2, a, o = 1, h = {}, u = false, l = r2.document, e3 = Object.getPrototypeOf && Object.getPrototypeOf(r2);
            e3 = e3 && e3.setTimeout ? e3 : r2, i = {}.toString.call(r2.process) === "[object process]" ? function(e4) {
              process.nextTick(function() {
                c(e4);
              });
            } : function() {
              if (r2.postMessage && !r2.importScripts) {
                var e4 = true, t3 = r2.onmessage;
                return r2.onmessage = function() {
                  e4 = false;
                }, r2.postMessage("", "*"), r2.onmessage = t3, e4;
              }
            }() ? (a = "setImmediate$" + Math.random() + "$", r2.addEventListener ? r2.addEventListener("message", d, false) : r2.attachEvent("onmessage", d), function(e4) {
              r2.postMessage(a + e4, "*");
            }) : r2.MessageChannel ? ((t2 = new MessageChannel()).port1.onmessage = function(e4) {
              c(e4.data);
            }, function(e4) {
              t2.port2.postMessage(e4);
            }) : l && "onreadystatechange" in l.createElement("script") ? (s = l.documentElement, function(e4) {
              var t3 = l.createElement("script");
              t3.onreadystatechange = function() {
                c(e4), t3.onreadystatechange = null, s.removeChild(t3), t3 = null;
              }, s.appendChild(t3);
            }) : function(e4) {
              setTimeout(c, 0, e4);
            }, e3.setImmediate = function(e4) {
              typeof e4 != "function" && (e4 = new Function("" + e4));
              for (var t3 = new Array(arguments.length - 1), r3 = 0; r3 < t3.length; r3++)
                t3[r3] = arguments[r3 + 1];
              var n2 = {callback: e4, args: t3};
              return h[o] = n2, i(o), o++;
            }, e3.clearImmediate = f;
          }
          function f(e4) {
            delete h[e4];
          }
          function c(e4) {
            if (u)
              setTimeout(c, 0, e4);
            else {
              var t3 = h[e4];
              if (t3) {
                u = true;
                try {
                  !function(e5) {
                    var t4 = e5.callback, r3 = e5.args;
                    switch (r3.length) {
                      case 0:
                        t4();
                        break;
                      case 1:
                        t4(r3[0]);
                        break;
                      case 2:
                        t4(r3[0], r3[1]);
                        break;
                      case 3:
                        t4(r3[0], r3[1], r3[2]);
                        break;
                      default:
                        t4.apply(n, r3);
                    }
                  }(t3);
                } finally {
                  f(e4), u = false;
                }
              }
            }
          }
          function d(e4) {
            e4.source === r2 && typeof e4.data == "string" && e4.data.indexOf(a) === 0 && c(+e4.data.slice(a.length));
          }
        }(typeof self == "undefined" ? e2 === void 0 ? this : e2 : self);
      }).call(this, typeof commonjsGlobal != "undefined" ? commonjsGlobal : typeof self != "undefined" ? self : typeof window != "undefined" ? window : {});
    }, {}]}, {}, [10])(10);
  });
});
var jszip_default = jszip_min;

// build/utils.js
function assert(condition, message) {
  if (!condition) {
    throw new Error(message);
  }
}
function assume(condition, message) {
  if (!condition) {
    console.warn(message);
  }
  return condition;
}
function getCaseInsensitiveFile(zip, filePath) {
  var _a, _b;
  const normalized = filePath.replace(/[\/\\]/g, `[/\\\\]`);
  const files = zip.file(new RegExp(normalized, "i"));
  if (files && files.length > 1) {
    const requestName = filePath.split("/").pop().toLowerCase();
    for (let i = 0; i < files.length; i++) {
      const responseName = files[i].name.split("/").pop().toLowerCase();
      if (responseName == requestName) {
        return files[i];
      }
    }
    return (_a = zip.file(new RegExp(`^${normalized}$`, "i"))[0]) != null ? _a : null;
  }
  return (_b = files[0]) != null ? _b : null;
}
function num(str) {
  return str == null ? null : Number(str);
}
function px(size) {
  return `${size}px`;
}
function relative(size) {
  if (size === 0)
    return "100%";
  return `calc(100% + ${size}px)`;
}
function toBool(str) {
  str = str.toLowerCase();
  assume(str === "0" || str === "1" || str === "false" || str === "true", `Expected bool value to be "0" or "1", but it was "${str}".`);
  if (!isNaN(parseInt(str))) {
    return parseInt(str) > 0;
  }
  return str === "1" || str === "true";
}
var id = 0;
function getId() {
  return id++;
}
function ensureVmInt(num2) {
  return Math.floor(num2);
}
function clamp(num2, min, max) {
  return Math.max(min, Math.min(num2, max));
}
function circular(num2, min, max) {
  assert(min < max, "illegal circular parameter.");
  while (num2 < min) {
    num2 = max + num2;
  }
  while (num2 > max) {
    num2 = num2 - max;
  }
  assert(num2 >= min && num2 <= max, "stupid in math, boss?");
  return num2;
}
function normalizeDomId(id2) {
  return id2.replace(/[^a-zA-Z0-9]/g, "-");
}
function removeAllChildNodes(parent) {
  while (parent.firstChild) {
    parent.removeChild(parent.firstChild);
  }
}
function integerToTime(seconds) {
  const mins = Math.floor(seconds / 60);
  const secs = String(Math.abs(Math.floor(seconds % 60))).padStart(2, "0");
  return `${mins}:${secs}`;
}
function findLast(arr, predicate) {
  for (let i = arr.length - 1; i >= 0; i--) {
    const value = arr[i];
    if (predicate(value)) {
      return value;
    }
  }
}
function debounce(func, timeout) {
  let timer;
  return (...args) => {
    clearTimeout(timer);
    timer = setTimeout(() => {
      func(...args);
    }, timeout);
  };
}
var throttle = (fn, wait = 300) => {
  let inThrottle, lastFn, lastTime;
  return function() {
    const context = this, args = arguments;
    if (!inThrottle) {
      inThrottle = true;
      fn.apply(context, args);
      lastTime = Date.now();
    } else {
      clearTimeout(lastFn);
      lastFn = setTimeout(() => {
        if (Date.now() - lastTime >= wait) {
          fn.apply(context, args);
          lastTime = Date.now();
        }
      }, Math.max(wait - (Date.now() - lastTime), 0));
    }
  };
};
function unimplemented(value) {
  return value;
}
function hexToRgb(hex) {
  var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
  return {
    r: parseInt(result[1], 16),
    g: parseInt(result[2], 16),
    b: parseInt(result[3], 16)
  };
}
var Emitter = class {
  constructor() {
    this._cbs = {};
  }
  on(event, cb) {
    if (this._cbs[event] == null) {
      this._cbs[event] = [];
    }
    this._cbs[event].push(cb);
    return () => {
      this._cbs[event] = this._cbs[event].filter((c) => c !== cb);
    };
  }
  off(event, cb) {
    if (this._cbs[event] == null) {
      return;
    }
    const cbs = this._cbs[event];
    const index = cbs.indexOf(cb, 0);
    if (index > -1) {
      cbs.splice(index, 1);
    }
  }
  trigger(event, ...args) {
    const subscriptions = this._cbs[event];
    if (subscriptions == null) {
      return;
    }
    for (const cb of subscriptions) {
      cb(...args);
    }
  }
};

// build/skin/FileExtractor.js
var ZipFileExtractor = class {
  async prepare(skinPath, response) {
    const skinZipBlob = await response.blob();
    this._zip = await jszip_default.loadAsync(skinZipBlob);
  }
  async getFileAsString(filePath) {
    if (!filePath)
      return null;
    const zipObj = getCaseInsensitiveFile(this._zip, filePath);
    if (!zipObj)
      return null;
    return await zipObj.async("text");
  }
  async getFileAsBytes(filePath) {
    if (!filePath)
      return null;
    const zipObj = getCaseInsensitiveFile(this._zip, filePath);
    if (!zipObj)
      return null;
    return await zipObj.async("arraybuffer");
  }
  async getFileAsBlob(filePath) {
    if (!filePath)
      return null;
    const zipObj = getCaseInsensitiveFile(this._zip, filePath);
    if (!zipObj)
      return null;
    return await zipObj.async("blob");
  }
};
var PathFileExtractor = class {
  async prepare(skinPath, response) {
    if (!skinPath.endsWith("/"))
      skinPath += "/";
    this._skinDir = skinPath;
  }
  async getFileAsString(filePath) {
    const response = await fetch(this._skinDir + filePath);
    return await response.text();
  }
  async getFileAsBytes(filePath) {
    const response = await fetch(this._skinDir + filePath);
    return await response.arrayBuffer();
  }
  async getFileAsBlob(filePath) {
    const response = await fetch(this._skinDir + filePath);
    return await response.blob();
  }
};

// build/maki/objectData/stdPatched.js
import std from "./maki/objectData/std.json" with { type: "json" };
var NAME_TO_DEF = {};
Object.values(std).forEach((value) => {
  NAME_TO_DEF[value.name] = value;
});
function getMethod(className, methodName) {
  return NAME_TO_DEF[className].functions.find(({name}) => {
    return name === methodName;
  });
}
getMethod("Timer", "isRunning").result = "boolean";
getMethod("ToggleButton", "onToggle").parameters[0][1] = "onoff";
getMethod("GuiTree", "onChar").parameters[0][0] = "string";
getMethod("GuiList", "onSetVisible").parameters[0][0] = "boolean";
getMethod("Wac", "onNotify").parameters = getMethod("Object", "onNotify").parameters;
getMethod("Wac", "onNotify").result = "int";
var stdPatched_default = std;

// build/maki/objects.js
import pldir from "./maki/objectData/pldir.json" with { type: "json" };
import config2 from "./maki/objectData/config.json" with { type: "json" };
import winampconfig from "./maki/objectData/winampconfig.json" with { type: "json" };
import application from "./maki/objectData/application.json" with { type: "json" };
import fileio from "./maki/objectData/fileio.json" with { type: "json" };
var objects = {
  ...stdPatched_default,
  ...pldir,
  ...config2,
  ...winampconfig,
  ...application,
  ...fileio
};
function getClass(id2) {
  return normalizedObjects[getFormattedId(id2)];
}
function getMethod2(classId, methodName) {
  const klass = getClass(classId);
  assert(klass != null, `Could not find class matching id: ${classId}`);
  return getObjectFunction(klass, methodName);
}
var normalizedObjects = {};
Object.keys(objects).forEach((key) => {
  normalizedObjects[key.toLowerCase()] = objects[key];
});
var objectsByName = {};
Object.values(objects).forEach((object) => {
  objectsByName[object.name] = object;
});
Object.values(normalizedObjects).forEach((object) => {
  const parentClass = objectsByName[object.parent];
  if (parentClass == null) {
    if (object.parent === "@{00000000-0000-0000-0000-000000000000}@") {
    } else {
      throw new Error(`Could not find parent class named ${object.parent}`);
    }
  }
  object.parentClass = parentClass;
});
function getFormattedId(id2) {
  const formattedId = id2.replace(/(........)(....)(....)(..)(..)(..)(..)(..)(..)(..)(..)/, "$1$3$2$7$6$5$4$11$10$9$8");
  return formattedId.toLowerCase();
}
function getObjectFunction(klass, functionName) {
  const lowerName = functionName.toLowerCase();
  const method = klass.functions.find((func) => {
    return func.name.toLowerCase() === lowerName;
  });
  if (method != null) {
    return method;
  }
  if (klass.parentClass == null) {
    throw new Error(`Could not find method ${functionName} on ${klass.name}.`);
  }
  return getObjectFunction(klass.parentClass, functionName);
}

// build/skin/makiClasses/BaseObject.js
var BaseObject = class {
  getclassname() {
    return this.constructor.name;
  }
  getid() {
    return this.getId();
  }
  getId() {
    return this._id;
  }
  dispose() {
  }
};
var BaseObject_default = BaseObject;
BaseObject.GUID = "516549714a510d87b5a6e391e7f33532";

// build/maki/v.js
var V = {
  newInt(value) {
    return {type: "INT", value: Number(value)};
  },
  newBool(value) {
    return {type: "BOOLEAN", value: value ? 1 : 0};
  }
};

// build/skin/AudioPlayer.js
var BANDS = [60, 170, 310, 600, 1e3, 3e3, 6e3, 12e3, 14e3, 16e3];
var AUDIO_PAUSED = "paused";
var AUDIO_STOPPED = "stopped";
var AUDIO_PLAYING = "playing";
var AudioPlayer = class {
  constructor() {
    this._audio = document.createElement("audio");
    this._bands = [];
    this._balance = 0;
    this._eqEnabled = true;
    this._eqValues = {};
    this._eqNodes = {};
    this._eqEmitter = new Emitter();
    this._isStop = true;
    this._albumArtUrl = null;
    this._timeRemaining = false;
    this._eventListener = new Emitter();
    this._vuMeter = 0;
    this._last_itime = 0;
    this._context = this._context = new (window.AudioContext || window.webkitAudioContext)();
    if (this._context.state === "suspended") {
      const resume = async () => {
        await this._context.resume();
        if (this._context.state === "running") {
          document.body.removeEventListener("touchend", resume, false);
          document.body.removeEventListener("click", resume, false);
          document.body.removeEventListener("keydown", resume, false);
        }
      };
      document.body.addEventListener("touchend", resume, false);
      document.body.addEventListener("click", resume, false);
      document.body.addEventListener("keydown", resume, false);
    }
    this._source = this._context.createMediaElementSource(this._audio);
    this.__preamp = this._context.createGain();
    this._volumeNode = this._context.createGain();
    this._analyser = this._context.createAnalyser();
    this._analyser.fftSize = 1024;
    this._analyser.smoothingTimeConstant = 0;
    this._balanceNode = new StereoPannerNode(this._context, {pan: 0});
    const connectionNodes = [
      this._source,
      this.__preamp
    ];
    const analyserNode = this._analyser;
    const pcmData = new Float32Array(analyserNode.fftSize);
    const onFrame = () => {
      analyserNode.getFloatTimeDomainData(pcmData);
      let sumSquares = 0;
      for (let i = 0; i < pcmData.length; i++) {
        const amplitude = pcmData[i];
        sumSquares += amplitude * amplitude;
      }
      this._vuMeter = Math.sqrt(sumSquares / pcmData.length);
      window.requestAnimationFrame(onFrame);
    };
    window.requestAnimationFrame(onFrame);
    BANDS.forEach((band, i) => {
      const filter = this._context.createBiquadFilter();
      this._bands.push(filter);
      if (i === 0) {
        filter.type = "lowshelf";
      } else if (i === BANDS.length - 1) {
        filter.type = "highshelf";
      } else {
        filter.type = "peaking";
      }
      filter.frequency.value = band;
      filter.gain.value = 0;
      connectionNodes.push(filter);
    });
    connectionNodes.push(this._balanceNode);
    connectionNodes.push(this._volumeNode);
    connectionNodes.push(this._context.destination);
    let current = connectionNodes[0];
    for (let i = 1; i < connectionNodes.length; i++) {
      let next = connectionNodes[i];
      current.connect(next);
      current = next;
    }
    this._balanceNode.connect(this._analyser);
    this._audio.addEventListener("ended", () => this.stop());
    this._audio.addEventListener("timeupdate", () => this.doTimeUpdate());
  }
  doTimeUpdate() {
    const i = this._audio.currentTime << 0;
    if (i != this._last_itime) {
      this._last_itime = i;
      this.trigger("timeupdate");
    }
  }
  setEqEnabled(enable) {
    this._eqEnabled = enable;
    this._source.disconnect();
    if (enable) {
      this._source.connect(this.__preamp);
    } else {
      this._source.connect(this._balanceNode);
    }
  }
  getEqEnabled() {
    return this._eqEnabled;
  }
  getAnalyser() {
    return this._analyser;
  }
  on(event, callback) {
    return this._eventListener.on(event, callback);
  }
  trigger(event, ...args) {
    this._eventListener.trigger(event, ...args);
  }
  off(event, callback) {
    this._eventListener.off(event, callback);
  }
  setAudioSource(url) {
    this._audio.src = url;
  }
  getVolume() {
    return this._volumeNode.gain.value;
  }
  setVolume(volume) {
    if (volume != this._volumeNode.gain.value) {
      this._volumeNode.gain.value = volume;
      this.trigger("volumechanged");
    }
  }
  getBalance() {
    return this._balance;
  }
  setBalance(balance) {
    this._balanceNode.pan.value = balance;
    this._balance = balance;
    this.trigger("balancechange");
  }
  getPlaybackRate() {
    return this._audio.playbackRate;
  }
  setPlaybackRate(value) {
    this._audio.playbackRate = clamp(value, 0.5, 4);
    this.trigger("playbackratechange");
  }
  play() {
    this._isStop = false;
    this.trigger("timeupdate");
    this._audio.play();
    this.trigger("play");
    this.trigger("statchanged");
  }
  stop() {
    this._isStop = true;
    if (this._audio.paused) {
      this._audio.play();
    }
    this._audio.pause();
    this._audio.currentTime = 0;
    this.trigger("stop");
    this.trigger("statchanged");
  }
  pause() {
    this._isStop = false;
    this._audio.pause();
    this.trigger("pause");
    this.trigger("statchanged");
  }
  seekTo(secs) {
    this._audio.currentTime = secs;
  }
  seekToPercent(percent) {
    this._audio.currentTime = this._audio.duration * percent;
  }
  toggleRemainingTime() {
    this._timeRemaining = !this._timeRemaining;
  }
  getCurrentTime() {
    return this._timeRemaining ? this._audio.currentTime - this._audio.duration : this._audio.currentTime;
  }
  getCurrentTimePercent() {
    return this._audio.currentTime / this._audio.duration;
  }
  getState() {
    if (this._isStop) {
      return AUDIO_STOPPED;
    }
    const audio = this._audio;
    if (!audio.ended && !audio.paused) {
      return AUDIO_PLAYING;
    } else if (audio.ended) {
      return AUDIO_STOPPED;
    } else if (audio.paused) {
      return AUDIO_PAUSED;
    }
  }
  getEq(kind) {
    switch (kind) {
      case "preamp":
        const a = this.__preamp.gain.value;
        const c = Math.log(a) / Math.log(10);
        const n = c * 20;
        return (n + 12) / 24;
      case "1":
      case "2":
      case "3":
      case "4":
      case "5":
      case "6":
      case "7":
      case "8":
      case "9":
      case "10":
        const bandIndex = Number(kind) - 1;
        const filter = this._bands[bandIndex];
        const value = (filter.gain.value + 12) / 24;
        return value;
      default:
        console.warn(`Tried to get unknown EQ kind: ${kind}`);
        return 0;
    }
  }
  setEq(kind, value) {
    const db = value * 24 - 12;
    switch (kind) {
      case "preamp": {
        this.__preamp.gain.value = Math.pow(10, db / 20);
        this._eqValues[kind] = db;
        this._eqEmitter.trigger(kind);
        break;
      }
      case "1":
      case "2":
      case "3":
      case "4":
      case "5":
      case "6":
      case "7":
      case "8":
      case "9":
      case "10":
        const bandIndex = Number(kind) - 1;
        const filter = this._bands[bandIndex];
        filter.gain.value = db;
        this._eqEmitter.trigger(kind);
        break;
      default:
        console.warn(`Tried to set unknown EQ kind: ${kind}`);
    }
  }
  onEqChange(kind, cb) {
    switch (kind) {
      case "preamp":
      case "1":
      case "2":
      case "3":
      case "4":
      case "5":
      case "6":
      case "7":
      case "8":
      case "9":
      case "10":
        return this._eqEmitter.on(kind, cb);
      default:
        console.warn(`Tried to bind to an unknown EQ kind: ${kind}`);
    }
  }
  onCurrentTimeChange(cb) {
    return this.on("timeupdate", cb);
  }
  onSeek(cb) {
    const handler = () => cb();
    this._audio.addEventListener("seeked", handler);
    const dispose = () => {
      this._audio.removeEventListener("seeked", handler);
    };
    return dispose;
  }
  onVolumeChanged(cb) {
    return this.on("volumechanged", cb);
  }
  onBalanceChanged(cb) {
    const handler = () => cb();
    const dispose = this.on("balancechange", handler);
    return dispose;
  }
  getLength() {
    return this._audio.duration;
  }
};
var AUDIO_PLAYER = new AudioPlayer();
var AudioPlayer_default = AUDIO_PLAYER;

// build/skin/XmlObj.js
var XmlObj = class extends BaseObject_default {
  setXmlAttributes(attributes) {
    for (const [key, value] of Object.entries(attributes)) {
      this.setXmlAttr(key, value);
    }
  }
  setXmlAttr(_key, _value) {
    return false;
  }
  setxmlparam(key, value) {
    this.setXmlAttr(key, value);
  }
};
var XmlObj_default = XmlObj;

// build/skin/makiClasses/GuiObj.js
var BRING_LEAST = -1;
var BRING_MOST_TOP = 1;
var globalMouseDown = [];
var installGlobalMouseDown = (f) => {
  if (!globalMouseDown.includes(f)) {
    globalMouseDown.push(f);
  }
};
var uninstallGlobalMouseDown = (f) => {
  const index = globalMouseDown.indexOf(f);
  if (index != -1) {
    globalMouseDown.splice(index, 1);
  }
};
var GuiObj = class extends XmlObj_default {
  constructor(uiRoot) {
    super();
    this._children = [];
    this._w = 0;
    this._h = 0;
    this._x = 0;
    this._y = 0;
    this._minimumHeight = 0;
    this._maximumHeight = 0;
    this._minimumWidth = 0;
    this._maximumWidth = 0;
    this._relatw = "0";
    this._relath = "0";
    this._visible = true;
    this._alpha = 255;
    this._ghost = false;
    this._sysregion = 0;
    this._tooltip = "";
    this._targetX = null;
    this._targetY = null;
    this._targetWidth = null;
    this._targetHeight = null;
    this._targetAlpha = null;
    this._targetSpeed = null;
    this._goingToTarget = false;
    this._backgroundBitmap = null;
    this._metaCommands = [];
    this.__cfgAttribChanged = () => {
      const newValue = this._configAttrib.getdata();
      this._cfgAttribChanged(newValue);
    };
    this._uiRoot = uiRoot;
    this._div = document.createElement(this.getElTag().toLowerCase().replace("_", ""));
  }
  getElTag() {
    return this.constructor.name;
  }
  setParent(group) {
    this._parent = group;
  }
  setXmlAttr(_key, value) {
    var _a, _b;
    const key = _key.toLowerCase();
    switch (key) {
      case "id":
        this._originalId = value;
        this._id = value.toLowerCase();
        break;
      case "name":
        this._name = value;
        break;
      case "autowidthsource":
        this._autowidthsource = value.toLowerCase();
        break;
      case "fitparent":
        this._relatw = "1";
        this._relath = "1";
        this._renderWidth();
        this._renderHeight();
        break;
      case "w":
      case "default_w":
        this._w = num(value);
        this._renderWidth();
        break;
      case "h":
      case "default_h":
        this._h = num(value);
        this._renderHeight();
        break;
      case "x":
      case "default_x":
        this._x = (_a = num(value)) != null ? _a : 0;
        this._renderX();
        break;
      case "y":
      case "default_y":
        this._y = (_b = num(value)) != null ? _b : 0;
        this._renderY();
        break;
      case "minimum_h":
        this._minimumHeight = num(value);
        break;
      case "minimum_w":
        this._minimumWidth = num(value);
        break;
      case "maximum_h":
        this._maximumHeight = num(value);
        break;
      case "maximum_w":
        this._maximumWidth = num(value);
        break;
      case "relatw":
        this._relatw = value;
        this._renderWidth();
        break;
      case "relath":
        this._relath = value;
        this._renderHeight();
        break;
      case "relatx":
        this._relatx = value;
        this._renderX();
        break;
      case "relaty":
        this._relaty = value;
        this._renderY();
        break;
      case "droptarget":
        this._droptarget = value;
        break;
      case "dblclickaction":
        const [action, param, actionTarget] = value.split(";");
        this._div.addEventListener("dblclick", (e) => {
          this.dispatchAction(action, param, actionTarget);
        });
        break;
      case "ghost":
        this._ghost = toBool(value);
        break;
      case "visible":
        this._visible = toBool(value);
        this._renderVisibility();
        break;
      case "activealpha":
      case "inactivealpha":
        this._div.setAttribute(key, value);
        break;
      case "tooltip":
        this._tooltip = value;
        break;
      case "alpha":
        this.setalpha(num(value));
      case "sysregion":
        this._sysregion = num(value);
        break;
      case "cfgattrib":
        this._setConfigAttrib(value);
        break;
      default:
        return false;
    }
    return true;
  }
  setxmlparam(key, value) {
    this.setXmlAttr(key, value);
  }
  _setConfigAttrib(cfgattrib) {
    const [guid, attrib] = cfgattrib.split(";");
    const configItem = this._uiRoot.CONFIG.getitem(guid);
    this._configAttrib = configItem.getattribute(attrib);
    this._configAttrib.on("datachanged", this.__cfgAttribChanged.bind(this));
  }
  _cfgAttribChanged(newValue) {
  }
  updateCfgAttib(newValue) {
    if (this._configAttrib != null) {
      this._configAttrib.setdata(newValue);
    }
  }
  setSize(newWidth, newHeight) {
  }
  init() {
    for (const node of this._metaCommands) {
      const cmd = node.name.toLowerCase();
      const el = node.attributes.group ? this.findobject(node.attributes.group) : this;
      const targets_ids = node.attributes.target.split(";");
      for (const target_id of targets_ids) {
        const gui = el.findobjectF(target_id, `<${cmd}(${target_id})=notfound. @${this.getId()}`);
        if (gui == null) {
          continue;
        }
        if (cmd == "sendparams") {
          for (let attribute in node.attributes) {
            if (gui && attribute != "target") {
              gui.setxmlparam(attribute, node.attributes[attribute]);
            }
          }
        } else if (cmd == "hideobject" && target_id != "close") {
          gui.hide();
        }
      }
    }
    if (this._configAttrib) {
      this._cfgAttribChanged(this._configAttrib.getdata());
    }
    this._div.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      console.log("mouse-down!");
      this.onLeftButtonDown(e.offsetX + this.getleft(), e.offsetY + this.gettop());
      const mouseUpHandler = (e2) => {
        console.log("mouse-up!");
        this.onLeftButtonUp(e2.offsetX + this.getleft(), e2.offsetY + this.gettop());
        this._div.removeEventListener("mouseup", mouseUpHandler);
      };
      this._div.addEventListener("mouseup", mouseUpHandler);
    });
    this._div.addEventListener("mouseenter", (e) => {
      this.onEnterArea();
    });
    this._div.addEventListener("mouseleave", (e) => {
      this.onLeaveArea();
    });
  }
  dispose() {
  }
  getDiv() {
    return this._div;
  }
  getId() {
    return this._id || "";
  }
  getOriginalId() {
    return this._originalId;
  }
  show() {
    this._visible = true;
    this._renderVisibility();
    this.onsetvisible(true);
  }
  hide() {
    this._visible = false;
    this._renderVisibility();
    this.onsetvisible(true);
  }
  isvisible() {
    return this._visible;
  }
  get visible() {
    return this._visible;
  }
  set visible(showing) {
    if (showing) {
      this.show();
    } else {
      this.hide();
    }
  }
  gettop() {
    return this._y;
  }
  getleft() {
    return this._x;
  }
  getheight() {
    if (this._h || this._minimumHeight || this._maximumHeight) {
      let h = Math.max(this._h || 0, this._minimumHeight);
      h = Math.min(h, this._maximumHeight || h);
      return h;
    }
    return this._h;
  }
  get height() {
    return this.getheight();
  }
  set height(value) {
    this._h = value;
    this._renderDimensions();
  }
  getwidth() {
    if (this._w || this._minimumWidth || this._maximumWidth) {
      let w = Math.max(this._w || 0, this._minimumWidth);
      if (this._maximumHeight) {
        w = Math.min(w, this._maximumWidth || w);
      }
      return w;
    }
    return this._w;
  }
  get width() {
    return this.getwidth();
  }
  set width(value) {
    this._w = value;
    this._renderDimensions();
  }
  resize(x, y, w, h) {
    this._x = x;
    this._y = y;
    this._w = w;
    this._h = h;
    this._renderDimensions();
  }
  getxmlparam(param) {
    param = param.toLowerCase();
    const _ = this["_" + param];
    return _ != null ? _.toString() : null;
  }
  getguiw() {
    return this._w;
  }
  getguih() {
    return this._h;
  }
  getguix() {
    return this._x;
  }
  getguiy() {
    return this._y;
  }
  getguirelatw() {
    return this._relatw == "1" ? 1 : 0;
  }
  getguirelath() {
    return this._relath == "1" ? 1 : 0;
  }
  getguirelatx() {
    return this._relatx == "1" ? 1 : 0;
  }
  getguirelaty() {
    return this._relaty == "1" ? 1 : 0;
  }
  getautowidth() {
    const child = !this._autowidthsource ? this : findLast(this._children, (c) => c._id.toLowerCase() == this._autowidthsource);
    if (child) {
      return child._div.getBoundingClientRect().width;
    }
    return 1;
  }
  getautoheight() {
    return this._div.getBoundingClientRect().height;
  }
  findobject(id2) {
    if (id2.toLowerCase() == this.getId().toLowerCase())
      return this;
    let ret = this._findobject(id2);
    if (!ret) {
      const layout = this.getparentlayout();
      if (layout) {
        ret = layout._findobject(id2);
      }
    }
    if (!ret && id2 != "sysmenu") {
      console.warn(`findObject(${id2}) failed, @${this.getId()}`);
    }
    return ret;
  }
  findobjectF(id2, msg) {
    const ret = this._findobject(id2);
    const warnMissingObject = false;
    if (warnMissingObject && !ret && id2 != "sysmenu") {
      console.warn(msg);
    }
    return ret;
  }
  _findobject(id2) {
    const lower = id2.toLowerCase();
    for (const obj of this._children) {
      if ((obj.getId() || "").toLowerCase() === lower) {
        return obj;
      }
    }
    for (const obj of this._children) {
      const found = obj._findobject(id2);
      if (found != null) {
        return found;
      }
    }
    return null;
  }
  isActive() {
    return this._div.matches(":focus");
  }
  setregion(reg) {
  }
  ismouseoverrect() {
    return unimplemented(true);
  }
  onresize(x, y, w, h) {
    this._uiRoot.vm.dispatch(this, "onresize", [
      {type: "INT", value: x},
      {type: "INT", value: y},
      {type: "INT", value: this.getwidth()},
      {type: "INT", value: this.getheight()}
    ]);
  }
  onLeftButtonUp(x, y) {
    this._uiRoot.vm.dispatch(this, "onleftbuttonup", [
      {type: "INT", value: x},
      {type: "INT", value: y}
    ]);
  }
  onLeftButtonDown(x, y) {
    assert(x >= this.getleft(), `Expected click to be to the right of the component's left. x:${x} left:${this.getleft()}`);
    assert(y >= this.gettop(), `Expected click to be below the component's top. y:${y} top:${this.gettop()}`);
    this.getparentlayout().bringtofront();
    this._uiRoot.vm.dispatch(this, "onleftbuttondown", [
      {type: "INT", value: x},
      {type: "INT", value: y}
    ]);
  }
  onRightButtonUp(x, y) {
    this._uiRoot.vm.dispatch(this, "onrightbuttonup", [
      {type: "INT", value: x},
      {type: "INT", value: y}
    ]);
  }
  onRightButtonDown(x, y) {
    this._uiRoot.vm.dispatch(this, "onrightbuttondown", [
      {type: "INT", value: x},
      {type: "INT", value: y}
    ]);
  }
  onEnterArea() {
    this._uiRoot.vm.dispatch(this, "onenterarea");
  }
  onLeaveArea() {
    this._uiRoot.vm.dispatch(this, "onleavearea");
  }
  settargetx(x) {
    this._targetX = x;
  }
  settargety(y) {
    this._targetY = y;
  }
  settargetw(w) {
    this._targetWidth = w;
  }
  settargeth(h) {
    this._targetHeight = h;
  }
  settargeta(alpha) {
    this._targetAlpha = alpha;
  }
  settargetspeed(insecond) {
    this._targetSpeed = insecond;
  }
  gototarget() {
    this._goingToTarget = true;
    const duration = this._targetSpeed * 1e3;
    const startTime2 = performance.now();
    const pairs = [
      ["_x", "_targetX", "_renderX"],
      ["_y", "_targetY", "_renderY"],
      ["_w", "_targetWidth", "_renderWidth"],
      ["_h", "_targetHeight", "_renderHeight"],
      ["_alpha", "_targetAlpha", "_renderAlpha"]
    ];
    const changes = {};
    for (const [key, targetKey, renderKey] of pairs) {
      const target = this[targetKey];
      if (target != null) {
        const start = this[key];
        const positive = target > start;
        const delta = target - start;
        changes[key] = {start, delta, renderKey, target, positive};
      }
    }
    const clamp2 = (current, target, positive) => {
      if (positive) {
        return Math.min(current, target);
      } else {
        return Math.max(current, target);
      }
    };
    const update = (time) => {
      const timeDiff = time - startTime2;
      const progress = timeDiff / duration;
      for (const [
        key,
        {start, delta, renderKey, target, positive}
      ] of Object.entries(changes)) {
        this[key] = clamp2(start + delta * progress, target, positive);
        this[renderKey]();
      }
      if (timeDiff < duration && this._goingToTarget) {
        window.requestAnimationFrame(update);
      } else {
        this._goingToTarget = false;
        this.ontargetreached();
      }
    };
    window.requestAnimationFrame(update);
  }
  isgoingtotarget() {
    return this._goingToTarget;
  }
  __gototargetWebAnimationApi() {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i;
    const duration = this._targetSpeed * 1e3;
    const start = {
      left: px((_a = this._x) != null ? _a : 0),
      top: px((_b = this._y) != null ? _b : 0),
      width: px(this._w),
      height: px(this._h),
      opacity: this._alpha / 255
    };
    const end = {
      left: px((_d = (_c = this._targetX) != null ? _c : this._x) != null ? _d : 0),
      top: px((_f = (_e = this._targetY) != null ? _e : this._y) != null ? _f : 0),
      width: px((_g = this._targetWidth) != null ? _g : this._w),
      height: px((_h = this._targetHeight) != null ? _h : this._h),
      opacity: ((_i = this._targetAlpha) != null ? _i : this._alpha) / 255
    };
    const frames = [start, end];
    const animation = this._div.animate(frames, {duration});
    animation.addEventListener("finish", () => {
      var _a2, _b2, _c2, _d2, _e2;
      this._x = (_a2 = this._targetX) != null ? _a2 : this._x;
      this._y = (_b2 = this._targetY) != null ? _b2 : this._y;
      this._w = (_c2 = this._targetWidth) != null ? _c2 : this._w;
      this._h = (_d2 = this._targetHeight) != null ? _d2 : this._h;
      this._alpha = (_e2 = this._targetAlpha) != null ? _e2 : this._alpha;
      this._renderDimensions();
      this._renderAlpha();
      this._uiRoot.vm.dispatch(this, "ontargetreached");
    });
  }
  ontargetreached() {
    this._uiRoot.vm.dispatch(this, "ontargetreached");
  }
  canceltarget() {
    this._goingToTarget = true;
  }
  reversetarget(reverse) {
    assume(false, "Unimplemented: reverseTarget");
  }
  onsetvisible(onoff) {
    this._uiRoot.vm.dispatch(this, "onsetvisible", [
      {type: "BOOLEAN", value: onoff ? 1 : 0}
    ]);
  }
  onstartup() {
    this._uiRoot.vm.dispatch(this, "onstartup");
  }
  setalpha(alpha) {
    this._alpha = alpha;
    this._renderAlpha();
  }
  getalpha() {
    return this._alpha;
  }
  clienttoscreenx(x) {
    const element = this.getDiv();
    const position = element.getBoundingClientRect();
    return window.screenX + position.left + x;
  }
  clienttoscreeny(y) {
    const element = this.getDiv();
    const position = element.getBoundingClientRect();
    return window.screenX + position.top + y;
  }
  clienttoscreenw(w) {
    return unimplemented(this.clienttoscreenx(w));
  }
  clienttoscreenh(h) {
    return unimplemented(this.clienttoscreeny(h));
  }
  screentoclientx(x) {
    const element = this.getDiv();
    const position = element.getBoundingClientRect();
    return x - (window.screenX + position.left);
  }
  screentoclienty(y) {
    const element = this.getDiv();
    const position = element.getBoundingClientRect();
    return y - (window.screenX + position.top);
  }
  screentoclientw(w) {
    return unimplemented(this.screentoclienty(w));
  }
  screentoclienth(h) {
    return unimplemented(this.screentoclienty(h));
  }
  getparent() {
    return this._parent;
  }
  getparentlayout() {
    if (this._parent) {
      return this._parent.getparentlayout();
    }
  }
  bringtofront() {
    BRING_MOST_TOP += 1;
    this._div.style.zIndex = String(BRING_MOST_TOP);
  }
  bringtoback() {
    BRING_LEAST -= 1;
    this._div.style.zIndex = String(BRING_LEAST);
  }
  setenabled(onoff) {
  }
  handleAction(action, param = null, actionTarget = null, source = null) {
    return false;
  }
  dispatchAction(action, param, actionTarget) {
    const handled = this.handleAction(action, param, actionTarget);
    if (!handled && this._parent != null) {
      this._parent.dispatchAction(action, param, actionTarget);
    }
  }
  sendaction(action, param, x, y, p1, p2) {
    return this._uiRoot.vm.dispatch(this, "onaction", [
      {type: "STRING", value: action},
      {type: "STRING", value: param},
      {type: "INT", value: x},
      {type: "INT", value: y},
      {type: "INT", value: p1},
      {type: "INT", value: p2},
      {type: "OBJECT", value: this}
    ]);
  }
  _renderAlpha() {
    if (this._alpha != 255) {
      this._div.style.opacity = `${this._alpha / 255}`;
    } else {
      this._div.style.removeProperty("opacity");
    }
  }
  _renderVisibility() {
    if (!this._visible) {
      this._div.style.display = "none";
    } else {
      this._div.style.removeProperty("display");
    }
  }
  _renderTransate() {
    var _a, _b;
    this._div.style.transform = `translate(${px((_a = this._x) != null ? _a : 0)}, ${px((_b = this._y) != null ? _b : 0)})`;
  }
  _renderX() {
    var _a, _b;
    this._div.style.left = this._relatx == "1" ? relative((_a = this._x) != null ? _a : 0) : px((_b = this._x) != null ? _b : 0);
  }
  _renderY() {
    var _a, _b;
    this._div.style.top = this._relaty == "1" ? relative((_a = this._y) != null ? _a : 0) : px((_b = this._y) != null ? _b : 0);
  }
  _renderWidth() {
    var _a;
    this._div.style.width = this._relatw == "1" ? relative((_a = this._w) != null ? _a : 0) : px(this.getwidth());
  }
  _renderHeight() {
    var _a;
    this._div.style.height = this._relath == "1" ? relative((_a = this._h) != null ? _a : 0) : px(this.getheight());
  }
  _renderDimensions() {
    this._renderX();
    this._renderY();
    this._renderWidth();
    this._renderHeight();
  }
  _renderLocation() {
    this._renderX();
    this._renderY();
  }
  _renderSize() {
    this._renderWidth();
    this._renderHeight();
  }
  doResize() {
    this._uiRoot.vm.dispatch(this, "onresize", [
      {type: "INT", value: 0},
      {type: "INT", value: 0},
      {type: "INT", value: this.getwidth()},
      {type: "INT", value: this.getheight()}
    ]);
  }
  setBackgroundImage(bitmap) {
    this._backgroundBitmap = bitmap;
    if (bitmap != null) {
      bitmap.setAsBackground(this._div);
    } else {
      this._div.style.setProperty(`--background-image`, "none");
    }
  }
  setDownBackgroundImage(bitmap) {
    if (bitmap != null) {
      bitmap.setAsDownBackground(this._div);
    }
  }
  setHoverBackgroundImage(bitmap) {
    if (bitmap != null) {
      bitmap.setAsHoverBackground(this._div);
    }
  }
  setActiveBackgroundImage(bitmap) {
    if (bitmap != null) {
      bitmap.setAsActiveBackground(this._div);
    }
  }
  setInactiveBackgroundImage(bitmap) {
    if (bitmap != null) {
      bitmap.setAsInactiveBackground(this._div);
    }
  }
  setDisabledBackgroundImage(bitmap) {
    if (bitmap != null) {
      bitmap.setAsDisabledBackground(this._div);
    }
  }
  draw() {
    this.getId() && this._div.setAttribute("id", this.getId());
    this._renderVisibility();
    this._renderAlpha();
    if (this._tooltip) {
      this._div.setAttribute("title", this._tooltip);
    }
    if (this._ghost || this._sysregion == -2) {
      this._div.style.pointerEvents = "none";
    } else {
      this._div.style.pointerEvents = "auto";
    }
    this._renderDimensions();
  }
};
var GuiObj_default = GuiObj;
GuiObj.GUID = "4ee3e1994becc636bc78cd97b028869c";

// build/skin/AudioEventedGui.js
var AudioEventedGui = class extends GuiObj_default {
  constructor() {
    super(...arguments);
    this._propEvent = {};
  }
  setXmlAttr(_key, value) {
    const key = _key.toLowerCase();
    if (value.startsWith("allowed-to:") || value.startsWith("audio:")) {
      this._propEvent[key] = value;
      return true;
    }
    if (super.setXmlAttr(_key, value)) {
      return true;
    }
    return false;
  }
  init() {
    super.init();
    this._registerAudioEvents();
  }
  _registerAudioEvents() {
    if (Object.keys(this._propEvent).length > 0) {
      if (this._audioEventListeners != null) {
        this._audioEventListeners();
      }
      this._audioEventListeners = this._uiRoot.audio.on("statchanged", () => this._updatePropsByAudioState());
      this._updatePropsByAudioState();
    }
  }
  _updatePropsByAudioState() {
    const pl = this._uiRoot.playlist;
    const plCount = pl.getnumtracks();
    const plIndex = pl.getcurrentindex();
    const canNext = plIndex < plCount - 1;
    const canPrev = plIndex > 0;
    const buttonStates = {
      [AUDIO_PLAYING]: {
        play: false,
        pause: true,
        stop: true,
        next: canNext,
        prev: canPrev
      },
      [AUDIO_PAUSED]: {
        play: true,
        pause: false,
        stop: true,
        next: canNext,
        prev: canPrev
      },
      [AUDIO_STOPPED]: {
        play: true,
        pause: false,
        stop: false,
        next: canNext,
        prev: canPrev
      }
    };
    const nickState = {
      [AUDIO_PLAYING]: "play",
      [AUDIO_PAUSED]: "pause",
      [AUDIO_STOPPED]: "stop"
    };
    const state = this._uiRoot.audio.getState();
    if (!buttonStates[state]) {
      console.warn("unknown audio state:", state);
      return;
    }
    for (const [prop, audioEvent] of Object.entries(this._propEvent)) {
      const [enabled, requestedState] = audioEvent.split(":");
      if (enabled == "allowed-to") {
        this[prop] = buttonStates[state][requestedState];
      } else if (enabled == "audio") {
        this[prop] = requestedState == nickState[state];
      }
    }
  }
};
var AudioEventedGui_default = AudioEventedGui;

// build/skin/makiClasses/Button.js
var Button = class extends AudioEventedGui_default {
  constructor(uiRoot) {
    super(uiRoot);
    this._active = false;
    this._action = null;
    this._param = null;
    this._actionTarget = null;
    this._div.addEventListener("mousedown", this._handleMouseDown.bind(this));
    this._div.addEventListener("click", (e) => {
      if (e.button == 0) {
        e.stopPropagation();
        e.preventDefault();
        this.leftclick();
      }
    });
  }
  setXmlAttr(_key, value) {
    const key = _key.toLowerCase();
    if (super.setXmlAttr(key, value)) {
      return true;
    }
    switch (key) {
      case "image":
        this._image = value;
        this._renderBackground();
        break;
      case "downimage":
        this._downimage = value;
        this._renderBackground();
        break;
      case "hoverimage":
        this._hoverimage = value;
        this._renderBackground();
        break;
      case "activeimage":
        this._activeimage = value;
        this._renderBackground();
        break;
      case "action":
        this._action = value;
        break;
      case "param":
        this._param = value;
        break;
      case "action_target":
      case "cbtarget":
        this._actionTarget = value;
        break;
      default:
        return false;
    }
    return true;
  }
  getheight() {
    if (this._h) {
      return this._h;
    }
    if (this._image != null) {
      const bitmap = this._uiRoot.getBitmap(this._image);
      if (bitmap)
        return bitmap.getHeight();
    }
    return super.getheight();
  }
  getwidth() {
    if (this._w) {
      return this._w;
    }
    if (this._image != null) {
      const bitmap = this._uiRoot.getBitmap(this._image);
      if (bitmap)
        return bitmap.getWidth();
    }
    return super.getwidth();
  }
  getactivated() {
    return this._active ? true : false;
  }
  setactivated(onoff) {
    onoff = Boolean(onoff);
    if (onoff !== this._active) {
      this._active = onoff;
      this._renderActive();
    }
    this._uiRoot.vm.dispatch(this, "onactivate", [V.newBool(onoff)]);
  }
  setactivatednocallback(onoff) {
    if (onoff !== this._active) {
      this._active = onoff;
      this._renderActive();
    }
  }
  leftclick() {
    if (this._action) {
      this.dispatchAction(this._action, this._param, this._actionTarget);
      this.invalidateActionState();
    }
    this.onLeftClick();
  }
  onLeftClick() {
    this._uiRoot.vm.dispatch(this, "onleftclick", []);
  }
  handleAction(action, param = null, actionTarget = null, source = null) {
    if (actionTarget) {
      const guiObj = this.findobject(actionTarget);
      if (guiObj) {
        guiObj.handleAction(action, param, null, this);
        return true;
      }
    }
    return false;
  }
  invalidateActionState() {
    const active = this._uiRoot.getActionState(this._action, this._param, this._actionTarget);
    if (active != null) {
      this.setactivatednocallback(active);
    }
  }
  init() {
    super.init();
    if (this._action != null) {
      this._uiRoot.on(this._action.toLowerCase(), () => this.invalidateActionState());
    }
    this.invalidateActionState();
  }
  _renderActive() {
    if (this._active) {
      this._div.classList.add("active");
    } else {
      this._div.classList.remove("active");
    }
  }
  _renderBackground() {
    if (this._image != null && this._uiRoot.hasBitmap(this._image)) {
      const bitmap = this._uiRoot.getBitmap(this._image);
      this.setBackgroundImage(bitmap);
    } else {
      this.setBackgroundImage(null);
    }
    if (this._downimage != null && this._uiRoot.hasBitmap(this._downimage)) {
      const downBitmap = this._uiRoot.getBitmap(this._downimage);
      this.setDownBackgroundImage(downBitmap);
    } else {
      this.setDownBackgroundImage(null);
    }
    if (this._hoverimage != null && this._uiRoot.hasBitmap(this._hoverimage)) {
      const hoverimage = this._uiRoot.getBitmap(this._hoverimage);
      this.setHoverBackgroundImage(hoverimage);
    } else {
      this.setHoverBackgroundImage(null);
    }
    if (this._activeimage != null && this._uiRoot.hasBitmap(this._activeimage)) {
      const activeimage = this._uiRoot.getBitmap(this._activeimage);
      this.setActiveBackgroundImage(activeimage);
    } else {
      this.setActiveBackgroundImage(null);
    }
  }
  _handleMouseDown(e) {
    e.stopPropagation();
  }
  draw() {
    super.draw();
    this._div.classList.add("webamp--img");
    this._div.style.pointerEvents = "auto";
    this._renderBackground();
  }
  hide() {
    if (document.activeElement == this._div) {
      this.getparentlayout()._parent._div.focus();
    }
    super.hide();
  }
};
var Button_default = Button;
Button.GUID = "698eddcd4fec8f1e44f9129b45ff09f9";

// build/skin/makiClasses/ConfigPersistent.js
var ConfigPersistent = class extends BaseObject_default {
  constructor() {
    super();
    this._saveState = debounce(() => {
      window.localStorage.setItem(this.getStorageName(), JSON.stringify(this._configTree));
    }, 2e3);
    this.loadStorage();
  }
  getStorageName() {
    return `${this.getclassname()}.${this.getId() || "~"}`;
  }
  loadStorage() {
    const cookies = window.localStorage.getItem(this.getStorageName());
    if (cookies) {
      this._configTree = JSON.parse(cookies);
    } else {
      this._configTree = {};
    }
  }
  getSectionValues(section) {
    if (this._configTree[section] == null) {
      this._configTree[section] = {};
    }
    return this._configTree[section];
  }
  getValue(section, key) {
    key = key.toLowerCase();
    return this.getSectionValues(section)[key];
  }
  setValue(section, key, value) {
    key = key.toLowerCase();
    if (this.getValue(section, key) != value) {
      const values = this.getSectionValues(section);
      values[key] = value;
      this._saveState();
    }
    return value;
  }
};
var ConfigPersistent_default = ConfigPersistent;

// build/skin/PrivateConfig.js
var PrivateConfig = class extends ConfigPersistent_default {
  getStorageName() {
    return "_PRIVATE-CONFIG_";
  }
  getPrivateInt(section, item, defvalue) {
    let value = this.getValue(section, item);
    if (value == null) {
      value = this.setValue(section, item, String(defvalue));
    }
    return Number(value);
  }
  setPrivateInt(section, item, value) {
    const strValue = this.setValue(section, item, String(value));
    return Number(strValue);
  }
  getPrivateString(section, item, defvalue) {
    let value = this.getValue(section, item);
    if (value == null) {
      value = this.setValue(section, item, defvalue);
    }
    return value;
  }
  setPrivateString(section, item, value) {
    return this.setValue(section, item, String(value));
  }
};
var PRIVATE_CONFIG = new PrivateConfig();
var PrivateConfig_default = PRIVATE_CONFIG;

// build/skin/makiClasses/ConfigAttribute.js
var ConfigAttribute = class extends BaseObject_default {
  constructor(configItem, name) {
    super();
    this._configItem = configItem;
    this._id = name;
    this._eventListener = new Emitter();
  }
  getparentitem() {
    return this._configItem;
  }
  getattributename() {
    return this._id;
  }
  on(event, callback) {
    return this._eventListener.on(event, callback);
  }
  trigger(event, ...args) {
    this._eventListener.trigger(event, ...args);
  }
  off(event, callback) {
    this._eventListener.off(event, callback);
  }
  getdata() {
    return this._configItem.getValue(this._id);
  }
  setdata(value) {
    this._configItem.setValue(this._id, value);
    this.trigger("datachanged");
    this.ondatachanged();
  }
  ondatachanged() {
    this._configItem._uiRoot.vm.dispatch(this, "ondatachanged");
  }
};
var ConfigAttribute_default = ConfigAttribute;
ConfigAttribute.GUID = "24dec2834a36b76e249ecc8c736c6bc4";

// build/skin/makiClasses/ConfigItem.js
var ConfigItem = class extends BaseObject_default {
  constructor(uiRoot, config3, name, guid) {
    super();
    this._attributes = {};
    this._uiRoot = uiRoot;
    this._config = config3;
    this._id = name;
    this._guid = guid.toLowerCase();
  }
  getname() {
    return this._id;
  }
  getguid(attr_name) {
    return this._guid;
  }
  getValue(key) {
    return this._config.getValue(this._guid, key);
  }
  setValue(key, value) {
    return this._config.setValue(this._guid, key, value);
  }
  newattribute(name, defaultValue) {
    name = name.toLowerCase();
    let oldValue = this.getValue(name);
    if (oldValue == null) {
      this.setValue(name, defaultValue);
    }
    const cfg = this._attributes[name] || new ConfigAttribute_default(this, name);
    this._attributes[name] = cfg;
    return cfg;
  }
  getattribute(att_name) {
    att_name = att_name.toLowerCase();
    let cfg = this._attributes[att_name];
    if (!cfg) {
      return this.newattribute(att_name, "0");
    }
    return cfg;
  }
};
var ConfigItem_default = ConfigItem;
ConfigItem.GUID = "d40302824d873aab32128d87d5fcad6f";

// build/skin/makiClasses/Config.js
var Config = class extends ConfigPersistent_default {
  constructor(uiRoot) {
    super();
    this._id = "CONFIG";
    this._items = {};
    this._uiRoot = uiRoot;
    this._aliases = this.getSectionValues("_alias_");
  }
  getStorageName() {
    return "_CONFIG_";
  }
  newitem(itemName, itemGuid) {
    itemGuid = itemGuid.toLowerCase();
    let cfg = this._items[itemGuid];
    if (!cfg) {
      cfg = new ConfigItem_default(this._uiRoot, this, itemName, itemGuid);
      this._items[itemGuid] = cfg;
    }
    if (itemName.toLowerCase() == itemGuid) {
      itemName = itemGuid;
    }
    this._aliases[itemName] = itemGuid;
    this._saveState();
    return cfg;
  }
  getitem(item_name) {
    const item_guid = this._aliases[item_name] || item_name;
    const cfg = this._items[item_guid.toLowerCase()];
    if (!cfg) {
      return this.newitem(item_name, item_guid);
    }
    return cfg;
  }
  getitembyguid(item_guid) {
    item_guid = item_guid.toLowerCase();
    const cfg = this._items[item_guid];
    if (!cfg) {
      const item_name = Object.keys(this._aliases).find((key) => this._aliases[key] === item_guid) || item_guid;
      return this.newitem(item_name, item_guid);
    }
    return cfg;
  }
};
var Config_default = Config;
Config.GUID = "593dba224976d07771f452b90b405536";

// build/skin/makiClasses/WinampConfig.js
var WinampConfig = class extends BaseObject_default {
  constructor(uiRoot) {
    super();
    this._uiRoot = uiRoot;
  }
  getgroup(config_group_guid) {
    const cfg = this._uiRoot.CONFIG.getitembyguid(config_group_guid);
    return new WinampConfigGroup(cfg);
  }
};
var WinampConfig_default = WinampConfig;
WinampConfig.GUID = "b2ad3f2b4e3131ed95e96dbcbb55d51c";
var WinampConfigGroup = class {
  constructor(cfg) {
    this._cfg = cfg;
  }
  getstring(itemName) {
    return this._cfg.getValue(itemName);
  }
  getbool(itemName) {
    return this.getstring(itemName) == "1" ? true : false;
  }
  getint(itemName) {
    return parseInt(this.getstring(itemName) || "0");
  }
  setstring(itemName, itemValue) {
    this._cfg.setValue(itemName, itemValue);
  }
  setbool(itemName, itemValue) {
    this._cfg.setValue(itemName, itemValue ? "1" : "0");
  }
  setint(itemName) {
  }
};
WinampConfigGroup.GUID = "fc17844e4518c72bf9a868a080baa530";

// build/skin/makiClasses/Application.js
var Application = class extends BaseObject_default {
  constructor(uiRoot) {
    super();
    this._uiRoot = uiRoot;
  }
  getapplicationname() {
    return "WebAmp Modern";
  }
  getversionstring() {
    return unimplemented("5.66");
  }
  getsettingspath() {
    return unimplemented("./");
  }
  getapplicationpath() {
    return unimplemented("./");
  }
};
var Application_default = Application;
Application.GUID = "b8e867b04da72715db53baa5acfefca1";

// build/skin/makiClasses/SystemObject.js
var MOUSE_POS = {x: 0, y: 0};
document.addEventListener("mousemove", (e) => {
  MOUSE_POS.x = e.pageX;
  MOUSE_POS.y = e.pageY;
});
var SystemObject = class extends BaseObject_default {
  constructor(uiRoot, parsedScript, param, id2) {
    super();
    this._uiRoot = uiRoot;
    this._parsedScript = parsedScript;
    this._param = param;
    this._id = id2;
    this._uiRoot.audio.onSeek(() => {
      this._uiRoot.vm.dispatch(this, "onseek", [
        {
          type: "INT",
          value: this._uiRoot.audio.getCurrentTimePercent() * 255
        }
      ]);
    });
    this._uiRoot.audio.on("play", () => this._uiRoot.vm.dispatch(this, "onplay", []));
    this._uiRoot.audio.on("pause", () => this._uiRoot.vm.dispatch(this, "onpause", []));
    this._uiRoot.audio.on("stop", () => this._uiRoot.vm.dispatch(this, "onstop", []));
    this._uiRoot.audio.onVolumeChanged(() => {
      this._uiRoot.vm.dispatch(this, "onvolumechanged", [
        {type: "INT", value: this._uiRoot.audio.getVolume() * 255}
      ]);
    });
    const EqBandHandle = (band) => {
      this._uiRoot.vm.dispatch(this, "oneqbandchanged", [
        {type: "INT", value: band - 1},
        {
          type: "INT",
          value: this._uiRoot.audio.getEq(String(band)) * 255 - 127
        }
      ]);
    };
    this._uiRoot.audio.onEqChange("1", () => EqBandHandle(1));
    this._uiRoot.audio.onEqChange("2", () => EqBandHandle(2));
    this._uiRoot.audio.onEqChange("3", () => EqBandHandle(3));
    this._uiRoot.audio.onEqChange("4", () => EqBandHandle(4));
    this._uiRoot.audio.onEqChange("5", () => EqBandHandle(5));
    this._uiRoot.audio.onEqChange("6", () => EqBandHandle(6));
    this._uiRoot.audio.onEqChange("7", () => EqBandHandle(7));
    this._uiRoot.audio.onEqChange("8", () => EqBandHandle(8));
    this._uiRoot.audio.onEqChange("9", () => EqBandHandle(9));
    this._uiRoot.audio.onEqChange("10", () => EqBandHandle(10));
    this._uiRoot.audio.onEqChange("preamp", () => {
      this._uiRoot.vm.dispatch(this, "oneqpreampchanged", [
        {type: "INT", value: this._uiRoot.audio.getEq("preamp") * 255 - 127}
      ]);
    });
  }
  init() {
    const initialVariable = this._parsedScript.variables[0];
    if (initialVariable.type !== "OBJECT") {
      throw new Error("First variable was not SystemObject.");
    }
    initialVariable.value = this;
    for (const vari of this._parsedScript.variables) {
      if (vari.type == "OBJECT") {
        if (vari.guid == Config_default.GUID) {
          vari.value = this._uiRoot.CONFIG;
        } else if (vari.guid == WinampConfig_default.GUID) {
          vari.value = this._uiRoot.WINAMP_CONFIG;
        } else if (vari.guid == Application_default.GUID) {
          vari.value = this._uiRoot.APPLICATION;
        }
      }
    }
    this._uiRoot.vm.addScript(this._parsedScript);
    this._uiRoot.vm.dispatch(this, "onscriptloaded");
  }
  dispose() {
    this._uiRoot.vm.dispatch(this, "onscriptunloading");
  }
  setParentGroup(group) {
    this._parentGroup = group;
  }
  hasvideosupport() {
    return unimplemented(0);
  }
  getruntimeversion() {
    return 5.666;
  }
  getskinname() {
    return this._uiRoot.getSkinName();
  }
  getwinampversion() {
    return this._uiRoot.APPLICATION.getversionstring();
  }
  getmouseposx() {
    return unimplemented(MOUSE_POS.x);
  }
  getmouseposy() {
    return unimplemented(MOUSE_POS.y);
  }
  getprivateint(section, item, defvalue) {
    return PrivateConfig_default.getPrivateInt(section, item, defvalue);
  }
  stringtointeger(str) {
    if (str == "")
      return 0;
    return Math.floor(parseFloat(str));
  }
  floattostring(value, ndigits) {
    return value.toFixed(ndigits);
  }
  stringtofloat(str) {
    return Number(str);
  }
  integertolongtime(value) {
  }
  datetotime(datetime) {
  }
  datetolongtime(datetime) {
  }
  formatdate(datetime) {
  }
  formatlongdate(datetime) {
  }
  getdateyear(datetime) {
  }
  getdatemonth(datetime) {
  }
  getdateday(datetime) {
  }
  getdatedow(datetime) {
  }
  getdatedoy(datetime) {
  }
  getdatehour(datetime) {
  }
  getdatemin(datetime) {
  }
  getdatesec(datetime) {
  }
  getdatedst(datetime) {
  }
  getdate() {
  }
  strmid(str, start, len) {
    return str.slice(start, start + len);
  }
  strleft(str, nchars) {
    return str.slice(0, nchars);
  }
  strright(str, nchars) {
    return str.slice(str.length - nchars);
  }
  strsearch(str, substr) {
    return str.indexOf(substr);
  }
  strlen(str) {
    return str ? str.length : 0;
  }
  strupper(str) {
    return str.toUpperCase();
  }
  strlower(str) {
    return str.toLowerCase();
  }
  urlencode(url) {
  }
  urldecode(url) {
  }
  setprivatestring(section, item, value) {
  }
  setprivateint(section, item, value) {
    PrivateConfig_default.setPrivateInt(section, item, value);
  }
  getprivatestring(section, item, defvalue) {
    return PrivateConfig_default.getPrivateString(section, item, defvalue);
  }
  setpublicstring(item, value) {
  }
  setpublicint(item, value) {
  }
  getpublicstring(item, defvalue) {
  }
  getpublicint(item, defvalue) {
  }
  getparam() {
    return this._param;
  }
  getscriptgroup() {
    return this._parentGroup;
  }
  gettimeofday() {
    const date = new Date();
    const dateTime = date.getTime();
    const dateCopy = new Date(dateTime);
    return dateTime - dateCopy.setHours(0, 0, 0, 0);
  }
  getcontainer(containerId) {
    const lower = containerId.toLowerCase();
    for (const container of this._uiRoot.getContainers()) {
      if (container.getId() === lower) {
        return container;
      }
    }
    throw new Error(`Could not find a container with the id; "${containerId}"`);
  }
  newdynamiccontainer(container_id) {
    return unimplemented(null);
  }
  newgroup(group_id) {
    return this._parentGroup.findobject(group_id);
  }
  newgroupaslayout(group_id) {
  }
  getnumcontainers() {
    return this._uiRoot.getContainers().length;
  }
  enumcontainer(num2) {
    return this._uiRoot._containers[num2];
  }
  enumembedguid(num2) {
  }
  getwac(wac_guid) {
  }
  getleftvumeter() {
    return this._uiRoot.audio._vuMeter * 255;
  }
  getrightvumeter() {
    return this._uiRoot.audio._vuMeter * 255;
  }
  getvolume() {
    return this._uiRoot.audio.getVolume() * 255;
  }
  setvolume(_vol) {
    const vol = clamp(_vol, 0, 255);
    this._uiRoot.audio.setVolume(vol / 255);
  }
  play() {
    this._uiRoot.audio.play();
  }
  stop() {
    this._uiRoot.audio.stop();
  }
  pause() {
    this._uiRoot.audio.pause();
  }
  next() {
    this._uiRoot.next();
  }
  previous() {
    this._uiRoot.previous();
  }
  eject() {
    this._uiRoot.eject();
  }
  messagebox(message, msgtitle, flag, notanymore_id) {
  }
  _currentTrack() {
    return this._uiRoot.playlist.currentTrack();
  }
  getplayitemstring() {
    return unimplemented("Niente da Caprie");
  }
  getplaylistlength() {
    return this._uiRoot.playlist.getnumtracks();
  }
  getplaylistindex() {
    return this._uiRoot.playlist.getcurrentindex();
  }
  getplayitemmetadatastring(metadataname) {
    return unimplemented("Metadata");
  }
  getmetadatastring(filename, metadataname) {
    return unimplemented("Metadatastring");
  }
  getplayitemdisplaytitle() {
    return unimplemented("playitemdisplaytitle");
  }
  getcurrenttrackrating() {
    return unimplemented(1);
  }
  oncurrenttrackrated(rating) {
  }
  setcurrenttrackrating(rating) {
  }
  getextfamily(ext) {
    return unimplemented("Audio");
  }
  getdecodername(playitem) {
    return "Nullsoft MPEG Decoder v4.103";
  }
  downloadmedia(url, destinationPath, wantAddToML, notifyDownloadsList) {
  }
  downloadurl(url, destination_filename, progress_dialog_title) {
  }
  ondownloadfinished(url, success, filename) {
  }
  getdownloadpath() {
    return unimplemented("C:\\CD Rips");
  }
  setdownloadpath(new_path) {
  }
  enqueuefile(playitem) {
  }
  playfile(playitem) {
  }
  getfilesize(fullfilename) {
    return unimplemented(100);
  }
  getalbumart(playitem) {
    return unimplemented(1);
  }
  getplayitemlength() {
    return this._uiRoot.audio.getLength();
  }
  seekto(pos) {
    this._uiRoot.audio.seekTo(pos);
  }
  chr(charnum) {
    return String.fromCharCode(charnum);
  }
  integer(d) {
    return Math.round(Number(d));
  }
  frac(d) {
    const i = Math.floor(d);
    return d - i;
  }
  integertostring(value) {
    return String(Math.round(value));
  }
  integertotime(value) {
    return integerToTime(value);
  }
  getviewportwidth() {
    return window.document.documentElement.clientWidth;
  }
  getviewportwidthfromguiobject(g) {
    return unimplemented(100);
  }
  getviewportwidthfrompoint(x, y) {
  }
  getmonitorwidth() {
    return screen.width;
  }
  getmonitorwidthfrompoint(x, y) {
  }
  getmonitorwidthfromguiobject(g) {
  }
  getextension(str) {
    return unimplemented("mp3");
  }
  gettoken(str, separator, tokennum) {
    const commas = str.split(separator);
    return commas[tokennum] || "";
  }
  removepath(str) {
    return unimplemented("test.mp3");
  }
  getpath(str) {
    return unimplemented("c:\\music\\mp3");
  }
  getposition() {
    return String(this._uiRoot.audio.getCurrentTime() * 1e3);
  }
  getstatus() {
    const audioState = this._uiRoot.audio.getState();
    switch (audioState) {
      case AUDIO_PLAYING:
        return 1;
      case AUDIO_PAUSED:
        return -1;
      case AUDIO_STOPPED:
        return 0;
      default:
        console.warn("Unknown audio state:", audioState);
    }
  }
  getviewportheight() {
    return window.document.documentElement.clientHeight;
  }
  getviewportheightfromguiobject(g) {
    return unimplemented(100);
  }
  getviewportheightfrompoint(x, y) {
  }
  getmonitorheight() {
    return screen.height;
  }
  getmonitorheightfrompoint(x, y) {
  }
  getmonitorheightfromguiobject(g) {
  }
  getmonitorleft() {
    return screenLeft;
  }
  getmonitorleftfromguiobject(g) {
  }
  getmonitorleftfrompoint(x, y) {
  }
  getmonitortop() {
    return screenTop;
  }
  getviewporttop() {
    return unimplemented(0);
  }
  getmonitortopfromguiobject(g) {
  }
  getmonitortopfrompoint(x, y) {
  }
  getviewportleft() {
    return unimplemented(0);
  }
  getviewportleftfromguiobject(g) {
    return unimplemented(0);
  }
  getviewportleftfrompoint(x, y) {
  }
  getviewporttopfromguiobject(g) {
    return 0;
  }
  getviewporttopfrompoint(x, y) {
  }
  debugstring(str, severity) {
    console.log("Wasabi Console:", str);
  }
  ddesend(application2, command, mininterval) {
  }
  getcurappleft() {
    return 0;
  }
  getcurapptop() {
    return 0;
  }
  getcurappwidth() {
    return 1e3;
  }
  getcurappheight() {
    return unimplemented(100);
  }
  geteq() {
    return unimplemented(1);
  }
  geteqpreamp() {
    return unimplemented(0);
  }
  seteq(onoff) {
  }
  seteqpreamp(value) {
    this._uiRoot.audio.setEq("preamp", (value + 127) / 255);
  }
  seteqband(band, value) {
    this._uiRoot.audio.setEq(String(band + 1), (value + 127) / 255);
  }
  geteqband(band) {
    return this._uiRoot.audio.getEq(String(band + 1)) * 255 - 127;
  }
  oneqbandchanged(band, value) {
    this._uiRoot.vm.dispatch(this, "oneqbandchanged", [
      {type: "INT", value: band},
      {type: "INT", value}
    ]);
  }
  getvisband(channel, band) {
    return unimplemented(0);
  }
  tan(value) {
    return Math.tan(value);
  }
  sin(value) {
    return Math.sin(value);
  }
  cos(value) {
    return Math.cos(value);
  }
  asin(value) {
    return Math.asin(value);
  }
  acos(value) {
    return Math.acos(value);
  }
  atan(value) {
    return Math.atan(value);
  }
  atan2(y, x) {
    return Math.atan2(y, x);
  }
  pow(value, pvalue) {
    return Math.pow(value, pvalue);
  }
  sqr(value) {
    return value * value;
  }
  log10(value) {
    return Math.log10(value);
  }
  ln(value) {
    throw new Error("Unimplemented");
  }
  sqrt(value) {
    return Math.sqrt(value);
  }
  random(max) {
    return Math.random() * max;
  }
  oneqfreqchanged(isiso) {
  }
  getsonginfotext() {
    const track = this._currentTrack();
    if (track) {
      const m = track.metadata;
      if (m) {
        return `${m.bitrate}kbps ${m.channelMode} ${Math.floor(m.sampleRate / 1e3)}khz`;
      }
    }
    return "123kbps stereo 79khz";
  }
  getsonginfotexttranslated() {
    return this.getplayitemstring();
  }
  lockui() {
  }
  unlockui() {
  }
  isobjectvalid(o) {
    return o != null;
  }
  istransparencyavailable() {
    return true;
  }
  translate(str) {
    return unimplemented(str);
  }
  isvideo() {
    return unimplemented(0);
  }
  isvideofullscreen() {
    return unimplemented(0);
  }
  iskeydown(vk) {
    return unimplemented(0);
  }
  isminimized() {
    return unimplemented(0);
  }
  isdesktopalphaavailable() {
    return true;
  }
  isproversion() {
    return true;
  }
};
var SystemObject_default = SystemObject;
SystemObject.GUID = "d6f50f6449b793fa66baf193983eaeef";

// build/skin/makiClasses/Container.js
var Container = class extends XmlObj_default {
  constructor(uiRoot) {
    super();
    this._layouts = [];
    this._activeLayout = null;
    this._visible = true;
    this._dynamic = false;
    this._x = 0;
    this._y = 0;
    this._div = document.createElement("container");
    this._uiRoot = uiRoot;
  }
  setXmlAttr(_key, value) {
    var _a, _b;
    const key = _key.toLowerCase();
    if (super.setXmlAttr(key, value)) {
      return true;
    }
    switch (key) {
      case "name":
        this.setname(value);
        break;
      case "id":
        this._originalId = value;
        this._id = value.toLowerCase();
        break;
      case "dynamic":
        this._dynamic = toBool(value);
        break;
      case "component":
        this._componentGuid = value.toLowerCase().split(":")[1];
        this.resolveAlias();
        break;
      case "default_visible":
        this._visible = value == "1";
        break;
      case "x":
      case "default_x":
        this._x = (_a = num(value)) != null ? _a : 0;
        this._renderDimensions();
        break;
      case "y":
      case "default_y":
        this._y = (_b = num(value)) != null ? _b : 0;
        this._renderDimensions();
        break;
      default:
        return false;
    }
    return true;
  }
  init() {
    for (const layout of this._layouts) {
      layout.init();
    }
    for (const layout of this._layouts) {
      layout.afterInited();
    }
    this._uiRoot.vm.dispatch(this, "onswitchtolayout", [
      {type: "OBJECT", value: this.getcurlayout()}
    ]);
  }
  dispose() {
    for (const layout of this._layouts) {
      layout.dispose();
    }
  }
  setname(name) {
    this._name = name;
  }
  getname() {
    return this._name;
  }
  getguid() {
    return this._componentGuid;
  }
  resolveAlias() {
    const guid = this._componentGuid;
    this._componentAlias = this._uiRoot.guid2alias(guid);
    if (this._componentGuid && !this._componentAlias) {
      console.warn(`unknown component alias for guid:${this._componentGuid}`, `for id:${this.getId()}`);
    }
  }
  hasId(id2) {
    if (!id2)
      return false;
    id2 = id2.toLowerCase();
    const useGuid = id2.startsWith("guid:");
    if (useGuid) {
      id2 = id2.substring(5);
      return this._componentGuid == id2 || this._componentAlias == id2;
    } else {
      return this._id == id2;
    }
  }
  getId() {
    return this._id;
  }
  getOriginalId() {
    return this._originalId;
  }
  getDiv() {
    return this._div;
  }
  getWidth() {
    return this._activeLayout.getwidth();
  }
  getHeight() {
    return this._activeLayout.getheight();
  }
  setWidth(w) {
    this._activeLayout.setXmlAttr("w", String(w));
  }
  setHeight(h) {
    this._activeLayout.setXmlAttr("h", String(h));
  }
  gettop() {
    return this._y;
  }
  getleft() {
    return this._x;
  }
  center() {
    const height = document.documentElement.clientHeight;
    const width = document.documentElement.clientWidth;
    this._div.style.top = px((height - this.getHeight()) / 2);
    this._div.style.left = px((width - this.getWidth()) / 2);
  }
  setLocation(x, y) {
    if (x == this._x && y == this._y) {
      return;
    }
    this._x = x;
    this._y = y;
    this._renderDimensions();
  }
  show() {
    if (!this._activeLayout) {
      this.switchtolayout(this._layouts[0]._id);
    }
    this._visible = true;
    this._renderLayout();
  }
  hide() {
    this._visible = false;
    this._renderLayout();
  }
  toggle() {
    if (!this._visible)
      this.show();
    else
      this.hide();
  }
  close() {
    this._activeLayout = null;
    this.hide();
  }
  getVisible() {
    return this._visible;
  }
  getlayout(layoutId) {
    const lower = layoutId.toLowerCase();
    for (const layout of this._layouts) {
      if (layout.getId() === lower) {
        return layout;
      }
    }
    throw new Error(`Could not find a container with the id; "${layoutId}"`);
  }
  isdynamic() {
    return this._dynamic ? 1 : 0;
  }
  getcurlayout() {
    return this._activeLayout;
  }
  addLayout(layout) {
    layout.setParent(this);
    this._layouts.push(layout);
    if (this._activeLayout == null) {
      this._activeLayout = layout;
    }
  }
  getnumlayouts() {
    return this._layouts.length;
  }
  enumlayout(num2) {
    return this._layouts[num2];
  }
  addChild(layout) {
    this.addLayout(layout);
  }
  _clearCurrentLayout() {
    removeAllChildNodes(this._div);
  }
  switchtolayout(layout_id) {
    const layout = this.getlayout(layout_id);
    assert(layout != null, `Could not find layout with id "${layout_id}".`);
    this._uiRoot.vm.dispatch(this, "onswitchtolayout", [
      {type: "OBJECT", value: layout}
    ]);
    this._clearCurrentLayout();
    this._activeLayout = layout;
    this._renderLayout();
  }
  dispatchAction(action, param, actionTarget) {
    switch (action) {
      case "SWITCH":
        this.switchtolayout(param);
        break;
      default:
        this._uiRoot.dispatch(action, param, actionTarget);
    }
  }
  _renderDimensions() {
    this._div.style.left = px(this._x);
    this._div.style.top = px(this._y);
  }
  _renderLayout() {
    if (this._visible && this._activeLayout) {
      this._div.appendChild(this._activeLayout.getDiv());
    } else {
      this._clearCurrentLayout();
    }
  }
  _renderLayouts() {
    for (const layout of this._layouts) {
      layout.draw();
    }
  }
  draw() {
    this.getId() && this._div.setAttribute("id", this.getId());
    this._div.setAttribute("tabindex", "1");
    this._renderDimensions();
    this._renderLayouts();
    this._renderLayout();
  }
};
var Container_default = Container;
Container.GUID = "e90dc47b4ae7840d0b042cb0fcf775d2";

// build/skin/Cursor.js
var LEFT = 1 << 1;
var RIGHT = 1 << 2;
var TOP = 1 << 3;
var BOTTOM = 1 << 4;
var MOVE = 1 << 0 | TOP | LEFT;
var CURSOR = 1 << 31;

// build/skin/makiClasses/Movable.js
var Movable = class extends GuiObj_default {
  constructor() {
    super(...arguments);
    this._movable = false;
    this._canResize = 0;
    this._resizingEventsRegistered = false;
    this._movingEventsRegistered = false;
    this._handleResizing = (downEvent) => {
      downEvent.stopPropagation();
      if (downEvent.button != 0)
        return;
      const layout = this.getparentlayout();
      layout.setResizing("constraint", this._canResize, 0);
      layout.setResizing("start", 0, 0);
      layout.setResizing(this._div.style.getPropertyValue("cursor"), CURSOR, CURSOR);
      const startX = downEvent.pageX;
      const startY = downEvent.pageY;
      const handleMove = (moveEvent) => {
        const newMouseX = moveEvent.pageX;
        const newMouseY = moveEvent.pageY;
        const deltaY = newMouseY - startY;
        const deltaX = newMouseX - startX;
        layout.setResizing("move", deltaX, deltaY);
      };
      const trottledMove = throttle(handleMove, 5);
      const handleMouseUp = (upEvent) => {
        upEvent.stopPropagation();
        if (upEvent.button != 0)
          return;
        document.removeEventListener("mousemove", trottledMove);
        document.removeEventListener("mouseup", handleMouseUp);
        const newMouseX = upEvent.pageX;
        const newMouseY = upEvent.pageY;
        const deltaY = newMouseY - startY;
        const deltaX = newMouseX - startX;
        layout.setResizing("final", deltaX, deltaY);
      };
      document.addEventListener("mousemove", trottledMove);
      document.addEventListener("mouseup", handleMouseUp);
    };
    this._handleMoving = (downEvent) => {
      downEvent.stopPropagation();
      if (downEvent.button != 0)
        return;
      const layout = this.getparentlayout();
      layout.setMoving("start", 0, 0);
      const startX = downEvent.pageX;
      const startY = downEvent.pageY;
      const handleMove = (moveEvent) => {
        const newMouseX = moveEvent.pageX;
        const newMouseY = moveEvent.pageY;
        const deltaY = newMouseY - startY;
        const deltaX = newMouseX - startX;
        layout.setMoving("move", deltaX, deltaY);
      };
      const trottledMove = throttle(handleMove, 5);
      const handleMouseUp = (upEvent) => {
        if (upEvent.button != 0)
          return;
        upEvent.stopPropagation();
        document.removeEventListener("mousemove", trottledMove);
        document.removeEventListener("mouseup", handleMouseUp);
        const newMouseX = upEvent.pageX;
        const newMouseY = upEvent.pageY;
        const deltaY = newMouseY - startY;
        const deltaX = newMouseX - startX;
        layout.setMoving("final", deltaX, deltaY);
      };
      document.addEventListener("mousemove", trottledMove);
      document.addEventListener("mouseup", handleMouseUp);
    };
  }
  setXmlAttr(_key, value) {
    const key = _key.toLowerCase();
    if (super.setXmlAttr(key, value)) {
      return true;
    }
    switch (key) {
      case "move":
        this._movable = toBool(value);
        this._renderCssCursor();
        break;
      case "resize":
        this._resize = value == "0" ? "" : value;
        this._renderCssCursor();
        break;
      default:
        return false;
    }
    return true;
  }
  _renderCssCursor() {
    if (this._movable) {
      this._unregisterResizingEvents();
      this._div.style.removeProperty("cursor");
      this._canResize = MOVE;
      this._registerMovingEvents();
    } else {
      this._unregisterMovingEvents();
      switch (this._resize) {
        case "right":
          this._div.style.cursor = "e-resize";
          this._canResize = RIGHT;
          break;
        case "left":
          this._div.style.cursor = "w-resize";
          this._canResize = LEFT;
          break;
        case "top":
          this._div.style.cursor = "n-resize";
          this._canResize = TOP;
          break;
        case "bottom":
          this._div.style.cursor = "s-resize";
          this._canResize = BOTTOM;
          break;
        case "topleft":
          this._div.style.cursor = "nw-resize";
          this._canResize = TOP | LEFT;
          break;
        case "topright":
          this._div.style.cursor = "ne-resize";
          this._canResize = TOP | RIGHT;
          break;
        case "bottomleft":
          this._div.style.cursor = "sw-resize";
          this._canResize = BOTTOM | LEFT;
          break;
        case "bottomright":
          this._div.style.cursor = "se-resize";
          this._canResize = BOTTOM | RIGHT;
          break;
        default:
          this._div.style.removeProperty("cursor");
          this._canResize = 0;
      }
      if (this._canResize != 0) {
        this._registerResizingEvents();
      } else {
        this._unregisterResizingEvents();
      }
    }
  }
  _registerResizingEvents() {
    if (this._resizingEventsRegistered) {
      return;
    }
    this._resizingEventsRegistered = true;
    this._div.addEventListener("mousedown", this._handleResizing);
  }
  _unregisterResizingEvents() {
    if (this._resizingEventsRegistered) {
      this._div.removeEventListener("mousedown", this._handleResizing);
      this._resizingEventsRegistered = false;
    }
  }
  _registerMovingEvents() {
    if (this._movingEventsRegistered) {
      return;
    }
    this._movingEventsRegistered = true;
    this._div.addEventListener("mousedown", this._handleMoving);
  }
  _unregisterMovingEvents() {
    if (this._movingEventsRegistered) {
      this._div.removeEventListener("mousedown", this._handleMoving);
      this._movingEventsRegistered = false;
    }
  }
  draw() {
    super.draw();
    if (this._ghost || this._sysregion == -2) {
      this._div.style.pointerEvents = "none";
    } else if (this._movable || this._canResize) {
      this._div.style.pointerEvents = "auto";
    } else if (this._ghost) {
      this._div.style.pointerEvents = "none";
    }
  }
};
var Movable_default = Movable;

// build/skin/makiClasses/Group.js
var _Group = class extends Movable_default {
  constructor() {
    super(...arguments);
    this._inited = false;
    this._drawBackground = true;
    this._isLayout = false;
    this._systemObjects = [];
    this._allowZeroSize = false;
  }
  setXmlAttr(_key, value) {
    const key = _key.toLowerCase();
    if (super.setXmlAttr(key, value)) {
      return true;
    }
    switch (key) {
      case "instance_id":
        this._instanceId = value;
        break;
      case "background":
        this._background = value;
        this._renderBackground();
        break;
      case "drawbackground":
        this._drawBackground = toBool(value);
        this._renderBackground();
        break;
      case "allowzerosize":
        this._allowZeroSize = toBool(value);
        break;
      default:
        return false;
    }
    return true;
  }
  init() {
    if (this._inited)
      return;
    this._inited = true;
    super.init();
    for (const systemObject of this._systemObjects) {
      systemObject.init();
    }
    for (const child of this._children) {
      child.init();
    }
  }
  dispose() {
    for (const systemObject of this._systemObjects) {
      systemObject.dispose();
    }
    for (const child of this._children) {
      child.dispose();
    }
  }
  getId() {
    return this._instanceId || this._id;
  }
  addSystemObject(systemObj) {
    systemObj.setParentGroup(this);
    this._systemObjects.push(systemObj);
  }
  addChild(child) {
    child.setParent(this);
    this._children.push(child);
  }
  getobject(objectId) {
    const lower = objectId.toLowerCase();
    for (const obj of this._children) {
      if (obj.getId() === lower) {
        return obj;
      }
    }
    const foundIds = this._children.map((child) => child.getId()).join(", ");
    throw new Error(`Could not find an object with the id: "${objectId}" within object "${this.getId()}". Only found: ${foundIds}`);
  }
  enumobject(index) {
    return this._children[index];
  }
  getnumobjects() {
    return this._children.length;
  }
  getparentlayout() {
    let obj = this;
    while (obj._parent) {
      if (obj._isLayout) {
        break;
      }
      obj = obj._parent;
    }
    if (!obj) {
      console.warn("getParentLayout", this.getId(), "failed!");
    }
    return obj;
  }
  islayout() {
    return this._isLayout;
  }
  getheight() {
    const h = super.getheight();
    if (h == 0 && this._allowZeroSize) {
      return h;
    }
    if (!h && this._background != null) {
      const bitmap = this._uiRoot.getBitmap(this._background);
      if (bitmap)
        return bitmap.getHeight();
    }
    return h != null ? h : 0;
  }
  getwidth() {
    if (this._autowidthsource) {
      const widthSource = this.findobject(this._autowidthsource);
      if (widthSource) {
        return widthSource.getautowidth();
      }
    }
    const w = super.getwidth();
    if (w == 0 && this._allowZeroSize) {
      return w;
    }
    if (!w && this._background != null) {
      const bitmap = this._uiRoot.getBitmap(this._background);
      if (bitmap)
        return bitmap.getWidth();
    }
    return w || this._div.getBoundingClientRect().width;
  }
  _renderBackground() {
    if (this._background != null && this._drawBackground) {
      const bitmap = this._uiRoot.getBitmap(this._background);
      this.setBackgroundImage(bitmap);
    } else {
      this.setBackgroundImage(null);
    }
  }
  async doResize() {
    this._uiRoot.vm.dispatch(this, "onresize", [
      {type: "INT", value: 0},
      {type: "INT", value: 0},
      {type: "INT", value: this.getwidth()},
      {type: "INT", value: this.getheight()}
    ]);
  }
  async _invalidateSize() {
    const actualBox = this._div.getBoundingClientRect();
    if (actualBox.width != this._actualWidth || actualBox.height != this._actualHeight) {
      this._actualWidth = actualBox.width;
      this._actualHeight = actualBox.height;
      this.doResize();
      this.applyRegions();
    }
    for (const child of this._children) {
      if (child instanceof _Group)
        child._invalidateSize();
    }
  }
  applyRegions() {
    this._regionCanvas = null;
    let hasRegions = false;
    for (const child of this._children) {
      if (child._sysregion == -1 || child._sysregion == -2) {
        this.putAsRegion(child);
        hasRegions = true;
      }
    }
    if (hasRegions) {
      this.setRegion();
    }
    this._regionCanvas = null;
  }
  putAsRegion(child) {
    if (this._regionCanvas == null || this._regionCanvas.width == 0 || this._regionCanvas.height == 0) {
      const canvas = this._regionCanvas = document.createElement("canvas");
      const bound = this._div.getBoundingClientRect();
      canvas.width = bound.width;
      canvas.height = bound.height;
      const ctx = canvas.getContext("2d");
      ctx.fillStyle = "white";
      ctx.fillRect(0, 0, bound.width, bound.height);
    }
    if (this._regionCanvas.width == 0 || this._regionCanvas.height == 0) {
      return;
    }
    const ctx2 = this._regionCanvas.getContext("2d");
    const r = child._div.getBoundingClientRect();
    const bitmap = child._backgroundBitmap;
    if (bitmap && bitmap.loaded()) {
      const img = bitmap.getImg();
      ctx2.drawImage(img, bitmap._x, bitmap._y, r.width, r.height, child._div.offsetLeft, child._div.offsetTop, r.width, r.height);
    }
  }
  setRegion() {
    if (this._regionCanvas.width == 0 || this._regionCanvas.height == 0) {
      return;
    }
    const ctx2 = this._regionCanvas.getContext("2d");
    const imageData = ctx2.getImageData(0, 0, this._regionCanvas.width, this._regionCanvas.height);
    const data = imageData.data;
    for (var i = 0; i < data.length; i += 4) {
      data[i + 3] = data[i + 0];
    }
    ctx2.putImageData(imageData, 0, 0);
    this._regionCanvas.toBlob((blob) => {
      const url = URL.createObjectURL(blob);
      this._div.style.setProperty("mask-image", `url(${url})`);
      this._div.style.setProperty("-webkit-mask-image", `url(${url})`);
    });
  }
  appendChildrenDiv() {
    this._appendChildrenToDiv(this._div);
  }
  _appendChildrenToDiv(containerDiv) {
    for (const child of this._children) {
      child.draw();
      containerDiv.appendChild(child.getDiv());
    }
  }
  draw() {
    super.draw();
    this._div.classList.add("webamp--img");
    if (this._movable || this._canResize) {
      this._div.style.pointerEvents = "auto";
    } else {
      this._div.style.pointerEvents = "none";
    }
    this._div.style.pointerEvents = "none";
    this._renderBackground();
    this.appendChildrenDiv();
    if (this._autowidthsource) {
      this._div.classList.add("autowidthsource");
    }
  }
};
var Group = _Group;
Group.GUID = "45be95e5419120725fbb5c93fd17f1f9";
var Group_default = Group;

// build/skin/makiClasses/MenuItem.js
var ACTIVE_POPUP = null;
function destroyActivePopup() {
  console.log("globalWindowClick");
  if (ACTIVE_POPUP != null) {
    ACTIVE_POPUP.doClosePopup();
  }
  uninstallGlobalClickListener();
}
function setActivePopup(popup) {
  ACTIVE_POPUP = popup;
  if (popup) {
    installGlobalClickListener();
  } else {
    uninstallGlobalClickListener();
  }
}
function deactivePopup(popup) {
  if (popup == ACTIVE_POPUP) {
    setActivePopup(null);
  }
}
var globalClickInstalled = false;
function installGlobalClickListener() {
  setTimeout(() => {
    if (!globalClickInstalled) {
      installGlobalMouseDown(destroyActivePopup);
      document.addEventListener("mousedown", destroyActivePopup);
      globalClickInstalled = true;
    }
  }, 500);
}
function uninstallGlobalClickListener() {
  if (globalClickInstalled) {
    document.removeEventListener("mousedown", destroyActivePopup);
    globalClickInstalled = false;
    uninstallGlobalMouseDown(destroyActivePopup);
  }
}
function forEachMenuItem(popup, callback) {
  for (const menu of popup.children) {
    if (menu.type == "menuitem") {
      callback(menu);
    } else if (menu.type == "popup") {
      forEachMenuItem(menu.popup, callback);
    }
  }
}
function extractCaption(text) {
  const [caption, shortcut] = text.split("	");
  const keychar = caption.includes("&") ? caption[caption.indexOf("&") + 1].toLowerCase() : "";
  return {caption, shortcut, keychar};
}
function generatePopupDiv(popup, callback) {
  const root = document.createElement("ul");
  root.className = "popup-menu-container";
  for (const menu of popup.children) {
    let item;
    switch (menu.type) {
      case "menuitem":
        if (menu.invisible === true) {
          continue;
        }
        item = generatePopupItem(menu);
        item.addEventListener("mousedown", (e) => callback(menu.id));
        break;
      case "popup":
        item = generatePopupItem(menu);
        const subMenu = generatePopupDiv(menu.popup, callback);
        item.appendChild(subMenu);
        break;
      case "separator":
        item = document.createElement("hr");
        break;
    }
    root.appendChild(item);
  }
  return root;
}
function generatePopupItem(menu) {
  const item = document.createElement("li");
  const checkMark = document.createElement("span");
  checkMark.classList.add("checkmark");
  checkMark.textContent = menu.checked ? "✓" : " ";
  item.appendChild(checkMark);
  const label = generateCaption(menu.caption);
  label.classList.add("caption");
  item.appendChild(label);
  const shortcut = document.createElement("span");
  shortcut.classList.add("keystroke");
  shortcut.textContent = menu.type == "menuitem" ? menu.shortcut : "";
  item.appendChild(shortcut);
  const chevron = document.createElement("span");
  chevron.classList.add("chevron");
  chevron.textContent = menu.type == "popup" ? "🞂" : " ";
  item.appendChild(chevron);
  return item;
}
function generateCaption(caption) {
  const regex = /(&(\w))/gm;
  const subst = `<u>$2</u>`;
  caption = caption.replace(regex, subst);
  const span = document.createElement("span");
  span.classList.add("caption");
  span.innerHTML = caption;
  return span;
}

// build/skin/makiClasses/menuWa5actions.js
var dummyAction = {
  onUpdate: (menu) => {
  },
  onExecute: (uiRoot) => false
};
var actions = {};
var findAction = (menuId) => {
  const registeredAction = actions[menuId] || {};
  return {...dummyAction, ...registeredAction};
};
async function updateActions(popup, uiRoot) {
  return await Promise.all(popup.children.map(async (menuItem) => {
    if (menuItem.type == "menuitem") {
      const action = findAction(menuItem.id);
      action.onUpdate(menuItem, uiRoot);
    } else if (menuItem.type == "popup") {
      await updateActions(menuItem.popup, uiRoot);
    }
  }));
}
var registerAction = (menuId, action) => {
  actions[menuId] = action;
};
registerAction(40037, {
  onUpdate: (menu, uiRoot) => {
    menu.checked = !uiRoot.audio._timeRemaining;
  },
  onExecute: (uiRoot) => {
    uiRoot.audio._timeRemaining = false;
    return true;
  }
});
registerAction(40038, {
  onUpdate: (menu, uiRoot) => {
    menu.checked = uiRoot.audio._timeRemaining;
  },
  onExecute: (uiRoot) => {
    uiRoot.audio._timeRemaining = true;
    return true;
  }
});
registerAction(40039, {
  onExecute: (uiRoot) => {
    uiRoot.audio.toggleRemainingTime();
    return true;
  }
});
registerAction(40044, {
  onExecute: (uiRoot) => uiRoot.dispatch("prev")
});
registerAction(40045, {
  onExecute: (uiRoot) => uiRoot.dispatch("play")
});
registerAction(40046, {
  onExecute: (uiRoot) => uiRoot.dispatch("pause")
});
registerAction(40047, {
  onExecute: (uiRoot) => uiRoot.dispatch("stop")
});
registerAction(40048, {
  onExecute: (uiRoot) => uiRoot.dispatch("next")
});
registerAction(11111140038, {
  onUpdate: (menu) => {
  }
});
registerAction(40244, {
  onUpdate: (menu, uiRoot) => {
    menu.checked = uiRoot.audio._eqEnabled;
  },
  onExecute: (uiRoot) => {
    uiRoot.eq_toggle();
    return true;
  }
});
registerAction(40040, {
  onUpdate: (menu, uiRoot) => {
    menu.checked = uiRoot.getActionState("toggle", "guid:pl");
  },
  onExecute: (uiRoot) => {
    uiRoot.dispatch("toggle", "guid:pl");
    return true;
  }
});

// build/skin/makiClasses/Layout.js
var Layout = class extends Group_default {
  constructor(uiRoot) {
    super(uiRoot);
    this._resizingDiv = null;
    this._resizing = false;
    this._resizing_start = null;
    this._canResize = 0;
    this._scale = 1;
    this._opacity = 1;
    this._desktopalpha = false;
    this._moving = false;
    this._snap = {left: 0, top: 0, right: 0, bottom: 0};
    this._shortcuts = {};
    this._isLayout = true;
  }
  setXmlAttr(key, value) {
    if (super.setXmlAttr(key, value)) {
      return true;
    }
    switch (key) {
      case "desktopalpha":
        this._desktopAlpha = toBool(value);
        break;
      default:
        return false;
    }
    return true;
  }
  _renderBackground() {
    super._renderBackground();
    if (this._background != null && this._w == 0 && this._h == 0) {
      const bitmap = this._uiRoot.getBitmap(this._background);
      if (bitmap != null) {
        this._w = bitmap.getWidth();
        this._h = bitmap.getHeight();
        this._renderSize();
      }
    }
  }
  getcontainer() {
    return this._parent;
  }
  gettop() {
    return this._parent._y;
  }
  getleft() {
    return this._parent._x;
  }
  resize(x, y, w, h) {
    const container = this._parent;
    container.setXmlAttr("x", String(x));
    container.setXmlAttr("y", String(y));
    this._w = w;
    this._h = h;
    this._renderDimensions();
  }
  dispatchAction(action, param, actionTarget) {
    if (actionTarget != null) {
      const target = this.findobject(actionTarget);
      if (target != null) {
        target.handleAction(action, param, actionTarget);
      }
      return;
    }
    switch (action) {
      default:
        if (this._parent != null) {
          this._parent.dispatchAction(action, param, actionTarget);
        }
    }
  }
  snapadjust(left, top, right, bottom) {
    this._snap.left = left;
    this._snap.top = top;
    this._snap.right = right;
    this._snap.bottom = bottom;
  }
  beforeredock() {
  }
  redock() {
  }
  getsnapadjustbottom() {
    return unimplemented(100);
  }
  clienttoscreenh(h) {
    return unimplemented(h);
  }
  islayoutanimationsafe() {
    return true;
  }
  istransparencysafe() {
    return true;
  }
  getscale() {
    return this._scale;
  }
  setscale(scalevalue) {
    this._scale = scalevalue;
    this.getDiv().style.transform = `scale(${this._scale})`;
  }
  setdesktopalpha(onoff) {
    this._desktopalpha = unimplemented(onoff);
  }
  getdesktopalpha() {
    return this._desktopalpha;
  }
  init() {
    super.init();
  }
  afterInited() {
    this._invalidateSize();
    this._uiRoot.vm.dispatch(this, "onstartup");
  }
  setResizing(cmd, dx, dy) {
    const clampW = (w) => {
      w = this._maximumWidth ? Math.min(w, this._maximumWidth) : w;
      w = this._minimumWidth ? Math.max(w, this._minimumWidth) : w;
      return w;
    };
    const clampH = (h) => {
      h = this._maximumHeight ? Math.min(h, this._maximumHeight) : h;
      h = this._minimumHeight ? Math.max(h, this._minimumHeight) : h;
      return h;
    };
    if (cmd == "constraint") {
      this._canResize = dx;
    } else if (cmd == "start") {
      this.bringtofront();
      const r = this._div.getBoundingClientRect();
      this._resizing_start = r;
      this._resizing = true;
      this._resizingDiv = document.createElement("div");
      this._resizingDiv.className = "resizing";
      const {left, top, width, height} = r;
      this._resizingDiv.style.cssText = `
        width: ${px(width)};
        height: ${px(height)};
        left: ${px(left)};
        top: ${px(top)};
        `;
      document.body.appendChild(this._resizingDiv);
    } else if (dx == CURSOR && dy == CURSOR) {
      this._resizingDiv.style.cursor = cmd;
    } else if (cmd == "move") {
      if (!this._resizing) {
        return;
      }
      let {left, top, width, height, right, bottom} = this._resizing_start;
      if (this._canResize & RIGHT)
        width = clampW(width + dx);
      if (this._canResize & BOTTOM)
        height = clampH(height + dy);
      if (this._canResize & LEFT) {
        width = clampW(width + -dx);
        let l = left + dx;
        if (l + width <= right) {
          left = l;
        } else {
          left = right - this._minimumWidth;
        }
      }
      if (this._canResize & TOP) {
        height = clampH(height + -dy);
        let t = top + dy;
        if (t + height <= bottom) {
          top = t;
        } else {
          top = bottom - this._minimumHeight;
        }
      }
      this._resizingDiv.style.cssText = `
        width: ${px(width)};
        height: ${px(height)};
        left: ${px(left)};
        top: ${px(top)};
      `;
    } else if (cmd == "final") {
      if (!this._resizing) {
        return;
      }
      this._resizing = false;
      this.setXmlAttr("w", this._resizingDiv.offsetWidth.toString());
      this.setXmlAttr("h", this._resizingDiv.offsetHeight.toString());
      const container = this._parent;
      container.setXmlAttr("x", this._resizingDiv.offsetLeft.toString());
      container.setXmlAttr("y", this._resizingDiv.offsetTop.toString());
      this._resizingDiv.remove();
      this._resizingDiv = null;
      this._invalidateSize();
    }
  }
  setMoving(cmd, dx, dy) {
    const container = this._parent;
    if (cmd == "start") {
      this._moving = true;
      this._movingStartX = container._x;
      this._movingStartY = container._y;
      this.bringtofront();
    } else if (dx == CURSOR && dy == CURSOR) {
    } else if (cmd == "move") {
      if (!this._moving) {
        return;
      }
      container.setLocation(this._movingStartX + dx, this._movingStartY + dy);
    } else if (cmd == "final") {
      if (!this._moving) {
        return;
      }
      this._invalidateSize();
      this._moving = false;
    }
  }
  registerShortcuts(popup) {
    forEachMenuItem(popup, (m) => {
      if (m.shortcut) {
        this._shortcuts[m.shortcut] = m.id;
      }
    });
  }
  executeShorcut(shortcut) {
    const menuId = this._shortcuts[shortcut];
    const action = findAction(menuId);
    const invalidateRequired = action.onExecute(this._uiRoot);
  }
};
var Layout_default = Layout;
Layout.GUID = "60906d4e482e537e94cc04b072568861";

// build/skin/Clippath.js
var Edges = class {
  constructor() {
    this._top = [];
    this._right = [];
    this._bottom = [];
    this._left = [];
    this.simplify = true;
  }
  opaqueByTransparent(x, y) {
    return this._data.data[(x + y * this._w) * 4 + 3] != 0;
  }
  parseCanvasTransparency(canvas, preferedWidth = null, preferedHeight = null) {
    this.opaque = this.opaqueByTransparent;
    this._parseCanvasTransparency(canvas, preferedWidth, preferedHeight);
  }
  parseCanvasTransparencyByNonColor(canvas, color) {
    const rgb = hexToRgb(color);
    this.opaque = (x, y) => {
      return this._data.data[(x + y * this._w) * 4 + 0] == rgb.r && this._data.data[(x + y * this._w) * 4 + 1] == rgb.g && this._data.data[(x + y * this._w) * 4 + 2] == rgb.b;
    };
    this._parseCanvasTransparency(canvas, null, null);
  }
  parseCanvasTransparencyByColor(canvas, color) {
    const sum = (r, g, b) => r | g << 8 | b << 16;
    const rgb = hexToRgb(color);
    const transparent = sum(rgb.r, rgb.g, rgb.b);
    this.opaque = (x, y) => {
      const start = (x + y * this._w) * 4;
      const data = this._data.data.slice(start, start + 4);
      const result = sum(data[0], data[1], data[2]) != transparent;
      return result;
    };
    this._parseCanvasTransparency(canvas, null, null);
  }
  _parseCanvasTransparency(canvas, preferedWidth = null, preferedHeight = null) {
    const w = preferedWidth || canvas.width;
    const h = preferedHeight || canvas.height;
    this._w = w;
    const ctx = canvas.getContext("2d");
    this._data = ctx.getImageData(0, 0, w, h);
    let points = [];
    var x, y, lastX, lastY;
    function post(x2, y2, ax, ay) {
      points.push([ax, ay]);
      lastX = x2;
      lastY = y2;
    }
    points = [];
    for (x = 0; x < w; x++) {
      for (y = 0; y < h; y++) {
        if (this.opaque(x, y)) {
          post(x, y, x, y);
          post(x, y, x + 1, y);
          break;
        }
      }
    }
    this._top = points;
    const lastTop = lastY;
    const firstTop = points.length > 0 ? points[0][1] : 0;
    points = [];
    for (y = lastTop; y < h; y++) {
      for (x = w - 1; x >= 0; x--) {
        if (this.opaque(x, y)) {
          post(x, y, x + 1, y);
          post(x, y, x + 1, y + 1);
          break;
        }
      }
    }
    this._right = points;
    const lastRight = lastX;
    points = [];
    for (x = lastRight; x >= 0; x--) {
      for (y = h - 1; y >= 0; y--) {
        if (this.opaque(x, y)) {
          post(x, y, x + 1, y + 1);
          post(x, y, x, y + 1);
          break;
        }
      }
    }
    this._bottom = points;
    const lastBottom = lastY;
    points = [];
    for (y = lastBottom; y >= firstTop; y--) {
      for (x = 0; x < w; x++) {
        if (this.opaque(x, y)) {
          post(x, y, x, y + 1);
          post(x, y, x, y);
          break;
        }
      }
    }
    this._left = points;
  }
  _buildPoint(points) {
    const result = this.simplify ? simplifyPoints(points) : points;
    return result.map((point) => `${point[0]}px ${point[1]}px`).join(", ");
  }
  gettop() {
    return this._buildPoint(this._top);
  }
  getright() {
    return this._buildPoint(this._right);
  }
  getbottom() {
    return this._buildPoint(this._bottom);
  }
  getleft() {
    return this._buildPoint(this._left);
  }
  isSimpleRect() {
    return this._top.length == 2 && this._bottom.length == 2;
  }
  getPolygon() {
    const points = [
      ...this._top,
      ...this._right,
      ...this._bottom,
      ...this._left
    ];
    return `polygon(${this._buildPoint(points)})`;
  }
};
function simplifyPoints(points) {
  const result = [];
  let i = 0;
  let [lx, ly] = [-1, -1];
  let [llx, lly] = [-2, -2];
  while (i < points.length) {
    const next = () => {
      llx = lx;
      lly = ly;
      lx = x;
      ly = y;
      i++;
    };
    const [x, y] = points[i];
    if (x == lx && y == ly) {
      next();
      continue;
    }
    if (result.length >= 2) {
      const [px2, py] = result[result.length - 1];
      const [ppx, ppy] = result[result.length - 2];
      if (x == px2 && (py != ppy || px2 == ppx)) {
        const [xx, yy] = result.pop();
        result.push([xx, y]);
        next();
        continue;
      }
      if (y == py && (px2 != ppx || py == ppy)) {
        const [xx, xy] = result.pop();
        result.push([x, xy]);
        next();
        continue;
      }
    }
    result.push([x, y]);
    next();
  }
  return result;
}

// build/skin/makiClasses/Layer.js
var Layer = class extends Movable_default {
  setXmlAttr(key, value) {
    if (super.setXmlAttr(key, value)) {
      if (key == "sysregion") {
        this._renderRegion();
      }
      return true;
    }
    switch (key) {
      case "image":
        this._image = value;
        this._renderBackground();
        this._renderRegion();
        break;
      case "inactiveimage":
        this._inactiveImage = value;
        this._renderBackground();
      default:
        return false;
    }
    return true;
  }
  getheight() {
    if (this._h) {
      return this._h;
    }
    if (this._image != null) {
      const bitmap = this._uiRoot.getBitmap(this._image);
      if (bitmap)
        return bitmap.getHeight();
    }
    return super.getheight();
  }
  getwidth() {
    if (this._w) {
      return this._w;
    }
    if (this._image != null) {
      const bitmap = this._uiRoot.getBitmap(this._image);
      if (bitmap)
        return bitmap.getWidth();
    }
    return super.getwidth();
  }
  _renderBackground() {
    const bitmap = this._image != null ? this._uiRoot.getBitmap(this._image) : null;
    this.setBackgroundImage(bitmap);
    this.setInactiveBackgroundImage(bitmap);
    if (this._inactiveImage) {
      this.setInactiveBackgroundImage(this._uiRoot.getBitmap(this._inactiveImage));
      this._div.classList.add("inactivable");
    }
  }
  _renderRegion() {
    if (this._sysregion == 1 && this._image) {
      const bitmap = this._uiRoot.getBitmap(this._image);
      if (bitmap && bitmap.getImg()) {
        const canvas = bitmap.getCanvas();
        const edge = new Edges();
        edge.parseCanvasTransparency(canvas, this.getwidth(), this.getheight());
        if (!edge.isSimpleRect()) {
          this._div.style.clipPath = edge.getPolygon();
          return;
        }
      }
      this.setXmlAttr("sysregion", "0");
    }
  }
  draw() {
    super.draw();
    this._div.classList.add("webamp--img");
    this._renderBackground();
  }
};
var Layer_default = Layer;
Layer.GUID = "5ab9fa1545579a7d5765c8aba97cc6a6";

// build/skin/makiClasses/AnimatedLayer.js
var AnimatedLayer = class extends Layer_default {
  constructor() {
    super(...arguments);
    this._vertical = true;
    this._currentFrame = 0;
    this._startFrame = 0;
    this._endFrame = 0;
    this._speed = 200;
    this._autoReplay = true;
    this._autoPlay = false;
    this._animationInterval = null;
    this._paused = false;
  }
  setXmlAttr(_key, value) {
    const key = _key.toLowerCase();
    if (key == "image" && /\%[0-9]*d/.test(value)) {
      this._imageFormat = value;
      return true;
    }
    if (super.setXmlAttr(key, value)) {
      return true;
    }
    switch (key) {
      case "speed":
        this._speed = num(value);
        break;
      case "start":
        this._startFrame = num(value);
        break;
      case "end":
        this._endFrame = num(value);
        break;
      case "frameheight":
        this._frameHeight = num(value);
        this._vertical = true;
        break;
      case "framewidth":
        this._frameWidth = num(value);
        this._vertical = false;
        break;
      case "autoplay":
        this._autoPlay = toBool(value);
        break;
      case "autoreplay":
        this._autoReplay = toBool(value);
        break;
      default:
        return false;
    }
    return true;
  }
  _getImageHeight() {
    const bitmap = this._uiRoot.getBitmap(this._image);
    return bitmap.getHeight();
  }
  getdirection() {
    return unimplemented(this._vertical ? 1 : 0);
  }
  getlength() {
    const bitmap = this._uiRoot.getBitmap(this._image);
    if (!bitmap || !bitmap.getImg()) {
      return 0;
    }
    if (this._vertical) {
      return bitmap.getHeight() / (this._frameHeight || this.getheight());
    } else {
      return bitmap.getWidth() / (this._frameWidth || this.getwidth());
    }
  }
  gotoframe(framenum) {
    this._currentFrame = ensureVmInt(framenum);
    this._renderFrame();
    this._uiRoot.vm.dispatch(this, "onframe", [
      {type: "INT", value: this._currentFrame}
    ]);
  }
  getcurframe() {
    return this._currentFrame;
  }
  setstartframe(framenum) {
    this._startFrame = ensureVmInt(framenum);
  }
  setendframe(framenum) {
    this._endFrame = ensureVmInt(framenum);
  }
  setspeed(msperframe) {
    this._speed = msperframe;
  }
  play() {
    if (this._animationInterval != null) {
      clearInterval(this._animationInterval);
      this._animationInterval = null;
    }
    this._paused = false;
    const end = this._endFrame;
    const start = this._startFrame;
    const change = end > start ? 1 : -1;
    const backward = end < start;
    let frame = this._startFrame;
    this.gotoframe(frame);
    this._uiRoot.vm.dispatch(this, "onplay");
    if (frame === end && !this._autoReplay) {
      this.stop();
      return;
    }
    this._animationInterval = setInterval(() => {
      if (this._paused) {
        return;
      }
      this.gotoframe(frame);
      if (frame === end) {
        if (!this._autoReplay) {
          this.stop();
        }
      }
      if (backward) {
        frame -= 1;
        if (frame < end) {
          frame = start;
        } else if (frame > start) {
          frame = end;
        }
      } else {
        frame += change;
        if (frame < start) {
          frame = end;
        } else if (frame > end) {
          frame = start;
        }
      }
    }, this._speed);
  }
  pause() {
    this._paused = true;
    this._uiRoot.vm.dispatch(this, "onpause");
  }
  stop() {
    if (this._animationInterval != null) {
      clearInterval(this._animationInterval);
      this._animationInterval = null;
    }
    this._uiRoot.vm.dispatch(this, "onstop");
  }
  isplaying() {
    return this._animationInterval != null;
  }
  ispaused() {
    return this._animationInterval != null && this._paused;
  }
  isstopped() {
    return this.isplaying() && !this._paused;
  }
  setautoreplay(onoff) {
    this._autoReplay = onoff;
  }
  getautoreplay() {
    return this._autoReplay;
  }
  getstartframe() {
    return this._startFrame;
  }
  getendframe() {
    return this._endFrame;
  }
  setrealtime(onoff) {
    const a = 1;
  }
  _getActualHeight() {
    return this._h || this._div.getBoundingClientRect().height;
  }
  init() {
    super.init();
    if (!this._frameHeight) {
      this._frameHeight = this.getheight();
    }
    if (this._endFrame == 0 && this.getlength() > 0) {
      this._endFrame = this.getlength() - 1;
    }
    if (this._startFrame != 0) {
      this.gotoframe(this._startFrame);
    }
    if (this._autoPlay)
      this.play();
  }
  _renderFrame() {
    if (this._vertical) {
      this._div.style.backgroundPositionY = px(-(this._currentFrame * this._frameHeight));
    } else {
      this._div.style.backgroundPositionX = px(-(this._currentFrame * this._frameWidth));
    }
  }
  draw() {
    super.draw();
    this._renderFrame();
    this._div.setAttribute("data-obj-name", "AnimatedLayer");
  }
};
var AnimatedLayer_default = AnimatedLayer;
AnimatedLayer.GUID = "6b64cd274c4b5a26a7e6598c3a49f60c";

// build/skin/makiClasses/PopupMenu.js
function waitPopup(popup, x = 0, y = 0) {
  return new Promise((acc) => {
    const itemClick = (id2) => {
      closePopup();
      acc(id2);
    };
    const div = generatePopupDiv(popup, itemClick);
    if (x || y) {
      div.style.left = px(x);
      div.style.top = px(y);
    }
    document.getElementById("web-amp").appendChild(div);
    const closePopup = () => {
      div.remove();
      popup._successPromise = null;
    };
    const outsideClick = (ret) => {
      closePopup();
      acc(ret);
    };
    popup._successPromise = outsideClick;
    function handleClick() {
      document.removeEventListener("click", handleClick);
      closePopup();
      acc(-1);
    }
    document.addEventListener("click", handleClick);
  });
}
var PopupMenu = class extends BaseObject_default {
  constructor(uiRoot) {
    super();
    this.children = [];
    this._successPromise = null;
    this._uiRoot = uiRoot;
  }
  _addcommand(cmdText, cmd_id, checked = false, disabled = false, data = {}) {
    this.children.push({
      type: "menuitem",
      ...extractCaption(cmdText),
      id: cmd_id,
      checked,
      disabled,
      data
    });
  }
  addcommand(cmdText, cmd_id, checked, disabled) {
    if (cmd_id == 32767) {
      this._loadSkins();
      return;
    }
    this._addcommand(cmdText, cmd_id, checked, disabled);
  }
  addseparator() {
    this.children.push({type: "separator"});
  }
  addsubmenu(popup, submenutext) {
    this.children.push({
      type: "popup",
      popup,
      ...extractCaption(submenutext)
    });
  }
  checkcommand(cmd_id, check) {
    const item = this.children.find((item2) => {
      return item2.type === "menuitem" && item2.id === cmd_id;
    });
    assume(item != null, `Could not find item with id "${cmd_id}"`);
    if (item.type !== "menuitem") {
      throw new Error("Expected item to be an item.");
    }
    item.checked = check;
  }
  disablecommand(cmd_id, disable) {
    for (const item of this.children) {
      if (item.type == "menuitem" && item.id == cmd_id) {
        item.disabled = disable;
        break;
      }
    }
  }
  async popatmouse() {
    console.log("popAtMouse.start...:");
    const mousePos = this._uiRoot._mousePos;
    const result = await this.popatxy(mousePos.x, mousePos.y);
    console.log("popAtMouse.return:", result);
    return result;
  }
  async popatxy(x, y) {
    destroyActivePopup();
    setActivePopup(this);
    const ret = await waitPopup(this, x, y);
    deactivePopup(this);
    return ret;
  }
  doClosePopup() {
    if (this._successPromise) {
      this._successPromise(-1);
    }
  }
  _loadSkins() {
    let action_id = 32767;
    this._uiRoot._skins.forEach((skin) => {
      const name = typeof skin === "string" ? skin : skin.name;
      const url = typeof skin === "string" ? skin : skin.url;
      const skin_info = {name, url};
      action_id++;
      registerAction(action_id, {
        onUpdate: (menu, uiRoot) => {
          menu.checked = uiRoot.getSkinName() == menu.caption || uiRoot.getSkinUrl() == menu.data.url;
        },
        onExecute: (uiRoot) => {
          uiRoot.switchSkin(skin_info);
          return true;
        }
      });
      this._addcommand(name, action_id, false, false, skin_info);
    });
  }
  getnumcommands() {
    return this.children.length;
  }
  hideMenu(cmd_id) {
    for (const item of this.children) {
      if (item.type == "menuitem" && item.id == cmd_id) {
        item.invisible = true;
        break;
      }
    }
  }
};
var PopupMenu_default = PopupMenu;
PopupMenu.GUID = "f4787af44ef7b2bb4be7fb9c8da8bea9";

// build/skin/makiClasses/ToggleButton.js
var ToggleButton = class extends Button_default {
  getElTag() {
    return "button";
  }
  getcurcfgval() {
    return this._active ? 1 : 0;
  }
  _cfgAttribChanged(newValue) {
    this.setactivated(newValue != "0");
    this.ontoggle(this._active);
  }
  _handleMouseDown(e) {
    e.stopPropagation();
    this.setactivated(!this._active);
    this.updateCfgAttib(this._active ? "1" : "0");
    this.ontoggle(this._active);
  }
  ontoggle(onoff) {
    this._uiRoot.vm.dispatch(this, "ontoggle", [V.newBool(onoff)]);
  }
  onactivate(activated) {
    this._uiRoot.vm.dispatch(this, "onactivate", [
      {type: "INT", value: activated}
    ]);
  }
  draw() {
    super.draw();
    this._div.setAttribute("data-obj-name", "ToggleButton");
  }
};
var ToggleButton_default = ToggleButton;
ToggleButton.GUID = "b4dccfff4bcc81fe0f721b96ff0fbed5";

// build/skin/makiClasses/LayoutStatus.js
var LayoutStatus = class extends GuiObj_default {
  setXmlAttr(key, value) {
    if (super.setXmlAttr(key, value)) {
      return true;
    }
    switch (key) {
      default:
        return false;
    }
    return true;
  }
  callme(str) {
    console.log("callme:", str);
  }
};
var LayoutStatus_default = LayoutStatus;
LayoutStatus.GUID = "7fd5f21048dfacc45154a0a676dc6c57";

// build/skin/makiClasses/Status.js
var Status = class extends GuiObj_default {
  constructor(uiRoot) {
    super(uiRoot);
    this._state = AUDIO_STOPPED;
    this._uiRoot.audio.on("statchanged", () => this._updateStatus());
  }
  _updateStatus() {
    this._state = this._uiRoot.audio.getState();
    this._renderBackground();
  }
  setXmlAttr(_key, value) {
    const key = _key.toLowerCase();
    if (super.setXmlAttr(key, value)) {
      return true;
    }
    switch (key) {
      case "stopbitmap":
        this._stopbitmap = value;
        this._renderBackground();
        break;
      case "playbitmap":
        this._playbitmap = value;
        this._renderBackground();
        break;
      case "pausebitmap":
        this._pausebitmap = value;
        this._renderBackground();
        break;
      default:
        return false;
    }
    return true;
  }
  getheight() {
    if (this._h) {
      return this._h;
    }
    if (this._stopbitmap != null) {
      const bitmap = this._uiRoot.getBitmap(this._stopbitmap);
      return bitmap ? bitmap.getHeight() : 15;
    }
    return super.getheight();
  }
  getwidth() {
    if (this._w) {
      return this._w;
    }
    if (this._stopbitmap != null) {
      const bitmap = this._uiRoot.getBitmap(this._stopbitmap);
      return bitmap ? bitmap.getWidth() : 15;
    }
    return super.getwidth();
  }
  _renderBackground() {
    let bitmap_id;
    switch (this._state) {
      case AUDIO_PLAYING:
        bitmap_id = this._playbitmap;
        break;
      case AUDIO_PAUSED:
        bitmap_id = this._pausebitmap;
        break;
      case AUDIO_STOPPED:
      default:
        bitmap_id = this._stopbitmap;
        break;
    }
    const bitmap = this._uiRoot.getBitmap(bitmap_id);
    if (bitmap != null) {
      this.setBackgroundImage(bitmap);
    } else {
      this.setBackgroundImage(null);
    }
  }
  draw() {
    super.draw();
    this._div.classList.add("webamp--img");
    this._renderBackground();
  }
};
var Status_default = Status;
Status.GUID = "0f08c9404b23af39c4b8f38059bb7e8f";

// build/skin/TrueTypeFont.js
var TrueTypeFont = class {
  setXmlAttributes(attributes) {
    for (const [key, value] of Object.entries(attributes)) {
      this.setXmlAttr(key, value);
    }
  }
  setXmlAttr(key, value) {
    switch (key.toLowerCase()) {
      case "id":
        this._id = value;
        break;
      case "family":
        this._inlineFamily = value;
        break;
      case "file":
        this._file = value;
        break;
      default:
        return false;
    }
    return true;
  }
  getId() {
    return this._id || "";
  }
  getFontFamily() {
    return `'${this._inlineFamily || this._fontFace.family || this.getId()}'`;
  }
  dispose() {
    document.fonts.delete(this._fontFace);
  }
  getBase64() {
    console.log("getting Base64. me:", this.getId());
    return this._imageManager.getCachedUrl(this._file);
  }
  hasUrl() {
    return this._imageManager != null;
  }
  async ensureFontLoaded(imageManager) {
    if (!this._file)
      return;
    assert(this._fontFace == null, "Tried to ensure a TrueTypeFont was laoded more than once.");
    this._imageManager = imageManager;
    const fontUrl = await imageManager.getUrl(this._file);
    const sanitizedFile = this._file.replace(/\./, "_");
    const fontFamily = `font-${getId()}-${this.getId()}-${sanitizedFile}`;
    const font = new FontFace(fontFamily, `url(${fontUrl})`);
    this._fontFace = await font.load();
    document.fonts.add(this._fontFace);
  }
};
var TrueTypeFont_default = TrueTypeFont;

// build/skin/Bitmap.js
function genCssVar(bitmapId) {
  return `--bitmap-${bitmapId.replace(/[^a-zA-Z0-9]/g, "-")}`;
}
var Bitmap = class {
  constructor(uiRoot = null) {
    this._x = 0;
    this._y = 0;
    this._uiRoot = uiRoot;
  }
  setUiRoot(uiRoot) {
    this._uiRoot = uiRoot;
  }
  setXmlAttributes(attributes) {
    for (const [key, value] of Object.entries(attributes)) {
      this.setXmlAttr(key, value);
    }
  }
  setXmlAttr(_key, value) {
    var _a, _b;
    const key = _key.toLowerCase();
    switch (key) {
      case "id":
        this._id = value;
        this._cssVar = genCssVar(this.getId());
        break;
      case "x":
        this._x = (_a = num(value)) != null ? _a : 0;
        break;
      case "y":
        this._y = (_b = num(value)) != null ? _b : 0;
        break;
      case "w":
        this._w = num(value);
        break;
      case "h":
        this._h = num(value);
        break;
      case "file":
        this._file = value;
        break;
      case "gammagroup":
        this._gammagroup = value;
        break;
      case "transparentcolor":
        this._transparentColor = value;
        break;
      default:
        return false;
    }
    return true;
  }
  getId() {
    return this._id || "";
  }
  getFile() {
    return this._file || "";
  }
  getWidth() {
    return this._w;
  }
  getHeight() {
    return this._h;
  }
  getLeft() {
    return this._x;
  }
  getTop() {
    return this._y;
  }
  getCSSVar() {
    return this._cssVar;
  }
  getGammaGroup() {
    return this._gammagroup;
  }
  getImg() {
    return this._img;
  }
  setImage(img) {
    this._img = img;
  }
  loaded() {
    return this._img != null;
  }
  async ensureImageLoaded(imageManager) {
    assert(this._url == null, "Tried to ensure a Bitmap was laoded more than once.");
    this._img = await imageManager.getImage(this._file);
    if (this._img && this._w == null && this._h == null) {
      this.setXmlAttr("w", String(this._img.width));
      this.setXmlAttr("h", String(this._img.height));
    }
  }
  _getBackgrondImageCSSAttribute() {
    return `var(${this.getCSSVar()})`;
  }
  _getBackgrondPositionCSSAttribute() {
    var _a, _b;
    const x = px(-((_a = this._x) != null ? _a : 0));
    const y = px(-((_b = this._y) != null ? _b : 0));
    return `${x} ${y}`;
  }
  _getBackgrondSizeCSSAttribute() {
    const width = px(this._w);
    const height = px(this._h);
    return `${width} ${height}`;
  }
  _setAsBackground(div, prefix) {
    div.style.setProperty(`--${prefix}background-image`, this._getBackgrondImageCSSAttribute());
  }
  setAsBackground(div) {
    this._setAsBackground(div, "");
  }
  setAsDownBackground(div) {
    this._setAsBackground(div, "down-");
  }
  setAsActiveBackground(div) {
    this._setAsBackground(div, "active-");
  }
  setAsInactiveBackground(div) {
    this._setAsBackground(div, "inactive-");
  }
  setAsHoverBackground(div) {
    this._setAsBackground(div, "hover-");
  }
  setAsHoverDownBackground(div) {
    this._setAsBackground(div, "hover-down-");
  }
  setAsDisabledBackground(div) {
    this._setAsBackground(div, "disabled-");
  }
  async getGammaTransformedUrl(uiRoot) {
    const buildCssProp = (url2) => `  ${this.getCSSVar()}: url(${url2});`;
    const img = this.getImg();
    if (!img) {
      console.warn(`Bitmap/font ${this.getId()} has no img. skipped.`);
      return "";
    }
    const groupId = this.getGammaGroup();
    const gammaGroup = uiRoot._getGammaGroup(groupId);
    if (gammaGroup._value == "0,0,0" && gammaGroup._gray == 0) {
      const url2 = await this.toDataURL(uiRoot);
      return buildCssProp(url2);
    }
    const url = gammaGroup.transformImage(img, this._x, this._y, this._w, this._h);
    return buildCssProp(url);
  }
  async toDataURL(uiRoot) {
    if (this._file.endsWith(".gif")) {
      return await uiRoot.getImageManager().getUrl(this._file);
    } else {
      return this.getCanvas().toDataURL();
    }
  }
  getCanvas(store = false) {
    let workingCanvas;
    if (this._canvas == null || !store) {
      assert(this._img != null, `Expected bitmap image to be loaded: ${this.getId()}`);
      if (this._img instanceof HTMLCanvasElement) {
        workingCanvas = this._img;
      } else {
        workingCanvas = document.createElement("canvas");
        workingCanvas.width = this.getWidth();
        workingCanvas.height = this.getHeight();
        const ctx = workingCanvas.getContext("2d");
        ctx.drawImage(this._img, -this._x, -this._y);
        if (this._transparentColor != null) {
          const rgb = hexToRgb(this._transparentColor);
          var image = ctx.getImageData(0, 0, workingCanvas.width, workingCanvas.height);
          var data = image.data;
          const length = data.length;
          for (var i = 0; i < length; i += 4) {
            if (data[i + 0] == rgb.r && data[i + 1] == rgb.g && data[i + 2] == rgb.b) {
              data[i + 3] = 0;
            }
          }
          ctx.putImageData(image, 0, 0);
        }
      }
      if (store) {
        this._canvas = workingCanvas;
      }
    }
    if (store) {
      workingCanvas = this._canvas;
    }
    return workingCanvas;
  }
};
var Bitmap_default = Bitmap;

// build/skin/BitmapFont.js
var CHARS = [
  'abcdefghijklmnopqrstuvwxyz"@  ',
  "0123456789….:()-'!_+\\/[]^&%,=$#\nâöä?*"
];
var CHAR_MAP = {};
CHARS.forEach((chars, line) => {
  chars.split("").forEach((char, col) => {
    CHAR_MAP[char] = [col, line];
  });
});
console.log("CHAR_MAP:", CHAR_MAP);
var BitmapFont = class extends Bitmap_default {
  constructor() {
    super(...arguments);
    this._horizontalSpacing = 0;
    this._externalBitmap = false;
    this._bitmap = null;
    this._wa2bignum = 0;
  }
  setXmlAttr(_key, value) {
    if (super.setXmlAttr(_key, value)) {
      return true;
    }
    const key = _key.toLowerCase();
    switch (key) {
      case "charwidth":
        this._charWidth = num(value);
        break;
      case "charheight":
        this._charHeight = num(value);
        break;
      case "hspacing":
        this._horizontalSpacing = num(value);
        break;
      case "vspacing":
        this._verticalSpacing = num(value);
        break;
      case "wa2bignum":
        this._wa2bignum = num(value);
        break;
      default:
        return false;
    }
    return true;
  }
  getHorizontalSpacing() {
    return this._horizontalSpacing;
  }
  _setAsBackground(div, prefix) {
    if (this._externalBitmap) {
      if (!this._bitmap && this._uiRoot != null) {
        this._bitmap = this._uiRoot.getBitmap(this._file);
      }
      if (this._bitmap != null) {
        this._bitmap._setAsBackground(div, prefix);
      }
    } else {
      super._setAsBackground(div, prefix);
    }
  }
  renderLetter(char) {
    var _a;
    if (char == "-" && this._wa2bignum != 0) {
      if (this._wa2bignum == 1) {
        char = ".";
      } else {
        return this.renderWa2MinusChar();
      }
    }
    const span = document.createElement("span");
    const [x, y] = (_a = CHAR_MAP[char.toLocaleLowerCase()]) != null ? _a : CHAR_MAP[" "];
    span.innerText = char;
    span.style.setProperty("--x", px(-(this._charWidth * x)));
    span.style.setProperty("--y", px(-(this._charHeight * y)));
    return span;
  }
  renderWa2MinusChar() {
    const span = document.createElement("span");
    span.innerText = "-";
    span.classList.add("minus", "bignum");
    return span;
  }
  useExternalBitmap() {
    return this._externalBitmap;
  }
  setExternalBitmap(isExternal) {
    this._externalBitmap = isExternal;
  }
};
var BitmapFont_default = BitmapFont;

// build/skin/makiClasses/Timer.js
var TIMER_IDS = 0;
var Timer = class extends BaseObject_default {
  constructor(uiRoot) {
    super();
    this._delay = 5e3;
    this._timeout = null;
    this._onTimer = null;
    this._uiRoot = uiRoot;
    TIMER_IDS += 1;
    this._id = `timer_${TIMER_IDS}`;
  }
  setdelay(millisec) {
    const running = this.isrunning();
    if (running)
      this.stop();
    this._delay = millisec;
    if (running)
      this.start();
  }
  stop() {
    if (this._timeout != null) {
      clearTimeout(this._timeout);
      this._timeout = null;
    }
  }
  start() {
    if (!this._delay) {
      return false;
    }
    const self2 = this;
    try {
      assume(this._delay != null, "Tried to start a timer without a delay");
      if (this.isrunning()) {
        this.stop();
      }
      this._timeout = setInterval(() => {
        self2.doTimer();
      }, this._delay);
      return true;
    } catch (err) {
      return false;
    }
    return false;
  }
  doTimer() {
    if (this._onTimer != null) {
      this._onTimer();
    } else {
      this._uiRoot.vm.dispatch(this, "ontimer");
    }
  }
  ontimer() {
    this._uiRoot.vm.dispatch(this, "ontimer");
  }
  setOnTimer(callback) {
    const handler = () => {
      callback();
    };
    this._onTimer = handler;
  }
  isrunning() {
    return this._timeout != null;
  }
  getdelay() {
    return this._delay;
  }
  getskipped() {
    return 0;
  }
};
var Timer_default = Timer;
Timer.GUID = "5d0c5bb64b1f7de1168d0fa741199459";

// build/skin/makiClasses/Text.js
var Text = class extends GuiObj_default {
  constructor(uiRoot) {
    super(uiRoot);
    this._displayValue = "";
    this._align = "left";
    this._valign = "center";
    this._ticker = "off";
    this._paddingX = 2;
    this._timeColonWidth = null;
    this._timeroffstyle = 0;
    this._scrollPaused = false;
    this._scrollLeft = 0;
    this._shadowX = 0;
    this._shadowY = 0;
    this._drawn = false;
    this._onClick = () => {
      if (this._display.toLowerCase() == "time") {
        this._uiRoot.audio.toggleRemainingTime();
        this.setDisplayTime();
      }
    };
    this._uiRoot = uiRoot;
    this._textWrapper = document.createElement("wrap");
    this._div.appendChild(this._textWrapper);
  }
  setXmlAttr(key, value) {
    if (super.setXmlAttr(key, value)) {
      return true;
    }
    switch (key.toLowerCase()) {
      case "display":
        this._setDisplay(value);
        break;
      case "text":
      case "default":
        this._text = value;
        this._renderText();
        break;
      case "bold":
        this._bold = toBool(value);
        this._prepareCss();
        break;
      case "forceupcase":
      case "forceuppercase":
        this._forceuppercase = toBool(value);
        this._prepareCss();
        this._renderText();
        break;
      case "font":
        this._font_id = value;
        this._autoDetectFontType();
        this.ensureFontSize();
        this._prepareCss();
        break;
      case "align":
        this._align = value;
        this._prepareCss();
        break;
      case "valign":
        this._valign = value;
        this._prepareCss();
        break;
      case "fontsize":
        this._fontSize = num(value);
        this.ensureFontSize();
        this._invalidateFullWidth();
        this._prepareCss();
        break;
      case "color":
        this._color = value;
        this._prepareCss();
        break;
      case "ticker":
        if (value == "0")
          value = "off";
        this._ticker = value.toLowerCase();
        break;
      case "timecolonwidth":
        this._timeColonWidth = num(value);
        this._prepareCss();
        this._renderText();
        break;
      case "timeroffstyle":
        this._timeroffstyle = num(value);
        this._setDisplay(this._display);
        break;
      case "shadowcolor":
        this._shadowColor = value;
        this._prepareCss();
        break;
      case "shadowx":
        this._shadowX = num(value);
        this._prepareCss();
        break;
      case "shadowy":
        this._shadowY = num(value);
        this._prepareCss();
        break;
      default:
        return false;
    }
    return true;
  }
  _autoDetectFontType() {
    if (this._font_id) {
      this._font_obj = this._uiRoot.getFont(this._font_id);
      if (!this._font_obj) {
        const newFont = new TrueTypeFont_default();
        newFont._inlineFamily = this._font_id;
        this._uiRoot.addFont(newFont);
        this._font_obj = newFont;
      }
    }
  }
  _autoDetectColor() {
    if (this._color) {
      if (this._color.split(",").length == 3) {
        this._div.style.color = `rgb(${this._color})`;
        return;
      }
      const color = this._uiRoot.getColor(this._color);
      if (color) {
        this._div.style.color = `var(${color.getCSSVar()}, ${color.getRgb()})`;
      }
    }
  }
  ensureFontSize() {
    if (this._font_obj instanceof TrueTypeFont_default && this._fontSize) {
      const canvas = document.createElement("canvas");
      const context = canvas.getContext("2d");
      context.font = `${this._fontSize}px ${this._font_obj.getFontFamily() || "Arial"}`;
      const metrics = context.measureText("IWjgyFH");
      const fontHeight = metrics.fontBoundingBoxAscent + metrics.fontBoundingBoxDescent;
      this._fontSize = this._fontSize * (1 - (1 * fontHeight - this._fontSize) / (1 * this._fontSize));
    }
  }
  init() {
    super.init();
    if (this._ticker && this._ticker != "off") {
      this._prepareScrolling();
    }
    this._div.addEventListener("click", this._onClick);
    if (this._displayHandler != null) {
      this._displayHandler.init();
    }
  }
  _setDisplay(display) {
    if (display == null) {
      return;
    }
    if (this._disposeDisplaySubscription != null) {
      this._disposeDisplaySubscription();
    }
    if (this._disposeTrackChangedSubscription != null) {
      this._disposeTrackChangedSubscription();
    }
    this._display = display;
    switch (this._display.toLowerCase()) {
      case "":
        this._displayValue = "";
        break;
      case "pe_info":
        this._displayValue = "pe_info";
        break;
      case "vid_info":
        this._displayValue = "vid_info";
        break;
      case "time":
        this._disposeDisplaySubscription = this._uiRoot.audio.onCurrentTimeChange(() => {
          this.setDisplayTime();
        });
        console.log("in changing display = time. by:", display);
        this.setDisplayTime();
        break;
      case "songlength":
        this._displayValue = "5:58";
        break;
      case "songname":
      case "songtitle":
        this._displayValue = this._uiRoot.playlist.getCurrentTrackTitle();
        this._disposeTrackChangedSubscription = this._uiRoot.playlist.on("trackchange", () => {
          this._displayValue = this._uiRoot.playlist.getCurrentTrackTitle();
          this._renderText();
        });
        break;
      case "songbitrate":
      case "songsamplerate":
      case "songinfo":
        this._displayValue = "112kbps stereo 44.";
        break;
      case "componentbucket":
        this._displayValue = "componentbucket";
        break;
      case "custom":
        break;
      default:
        throw new Error(`Unknown text display name: "${this._display}".`);
    }
    this._renderText();
  }
  setDisplayValue(newValue) {
    if (newValue !== this._displayValue) {
      this._displayValue = newValue;
      this._renderText();
      this._uiRoot.vm.dispatch(this, "ontextchanged", [
        {type: "STRING", value: this.gettext()}
      ]);
    }
  }
  setDisplayTime() {
    if (this._uiRoot.audio._isStop) {
      switch (this._timeroffstyle) {
        case 0:
          this.setDisplayValue("  : ");
          break;
        case 1:
          this.setDisplayValue("00:00");
          break;
        case 2:
          this.setDisplayValue("");
          break;
      }
      return;
    }
    this.setDisplayValue(integerToTime(this._uiRoot.audio.getCurrentTime()));
  }
  ontextchanged(s) {
    this._uiRoot.vm.dispatch(this, "ontextchanged", [
      {type: "STRING", value: this.gettext()}
    ]);
  }
  _interpolateText(value) {
    switch (value.toLowerCase()) {
      case ":componentname":
        const layout = this.getparentlayout();
        if (layout) {
          try {
            return layout.getcontainer()._name || value;
          } catch (e) {
            return value;
          }
        }
        break;
    }
    return value;
  }
  gettext() {
    var _a;
    if (this._alternateText) {
      return this._alternateText;
    }
    if ((this._text || "").startsWith(":") && this._drawn) {
      const layout = this.getparentlayout();
      if (layout) {
        return layout.getcontainer()._name || this._text;
      }
    }
    if (this._display) {
      if (this._display == "songinfo") {
        const track = this._uiRoot.playlist.currentTrack();
        if (track) {
          const m = track.metadata;
          return `${m.bitrate}kbps ${m.channelMode} ${Math.floor(m.sampleRate / 1e3)}khz`;
        }
      }
      return this._displayValue;
    }
    return (_a = this._text) != null ? _a : "";
  }
  settext(txt) {
    if (this._text != txt) {
      this._text = txt;
      this._renderText();
    }
  }
  setalternatetext(txt) {
    this._alternateText = txt;
    this._renderText();
  }
  _prepareCss() {
    var _a;
    if (!this._font_obj && this._font_id) {
      this._font_obj = this._uiRoot.getFont(this._font_id);
    }
    const font = this._font_obj;
    if (font instanceof BitmapFont_default) {
      this._textWrapper.setAttribute("font", "BitmapFont");
      this._div.style.setProperty("--fontSize", (this._fontSize || "~").toString());
      if (this._align != "center") {
        this._div.style.setProperty("--align", this._align);
      } else {
        this._div.style.removeProperty("--align");
      }
      if (this._valign != "center") {
        this._div.style.setProperty("--valign", this._valign == "top" ? "flex-start" : "flex-end");
      } else {
        this._div.style.removeProperty("--valign");
      }
      this._div.style.setProperty("--hspacing", px(font.getHorizontalSpacing()));
      this.setBackgroundImage(font);
      this._div.style.backgroundSize = "0";
      this._div.style.lineHeight = px(this._div.getBoundingClientRect().height);
      this._div.style.setProperty("--charwidth", px(font._charWidth));
      this._div.style.setProperty("--charheight", px(font._charHeight));
    } else {
      this._autoDetectColor();
      if (this._shadowColor) {
        this._div.style.textShadow = `${this._shadowX}px ${this._shadowY}px rgb(${this._shadowColor})`;
      }
      if (font instanceof TrueTypeFont_default) {
        this._textWrapper.setAttribute("font", "TrueType");
        this._div.style.fontFamily = font.getFontFamily();
        this._div.style.fontSize = px((_a = this._fontSize) != null ? _a : 11);
        this._div.style.lineHeight = "1";
        this._div.style.textTransform = this._forceuppercase ? "uppercase" : "none";
        if (this._bold) {
          this._div.style.fontWeight = "bold";
        }
        if (this._align) {
          this._div.style.textAlign = this._align;
        }
      } else if (font == null) {
        this._div.style.setProperty("--fontMode", "Null");
        this._div.style.fontFamily = "Arial";
      } else {
        throw new Error("Unexpected font");
      }
    }
  }
  _renderText() {
    if (this._ticker != "off")
      this._invalidateFullWidth();
    const font = this._font_obj;
    if (font instanceof BitmapFont_default) {
      this._renderBitmapFont(font);
    } else {
      this._textWrapper.innerText = this.gettext();
    }
  }
  _useColonWidth() {
    if (this._timeColonWidth == null || this._display == null) {
      return false;
    }
    switch (this._display.toLowerCase()) {
      case "time":
      case "timeelapsed":
      case "timeremaining":
        return true;
    }
    return false;
  }
  _renderBitmapFont(font) {
    removeAllChildNodes(this._textWrapper);
    this._div.style.whiteSpace = "nowrap";
    const useColonWidth = this._useColonWidth();
    if (this.gettext() != null) {
      for (const char of this.gettext().split("")) {
        const charNode = font.renderLetter(char);
        if (char === ":" && useColonWidth) {
          charNode.style.width = px(this._timeColonWidth);
          charNode.style.marginRight = "0";
        }
        this._textWrapper.appendChild(charNode);
      }
    }
  }
  _renderBitmapFont1(font) {
    this._div.style.whiteSpace = "nowrap";
    let s = "";
    for (const char of this.gettext().split("")) {
      s += `<i>${char}</i>`;
    }
    this._div.innerHTML = s;
  }
  _invalidateFullWidth() {
    const font = this._font_obj;
    if (font instanceof BitmapFont_default) {
      this._textFullWidth = this._getBitmapFontTextWidth(font);
    } else {
      this._textFullWidth = this._getTrueTypeTextWidth(font);
    }
    this._div.style.setProperty("--full-width", px(this._textFullWidth));
  }
  getautowidth() {
    this._invalidateFullWidth();
    let textWidth = this._textFullWidth;
    if (this._relatw == "1") {
      textWidth += this._w * -1;
    }
    return textWidth;
  }
  gettextwidth() {
    return this.getautowidth();
  }
  _getBitmapFontTextWidth(font) {
    const charWidth = font._charWidth;
    return this.gettext().length * charWidth;
  }
  _getTrueTypeTextWidth(font) {
    let txt = this.gettext();
    if (this._forceuppercase) {
      txt = txt.toUpperCase();
    } else if (this._forcelowercase) {
      txt = txt.toLowerCase();
    }
    const fontFamily = font && font.getFontFamily() || '"Liberation Sans", "DejaVu Sans", Arial';
    const canvas = document.createElement("canvas");
    const context = canvas.getContext("2d");
    context.font = `${this._bold ? "700" : ""} ${this._fontSize || 11}px ${fontFamily}`;
    const metrics = context.measureText(this.gettext());
    return Math.ceil(metrics.width);
  }
  draw() {
    this._drawn = true;
    super.draw();
    this._renderText();
    this._div.classList.add("webamp--img");
  }
  _prepareScrolling() {
    this._scrollDirection = -1;
    const timer = this._scrollTimer = new Timer_default(this._uiRoot);
    timer.setdelay(50);
    timer.setOnTimer(() => {
      this.doScrollText();
    });
    timer.start();
  }
  doScrollText() {
    const curL = this._scrollLeft;
    const step = 1;
    const idle = 20;
    const container = this._div.getBoundingClientRect();
    const wrapperWidth = this._textFullWidth;
    if (wrapperWidth <= container.width)
      return;
    var l = curL + step * this._scrollDirection;
    if (l + wrapperWidth < container.width - step * idle) {
      this._scrollDirection *= -1;
      l = curL + step * this._scrollDirection;
    } else if (l > step * idle) {
      this._scrollDirection *= -1;
      l = curL + step * this._scrollDirection;
    }
    this._scrollLeft = l;
    l = clamp(l, -(wrapperWidth - container.width), 0);
    this._textWrapper.style.left = px(Math.round(l));
  }
  dispose() {
    if (this._disposeDisplaySubscription != null) {
      this._disposeDisplaySubscription();
    }
    if (this._displayHandler != null) {
      this._displayHandler.dispose();
    }
  }
  setDisplayHandler(Handler) {
    if (this._displayHandler != null) {
      this._displayHandler.dispose();
    }
    this._displayHandler = new Handler(this);
  }
};
var Text_default = Text;
Text.GUID = "efaa867241fa310ea985dcb74bcb5b52";

// build/skin/makiClasses/menuWa5.js
function getWa5Popup(popupId, uiRoot) {
  if (["PE_Help", "ML_Help"].includes(popupId))
    popupId = "Help";
  else if (popupId.toLowerCase() == "presets")
    popupId = "EQpresets";
  const id2 = `POPUP "${popupId}"`;
  const res = wa5commonRes.includes(id2) ? wa5commonRes : wa5miscRes.includes(id2) ? wa5miscRes : wa5controlRes;
  const popup = getPopupJson(popupId, res, uiRoot);
  console.log("FOUND", popupId, popup);
  return popup;
}
function getPopupJson(popupId, res, uiRoot) {
  let root;
  let popup = null;
  let popupStack = [];
  let found = false;
  for (let line of res.split("\n")) {
    line = line.trim();
    if (!found && !line.startsWith("POPUP"))
      continue;
    if (!line || line.startsWith("//")) {
      continue;
    }
    const menuMatch = line.match(/\s*(POPUP|MENUITEM)\s+(SEPARATOR|"([^"]*)")(?:\s*,\s*(\w+)[\s,]*(.*))?/i);
    if (menuMatch) {
      let [, tag, t1, t2, sid, flags] = menuMatch;
      const type = tag == "POPUP" ? "popup" : t1 == "SEPARATOR" || (flags || "").indexOf("MFT_SEPARATOR") >= 0 ? "separator" : "menuitem";
      const id2 = parseInt(sid);
      if (!found) {
        if (type == "popup" && t2 == popupId) {
          found = true;
        } else {
          continue;
        }
      }
      flags = flags || "";
      const menu = {
        type
      };
      switch (menu.type) {
        case "popup":
          const newPopup = new PopupMenu_default(uiRoot);
          if (popup) {
            popup.addsubmenu(newPopup, t2);
          } else {
            root = newPopup;
          }
          popup = newPopup;
          popupStack.push(popup);
          menu.popup = popup;
          menu.caption = t2;
          if (flags.indexOf("GRAYED") >= 0)
            menu.disabled = true;
          break;
        case "menuitem":
          menu.caption = t2;
          menu.id = id2;
          menu.disabled = flags.indexOf("GRAYED") >= 0;
          popup.addcommand(t2, id2, false, menu.disabled);
          break;
        case "separator":
          popup.addseparator();
          break;
      }
    } else if (["}", "END"].includes(line.trim())) {
      if (found) {
        if (popup == root)
          break;
        popupStack.pop();
        popup = popupStack[popupStack.length - 1];
      }
    }
  }
  return root;
}
var wa5commonRes = `256 MENUEX
LANGUAGE LANG_ENGLISH, SUBLANG_ENGLISH_US
{
  POPUP "File", 65535, MFT_STRING, MFS_ENABLED, 0
  {
    MENUITEM "Play &file...   	L", 40029, MFT_STRING, MFS_ENABLED
    MENUITEM "Play &URL...	Ctrl+L", 40185, MFT_STRING, MFS_ENABLED
    MENUITEM "Play &folder...	Shift+L", 40187, MFT_STRING, MFS_ENABLED
    POPUP "Play &bookmark", 65535, MFT_STRING, MFS_ENABLED, 0
    {
      MENUITEM "&Edit bookmarks...	Ctrl+Alt+I", 40320, MFT_STRING, MFS_ENABLED
      MENUITEM "&Add current as bookmark	Ctrl+Alt+B", 40321, MFT_STRING, MFS_ENABLED
      MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    }
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "Open &playlist	Ctrl+O", 40202, MFT_STRING, MFS_ENABLED
    MENUITEM "&Save playlist	Ctrl+S", 40204, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "&Add media to Library...", 40344, MFT_STRING, MFS_ENABLED
    MENUITEM "Add current playlist to Library", 40466, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "&View file info...	Alt+3", 40188, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "E&xit	Alt+F4", 40001, MFT_STRING, MFS_ENABLED
  }
  POPUP "Play", 65535, MFT_STRING, MFS_ENABLED, 0
  {
    MENUITEM "P&revious	Z", 40044, MFT_STRING, MFS_ENABLED
    MENUITEM "&Play	X", 40045, MFT_STRING, MFS_ENABLED
    MENUITEM "P&ause	C", 40046, MFT_STRING, MFS_ENABLED
    MENUITEM "&Stop	V", 40047, MFT_STRING, MFS_ENABLED
    MENUITEM "&Next              	B", 40048, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    POPUP "&Advanced Playback", 65535, MFT_STRING, MFS_ENABLED, 0
    {
      MENUITEM "&Start of list	Ctrl+Z", 40154, MFT_STRING, MFS_ENABLED
      MENUITEM "Stop w/ fa&deout	Shift+V", 40147, MFT_STRING, MFS_ENABLED
      MENUITEM "Stop after &current	Ctrl+V", 40157, MFT_STRING, MFS_ENABLED
    }
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    POPUP "&Jump to", 65535, MFT_STRING, MFS_ENABLED, 0
    {
      MENUITEM "Ju&mp to track	J", 40194, MFT_STRING, MFS_ENABLED
      MENUITEM "Jump 10 t&racks back	Num. 1", 40197, MFT_STRING, MFS_ENABLED
      MENUITEM "Jump 10 &tracks fwd	Num. 3", 40195, MFT_STRING, MFS_ENABLED
      MENUITEM "&Jump to time	Ctrl+J", 40193, MFT_STRING, MFS_ENABLED
      MENUITEM "&Start of list	Ctrl+Z", 40154, MFT_STRING, MFS_ENABLED
      MENUITEM "&End of list	Ctrl+B", 40158, MFT_STRING, MFS_ENABLED
    }
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "&Back 5 seconds	Left", 40144, MFT_STRING, MFS_ENABLED
    MENUITEM "&Fwd 5 seconds	Right", 40148, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "&Repeat	R", 40022, MFT_STRING, MFS_ENABLED
    MENUITEM "&Shuffle	S", 40023, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "Volume &Up	Up", 40351, MFT_STRING, MFS_ENABLED
    MENUITEM "Volume &Down	Down", 40352, MFT_STRING, MFS_ENABLED
  }
  POPUP "Options", 65535, MFT_STRING, MFS_ENABLED, 0
  {
    POPUP "&Skins", 65535, MFT_STRING, MFS_ENABLED, 0
    {
      MENUITEM "S&kin Browser...	Alt+S", 40219, MFT_STRING, MFS_ENABLED
      MENUITEM "<< Get more skins! >>", 40316, MFT_STRING, MFS_ENABLED
      MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
      MENUITEM "Winamp Classic", 32767, MFT_STRING, MFS_ENABLED
    }
    POPUP "&Visualization", 65535, MFT_STRING, MFS_ENABLED, 0
    {
      MENUITEM "Start/Stop &plug-in	Ctrl+Shift+K", 40192, MFT_STRING, MFS_ENABLED
      MENUITEM "&Configure plug-in... 	Alt+K", 40221, MFT_STRING, MFS_ENABLED
      MENUITEM "&Select plug-in...	Ctrl+K", 40191, MFT_STRING, MFS_ENABLED
    }
    POPUP "&Equalizer", 65535, MFT_STRING, MFS_ENABLED, 0
    {
      MENUITEM "&EQ enabled", 40244, MFT_STRING, MFS_ENABLED
      POPUP "&Load Preset", 65535, MFT_STRING, MFS_ENABLED, 0
      {
        MENUITEM "&Preset...", 40172, MFT_STRING, MFS_ENABLED
        MENUITEM "&Auto-load preset...", 40173, MFT_STRING, MFS_ENABLED
        MENUITEM "&Default", 40174, MFT_STRING, MFS_ENABLED
        MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
        MENUITEM "From &EQF...", 40253, MFT_STRING, MFS_ENABLED
      }
      POPUP "&Save Preset", 65535, MFT_STRING, MFS_ENABLED, 0
      {
        MENUITEM "&Preset...", 40175, MFT_STRING, MFS_ENABLED
        MENUITEM "&Auto-load preset...", 40176, MFT_STRING, MFS_ENABLED
        MENUITEM "&Default", 40177, MFT_STRING, MFS_ENABLED
        MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
        MENUITEM "To &EQF...", 40254, MFT_STRING, MFS_ENABLED
      }
      POPUP "&Delete Preset", 65535, MFT_STRING, MFS_ENABLED, 0
      {
        MENUITEM "&Preset...", 40178, MFT_STRING, MFS_ENABLED
        MENUITEM "&Auto-load preset...", 40180, MFT_STRING, MFS_ENABLED
      }
    }
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "&Time elapsed	Alt+T toggles", 40037, MFT_STRING, MFS_ENABLED
    MENUITEM "Time re&maining	Alt+T toggles", 40038, MFT_STRING, MFS_ENABLED
    MENUITEM "Time remaining toggle	Alt+T", 40039, MFT_STRING, WEBAMP_HIDDEN
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "&Always On Top	Ctrl+A", 40019, MFT_STRING, MFS_ENABLED
    MENUITEM "&Double Size	Ctrl+D", 40165, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "&Preferences...    	Ctrl+P", 40012, MFT_STRING, MFS_ENABLED
  }
  POPUP "Windows", 65535, MFT_STRING, MFS_ENABLED, 0
  {
    MENUITEM "Playlist &Editor	Alt+E", 40040, MFT_STRING, MFS_ENABLED
    MENUITEM "&Video	Alt+V", 40328, MFT_STRING, MFS_ENABLED
    MENUITEM "Visualizations	Ctrl+Shift+K", 40192, MFT_STRING, MFS_ENABLED
  }
  POPUP "Help", 65535, MFT_STRING, MFS_ENABLED, 0
  {
    MENUITEM "Winamp Help	F1", 40347, MFT_STRING, MFS_ENABLED
    MENUITEM "Send &Feedback", 40464, MFT_STRING, MFS_ENABLED
    MENUITEM "&Register Winamp Pro", 40394, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "About &Winamp...", 40041, MFT_STRING, MFS_ENABLED
  }
  POPUP "PE_File", 65535, MFT_STRING, MFS_ENABLED, 0
  {
    MENUITEM "&New playlist (clear)	Ctrl+N", 40214, MFT_STRING, MFS_ENABLED
    MENUITEM "&Open playlist	Ctrl+O", 40202, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "&Add file(s)	L", 1032, MFT_STRING, MFS_ENABLED
    MENUITEM "Add &folder	Shift+L", 1036, MFT_STRING, MFS_ENABLED
    MENUITEM "Add UR&L	Ctrl+L", 1039, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "&Save playlist	Ctrl+S", 40204, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "File &info	Alt+3", 40188, MFT_STRING, MFS_ENABLED
    MENUITEM "Playlist &entry	Ctrl+E", 40255, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "&Close playlist editor	Alt+E", 40224, MFT_STRING, MFS_ENABLED
  }
  POPUP "PE_Playlist", 65535, MFT_STRING, MFS_ENABLED, 0
  {
    MENUITEM "Select &all	Ctrl+Alt+A", 40205, MFT_STRING, MFS_ENABLED
    MENUITEM "Select &none", 40207, MFT_STRING, MFS_ENABLED
    MENUITEM "&Invert selection	Ctrl+I", 40171, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "&Remove selected	Delete", 1034, MFT_STRING, MFS_ENABLED
    MENUITEM "&Crop selected	Ctrl+Delete", 1035, MFT_STRING, MFS_ENABLED
    MENUITEM "C&lear playlist	Ctrl+Shift+Delete", 40214, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "Remove &missing files from playlist	Alt+Delete", 40222, MFT_STRING, MFS_ENABLED
    MENUITEM "&Physically remove selected file(s)", 40223, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "Playlist pre&ferences...", 40358, MFT_STRING, MFS_ENABLED
  }
  POPUP "PE_Sort", 65535, MFT_STRING, MFS_ENABLED, 0
  {
    MENUITEM "Sort list by &title	Ctrl+Shift+1", 40209, MFT_STRING, MFS_ENABLED
    MENUITEM "Sort list by &filename	Ctrl+Shift+2", 40210, MFT_STRING, MFS_ENABLED
    MENUITEM "Sort list by &path and filename	Ctrl+Shift+3", 40211, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "R&everse list	Ctrl+R", 40213, MFT_STRING, MFS_ENABLED
    MENUITEM "&Randomize list	Ctrl+Shift+R", 40212, MFT_STRING, MFS_ENABLED
  }
  POPUP "ML_File", 65535, MFT_STRING, MFS_ENABLED, 0
  {
    MENUITEM "&New playlist	Shift+Ins", 40359, MFT_STRING, MFS_ENABLED
    MENUITEM "Import &current playlist", 40374, MFT_STRING, MFS_ENABLED
    MENUITEM "&Import playlist from file", 40360, MFT_STRING, MFS_ENABLED
    MENUITEM "&Export playlist", 40361, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "&Add media to Library...", 40344, MFT_STRING, MFS_ENABLED
    MENUITEM "Add current playlist to Library", 40466, MFT_STRING, MFS_ENABLED
    MENUITEM "", 0, MFT_SEPARATOR, MFS_ENABLED
    MENUITEM "&Close Media Library	Alt+L", 40380, MFT_STRING, MFS_ENABLED
  }
  POPUP "ML_View", 65535, MFT_STRING, MFS_ENABLED, 0
  {
    MENUITEM "Media Library &Preferences...", 40372, MFT_STRING | MFT_RIGHTJUSTIFY, MFS_ENABLED
  }
}
`;
var wa5miscRes = `101 MENU
LANGUAGE LANG_ENGLISH, SUBLANG_ENGLISH_US
{
  POPUP "Main"
  {
    MENUITEM "Nullsoft &Winamp...",  40041
    MENUITEM SEPARATOR
    POPUP "&Play"
    {
      MENUITEM "&File...   	L",  40029
      MENUITEM "&URL...	Ctrl+L",  40185
      MENUITEM "&Folder...	Shift+L",  40187
      MENUITEM SEPARATOR
      POPUP "&Bookmark"
      {
        MENUITEM "(no bookmarks)",  40322,  INACTIVE
      }
    }
    MENUITEM "View &file info...	Alt+3",  40188
    POPUP "&Bookmarks"
    {
      MENUITEM "&Edit bookmarks...	Ctrl+Alt+I",  40320
      MENUITEM "&Add current as bookmark	Ctrl+Alt+B",  40321
      MENUITEM SEPARATOR
    }
    MENUITEM SEPARATOR
    MENUITEM "&Main Window	Alt+W",  40258
    MENUITEM "Playlist &Editor	Alt+E",  40040
    MENUITEM "E&qualizer     	Alt+G",  40036
    MENUITEM "&Video	Alt+V",  40328
    MENUITEM SEPARATOR
    POPUP "&Options"
    {
      MENUITEM "&Preferences...    	Ctrl+P",  40012
      POPUP "Skins"
      {
        MENUITEM "S&kin Browser...	Alt+S",  40219
        MENUITEM "<< Get more skins! >>",  40316
        MENUITEM SEPARATOR
        MENUITEM "Winamp Classic",  32767
      }
      MENUITEM SEPARATOR
      MENUITEM "Time &elapsed	Ctrl+T toggles",  40037
      MENUITEM "Time re&maining	Ctrl+T toggles",  40038
      MENUITEM SEPARATOR
      MENUITEM "&Always On Top	Ctrl+A",  40019
      MENUITEM "&Double Size	Ctrl+D",  40165
      MENUITEM "&EasyMove	Ctrl+E",  40186
      MENUITEM SEPARATOR
      MENUITEM "&Repeat	R",  40022
      MENUITEM "&Shuffle	S",  40023
    }
    POPUP "Play&back"
    {
      MENUITEM "P&revious	Z",  40044
      MENUITEM "&Play	X",  40045
      MENUITEM "P&ause	C",  40046
      MENUITEM "&Stop	V",  40047
      MENUITEM "&Next              	B",  40048
      MENUITEM SEPARATOR
      MENUITEM "Stop w/ fa&deout	Shift+V",  40147
      MENUITEM "Stop after &current	Ctrl+V",  40157
      MENUITEM "&Back 5 seconds	Left",  40144
      MENUITEM "&Fwd 5 seconds	Right",  40148
      MENUITEM "&Start of list	Ctrl+Z",  40154
      MENUITEM "&End of list	Ctrl+B",  40158
      MENUITEM "10 t&racks back	Num. 1",  40197
      MENUITEM "10 &tracks fwd	Num. 3",  40195
      MENUITEM SEPARATOR
      MENUITEM "&Jump to time	Ctrl+J",  40193
      MENUITEM "Ju&mp to file	J",  40194
    }
    POPUP "&Visualization"
    {
      MENUITEM "Start/Stop &plug-in	Ctrl+Shift+K",  40192
      MENUITEM "&Configure plug-in... 	Alt+K",  40221
      MENUITEM "&Select plug-in...	Ctrl+K",  40191
    }
    POPUP "&Skins"
    {
      MENUITEM "S&kin Browser...	Alt+S",  40219
      MENUITEM "<< Get more skins! >>",  40316
      MENUITEM SEPARATOR
      MENUITEM "Winamp Classic",  32767
    }
    MENUITEM SEPARATOR
    MENUITEM "Winamp &Help	F1",  40347
    MENUITEM SEPARATOR
    MENUITEM "E&xit	Alt+F4",  40001
  }
  POPUP "EQpresets"
  {
    POPUP "Load"
    {
      MENUITEM "&Preset...",  40172
      MENUITEM "&Auto-load preset...",  40173
      MENUITEM "&Default",  40174
      MENUITEM SEPARATOR
      MENUITEM "From &EQF...",  40253
    }
    POPUP "Save"
    {
      MENUITEM "&Preset...",  40175
      MENUITEM "&Auto-load preset...",  40176
      MENUITEM "&Default",  40177
      MENUITEM SEPARATOR
      MENUITEM "To &EQF...",  40254
    }
    POPUP "Delete"
    {
      MENUITEM "&Preset...",  40178
      MENUITEM "&Auto-load preset...",  40180
    }
  }
  POPUP "PLContextMenu"
  {
    POPUP "MiscOpt"
    {
      POPUP "File info"
      {
        MENUITEM "F&ile info...	Alt+3",  40208
        MENUITEM "Playlist &entry...	Ctrl+E",  40255
      }
      POPUP "Sort"
      {
        MENUITEM "Sort list by &title	Ctrl+Shift+1",  40209
        MENUITEM "Sort list by &filename	Ctrl+Shift+2",  40210
        MENUITEM "Sort list by &path and filename	Ctrl+Shift+3",  40211
        MENUITEM SEPARATOR
        MENUITEM "R&everse list	Ctrl+R",  40213
        MENUITEM "&Randomize list	Ctrl+Shift+R",  40212
      }
      POPUP "Misc"
      {
        MENUITEM "&Generate HTML playlist	Ctrl+Alt+G",  40292
        MENUITEM SEPARATOR
        MENUITEM "&Read extended info on selection	Ctrl+Alt+E",  40293
      }
    }
    POPUP "Add"
    {
      MENUITEM "Add &file(s)	L",  1032
      MENUITEM "Add f&older	Shift+L",  1036
      MENUITEM "Add &URL	Ctrl+L",  1039
    }
    POPUP "Remove"
    {
      MENUITEM "&Remove selected	Delete",  1034
      MENUITEM "Crop &selected	Ctrl+Delete",  1035
      MENUITEM "&Clear playlist	Ctrl+Shift+Delete",  40214
      POPUP "Remove..."
      {
        MENUITEM "Remove &missing files from playlist	Alt+Delete",  40222
        MENUITEM "&Physically remove selected file(s)",  40223
      }
    }
    POPUP "Select"
    {
      MENUITEM "Select &all	Ctrl+A",  40205
      MENUITEM "Select &none",  40207
      MENUITEM "&Invert selection	Ctrl+I",  40171
    }
    POPUP "Playlist"
    {
      MENUITEM "&Open playlist...	Ctrl+O",  40202
      MENUITEM "&Save playlist...	Ctrl+S",  40204
      MENUITEM "&New playlist (clear)	Ctrl+N",  40214
    }
    POPUP "Context"
    {
      MENUITEM "&Play item(s)	Enter",  40184
      MENUITEM SEPARATOR
      MENUITEM "&Remove item(s)	Delete",  1034
      MENUITEM "&Crop files	Ctrl+Delete",  1035
      MENUITEM SEPARATOR
      MENUITEM "Edit &metadata for selection...	Shift+E",  40470
      MENUITEM "&View file info...	Alt+3",  40208
      MENUITEM "Playlist &entry	Ctrl+E",  40255
      MENUITEM "&Bookmark item(s)	Ctrl+Alt+B",  40319
      MENUITEM SEPARATOR
      POPUP "Rate &items"
      {
        MENUITEM "*****",  40402
        MENUITEM "****",  40403
        MENUITEM "***",  40404
        MENUITEM "**",  40405
        MENUITEM "*",  40406
        MENUITEM "No rating",  40407
      }
      MENUITEM SEPARATOR
      MENUITEM "Explore item(s) &folder	Ctrl+F",  40468
    }
  }
  POPUP "Context menus"
  {
    POPUP "Song title"
    {
      MENUITEM "View &file info...	Alt+3 or Dblclick",  40188
      MENUITEM "&Jump to file...	J",  40194
      MENUITEM "Jump to &time...	Ctrl+J",  40193
      MENUITEM "&Autoscroll songname",  40189
      MENUITEM SEPARATOR
      POPUP "&Rating"
      {
        MENUITEM "*****",  40396
        MENUITEM "****",  40397
        MENUITEM "***",  40398
        MENUITEM "**",  40399
        MENUITEM "*",  40400
        MENUITEM "No rating",  40401
      }
    }
    POPUP "Time display"
    {
      MENUITEM "Time &elapsed	Ctrl+T toggles",  40037
      MENUITEM "Time re&maining	Ctrl+T toggles",  40038
    }
    POPUP "Previous button"
    {
      MENUITEM "&Previous	Click",  40044
      MENUITEM "&Start of list	Ctrl+Click",  40154
      MENUITEM "&Rewind 5 seconds	Shift+Click",  40144
    }
    POPUP "Play Button"
    {
      MENUITEM "&Play/restart	Click",  40045
      MENUITEM "Open &URL...	Ctrl+Click",  40155
      MENUITEM "Open &file...	Shift+Click",  40145
    }
    POPUP "Pause button"
    {
      MENUITEM "&Pause/Unpause	Click",  40046
    }
    POPUP "Stop button"
    {
      MENUITEM "&Stop	Click",  40047
      MENUITEM "Stop w/&fadeout	Shift+Click",  40147
      MENUITEM "Stop after &current	Ctrl+Click",  40157
    }
    POPUP "Next button"
    {
      MENUITEM "&Next	Click",  40048
      MENUITEM "&Fastforward 5 seconds	Shift+Click",  40148
      MENUITEM "&End of list	Ctrl+Click",  40158
    }
    POPUP "Eject button"
    {
      MENUITEM "Open &file...	Click",  40029
      MENUITEM "Open f&older...	Shift+Click",  40187
      MENUITEM "Open &URL...	Ctrl+Click",  40185
    }
    POPUP "Seek bar"
    {
      MENUITEM "&Jump to time	Ctrl+J",  40193
      MENUITEM "&Rewind 5 seconds	Left Arrow",  40061
      MENUITEM "&Forward 5 seconds	Right Arrow",  40060
    }
    POPUP "Shuffle"
    {
      MENUITEM "&Shuffle	S",  40023
    }
    POPUP "Repeat"
    {
      MENUITEM "&Repeat	R",  40022
      MENUITEM "&Manual Playlist Advance	Shift+R",  40395
    }
    POPUP "EQ button"
    {
      MENUITEM "Graphical E&qualizer	Alt+G",  40036
    }
    POPUP "PE button"
    {
      MENUITEM "Playlist &Editor	Alt+E",  40040
    }
    POPUP "VideoWnd"
    {
      MENUITEM "&Fullscreen	Alt+Enter",  40329
      MENUITEM SEPARATOR
      MENUITEM "&Normal size	1",  40330
      MENUITEM "&Half size	&tilde; or 3",  40332
      MENUITEM "&Double size	2",  40331
      MENUITEM SEPARATOR
      MENUITEM "Vertically &flip	Shift+F",  40465
      MENUITEM SEPARATOR
      POPUP "&Audio track"
      {
        MENUITEM "Track 1",  40408
      }
      POPUP "&Video track"
      {
        MENUITEM "Track 1",  40424
      }
      MENUITEM SEPARATOR
      MENUITEM "Video &options...",  40333
    }
  }
  POPUP "EQContext"
  {
    POPUP "enbut"
    {
      MENUITEM "&EQ enabled	N",  40244
    }
    POPUP "albut"
    {
      MENUITEM "&EQ autoloading enabled	A",  40245
    }
  }
  POPUP "Prefs"
  {
    POPUP "Skin"
    {
      MENUITEM "&Switch to skin",  40386
      MENUITEM SEPARATOR

      MENUITEM "&Rename skin...",  40388
      MENUITEM "&Delete skin...",  40387
    }
    POPUP "Lang"
    {
      MENUITEM "&Switch to language pack",  40458
      MENUITEM SEPARATOR
      MENUITEM "&Rename language pack...",  40459
      MENUITEM "&Delete language pack...",  40460
    }
  }
}
`;
var wa5controlRes = `1281 MENU
LANGUAGE LANG_ENGLISH, SUBLANG_ENGLISH_US
{
  POPUP "ControlMenu"
  {
    POPUP "&Opacity"
    {
      MENUITEM "1&00%",  42211
      MENUITEM "&90%",  42210
      MENUITEM "&80%",  42209
      MENUITEM "&70%",  42208
      MENUITEM "&60%",  42207
      MENUITEM "&50%",  42206
      MENUITEM "&40%",  42205
      MENUITEM "&30%",  42204
      MENUITEM "&20%",  42203
      MENUITEM "&10%",  42202
      MENUITEM "&Custom",  42227
      MENUITEM SEPARATOR
      MENUITEM "Opaque on &Focus",  42228
      MENUITEM "Opaque on &Hover",  42226
    }
    POPUP "&Scaling"
    {
      MENUITEM "&50%",  42214
      MENUITEM "&75%",  42215
      MENUITEM "&100%",  42216
      MENUITEM "150%",  42222
      MENUITEM "&200%",  42217
      MENUITEM "250%",  42218
      MENUITEM "&300%",  42219
      MENUITEM "&Custom",  42224
      MENUITEM SEPARATOR
      MENUITEM "&Locked",  42223
      MENUITEM "&Temporary",  42225
    }
    POPUP "Docked Toolbar", 65535, MFT_STRING, MFS_GRAYED, 0
    {
      MENUITEM "Auto-&Hide",  42235
      MENUITEM "&Always On Top",  42234
      MENUITEM SEPARATOR
      MENUITEM "Top",  42229
      MENUITEM "Left",  42236
      MENUITEM "Right",  42231
      MENUITEM "Bottom",  42232
      MENUITEM "Not docked",  42233
      MENUITEM SEPARATOR
      MENUITEM "Dock/Undock Windows by Dragging",  42237
    }
  }
}`;

// build/skin/makiClasses/Menu.js
var ACTIVE_MENU_GROUP = "";
var Menu = class extends Group_default {
  setXmlAttr(_key, value) {
    const key = _key.toLowerCase();
    if (super.setXmlAttr(key, value)) {
      return true;
    }
    switch (key.toLowerCase()) {
      case "normal":
        this.setnormalid(value);
        break;
      case "hover":
        this.sethoverid(value);
        break;
      case "down":
        this.setdownid(value);
        break;
      case "next":
        this._nextMenuId = value.toLowerCase();
        break;
      case "prev":
        this._prevMenuId = value.toLowerCase();
        break;
      case "menu":
        this.setmenu(value);
        break;
      case "menugroup":
        this.setmenugroup(value);
        break;
      default:
        return false;
    }
    return true;
  }
  getmenu() {
    return this._menuId;
  }
  setmenu(menuId) {
    this._menuId = menuId;
  }
  getmenugroup() {
    return this._menuGroupId;
  }
  setmenugroup(groupId) {
    this._menuGroupId = groupId;
  }
  setnormalid(id2) {
    this._normalId = id2.toLowerCase();
  }
  setdownid(id2) {
    this._downId = id2.toLowerCase();
  }
  sethoverid(id2) {
    this._hoverId = id2.toLowerCase();
  }
  _showButton(el) {
    for (const obj of [this._elNormal, this._elHover, this._elDown]) {
      if (obj) {
        if (obj == el) {
          obj.show();
        } else {
          obj.hide();
        }
      }
    }
  }
  _setButtonWidth(w) {
    for (const obj of [this._elNormal, this._elHover, this._elDown]) {
      if (obj) {
        obj.setXmlAttr("w", w);
      }
    }
  }
  doClosePopup() {
    this._showButton(this._elNormal);
    this._div.classList.remove("open");
  }
  onLeftButtonDown(x, y) {
    if (ACTIVE_MENU_GROUP != this._menuGroupId) {
      ACTIVE_MENU_GROUP = this._menuGroupId;
      destroyActivePopup();
      setActivePopup(this);
    } else {
      ACTIVE_MENU_GROUP = null;
      destroyActivePopup();
    }
    this.onEnterArea();
  }
  onEnterArea() {
    if (ACTIVE_MENU_GROUP == this._menuGroupId) {
      destroyActivePopup();
      this._showButton(this._elDown);
      this._div.classList.add("open");
      setActivePopup(this);
    } else {
      this._showButton(this._elHover);
    }
  }
  onLeaveArea() {
    if (ACTIVE_MENU_GROUP != this._menuGroupId) {
      this._showButton(this._elNormal);
    }
  }
  setup() {
    super.setup();
    this.getparentlayout().registerShortcuts(this._popup);
  }
  resolveButtonsAction() {
    for (const obj of this.getparent()._children) {
      if (obj._id == this._normalId) {
        this._elNormal = obj;
      } else if (obj._id == this._hoverId) {
        this._elHover = obj;
      } else if (obj._id == this._downId) {
        this._elDown = obj;
      } else if (obj instanceof Layer_default && obj._image) {
        this._elImage = obj;
        this.setXmlAttr("relatw", "0");
        const w = this._elImage.getwidth().toString();
        this.setXmlAttr("w", w);
        this._setButtonWidth(w);
      }
    }
  }
  draw() {
    this.resolveButtonsAction();
    super.draw();
    this._div.style.pointerEvents = "all";
    if (this._menuId.startsWith("WA5:")) {
      const [, popupId] = this._menuId.split(":");
      this._popup = getWa5Popup(popupId, this._uiRoot);
      this.invalidatePopup();
    }
  }
  invalidatePopup() {
    const self2 = this;
    if (this._popup) {
      if (this._popupDiv) {
        this._popupDiv.remove();
      }
      updateActions(this._popup, this._uiRoot);
      const menuItemClick = (id2) => {
        console.log("menu clicked:", id2);
        const action = findAction(id2);
        const invalidateRequired = action.onExecute(self2._uiRoot);
        if (invalidateRequired)
          self2.invalidatePopup();
      };
      this._popupDiv = generatePopupDiv(this._popup, menuItemClick);
      this._popupDiv.classList.add("popup");
      this._div.appendChild(this._popupDiv);
    }
  }
};
var Menu_default = Menu;
Menu.GUID = "73c00594401b961f24671b9b6541ac27";

// build/skin/makiClasses/Frame.js
var Frame = class extends Group_default {
  constructor() {
    super(...arguments);
    this._position = 0;
    this._orientation = "h";
    this._resizable = true;
  }
  getElTag() {
    return "frame2";
  }
  setXmlAttr(_key, value) {
    const key = _key.toLowerCase();
    if (super.setXmlAttr(key, value)) {
      return true;
    }
    switch (key.toLowerCase()) {
      case "width":
        this._position = num(value);
        break;
      case "height":
        this._position = num(value);
        break;
      case "minwidth":
        this._minwidth = num(value) || 0;
        break;
      case "maxwidth":
        this._maxwidth = num(value) || 0;
        break;
      case "orientation":
        this._orientation = value.toLowerCase()[0];
        break;
      case "from":
        this.setFrom(value.toLowerCase()[0]);
        break;
      case "left":
        this._leftId = value.toLowerCase();
        break;
      case "right":
        this._rightId = value.toLowerCase();
        break;
      case "top":
        this._topId = value.toLowerCase();
        break;
      case "bottom":
        this._bottomId = value.toLowerCase();
        break;
      default:
        return false;
    }
    return true;
  }
  getposition() {
    return this._position;
  }
  setposition(position) {
    this._position = position;
    this.alignChildren();
  }
  setFrom(from) {
    const correction = {
      l: "left",
      r: "right",
      b: "bottom",
      t: "top"
    };
    this._from = correction[from];
  }
  init() {
    super.init();
  }
  _getEl(directions) {
    const ret = [
      this.findobject(this[`_${directions[0]}Id`]),
      this.findobject(this[`_${directions[1]}Id`])
    ];
    assume(ret[0] != null, "Frame." + directions[0] + " NOT FOUND!");
    assume(ret[1] != null, "Frame." + directions[1] + " NOT FOUND!");
    return ret;
  }
  alignChildren() {
    this.getDiv().style.setProperty("--position", `${this._position}`);
    this._width = this._position;
    this._height = this._position;
    console.log("FRAME:" + this._id, this);
    const fullSizes = this._orientation == "v" ? {h: "0", relath: "1"} : {w: "0", relatw: "1"};
    if (this._from == "left") {
      const [el1, el2] = this._getEl(["left", "right"]);
      el1.setXmlAttributes({
        ...fullSizes,
        w: `${this._width - 4}`
      });
      el2.setXmlAttributes({
        ...fullSizes,
        x: `${this._width + 4}`,
        w: `-${this._width + 4}`,
        relatw: "1"
      });
    } else if (this._from == "right") {
      const [el1, el2] = this._getEl(["left", "right"]);
      el1.setXmlAttributes({
        ...fullSizes,
        w: `-${this._width + 4}`,
        relatw: "1"
      });
      el2.setXmlAttributes({
        ...fullSizes,
        x: `-${this._width - 4}`,
        relatx: "1",
        w: `${this._width - 8}`
      });
    } else if (this._from == "bottom") {
      const [el1, el2] = this._getEl(["top", "bottom"]);
      el1.setXmlAttributes({
        ...fullSizes,
        h: `-${this._height + 4}`,
        relath: "1"
      });
      el2.setXmlAttributes({
        ...fullSizes,
        y: `-${this._height - 4}`,
        relaty: "1",
        h: `${this._height - 8}`
      });
    } else {
      console.log("frame not implemented: from=", this._from);
    }
  }
  draw() {
    this.alignChildren();
    super.draw();
  }
};
var Frame_default = Frame;
Frame.GUID = "e2bbc14d417384f6ebb2b3bd5055662f";

// build/skin/makiClasses/MakiMap.js
var MakiMap = class extends BaseObject_default {
  constructor(uiRoot) {
    super();
    this._uiRoot = uiRoot;
  }
  loadmap(bitmapId) {
    this._bitmap = this._uiRoot.getBitmap(bitmapId);
  }
  inregion(x, y) {
    return true;
  }
  getvalue(x, y) {
    assume(x >= 0, `Expected x to be positive but it was ${x}`);
    assume(y >= 0, `Expected y to be positive but it was ${y}`);
    const canvas = this._bitmap.getCanvas(true);
    const context = canvas.getContext("2d");
    const {data} = context.getImageData(x, y, 1, 1);
    assert(data[0] === data[1] && data[0] === data[2], "Expected map image to be grey scale");
    assume(data[3] === 255, "Expected map image not have transparency");
    return data[0];
  }
  getUnsafeValue(x, y) {
    const canvas = this._bitmap.getCanvas(true);
    if (x < 0 || y < 0 || x >= canvas.width || y >= canvas.height) {
      return null;
    }
    const context = canvas.getContext("2d");
    const {data} = context.getImageData(x, y, 1, 1);
    if (!(data[0] === data[1] && data[0] === data[2]) || data[3] != 255) {
      return null;
    }
    return data[0];
  }
  getwidth() {
    return this._bitmap.getWidth();
  }
  getheight() {
    return this._bitmap.getHeight();
  }
};
var MakiMap_default = MakiMap;
MakiMap.GUID = "3860366542a7461b3fd875aa73bf6766";

// build/skin/makiClasses/List.js
var MakiList = class extends BaseObject_default {
  constructor(uiRoot) {
    super();
    this._list = [];
    this._uiRoot = uiRoot;
  }
  additem(_object) {
    this._list.push(_object);
  }
  removeitem(pos) {
    const item = this._list[pos];
    if (item) {
      this._list.splice(pos, 1);
    }
  }
  finditem(_object) {
    return this._list.indexOf(_object);
  }
  finditem2(_object, startItem) {
    return this._list.indexOf(_object, startItem);
  }
  enumitem(pos) {
    return this._list[pos];
  }
  getnumitems() {
    return this._list.length;
  }
  removeall() {
    this._list = [];
  }
};
var List_default = MakiList;
MakiList.GUID = "b2023ab54ba1434d6359aebec6f30375";

// build/skin/makiClasses/BitList.js
var BitList = class extends BaseObject_default {
  constructor(uiRoot) {
    super();
    this._items = [];
    this._uiRoot = uiRoot;
  }
  getitem(n) {
    return this._items[n];
  }
  setitem(n, val) {
    this.setsize(n);
    this._items[n] = val;
  }
  setsize(s) {
    while (this._items.length < s) {
      this._items.push(false);
    }
  }
  getsize() {
    return this._items.length;
  }
};
var BitList_default = BitList;
BitList.GUID = "87c6577849fee743cc09f98556fd2a53";

// build/skin/makiClasses/GroupList.js
var GroupList = class extends GuiObj_default {
};
var GroupList_default = GroupList;
GroupList.GUID = "01e28ce111d5b059dee49f970a76516f";

// build/skin/makiClasses/CfgGroup.js
var CfgGroup = class extends Group_default {
};
var CfgGroup_default = CfgGroup;
CfgGroup.GUID = "80f0f8bd42a61ba5363293a04a8d0ca0";

// build/skin/makiClasses/TabSheet.js
var TabSheet = class extends GuiObj_default {
};
var TabSheet_default = TabSheet;
TabSheet.GUID = "b5baa5354dcb05b318e6c1ad96688fd2";

// build/skin/makiClasses/MouseRedir.js
var MouseRedir = class extends GuiObj_default {
};
var MouseRedir_default = MouseRedir;
MouseRedir.GUID = "9b2e341b40fa6c981b0c858b0594e86e";

// build/skin/makiClasses/DropDownList.js
var DropDownList = class extends GuiObj_default {
};
var DropDownList_default = DropDownList;
DropDownList.GUID = "36d59b714af803fd020595977a26dbb7";

// build/skin/makiClasses/Edit.js
var Edit = class extends GuiObj_default {
};
var Edit_default = Edit;
Edit.GUID = "64e4bbfa49d981f45ba8c0b0fdbcc32e";

// build/skin/makiClasses/Browser.js
var Browser = class extends GuiObj_default {
};
var Browser_default = Browser;
Browser.GUID = "a8c2200d4b2a51eb4b5d7fba714c5dc6";

// build/skin/makiClasses/Wac.js
var Wac = class extends BaseObject_default {
  constructor(uiRoot) {
    super();
    this._uiRoot = uiRoot;
  }
};
var Wac_default = Wac;
Wac.GUID = "00c074a049a0fea2bbfa8dbe401616db";

// build/skin/makiClasses/QueryList.js
var QueryList = class extends GuiObj_default {
};
var QueryList_default = QueryList;
QueryList.GUID = "cdcb785d425381f2b861058ffa3c2872";

// build/skin/makiClasses/GuiList.js
var GuiList = class extends GuiObj_default {
};
var GuiList_default = GuiList;
GuiList.GUID = "6129fec14d51dab7ca016591db701b0c";

// build/skin/makiClasses/GuiTree.js
var GuiTree = class extends GuiObj_default {
};
var GuiTree_default = GuiTree;
GuiTree.GUID = "d59514f745e8ed364e3f0f98d92c52a0";

// build/skin/makiClasses/TreeItem.js
var TreeItem = class extends BaseObject_default {
  constructor(uiRoot) {
    super();
    this._uiRoot = uiRoot;
  }
};
var TreeItem_default = TreeItem;
TreeItem.GUID = "9b3b4b82420e667a4179fc8f029c8015";

// build/skin/makiClasses/CheckBox.js
var CheckBox = class extends GuiObj_default {
};
var CheckBox_default = CheckBox;
CheckBox.GUID = "c7ed319947985319b1606398aa8c295a";

// build/skin/makiClasses/Slider.js
var ActionHandler = class {
  constructor(slider) {
    this._subscription = () => {
    };
    this._slider = slider;
    this._uiRoot = slider._uiRoot;
  }
  onsetposition(position) {
  }
  onLeftMouseDown(x, y) {
  }
  onLeftMouseUp(x, y) {
  }
  onMouseMove(x, y) {
    this._slider._setPositionXY(x, y);
  }
  onFreeMouseMove(x, y) {
  }
  dispose() {
    this._subscription();
  }
};
var Slider = class extends GuiObj_default {
  constructor() {
    super(...arguments);
    this._vertical = false;
    this._action = null;
    this._low = 0;
    this._high = 255;
    this._thumbWidth = 0;
    this._thumbHeight = 0;
    this._thumbLeft = 0;
    this._thumbTop = 0;
    this._position = 0;
    this._param = null;
    this._mouseDx = 0;
    this._mouseDy = 0;
  }
  _getActualSize() {
    const relatSize = this._div.getBoundingClientRect();
    if (!this.getguirelatw()) {
      relatSize.width = this.getwidth();
    }
    if (!this.getguirelath()) {
      relatSize.height = this.getheight();
    }
    return relatSize;
  }
  _setPositionXY(x, y) {
    if (this._vertical) {
      y = y - this._thumbHeight / 2 - this._mouseDy;
    } else {
      x = x - this._thumbWidth / 2 - this._mouseDx;
    }
    const actual = this._getActualSize();
    const width = actual.width - this._thumbWidth;
    const height = actual.height - this._thumbHeight;
    const newPercent = this._vertical ? (height - y) / height : x / width;
    this._position = clamp(newPercent, 0, 1);
    this._renderThumbPosition();
    this.doSetPosition(this.getposition());
  }
  _checkMouseDownInThumb(x, y) {
    if (this._vertical) {
      const thumbTop = parseInt(this._div.style.getPropertyValue("--thumb-top"));
      const dy = y - thumbTop;
      this._mouseDy = dy >= 0 && dy <= this._thumbHeight ? dy - this._thumbHeight / 2 : 0;
    } else {
      const thumbLeft = parseInt(this._div.style.getPropertyValue("--thumb-left"));
      const dx = x - thumbLeft;
      this._mouseDx = dx >= 0 && dx <= this._thumbWidth ? dx - this._thumbWidth / 2 : 0;
    }
  }
  _registerDragEvents() {
    this._div.addEventListener("mousedown", (downEvent) => {
      downEvent.stopPropagation();
      if (downEvent.button != 0)
        return;
      const startX = downEvent.clientX;
      const startY = downEvent.clientY;
      const innerX = downEvent.offsetX;
      const innerY = downEvent.offsetY;
      this._checkMouseDownInThumb(downEvent.offsetX, downEvent.offsetY);
      this.doLeftMouseDown(downEvent.offsetX, downEvent.offsetY);
      const handleMove = (moveEvent) => {
        moveEvent.stopPropagation();
        const newMouseX = moveEvent.clientX;
        const newMouseY = moveEvent.clientY;
        const deltaX = newMouseX - startX;
        const deltaY = newMouseY - startY;
        this.doMouseMove(innerX + deltaX, innerY + deltaY);
      };
      const throttleMouseMove = throttle(handleMove, 50);
      const handleMouseUp = (upEvent) => {
        upEvent.stopPropagation();
        if (upEvent.button != 0)
          return;
        document.removeEventListener("mousemove", throttleMouseMove);
        document.removeEventListener("mouseup", handleMouseUp);
        this.doLeftMouseUp(upEvent.offsetX, upEvent.offsetY);
      };
      document.addEventListener("mousemove", throttleMouseMove);
      document.addEventListener("mouseup", handleMouseUp);
    });
    this._div.addEventListener("mousemove", (moveEvent) => {
      this.doFreeMouseMove(moveEvent.offsetX, moveEvent.offsetY);
    });
  }
  setXmlAttr(_key, value) {
    const key = _key.toLowerCase();
    if (super.setXmlAttr(key, value)) {
      if (key == "action")
        this._setAction(value);
      return true;
    }
    switch (key.toLowerCase()) {
      case "thumb":
        this._thumb = value;
        const bitmap = this._uiRoot.getBitmap(this._thumb);
        if (bitmap) {
          this._thumbWidth = bitmap.getWidth();
          this._thumbHeight = bitmap.getHeight();
        }
        break;
      case "downthumb":
        this._downThumb = value;
        break;
      case "hoverthumb":
        this._hoverThumb = value;
        break;
      case "barmiddle":
        this._barMiddle = value;
        break;
      case "barleft":
        this._barLeft = value;
        break;
      case "barright":
        this._barRight = value;
        break;
      case "orientation":
        const lower = value.toLowerCase();
        this._vertical = lower === "v" || lower === "vertical";
        break;
      case "low":
        this._low = num(value);
        break;
      case "high":
        this._high = num(value);
        break;
      case "action":
        this._setAction(value);
        break;
      case "param":
        this._param = value;
        break;
      default:
        return false;
    }
    return true;
  }
  init() {
    super.init();
    this._initializeActionHandler();
    this._registerDragEvents();
  }
  _initializeActionHandler() {
    const oldActionHandler = this._actionHandler;
    switch (this._action) {
      case "seek":
        this._actionHandler = new SeekActionHandler(this);
        break;
      case "eq_band":
        if (this._param == "preamp")
          this._actionHandler = new PreampActionHandler(this, this._param);
        else
          this._actionHandler = new EqActionHandler(this, this._param);
        break;
      case "eq_preamp":
        break;
      case "pan":
        this._actionHandler = new PanActionHandler(this);
        break;
      case "volume":
        this._actionHandler = new VolumeActionHandler(this);
        break;
      case null:
        if (!this._actionHandler) {
          this._actionHandler = new ActionHandler(this);
        }
        break;
      default:
        assume(false, `Unhandled slider action: ${this._action}`);
    }
    if (oldActionHandler != null && oldActionHandler != this._actionHandler) {
      oldActionHandler.dispose();
    }
  }
  _setAction(value) {
    if (this._actionHandler != null) {
      this._actionHandler.dispose();
      this._actionHandler = null;
    }
    this._action = value.toLowerCase();
    if (this._actionHandler != null) {
      this._actionHandler.dispose();
      this._initializeActionHandler();
    }
  }
  setActionHandler(actionHandler) {
    if (this._actionHandler != null) {
      this._actionHandler.dispose();
      this._actionHandler = null;
    }
    this._actionHandler = actionHandler;
  }
  setThumbSize(width, height) {
    this._thumbWidth = width;
    this._thumbHeight = height;
  }
  _cfgAttribChanged(newValue) {
    const newPos = parseInt(newValue);
    if (newPos != this.getposition()) {
      this.setposition(newPos);
    }
  }
  getposition() {
    return this._position * this._high;
  }
  setposition(newpos) {
    this._position = newpos / this._high;
    this._renderThumbPosition();
    this.doSetPosition(this.getposition());
  }
  onsetposition(newPos) {
    this._onSetPositionEvenEaten = this._uiRoot.vm.dispatch(this, "onsetposition", [
      {type: "INT", value: newPos}
    ]);
  }
  doSetPosition(newPos) {
    this.onsetposition(newPos);
    if (this._actionHandler != null) {
      this._actionHandler.onsetposition(newPos);
    }
    this.updateCfgAttib(String(this.getposition()));
  }
  doLeftMouseDown(x, y) {
    this._setPositionXY(x, y);
    this._uiRoot.vm.dispatch(this, "onleftbuttondown", [
      {type: "INT", value: x},
      {type: "INT", value: y}
    ]);
    if (this._actionHandler != null) {
      this._actionHandler.onLeftMouseDown(x, y);
    }
  }
  doMouseMove(x, y) {
    if (this._actionHandler != null) {
      this._actionHandler.onMouseMove(x, y);
    }
  }
  doLeftMouseUp(x, y) {
    this._uiRoot.vm.dispatch(this, "onleftbuttonup", [
      {type: "INT", value: x},
      {type: "INT", value: y}
    ]);
    this._uiRoot.vm.dispatch(this, "onsetfinalposition", [
      {type: "INT", value: this.getposition()}
    ]);
    this._uiRoot.vm.dispatch(this, "onpostedposition", [
      {type: "INT", value: this.getposition()}
    ]);
    if (this._actionHandler != null) {
      this._actionHandler.onLeftMouseUp(x, y);
    }
  }
  doFreeMouseMove(x, y) {
    if (this._actionHandler != null) {
      this._actionHandler.onFreeMouseMove(x, y);
    }
  }
  _prepareThumbBitmaps() {
    if (this._thumb != null) {
      const bitmap = this._uiRoot.getBitmap(this._thumb);
      if (bitmap && bitmap.loaded()) {
        bitmap._setAsBackground(this._div, "thumb-");
      }
    }
    this._div.style.setProperty("--thumb-width", px(this._thumbWidth));
    this._div.style.setProperty("--thumb-height", px(this._thumbHeight));
    if (this._downThumb != null) {
      const bitmap = this._uiRoot.getBitmap(this._downThumb);
      if (bitmap && bitmap.loaded()) {
        bitmap._setAsBackground(this._div, "thumb-down-");
      }
    }
    if (this._hoverThumb != null) {
      const bitmap = this._uiRoot.getBitmap(this._hoverThumb);
      if (bitmap && bitmap.loaded()) {
        bitmap._setAsBackground(this._div, "thumb-hover-");
      }
    }
  }
  _renderThumbPosition() {
    const actual = this._getActualSize();
    if (this._vertical) {
      const top = Math.floor(Math.max(0, (1 - this._position) * (actual.height - this._thumbHeight)));
      if (this._thumbTop != top) {
        this._thumbTop = top;
        this._div.style.setProperty("--thumb-top", px(top));
      }
    } else {
      const left = Math.floor(this._position * (actual.width - this._thumbWidth));
      if (this._thumbLeft != left) {
        this._thumbLeft = left;
        this._div.style.setProperty("--thumb-left", px(left));
      }
    }
  }
  draw() {
    super.draw();
    this._div.setAttribute("data-obj-name", "Slider");
    assume(this._barLeft == null, "Need to handle Slider barleft");
    assume(this._barRight == null, "Need to handle Slider barright");
    assume(this._barMiddle == null, "Need to handle Slider barmiddle");
    this._prepareThumbBitmaps();
    this._renderThumbPosition();
  }
  dispose() {
    if (this._actionHandler) {
      this._actionHandler.dispose();
    }
    super.dispose();
  }
};
var Slider_default = Slider;
Slider.GUID = "62b65e3f408d375e8176ea8d771bb94a";
var SeekActionHandler = class extends ActionHandler {
  constructor(slider) {
    super(slider);
    this._onAudioProgres = () => {
      if (!this._pendingChange) {
        this._slider._position = this._uiRoot.audio.getCurrentTimePercent();
        this._slider._renderThumbPosition();
      }
    };
    this._registerOnAudioProgress();
  }
  isPendingChange() {
    return true;
  }
  _registerOnAudioProgress() {
    this._subscription = this._uiRoot.audio.onCurrentTimeChange(this._onAudioProgres);
  }
  onsetposition(position) {
    this._pendingChange = this._slider._onSetPositionEvenEaten != 0;
    if (!this._pendingChange) {
      this._uiRoot.audio.seekToPercent(position / this._slider._high);
    }
  }
  onLeftMouseUp(x, y) {
    if (this._pendingChange) {
      this._pendingChange = false;
      this._uiRoot.audio.seekToPercent(this._slider.getposition() / this._slider._high);
    }
  }
};
var EqGlobalVar = {eqMouseDown: false, targetSlider: null};
var EqActionHandler = class extends ActionHandler {
  constructor(slider, kind) {
    super(slider);
    this._kind = kind;
    const update = () => {
      slider._position = this._uiRoot.audio.getEq(kind);
      slider._renderThumbPosition();
    };
    update();
    this._subscription = this._uiRoot.audio.onEqChange(kind, update);
  }
  onLeftMouseDown(x, y) {
    EqGlobalVar.eqMouseDown = true;
    this._slider.getparent().getDiv().classList.add("eq-surf");
    this._slider.getDiv().tabIndex = -1;
    this._slider.getDiv().focus();
  }
  onLeftMouseUp(x, y) {
    EqGlobalVar.eqMouseDown = false;
    this._slider.getparent().getDiv().classList.remove("eq-surf");
  }
  onFreeMouseMove(x, y) {
    if (EqGlobalVar.eqMouseDown) {
      EqGlobalVar.targetSlider = this._slider;
      this._slider.getDiv().tabIndex = -1;
      this._slider.getDiv().focus();
      this._slider._setPositionXY(x, y);
    }
  }
  onMouseMove(x, y) {
    if (EqGlobalVar.eqMouseDown && EqGlobalVar.targetSlider) {
      EqGlobalVar.targetSlider._setPositionXY(x, y);
    }
  }
  onsetposition(position) {
    this._uiRoot.audio.setEq(this._kind, position / this._slider._high);
  }
};
var PreampActionHandler = class extends ActionHandler {
  constructor(slider, kind) {
    super(slider);
    this._kind = kind;
    const update = () => {
      slider._position = this._uiRoot.audio.getEq(kind);
      slider._renderThumbPosition();
    };
    update();
    this._subscription = this._uiRoot.audio.onEqChange(kind, update);
  }
  onsetposition(position) {
    this._uiRoot.audio.setEq(this._kind, position / this._slider._high);
  }
};
var PanActionHandler = class extends ActionHandler {
  onsetposition(position) {
    this._uiRoot.audio.setBalance(position / this._slider._high);
  }
};
var VolumeActionHandler = class extends ActionHandler {
  constructor(slider) {
    super(slider);
    this._changing = false;
    slider._position = this._uiRoot.audio.getVolume();
    slider._renderThumbPosition();
    this._subscription = this._uiRoot.audio.onVolumeChanged(() => {
      if (!this._changing) {
        slider._position = this._uiRoot.audio.getVolume();
        slider._renderThumbPosition();
      }
    });
  }
  onsetposition(position) {
    this._uiRoot.audio.setVolume(position / this._slider._high);
  }
  onLeftMouseDown(x, y) {
    this._changing = true;
  }
  onLeftMouseUp(x, y) {
    this._changing = false;
  }
};

// build/skin/makiClasses/Vis.js
var VisPaintHandler = class {
  constructor(vis) {
    this._vis = vis;
  }
  prepare() {
  }
  paintFrame() {
  }
  dispose() {
  }
  doAction(action, param) {
  }
};
var VISPAINTERS = {};
function registerPainter(key, painterclass) {
  VISPAINTERS[key] = painterclass;
}
var Vis = class extends GuiObj_default {
  constructor(uiRoot) {
    super(uiRoot);
    this._canvas = document.createElement("canvas");
    this._animationRequest = null;
    this._mode = "1";
    this._colorBands = [];
    this._colorBandPeak = "255,255,255";
    this._colorOsc = [];
    this._coloring = "normal";
    this._peaks = true;
    this._bandwidth = "wide";
    this._realtime = true;
    this._rebuildPainter = debounce(() => {
      if (this._painter) {
        this._painter.prepare();
        this._painter.paintFrame();
      }
    }, 100);
    this._colorThemeChanged = (newGammaId) => {
      this._rebuildPainter();
    };
    this.audioStatusChanged = () => {
      this._stopVisualizer();
      const playing = this._uiRoot.audio.getState() == AUDIO_PLAYING;
      if (playing) {
        this._startVisualizer();
      }
    };
    while (this._colorBands.length < 16) {
      this._colorBands.push("255,255,255");
    }
    while (this._colorOsc.length < 5) {
      this._colorOsc.push("255,255,255");
    }
    this._painter = new NoVisualizerHandler(this);
    this._uiRoot.audio.on("statchanged", this.audioStatusChanged);
    this._uiRoot.on("colorthemechanged", this._colorThemeChanged);
  }
  setXmlAttr(_key, value) {
    const key = _key.toLowerCase();
    if (super.setXmlAttr(key, value)) {
      return true;
    }
    value = value.toLowerCase();
    switch (key) {
      case "mode":
        this.setmode(value);
        break;
      case "gammagroup":
        this._gammagroup = value;
        break;
      case "colorband1":
      case "colorband2":
      case "colorband3":
      case "colorband4":
      case "colorband5":
      case "colorband6":
      case "colorband7":
      case "colorband8":
      case "colorband9":
      case "colorband10":
      case "colorband11":
      case "colorband12":
      case "colorband13":
      case "colorband14":
      case "colorband15":
      case "colorband16":
        const cobaIndex = parseInt(key.substring(9)) - 1;
        this._colorBands[cobaIndex] = value;
        break;
      case "colorallbands":
        for (var i = 0; i < 16; i++) {
          this._colorBands[i] = value;
        }
        break;
      case "coloring":
        this._coloring = value;
        break;
      case "colorbandpeak":
        this._colorBandPeak = value;
        break;
      case "peaks":
        this._peaks = toBool(value);
        break;
      case "bandwidth":
        this._bandwidth = value;
        break;
      case "colorosc1":
      case "colorosc2":
      case "colorosc3":
      case "colorosc4":
      case "colorosc5":
        const coOcIndex = parseInt(key.substring(8)) - 1;
        this._colorOsc[coOcIndex] = value;
        break;
      case "colorallosc":
        for (var i = 0; i < 5; i++) {
          this._colorOsc[i] = value;
        }
        break;
      case "oscstyle":
        this._oscStyle = value;
        break;
      case "others":
        break;
      default:
        return false;
    }
    this._rebuildPainter();
    return true;
  }
  init() {
    this.setmode(this._mode);
    super.init();
    this.audioStatusChanged();
  }
  dispose() {
    super.dispose();
    this._stopVisualizer();
  }
  setmode(mode) {
    this._mode = mode;
    const painterClass = VISPAINTERS[mode] || VISPAINTERS["0"];
    this._setPainter(painterClass);
  }
  getmode() {
    return parseInt("0" + this._mode);
  }
  nextmode() {
    let newMode = this.getmode() + 1;
    if (newMode > 2) {
      newMode = 0;
    }
    this.setmode(String(newMode));
  }
  _setPainter(PainterType) {
    const oldPainter = this._painter;
    this._painter = new PainterType(this);
    this.audioStatusChanged();
    if (oldPainter) {
      oldPainter.dispose();
    }
  }
  _startVisualizer() {
    this._rebuildPainter();
    const loop = () => {
      this._painter.paintFrame();
      this._animationRequest = window.requestAnimationFrame(loop);
    };
    loop();
  }
  _stopVisualizer() {
    if (this._animationRequest != null) {
      window.cancelAnimationFrame(this._animationRequest);
      this._animationRequest = null;
    }
  }
  setrealtime(onoff) {
    this._realtime = unimplemented(onoff);
  }
  getrealtime() {
    return this._realtime;
  }
  _renderWidth() {
    super._renderWidth();
    this._canvas.style.width = this._div.style.width;
    this._canvas.setAttribute("width", `${parseInt(this._div.style.width)}`);
  }
  _renderHeight() {
    super._renderHeight();
    this._canvas.style.height = this._div.style.height;
    this._canvas.setAttribute("height", `${parseInt(this._div.style.height)}`);
  }
  draw() {
    super.draw();
    this._canvas.setAttribute("id", this.getId() + "-canvas");
    this._div.appendChild(this._canvas);
  }
};
var Vis_default = Vis;
Vis.GUID = "ce4f97be4e1977b098d45699276cc933";
var NoVisualizerHandler = class extends VisPaintHandler {
  prepare() {
    const ctx = this._vis._canvas.getContext("2d");
    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
  }
};
registerPainter("0", NoVisualizerHandler);
var NUM_BARS = 20;
var PIXEL_DENSITY = 1;
var BAR_PEAK_DROP_RATE = 0.01;
function octaveBucketsForBufferLength(bufferLength, barCount = NUM_BARS) {
  const octaveBuckets = new Array(barCount).fill(0);
  const minHz = 200;
  const maxHz = 22050;
  const octaveStep = Math.pow(maxHz / minHz, 1 / barCount);
  octaveBuckets[0] = 0;
  octaveBuckets[1] = minHz;
  for (let i = 2; i < barCount - 1; i++) {
    octaveBuckets[i] = octaveBuckets[i - 1] * octaveStep;
  }
  octaveBuckets[barCount - 1] = maxHz;
  for (let i = 0; i < barCount; i++) {
    const octaveIdx = Math.floor(octaveBuckets[i] / maxHz * bufferLength);
    octaveBuckets[i] = octaveIdx;
  }
  return octaveBuckets;
}
var BarPaintHandler = class extends VisPaintHandler {
  constructor(vis) {
    super(vis);
    this._color = "rgb(255,255,255)";
    this._colorPeak = "rgb(255,255,255)";
    this._bar = document.createElement("canvas");
    this._peak = document.createElement("canvas");
    this._barPeaks = new Array(NUM_BARS).fill(0);
    this._barPeakFrames = new Array(NUM_BARS).fill(0);
    this._analyser = this._vis._uiRoot.audio.getAnalyser();
    this._bufferLength = this._analyser.frequencyBinCount;
    this._octaveBuckets = octaveBucketsForBufferLength(this._bufferLength);
    this._dataArray = new Uint8Array(this._bufferLength);
  }
  prepare() {
    const vis = this._vis;
    const groupId = vis._gammagroup;
    const gammaGroup = this._vis._uiRoot._getGammaGroup(groupId);
    this._barWidth = Math.ceil(vis._canvas.width / NUM_BARS);
    this._peak.height = 1;
    this._peak.width = 1;
    var ctx = this._peak.getContext("2d");
    ctx.fillStyle = `rgb(${this._vis._colorBandPeak})`;
    ctx.fillRect(0, 0, 1, 1);
    this._bar.height = vis._canvas.height;
    this._bar.width = 1;
    var ctx = this._bar.getContext("2d");
    const grd = ctx.createLinearGradient(0, 0, 0, vis._canvas.height);
    for (let i = 0; i < vis._colorBands.length; i++) {
      grd.addColorStop(1 / (vis._colorBands.length - 1) * i, gammaGroup.transformColor(vis._colorBands[i]));
    }
    ctx.strokeStyle = this._color;
    ctx.fillStyle = grd;
    ctx.fillRect(0, 0, 1, vis._canvas.height);
    ctx.imageSmoothingEnabled = false;
    this._ctx = this._vis._canvas.getContext("2d");
    if (this._vis._bandwidth == "wide") {
      this.paintFrame = this.paintFrameWide.bind(this);
      this._octaveBuckets = octaveBucketsForBufferLength(this._bufferLength);
    } else {
      const w = this._vis._canvas.width;
      this._barPeaks = new Array(w).fill(0);
      this._barPeakFrames = new Array(w).fill(0);
      this._octaveBuckets = octaveBucketsForBufferLength(this._bufferLength, w);
      this.paintFrame = this.paintFrameThin.bind(this);
    }
    if (this._vis._coloring == "fire") {
      this.paintBar = this.paintBarFire.bind(this);
    } else {
      this.paintBar = this.paintBarNormal.bind(this);
    }
  }
  paintFrameWide() {
    if (!this._ctx)
      return;
    const ctx = this._ctx;
    const w = ctx.canvas.width;
    const h = ctx.canvas.height;
    ctx.clearRect(0, 0, w, h);
    ctx.fillStyle = this._color;
    this._analyser.getByteFrequencyData(this._dataArray);
    const heightMultiplier = h / 256;
    for (let j = 0; j < NUM_BARS - 1; j++) {
      const start = this._octaveBuckets[j];
      const end = this._octaveBuckets[j + 1];
      let amplitude = 0;
      amplitude /= end - start;
      for (let k = start; k < end; k++) {
        amplitude = Math.max(amplitude, this._dataArray[k]);
      }
      let barPeak = this._barPeaks[j] - BAR_PEAK_DROP_RATE * Math.pow(this._barPeakFrames[j], 2);
      if (barPeak < amplitude) {
        barPeak = amplitude;
        this._barPeakFrames[j] = 0;
      } else {
        this._barPeakFrames[j] += 1;
      }
      this._barPeaks[j] = barPeak;
      var x1 = Math.round(this._barWidth * j);
      var x2 = Math.round(this._barWidth * (j + 1)) - 2;
      this.paintBar(ctx, x1, x2, amplitude * heightMultiplier, barPeak * heightMultiplier);
    }
  }
  paintFrameThin() {
    if (!this._ctx)
      return;
    const ctx = this._ctx;
    const w = ctx.canvas.width;
    const h = ctx.canvas.height;
    ctx.clearRect(0, 0, w, h);
    ctx.fillStyle = this._color;
    this._analyser.getByteFrequencyData(this._dataArray);
    const heightMultiplier = h / 256;
    for (let j = 0; j < w - 1; j++) {
      const start = this._octaveBuckets[j];
      const end = this._octaveBuckets[j + 1];
      let amplitude = 0;
      amplitude /= end - start;
      for (let k = start; k < end; k++) {
        amplitude = Math.max(amplitude, this._dataArray[k]);
      }
      let barPeak = this._barPeaks[j] - BAR_PEAK_DROP_RATE * Math.pow(this._barPeakFrames[j], 2);
      if (barPeak < amplitude) {
        barPeak = amplitude;
        this._barPeakFrames[j] = 0;
      } else {
        this._barPeakFrames[j] += 1;
      }
      this._barPeaks[j] = barPeak;
      this.paintBar(ctx, j, j, amplitude * heightMultiplier, barPeak * heightMultiplier);
    }
  }
  paintBarNormal(ctx, x, x2, barHeight, peakHeight) {
    const h = ctx.canvas.height;
    var y = h - barHeight;
    ctx.drawImage(this._bar, 0, y, 1, h - y, x, y, x2 - x + 1, h - y);
    if (this._vis._peaks) {
      const peakY = h - peakHeight;
      ctx.drawImage(this._peak, 0, 0, 1, 1, x, peakY, x2 - x + 1, 1);
    }
  }
  paintBarFire(ctx, x, x2, barHeight, peakHeight) {
    const h = ctx.canvas.height;
    var y = h - barHeight;
    ctx.drawImage(this._bar, 0, 0, this._bar.width, h - y, x, y, x2 - x + 1, h - y);
    if (this._vis._peaks) {
      const peakY = h - peakHeight;
      ctx.drawImage(this._peak, 0, 0, 1, 1, x, peakY, x2 - x + 1, 1);
    }
  }
};
registerPainter("1", BarPaintHandler);
function slice1st(dataArray, sliceWidth, sliceNumber) {
  const start = sliceWidth * sliceNumber;
  return dataArray[start];
}
var WavePaintHandler = class extends VisPaintHandler {
  constructor(vis) {
    super(vis);
    this._lastX = 0;
    this._lastY = 0;
    this._bar = document.createElement("canvas");
    this._16h = document.createElement("canvas");
    this._datafetched = false;
    this._analyser = this._vis._uiRoot.audio.getAnalyser();
    this._bufferLength = this._analyser.fftSize;
    this._dataArray = new Uint8Array(this._bufferLength);
    this._pixelRatio = window.devicePixelRatio || 1;
  }
  prepare() {
    const vis = this._vis;
    const groupId = vis._gammagroup;
    const gammaGroup = this._vis._uiRoot._getGammaGroup(groupId);
    this._16h.width = 1;
    this._16h.height = 16;
    this._16h.setAttribute("width", "72");
    this._16h.setAttribute("height", "16");
    this._bar.width = 1;
    this._bar.height = 5;
    this._bar.setAttribute("width", "1");
    this._bar.setAttribute("height", "5");
    var ctx = this._bar.getContext("2d");
    for (let y = 0; y < 5; y++) {
      ctx.fillStyle = gammaGroup.transformColor(vis._colorOsc[y]);
      ctx.fillRect(0, y, 1, y + 1);
    }
    this._ctx = vis._canvas.getContext("2d");
    this._ctx.imageSmoothingEnabled = false;
    this._ctx.mozImageSmoothingEnabled = false;
    this._ctx.webkitImageSmoothingEnabled = false;
    this._ctx.msImageSmoothingEnabled = false;
    if (this._vis._oscStyle == "dots") {
      this.paintWav = this.paintWavDot.bind(this);
    } else if (this._vis._oscStyle == "solid") {
      this.paintWav = this.paintWavSolid.bind(this);
    } else {
      this.paintWav = this.paintWavLine.bind(this);
    }
    this._datafetched = false;
  }
  paintFrame() {
    if (!this._ctx)
      return;
    this._analyser.getByteTimeDomainData(this._dataArray);
    this._dataArray = this._dataArray.slice(0, 576);
    const bandwidth = this._dataArray.length;
    if (!this._datafetched) {
      this._datafetched = true;
    }
    const using16temporaryCanvas = this._vis._canvas.height != 16;
    if (using16temporaryCanvas) {
      this._ctx = this._16h.getContext("2d");
    }
    let width = this._ctx.canvas.width;
    const height = this._ctx.canvas.height;
    this._ctx.clearRect(0, 0, width, height);
    const sliceWidth = Math.floor(bandwidth / width);
    for (let j = 0; j <= width; j++) {
      const amplitude = slice1st(this._dataArray, sliceWidth, j);
      const [y, colorIndex] = this.rangeByAmplitude(amplitude);
      const x = j * PIXEL_DENSITY;
      this.paintWav(x, y, colorIndex);
    }
    if (using16temporaryCanvas) {
      const canvas = this._vis._canvas;
      const visCtx = canvas.getContext("2d");
      visCtx.clearRect(0, 0, canvas.width, canvas.height);
      visCtx.drawImage(this._16h, 0, 0, 72, 16, 0, 0, canvas.width, canvas.height);
    }
  }
  rangeByAmplitude(amplitude) {
    if (amplitude >= 184) {
      return [0, 3];
    }
    if (amplitude >= 176) {
      return [1, 3];
    }
    if (amplitude >= 168) {
      return [2, 2];
    }
    if (amplitude >= 160) {
      return [3, 2];
    }
    if (amplitude >= 152) {
      return [4, 1];
    }
    if (amplitude >= 144) {
      return [5, 1];
    }
    if (amplitude >= 136) {
      return [6, 0];
    }
    if (amplitude >= 128) {
      return [7, 0];
    }
    if (amplitude >= 120) {
      return [8, 1];
    }
    if (amplitude >= 112) {
      return [9, 1];
    }
    if (amplitude >= 104) {
      return [10, 2];
    }
    if (amplitude >= 96) {
      return [11, 2];
    }
    if (amplitude >= 88) {
      return [12, 3];
    }
    if (amplitude >= 80) {
      return [13, 3];
    }
    if (amplitude >= 72) {
      return [14, 4];
    }
    return [15, 4];
  }
  paintWavLine(x, y, colorIndex) {
    if (x === 0)
      this._lastY = y;
    let top = y;
    let bottom = this._lastY;
    this._lastY = y;
    if (bottom < top) {
      [bottom, top] = [top, bottom];
    }
    for (y = top; y <= bottom; y++) {
      this._ctx.drawImage(this._bar, 0, colorIndex, 1, 1, x, y, 1, 1);
    }
  }
  paintWavDot(x, y, colorIndex) {
    this._ctx.drawImage(this._bar, 0, colorIndex, 1, 1, x, y, 1, 1);
  }
  paintWavSolid(x, y, colorIndex) {
    var top, bottom;
    if (y >= 8) {
      top = 8;
      bottom = y;
    } else {
      top = y;
      bottom = 7;
    }
    for (y = top; y <= bottom; y++) {
      this._ctx.drawImage(this._bar, 0, colorIndex, 1, 1, x, y, 1, 1);
    }
  }
};
registerPainter("2", WavePaintHandler);

// build/skin/makiClasses/EqVis.js
var EqVis = class extends GuiObj_default {
  constructor(uiRoot) {
    super(uiRoot);
    this._canvas = document.createElement("canvas");
    this._preampImg = document.createElement("canvas");
    this._colorTop = "255,255,255";
    this._colorMiddle = "255,255,255";
    this._colorBotttom = "255,255,255";
    this._colorPreamp = "186,203,221";
    this.update = () => {
      const ctx = this._canvas.getContext("2d");
      const w = ctx.canvas.width;
      const h = ctx.canvas.height;
      ctx.clearRect(0, 0, w, h);
      const amplitudes = [];
      for (let i = 1; i <= 10; i++) {
        amplitudes.push(this._uiRoot.audio.getEq(String(i)));
      }
      const preampValue = percentToRange(this._uiRoot.audio.getEq("preamp"), 0, h - 1);
      ctx.drawImage(this._getPreampImg(), 0, preampValue);
      ctx.fillStyle = this._getFillStyle();
      const paddingLeft = 2;
      const min = 0;
      const max = h - 1;
      const xs = [];
      const ys = [];
      amplitudes.forEach((value, i) => {
        const percent = 1 - value;
        xs.push(i * ((w - 2 * paddingLeft) / (10 - 1)));
        ys.push(percentToRange(percent, min, max));
      });
      const allYs = spline(xs, ys);
      const maxX = xs[xs.length - 1];
      let lastY = ys[0];
      for (let x = 0; x <= maxX; x++) {
        const y = clamp(Math.round(allYs[x]), 0, h - 1);
        const yTop = Math.min(y, lastY);
        const height = 1 + Math.abs(lastY - y);
        ctx.fillRect(paddingLeft + x, yTop, 1, height);
        lastY = y;
      }
    };
    this.registerEqChanges();
    this._preampImg.width = 0;
  }
  registerEqChanges() {
    for (let i = 1; i <= 10; i++) {
      this._uiRoot.audio.onEqChange(String(i), this.update);
    }
    this._uiRoot.audio.onEqChange("preamp", this.update);
  }
  setXmlAttr(key, value) {
    if (super.setXmlAttr(key, value)) {
      return true;
    }
    switch (key) {
      case "colortop":
        this._colorTop = value;
        break;
      case "colormiddle":
        this._colorMiddle = value;
        break;
      case "colorbottom":
        this._colorBotttom = value;
        break;
      case "colorpreamp":
        this._colorPreamp = value;
        break;
      case "colors":
        this._colorBitmapName = value;
        break;
      case "preamp":
        this._preampBitmapName = value;
        break;
      default:
        return false;
    }
    return true;
  }
  _getFillStyle() {
    if (!this._fillStyle) {
      const ctx = this._canvas.getContext("2d");
      if (this._colorBitmapName) {
        const bitmap = this._uiRoot.getBitmap(this._colorBitmapName);
        this._fillStyle = ctx.createPattern(bitmap.getCanvas(), "repeat-x");
      } else {
        const grd = ctx.createLinearGradient(0, 0, 0, this._canvas.height);
        grd.addColorStop(0, `rgb(${this._colorTop})`);
        grd.addColorStop(0.5, `rgb(${this._colorMiddle})`);
        grd.addColorStop(1, `rgb(${this._colorBotttom})`);
        this._fillStyle = grd;
      }
    }
    return this._fillStyle;
  }
  _getPreampImg() {
    if (!this._preampImg.width) {
      this._preampImg.width = this.getwidth();
      this._preampImg.height = 1;
      const ctx = this._preampImg.getContext("2d");
      ctx.fillStyle = `rgba(${this._colorPreamp},1)`;
      ctx.fillRect(0, 0, this.getwidth(), 1);
      if (this._preampBitmapName) {
        const bitmap = this._uiRoot.getBitmap(this._preampBitmapName);
        this._preampImg.height = bitmap.getHeight();
        ctx.drawImage(bitmap.getImg(), -bitmap.getLeft(), -bitmap.getTop());
      }
    }
    return this._preampImg;
  }
  _renderWidth() {
    super._renderWidth();
    this._canvas.style.width = this._div.style.width;
    this._canvas.setAttribute("width", `${parseInt(this._div.style.width)}`);
  }
  _renderHeight() {
    super._renderHeight();
    this._canvas.style.height = this._div.style.height;
    this._canvas.setAttribute("height", `${parseInt(this._div.style.height)}`);
  }
  draw() {
    super.draw();
    this._div.appendChild(this._canvas);
    this.update();
  }
  isinvalid() {
    return false;
  }
};
var EqVis_default = EqVis;
EqVis.GUID = "8d1eba38483e489e1f8d60b905c4c543";
var percentToRange = (percent, min, max) => min + Math.round(percent * (max - min));
function spline(xs, ys) {
  const ks = getNaturalKs(xs, ys);
  const maxX = xs[xs.length - 1];
  const allYs = [];
  let i = 1;
  for (let x = 0; x <= maxX; x++) {
    while (xs[i] < x)
      i++;
    const t = (x - xs[i - 1]) / (xs[i] - xs[i - 1]);
    const a = ks[i - 1] * (xs[i] - xs[i - 1]) - (ys[i] - ys[i - 1]);
    const b = -ks[i] * (xs[i] - xs[i - 1]) + (ys[i] - ys[i - 1]);
    const q = (1 - t) * ys[i - 1] + t * ys[i] + t * (1 - t) * (a * (1 - t) + b * t);
    allYs.push(q);
  }
  return allYs;
}
function getNaturalKs(xs, ys) {
  const ks = xs.map(() => 0);
  const n = xs.length - 1;
  const matrix = zerosMatrix(n + 1, n + 2);
  for (let i = 1; i < n; i++) {
    matrix[i][i - 1] = 1 / (xs[i] - xs[i - 1]);
    matrix[i][i] = 2 * (1 / (xs[i] - xs[i - 1]) + 1 / (xs[i + 1] - xs[i]));
    matrix[i][i + 1] = 1 / (xs[i + 1] - xs[i]);
    matrix[i][n + 1] = 3 * ((ys[i] - ys[i - 1]) / ((xs[i] - xs[i - 1]) * (xs[i] - xs[i - 1])) + (ys[i + 1] - ys[i]) / ((xs[i + 1] - xs[i]) * (xs[i + 1] - xs[i])));
  }
  matrix[0][0] = 2 / (xs[1] - xs[0]);
  matrix[0][1] = 1 / (xs[1] - xs[0]);
  matrix[0][n + 1] = 3 * (ys[1] - ys[0]) / ((xs[1] - xs[0]) * (xs[1] - xs[0]));
  matrix[n][n - 1] = 1 / (xs[n] - xs[n - 1]);
  matrix[n][n] = 2 / (xs[n] - xs[n - 1]);
  matrix[n][n + 1] = 3 * (ys[n] - ys[n - 1]) / ((xs[n] - xs[n - 1]) * (xs[n] - xs[n - 1]));
  return solve(matrix, ks);
}
function solve(matrix, ks) {
  const m = matrix.length;
  for (let k = 0; k < m; k++) {
    let iMax = 0;
    let vali = Number.NEGATIVE_INFINITY;
    for (let i = k; i < m; i++)
      if (matrix[i][k] > vali) {
        iMax = i;
        vali = matrix[i][k];
      }
    swapRows(matrix, k, iMax);
    for (let i = k + 1; i < m; i++) {
      for (let j = k + 1; j < m + 1; j++)
        matrix[i][j] = matrix[i][j] - matrix[k][j] * (matrix[i][k] / matrix[k][k]);
      matrix[i][k] = 0;
    }
  }
  for (let i = m - 1; i >= 0; i--) {
    const v = matrix[i][m] / matrix[i][i];
    ks[i] = v;
    for (let j = i - 1; j >= 0; j--) {
      matrix[j][m] -= matrix[j][i] * v;
      matrix[j][i] = 0;
    }
  }
  return ks;
}
function zerosMatrix(rows, columns) {
  const matrix = [];
  for (let i = 0; i < rows; i++) {
    matrix.push([]);
    for (let j = 0; j < columns; j++) {
      matrix[i].push(0);
    }
  }
  return matrix;
}
function swapRows(m, k, l) {
  const p = m[k];
  m[k] = m[l];
  m[l] = p;
}

// build/skin/makiClasses/ComponentBucket.js
var ComponentBucket = class extends Group_default {
  constructor(uiRoot) {
    super(uiRoot);
    this._vertical = false;
    this._page = 0;
    this._leftmargin = 0;
    this._rightmargin = 0;
    this._spacing = 0;
    this._wrapper = document.createElement("wrapper");
  }
  setXmlAttr(_key, value) {
    const key = _key.toLowerCase();
    if (super.setXmlAttr(key, value)) {
      return true;
    }
    switch (key.toLowerCase()) {
      case "wndtype":
        this._wndType = value.toLowerCase();
        break;
      case "vertical":
        this._vertical = toBool(value);
        break;
      case "leftmargin":
        this._leftmargin = num(value);
        break;
      case "rightmargin":
        this._rightmargin = num(value);
        break;
      case "spacing":
        this._spacing = num(value);
        break;
      default:
        return false;
    }
    return true;
  }
  getWindowType() {
    return this._wndType;
  }
  getmaxheight() {
    return this._maximumHeight;
  }
  getmaxwidth() {
    return this._maximumWidth;
  }
  setscroll(x) {
    const anchor = this._vertical ? "top" : "left";
    this._wrapper.style.setProperty(anchor, px(x));
    return x;
  }
  getscroll() {
    const anchor = this._vertical ? "top" : "left";
    const value = parseInt(this._wrapper.style.getPropertyValue(anchor));
    return value;
  }
  getnumchildren() {
    return this._children.length;
  }
  enumchildren(n) {
    return this._children[n];
  }
  handleAction(action, param = null, actionTarget = null, source = null) {
    switch (action.toLowerCase()) {
      case "cb_prev":
      case "cb_prevpage":
        this._scrollPage(1);
        return true;
      case "cb_next":
      case "cb_nextpage":
        this._scrollPage(-1);
        return true;
    }
    return false;
  }
  init() {
    this.resolveButtonsAction();
    super.init();
    this._uiRoot.vm.dispatch(this, "onstartup", []);
  }
  resolveButtonsAction() {
    for (const obj of this.getparent()._children) {
      if (obj instanceof Button_default && (obj._actionTarget == null || obj._actionTarget == "bucket") && obj._action && obj._action.toLowerCase().startsWith("cb_")) {
        obj._actionTarget = this.getId();
      }
    }
  }
  _scrollPage(step) {
    if (!this._children.length)
      return;
    const oneChild = this._children[0];
    const oneStep = this._vertical ? oneChild.getheight() : oneChild.getwidth();
    const anchor = this._vertical ? "top" : "left";
    const currentStep = this._vertical ? this._wrapper.offsetTop : this._wrapper.offsetLeft;
    const viewportSize = this._div.getBoundingClientRect();
    const maxViewport = this._vertical ? viewportSize.height : viewportSize.width;
    const maxSteps = Math.ceil(maxViewport / oneStep);
    const wrapperSize = this._wrapper.getBoundingClientRect();
    const maxScroll = this._vertical ? wrapperSize.height - viewportSize.height : wrapperSize.width - viewportSize.width;
    const newScroll = clamp(currentStep + oneStep * maxSteps * step, -(maxScroll + (this._leftmargin + this._rightmargin)), 0);
    this._wrapper.style.setProperty(anchor, px(newScroll));
  }
  appendChildrenDiv() {
    this._div.appendChild(this._wrapper);
    this._appendChildrenToDiv(this._wrapper);
  }
  draw() {
    super.draw();
    if (this._vertical) {
      this._div.classList.add("vertical");
      this._wrapper.style.marginTop = px(this._leftmargin);
      this._wrapper.style.marginBottom = px(this._rightmargin);
    } else {
      this._div.classList.remove("vertical");
      this._wrapper.style.marginLeft = px(this._leftmargin);
      this._wrapper.style.marginRight = px(this._rightmargin);
    }
    this._wrapper.style.gap = px(this._spacing);
  }
};
var ComponentBucket_default = ComponentBucket;
ComponentBucket.GUID = "97aa3e4d4fa8f4d0f20a7b818349452a";

// build/skin/makiClasses/AlbumArt.js
var AlbumArt = class extends Layer_default {
  constructor(uiRoot) {
    super(uiRoot);
    this._trackId = -1;
    this._hasPicture = false;
    this._trackChanged = () => {
      let track;
      if (track = this._uiRoot.playlist.currentTrack()) {
        if (this._trackId != track.id || !this._hasPicture && track.metadata && track.metadata.image) {
          this._trackId = track.id;
          if (track.metadata && track.metadata.image) {
            const image = track.metadata.image;
            this._hasPicture = image != null;
            const albumArtUrl = URL.createObjectURL(new Blob([image.data], {type: image.mime}));
            this._div.style.backgroundImage = `url(${albumArtUrl})`;
          } else {
            this._hasPicture = false;
            this._div.style.removeProperty("background-image");
          }
        }
      }
    };
    this._w = 0;
    this._h = 0;
    this._relatw = "1";
    this._relath = "1";
  }
  init() {
    super.init();
    this._uiRoot.playlist.on("trackchange", this._trackChanged);
  }
  draw() {
    super.draw();
  }
  refresh() {
    const albumArtUrl = this._uiRoot.audio._albumArtUrl;
    if (albumArtUrl != null) {
      this._div.style.pointerEvents = "all";
      this._div.style.backgroundImage = `url(${albumArtUrl})`;
      this._div.style.backgroundSize = "cover";
    } else {
      this._div.style.removeProperty("background-image");
    }
  }
  isloading() {
    return 1;
  }
  onAlbumArtLoaded(success) {
    return true;
  }
  isinvalid() {
    return !this._hasPicture;
  }
};
var AlbumArt_default = AlbumArt;
AlbumArt.GUID = "6dcb05e448c28ac4f04993b14af50e91";

// build/skin/makiClasses/Region.js
var Region = class {
  loadfrommap(regionmap, threshold, reversed) {
  }
};
var Region_default = Region;
Region.GUID = "3a370c02439f3cbf8886f184361ecf5b";

// build/_snowpack/pkg/common/v2parser-d130ad23.js
var genres = createCommonjsModule(function(module, exports) {
  Object.defineProperty(exports, "__esModule", {value: true});
  exports.default = [
    "Blues",
    "Classic Rock",
    "Country",
    "Dance",
    "Disco",
    "Funk",
    "Grunge",
    "Hip-Hop",
    "Jazz",
    "Metal",
    "New Age",
    "Oldies",
    "Other",
    "Pop",
    "R&B",
    "Rap",
    "Reggae",
    "Rock",
    "Techno",
    "Industrial",
    "Alternative",
    "Ska",
    "Death Metal",
    "Pranks",
    "Soundtrack",
    "Euro-Techno",
    "Ambient",
    "Trip-Hop",
    "Vocal",
    "Jazz+Funk",
    "Fusion",
    "Trance",
    "Classical",
    "Instrumental",
    "Acid",
    "House",
    "Game",
    "Sound Clip",
    "Gospel",
    "Noise",
    "AlternRock",
    "Bass",
    "Soul",
    "Punk",
    "Space",
    "Meditative",
    "Instrumental Pop",
    "Instrumental Rock",
    "Ethnic",
    "Gothic",
    "Darkwave",
    "Techno-Industrial",
    "Electronic",
    "Pop-Folk",
    "Eurodance",
    "Dream",
    "Southern Rock",
    "Comedy",
    "Cult",
    "Gangsta Rap",
    "Top 40",
    "Christian Rap",
    "Pop / Funk",
    "Jungle",
    "Native American",
    "Cabaret",
    "New Wave",
    "Psychedelic",
    "Rave",
    "Showtunes",
    "Trailer",
    "Lo-Fi",
    "Tribal",
    "Acid Punk",
    "Acid Jazz",
    "Polka",
    "Retro",
    "Musical",
    "Rock & Roll",
    "Hard Rock",
    "Folk",
    "Folk-Rock",
    "National Folk",
    "Swing",
    "Fast  Fusion",
    "Bebob",
    "Latin",
    "Revival",
    "Celtic",
    "Bluegrass",
    "Avantgarde",
    "Gothic Rock",
    "Progressive Rock",
    "Psychedelic Rock",
    "Symphonic Rock",
    "Slow Rock",
    "Big Band",
    "Chorus",
    "Easy Listening",
    "Acoustic",
    "Humour",
    "Speech",
    "Chanson",
    "Opera",
    "Chamber Music",
    "Sonata",
    "Symphony",
    "Booty Bass",
    "Primus",
    "Porn Groove",
    "Satire",
    "Slow Jam",
    "Club",
    "Tango",
    "Samba",
    "Folklore",
    "Ballad",
    "Power Ballad",
    "Rhythmic Soul",
    "Freestyle",
    "Duet",
    "Punk Rock",
    "Drum Solo",
    "A Cappella",
    "Euro-House",
    "Dance Hall",
    "Goa",
    "Drum & Bass",
    "Club-House",
    "Hardcore",
    "Terror",
    "Indie",
    "BritPop",
    "Negerpunk",
    "Polsk Punk",
    "Beat",
    "Christian Gangsta Rap",
    "Heavy Metal",
    "Black Metal",
    "Crossover",
    "Contemporary Christian",
    "Christian Rock",
    "Merengue",
    "Salsa",
    "Thrash Metal",
    "Anime",
    "JPop",
    "Synthpop",
    "Rock/Pop"
  ];
});
var utils = createCommonjsModule(function(module, exports) {
  Object.defineProperty(exports, "__esModule", {value: true});
  var toStr = String.fromCharCode;
  function readBytesToUTF8(bytes, maxToRead) {
    if (maxToRead == null || maxToRead < 0) {
      maxToRead = bytes.length;
    } else {
      maxToRead = Math.min(maxToRead, bytes.length);
    }
    var index = 0;
    if (bytes[0] === 239 && bytes[1] === 187 && bytes[2] === 191) {
      index = 3;
    }
    var arr = [];
    for (var i = 0; index < maxToRead; i++) {
      var byte1 = bytes[index++];
      var byte2 = void 0;
      var byte3 = void 0;
      var byte4 = void 0;
      var codepoint = void 0;
      if (byte1 === 0) {
        break;
      } else if (byte1 < 128) {
        arr[i] = toStr(byte1);
      } else if (byte1 >= 194 && byte1 < 224) {
        byte2 = bytes[index++];
        arr[i] = toStr(((byte1 & 31) << 6) + (byte2 & 63));
      } else if (byte1 >= 224 && byte1 < 240) {
        byte2 = bytes[index++];
        byte3 = bytes[index++];
        arr[i] = toStr(((byte1 & 15) << 12) + ((byte2 & 63) << 6) + (byte3 & 63));
      } else if (byte1 >= 240 && byte1 < 245) {
        byte2 = bytes[index++];
        byte3 = bytes[index++];
        byte4 = bytes[index++];
        codepoint = ((byte1 & 7) << 18) + ((byte2 & 63) << 12) + ((byte3 & 63) << 6) + (byte4 & 63) - 65536;
        arr[i] = toStr((codepoint >> 10) + 55296, (codepoint & 1023) + 56320);
      }
    }
    return arr.join("");
  }
  exports.readBytesToUTF8 = readBytesToUTF8;
  function readBytesToUTF16(bytes, isBigEndian, maxToRead) {
    if (maxToRead == null || maxToRead < 0) {
      maxToRead = bytes.length;
    } else {
      maxToRead = Math.min(maxToRead, bytes.length);
    }
    var index = 0;
    var offset1 = 1;
    var offset2 = 0;
    if (bytes[0] === 254 && bytes[1] === 255) {
      isBigEndian = true;
      index = 2;
    } else if (bytes[0] === 255 && bytes[1] === 254) {
      isBigEndian = false;
      index = 2;
    }
    if (isBigEndian) {
      offset1 = 0;
      offset2 = 1;
    }
    var arr = [];
    var byte1;
    var byte2;
    var word1;
    var word2;
    var byte3;
    var byte4;
    for (var i = 0; index < maxToRead; i++) {
      byte1 = bytes[index + offset1];
      byte2 = bytes[index + offset2];
      word1 = (byte1 << 8) + byte2;
      index += 2;
      if (word1 === 0) {
        break;
      } else if (byte1 < 216 || byte1 >= 224) {
        arr[i] = toStr(word1);
      } else {
        byte3 = bytes[index + offset1];
        byte4 = bytes[index + offset2];
        word2 = (byte3 << 8) + byte4;
        index += 2;
        arr[i] = toStr(word1, word2);
      }
    }
    return arr.join("");
  }
  exports.readBytesToUTF16 = readBytesToUTF16;
  function readBytesToISO8859(bytes, maxToRead) {
    if (maxToRead == null || maxToRead < 0) {
      maxToRead = bytes.length;
    } else {
      maxToRead = Math.min(maxToRead, bytes.length);
    }
    var arr = [];
    for (var i = 0; i < maxToRead; i++) {
      arr.push(toStr(bytes[i]));
    }
    return arr.join("");
  }
  exports.readBytesToISO8859 = readBytesToISO8859;
  function readBytesToString(bytes, encoding, maxToRead) {
    if (encoding === 0) {
      return readBytesToISO8859(bytes, maxToRead);
    } else if (encoding === 3) {
      return readBytesToUTF8(bytes, maxToRead);
    } else if (encoding === 1 || encoding === 2) {
      return readBytesToUTF16(bytes, void 0, maxToRead);
    } else {
      return null;
    }
  }
  exports.readBytesToString = readBytesToString;
  function getEndpointOfBytes(bytes, encoding, start) {
    if (start === void 0) {
      start = 0;
    }
    var checker = encoding === 0 ? function(index) {
      return bytes[index] === 0;
    } : function(index) {
      return bytes[index] === 0 && bytes[index + 1] === 0;
    };
    var i = start;
    for (; i < bytes.length; i++) {
      if (checker(i)) {
        break;
      }
    }
    return i;
  }
  exports.getEndpointOfBytes = getEndpointOfBytes;
  function skipPaddingZeros(bytes, start) {
    for (var i = start; ; i++) {
      if (bytes[i] === 0) {
        start++;
      } else {
        break;
      }
    }
    return start;
  }
  exports.skipPaddingZeros = skipPaddingZeros;
});
var frameTypes = createCommonjsModule(function(module, exports) {
  Object.defineProperty(exports, "__esModule", {value: true});
  var FRAME_TYPES = {
    TALB: "album",
    TBPM: "bpm",
    TCOM: "composer",
    TCON: "genre",
    TCOP: "copyright",
    TDEN: "encoding-time",
    TDLY: "playlist-delay",
    TDOR: "original-release-time",
    TDRC: "recording-time",
    TDRL: "release-time",
    TDTG: "tagging-time",
    TENC: "encoder",
    TEXT: "writer",
    TFLT: "file-type",
    TIPL: "involved-people",
    TIT1: "content-group",
    TIT2: "title",
    TIT3: "subtitle",
    TKEY: "initial-key",
    TLAN: "language",
    TLEN: "length",
    TMCL: "credits",
    TMED: "media-type",
    TMOO: "mood",
    TOAL: "original-album",
    TOFN: "original-filename",
    TOLY: "original-writer",
    TOPE: "original-artist",
    TOWN: "owner",
    TPE1: "artist",
    TPE2: "band",
    TPE3: "conductor",
    TPE4: "remixer",
    TPOS: "set-part",
    TPRO: "produced-notice",
    TPUB: "publisher",
    TRCK: "track",
    TRSN: "radio-name",
    TRSO: "radio-owner",
    TSOA: "album-sort",
    TSOP: "performer-sort",
    TSOT: "title-sort",
    TSRC: "isrc",
    TSSE: "encoder-settings",
    TSST: "set-subtitle",
    TXXX: "user-defined-text-information",
    TYER: "year",
    WCOM: "url-commercial",
    WCOP: "url-legal",
    WOAF: "url-file",
    WOAR: "url-artist",
    WOAS: "url-source",
    WORS: "url-radio",
    WPAY: "url-payment",
    WPUB: "url-publisher",
    WAF: "url-file",
    WAR: "url-artist",
    WAS: "url-source",
    WCM: "url-commercial",
    WCP: "url-copyright",
    WPB: "url-publisher",
    COMM: "comments",
    USLT: "lyrics",
    APIC: "image",
    PIC: "image",
    IPLS: "involved-people-list",
    OWNE: "ownership"
  };
  exports.default = FRAME_TYPES;
  exports.FrameTypeValueMap = {
    TXXX: "array",
    COMM: "array",
    USLT: "array"
  };
});
var imageTypes = createCommonjsModule(function(module, exports) {
  Object.defineProperty(exports, "__esModule", {value: true});
  exports.default = [
    "other",
    "file-icon",
    "icon",
    "cover-front",
    "cover-back",
    "leaflet",
    "media",
    "artist-lead",
    "artist",
    "conductor",
    "band",
    "composer",
    "lyricist-writer",
    "recording-location",
    "during-recording",
    "during-performance",
    "screen",
    "fish",
    "illustration",
    "logo-band",
    "logo-publisher"
  ];
});
var v2parser = createCommonjsModule(function(module, exports) {
  Object.defineProperty(exports, "__esModule", {value: true});
  var V2_MIN_LENGTH = 20;
  function parseV2Data(bytes) {
    if (!bytes || bytes.length < V2_MIN_LENGTH) {
      return false;
    }
    var tags = parseV2Header(bytes.slice(0, 10));
    if (!tags) {
      return false;
    }
    var flags = tags.version.flags;
    if (flags.unsync) {
      throw new Error("no support for unsynchronisation");
    }
    var headerSize = 10;
    if (flags.xheader) {
      headerSize += calcTagSize2(bytes.slice(10, 14));
    }
    var tagSize = calcTagSize2(bytes.slice(6, 10));
    parseV2Frames(bytes.slice(headerSize, tagSize + headerSize), tags);
    return tags;
  }
  exports.default = parseV2Data;
  function parseV2Header(bytes) {
    if (!bytes || bytes.length < 10) {
      return false;
    }
    var identity = utils.readBytesToUTF8(bytes, 3);
    if (identity !== "ID3") {
      return false;
    }
    var flagByte = bytes[5];
    var version2 = {
      major: 2,
      minor: bytes[3],
      revision: bytes[4],
      flags: {
        unsync: (flagByte & 128) !== 0,
        xheader: (flagByte & 64) !== 0,
        experimental: (flagByte & 32) !== 0
      }
    };
    return {version: version2};
  }
  function calcTagSize2(bytes) {
    return (bytes[0] & 127) * 2097152 + (bytes[1] & 127) * 16384 + (bytes[2] & 127) * 128 + (bytes[3] & 127);
  }
  exports.calcTagSize = calcTagSize2;
  function calcFrameSize(bytes) {
    return bytes.length < 4 ? 0 : bytes[0] * 16777216 + bytes[1] * 65536 + bytes[2] * 256 + bytes[3];
  }
  exports.calcFrameSize = calcFrameSize;
  function parseV2Frames(bytes, tags) {
    var position = 0;
    var version2 = tags.version;
    while (position < bytes.length) {
      var size = calcFrameSize(bytes.slice(position + 4));
      if (size === 0) {
        break;
      }
      var slice = bytes.slice(position, position + 10 + size);
      if (!slice.length) {
        break;
      }
      var frame = parseFrame(slice, version2.minor, size);
      if (frame.tag) {
        if (frameTypes.FrameTypeValueMap[frame.id] === "array") {
          if (tags[frame.tag]) {
            tags[frame.tag].push(frame.value);
          } else {
            tags[frame.tag] = [frame.value];
          }
        } else {
          tags[frame.tag] = frame.value;
        }
      }
      position += slice.length;
    }
  }
  function parseFrame(bytes, minor, size) {
    var result = {
      id: null,
      tag: null,
      value: null
    };
    var header = {
      id: utils.readBytesToUTF8(bytes, 4),
      type: null,
      size,
      flags: [
        bytes[8],
        bytes[9]
      ]
    };
    header.type = header.id[0];
    result.id = header.id;
    if (header.flags[1] !== 0) {
      return result;
    }
    if (!(header.id in frameTypes.default)) {
      return result;
    }
    result.tag = frameTypes.default[header.id];
    var encoding = 0;
    var variableStart = 0;
    var variableLength = 0;
    var i = 0;
    if (header.type === "T") {
      encoding = bytes[10];
      if (header.id === "TXXX") {
        variableStart = 11;
        variableLength = utils.getEndpointOfBytes(bytes, encoding, variableStart) - variableStart;
        var value = {
          description: utils.readBytesToString(bytes.slice(variableStart), encoding, variableLength),
          value: ""
        };
        variableStart += variableLength + 1;
        variableStart = utils.skipPaddingZeros(bytes, variableStart);
        value.value = utils.readBytesToString(bytes.slice(variableStart), encoding);
        result.value = value;
      } else {
        result.value = utils.readBytesToString(bytes.slice(11), encoding);
        if (header.id === "TCON" && result.value !== null) {
          if (result.value[0] === "(") {
            var handledTCON = result.value.match(/\(\d+\)/g);
            if (handledTCON) {
              result.value = handledTCON.map(function(v) {
                return genres.default[+v.slice(1, -1)];
              }).join(",");
            }
          } else {
            var genre = parseInt(result.value, 10);
            if (!isNaN(genre)) {
              result.value = genres.default[genre];
            }
          }
        }
      }
    } else if (header.type === "W") {
      if (header.id === "WXXX" && bytes[10] === 0) {
        result.value = utils.readBytesToISO8859(bytes.slice(11));
      } else {
        result.value = utils.readBytesToISO8859(bytes.slice(10));
      }
    } else if (header.id === "COMM" || header.id === "USLT") {
      encoding = bytes[10];
      variableStart = 14;
      variableLength = 0;
      var language = utils.readBytesToISO8859(bytes.slice(11), 3);
      variableLength = utils.getEndpointOfBytes(bytes, encoding, variableStart) - variableStart;
      var description = utils.readBytesToString(bytes.slice(variableStart), encoding, variableLength);
      variableStart = utils.skipPaddingZeros(bytes, variableStart + variableLength + 1);
      result.value = {
        language,
        description,
        value: utils.readBytesToString(bytes.slice(variableStart), encoding)
      };
    } else if (header.id === "APIC") {
      encoding = bytes[10];
      var image = {
        type: null,
        mime: null,
        description: null,
        data: null
      };
      variableStart = 11;
      variableLength = utils.getEndpointOfBytes(bytes, 0, variableStart) - variableStart;
      image.mime = utils.readBytesToString(bytes.slice(variableStart), 0, variableLength);
      image.type = imageTypes.default[bytes[variableStart + variableLength + 1]] || "other";
      variableStart += variableLength + 2;
      variableLength = 0;
      for (i = variableStart; ; i++) {
        if (bytes[i] === 0) {
          variableLength = i - variableStart;
          break;
        }
      }
      image.description = variableLength === 0 ? null : utils.readBytesToString(bytes.slice(variableStart), encoding, variableLength);
      variableStart = utils.skipPaddingZeros(bytes, variableStart + variableLength + 1);
      image.data = bytes.slice(variableStart);
      result.value = image;
    } else if (header.id === "IPLS") {
      encoding = bytes[10];
      result.value = utils.readBytesToString(bytes.slice(11), encoding);
    } else if (header.id === "OWNE") {
      encoding = bytes[10];
      variableStart = 11;
      variableLength = utils.getEndpointOfBytes(bytes, encoding, variableStart);
      var pricePayed = utils.readBytesToISO8859(bytes.slice(variableStart), variableLength);
      variableStart += variableLength + 1;
      var dateOfPurch = utils.readBytesToISO8859(bytes.slice(variableStart), 8);
      variableStart += 8;
      result.value = {
        pricePayed,
        dateOfPurch,
        seller: utils.readBytesToString(bytes.slice(variableStart), encoding)
      };
    } else
      ;
    return result;
  }
});

// build/_snowpack/pkg/id3-parser.js
var v1parser = createCommonjsModule(function(module, exports) {
  Object.defineProperty(exports, "__esModule", {value: true});
  var V1_MIN_LENGTH = 128;
  function parseV1Data(bytes) {
    if (!bytes || bytes.length < V1_MIN_LENGTH) {
      return false;
    }
    bytes = bytes.slice(bytes.length - V1_MIN_LENGTH);
    var tags = {
      version: {
        major: 1,
        minor: 0
      }
    };
    var flag = utils.readBytesToUTF8(bytes, 3);
    if (flag !== "TAG") {
      return false;
    }
    var reWhiteSpace = /(^[\s0]+|[\s0]+$)/;
    tags.title = utils.readBytesToUTF8(bytes.slice(3), 30).replace(reWhiteSpace, "");
    tags.artist = utils.readBytesToUTF8(bytes.slice(33), 30).replace(reWhiteSpace, "");
    tags.album = utils.readBytesToUTF8(bytes.slice(63), 30).replace(reWhiteSpace, "");
    tags.year = utils.readBytesToUTF8(bytes.slice(93), 4).replace(reWhiteSpace, "");
    if (bytes[125] === 0) {
      tags.comments = utils.readBytesToUTF8(bytes.slice(97), 28).replace(reWhiteSpace, "");
      tags.version.minor = 1;
      tags.track = bytes[126];
    } else {
      tags.comments = utils.readBytesToUTF8(bytes.slice(97), 30).replace(reWhiteSpace, "");
    }
    tags.genre = genres.default[bytes[127]] || "";
    return tags;
  }
  exports.default = parseV1Data;
});
var polyfill_1 = createCommonjsModule(function(module, exports) {
  Object.defineProperty(exports, "__esModule", {value: true});
  function polyfill() {
    if (typeof Uint8Array === "function" && !Uint8Array.prototype.slice) {
      Object.defineProperty(Uint8Array.prototype, "slice", {
        value: Array.prototype.slice
      });
    }
  }
  exports.default = polyfill;
});
var lib = createCommonjsModule(function(module, exports) {
  var __assign = commonjsGlobal && commonjsGlobal.__assign || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s)
        if (Object.prototype.hasOwnProperty.call(s, p))
          t[p] = s[p];
    }
    return t;
  };
  var __rest = commonjsGlobal && commonjsGlobal.__rest || function(s, e) {
    var t = {};
    for (var p in s)
      if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function") {
      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++)
        if (e.indexOf(p[i]) < 0)
          t[p[i]] = s[p[i]];
    }
    return t;
  };
  Object.defineProperty(exports, "__esModule", {value: true});
  exports.parseV1Tag = v1parser.default;
  exports.parseV2Tag = v2parser.default;
  polyfill_1.default();
  function parse(bytes) {
    var v1data = v1parser.default(bytes);
    var v2data = v2parser.default(bytes);
    if (!v2data && !v1data) {
      return false;
    }
    var defaultValue = {version: false};
    var _a = v2data || defaultValue, v2 = _a.version, v2meta = __rest(_a, ["version"]);
    var _b = v1data || defaultValue, v1 = _b.version, v1meta = __rest(_b, ["version"]);
    var result = __assign({version: {
      v1,
      v2
    }}, v1meta, v2meta);
    if (v1meta.comments) {
      result.comments = [{
        value: v1meta.comments
      }].concat(v2meta && v2meta.comments ? v2meta.comments : []);
    }
    return result;
  }
  exports.parse = parse;
});
var parseV1Tag = lib.parseV1Tag;
var parseV2Tag = lib.parseV2Tag;

// build/_snowpack/pkg/id3-parser/lib/parsers/v2parser.js
var calcTagSize = v2parser.calcTagSize;

// build/_snowpack/pkg/id3-parser/lib/universal/helpers.js
var helpers = createCommonjsModule(function(module, exports) {
  Object.defineProperty(exports, "__esModule", {value: true});
  function convertFileToBuffer(file) {
    var reader = new FileReader();
    var fulfill;
    var refuse;
    var promise = new Promise(function(resolve, reject) {
      fulfill = resolve;
      refuse = reject;
    });
    reader.onload = function() {
      return fulfill(new Uint8Array(reader.result));
    };
    reader.onerror = function(e) {
      return refuse(e);
    };
    reader.readAsArrayBuffer(file);
    return promise;
  }
  exports.convertFileToBuffer = convertFileToBuffer;
  function fetchFileAsBuffer2(url) {
    if (!url) {
      throw new Error("Argument should be valid url string.");
    }
    var fulfill;
    var refuse;
    var promise = new Promise(function(resolve, reject) {
      fulfill = resolve;
      refuse = reject;
    });
    var request = new XMLHttpRequest();
    request.open("GET", url, true);
    request.responseType = "arraybuffer";
    request.onload = function() {
      if (request.response) {
        fulfill(new Uint8Array(request.response));
      } else {
        refuse("Empty response or other exceptions.");
      }
    };
    request.onerror = function(e) {
      return refuse(e);
    };
    request.send();
    return promise;
  }
  exports.fetchFileAsBuffer = fetchFileAsBuffer2;
});
var fetchFileAsBuffer = helpers.fetchFileAsBuffer;

// build/skin/AudioMetadata.js
async function parseMetaData(track, callback) {
  try {
    const audioTrackUrl = track.file ? URL.createObjectURL(track.file) : track.filename;
    genMediaDuration(audioTrackUrl).then((duration) => {
      track.duration = duration;
      callback();
    });
    genMetadata(track, audioTrackUrl, callback);
  } catch (e) {
    console.warn("ERROR:", e);
  }
}
async function genMetadata(track, audioTrackUrl, callback) {
  const bytes = await fetchFileAsBuffer(audioTrackUrl);
  let id3;
  const v2data = parseV2Tag(bytes);
  if (v2data) {
    id3 = {...v2data};
  } else {
    const v1data = parseV1Tag(bytes);
    id3 = {...v1data};
  }
  track.metadata = id3;
  callback();
  let start = 0;
  if (v2data) {
    start = 10;
    if (v2data.version.flags.xheader) {
      start += calcTagSize(bytes.slice(10, 14));
    }
    start += calcTagSize(bytes.slice(6, 10));
  }
  const VersionID = [2.5, null, 2, 1];
  const LayerDescription = [0, 3, 2, 1];
  const ChannelMode = ["stereo", "joint_stereo", "dual_channel", "mono"];
  const sampling_rate_freq_index = {
    1: {0: 44100, 1: 48e3, 2: 32e3},
    2: {0: 22050, 1: 24e3, 2: 16e3},
    2.5: {0: 11025, 1: 12e3, 2: 8e3}
  };
  const samplesInFrameTable = [
    [0, 384, 1152, 1152],
    [0, 384, 1152, 576]
  ];
  var header = bytes[start] << 24 | bytes[start + 1] << 16 | bytes[start + 2] << 8 | bytes[start + 3];
  var versionIndex = readBits(header, 11, 2);
  const version2 = VersionID[versionIndex];
  var layerIndex = readBits(header, 13, 2);
  const layer = LayerDescription[layerIndex];
  var isProtected = readBits(header, 15, 1);
  var bitrateIndex = readBits(header, 16, 4);
  var sampRateFreqIndex = readBits(header, 20, 2);
  const bitrate_index = {
    1: {11: 32, 12: 32, 13: 32, 21: 32, 22: 8, 23: 8},
    2: {11: 64, 12: 48, 13: 40, 21: 48, 22: 16, 23: 16},
    3: {11: 96, 12: 56, 13: 48, 21: 56, 22: 24, 23: 24},
    4: {11: 128, 12: 64, 13: 56, 21: 64, 22: 32, 23: 32},
    5: {11: 160, 12: 80, 13: 64, 21: 80, 22: 40, 23: 40},
    6: {11: 192, 12: 96, 13: 80, 21: 96, 22: 48, 23: 48},
    7: {11: 224, 12: 112, 13: 96, 21: 112, 22: 56, 23: 56},
    8: {11: 256, 12: 128, 13: 112, 21: 128, 22: 64, 23: 64},
    9: {11: 288, 12: 160, 13: 128, 21: 144, 22: 80, 23: 80},
    10: {11: 320, 12: 192, 13: 160, 21: 160, 22: 96, 23: 96},
    11: {11: 352, 12: 224, 13: 192, 21: 176, 22: 112, 23: 112},
    12: {11: 384, 12: 256, 13: 224, 21: 192, 22: 128, 23: 128},
    13: {11: 416, 12: 320, 13: 256, 21: 224, 22: 144, 23: 144},
    14: {11: 448, 12: 384, 13: 320, 21: 256, 22: 160, 23: 160}
  };
  const codecIndex = `${Math.floor(version2)}${layer}`;
  id3.bitrate = bitrate_index[bitrateIndex][codecIndex];
  id3.sampleRate = sampling_rate_freq_index[version2][sampRateFreqIndex];
  var channels = readBits(header, 24, 2);
  const channelModeIndex = channels;
  id3.channelMode = ChannelMode[channelModeIndex];
  track.metadata = id3;
  callback();
}
function readBits(int, pos, length) {
  var mask = 4294967295 >>> 32 - length << 32 - length - pos;
  return (int & mask) >>> 32 - length - pos;
}
function genMediaDuration(url) {
  assume(typeof url === "string", "Attempted to get the duration of media file without passing a url");
  return new Promise((resolve, reject) => {
    const audio = document.createElement("audio");
    audio.crossOrigin = "anonymous";
    const durationChange = () => {
      resolve(audio.duration);
      audio.removeEventListener("durationchange", durationChange);
      audio.src = "";
    };
    audio.addEventListener("durationchange", durationChange);
    audio.addEventListener("error", (e) => {
      reject(e);
    });
    audio.src = url;
  });
}

// build/skin/makiClasses/PlayList.js
var PlEdit = class {
  constructor(uiRoot) {
    this._tracks = [];
    this._trackCounter = 1;
    this._currentIndex = -1;
    this._selection = [];
    this._repeat = 0;
    this._eventListener = new Emitter();
    this._shuffleChanged = () => {
      const sshuffle = this._shuffleAttrib.getdata();
      this._shuffle = toBool(sshuffle);
      console.log("shuffle:", this._shuffle);
    };
    this._repeatChanged = () => {
      const srepeat = this._repeatAttrib.getdata();
      this._repeat = num(srepeat);
      console.log("repeat:", this._repeat);
    };
    this._uiRoot = uiRoot;
    this._listenShuffleRepeat();
  }
  init() {
    this._shuffleChanged();
    this._repeatChanged();
  }
  on(event, callback) {
    return this._eventListener.on(event, callback);
  }
  trigger(event, ...args) {
    this._eventListener.trigger(event, ...args);
  }
  off(event, callback) {
    this._eventListener.off(event, callback);
  }
  _listenShuffleRepeat() {
    const guid = "{45F3F7C1-A6F3-4EE6-A15E-125E92FC3F8D}";
    const configItem = this._uiRoot.CONFIG.getitem(guid);
    this._shuffleAttrib = configItem.getattribute("shuffle");
    this._repeatAttrib = configItem.getattribute("repeat");
    this._shuffleAttrib.on("datachanged", this._shuffleChanged);
    this._repeatAttrib.on("datachanged", this._repeatChanged);
  }
  getnumtracks() {
    return this._tracks.length;
  }
  getcurrentindex() {
    return this._currentIndex;
  }
  getnumselectedtracks() {
    return this._selection.length;
  }
  getnextselectedtrack(i) {
    const current = this._selection.indexOf(i);
    const next = this._selection[current + 1];
    return next;
  }
  showcurrentlyplayingtrack() {
  }
  showtrack(item) {
  }
  addTrack(track) {
    if (!track.id) {
      this._trackCounter++;
      track.id = this._trackCounter;
    }
    this._tracks.push(track);
    if (this._tracks.length == 1) {
      this.playtrack(0);
    }
    this.trigger("trackchange");
    if (!track.metadata) {
      parseMetaData(track, () => {
        this.trigger("trackchange");
      });
    }
  }
  enqueuefile(file) {
    const newTrack = {filename: file};
    this.addTrack(newTrack);
  }
  clear() {
    this._selection = [];
    this._tracks = [];
    this._currentIndex = null;
  }
  removetrack(item) {
  }
  swaptracks(item1, item2) {
  }
  moveup(item) {
  }
  movedown(item) {
  }
  moveto(item, pos) {
  }
  currentTrack() {
    if (this._currentIndex < 0) {
      return null;
    }
    return this._tracks[this._currentIndex];
  }
  playtrack(item) {
    this._currentIndex = item;
    const track = this._tracks[item];
    const url = track.file ? URL.createObjectURL(track.file) : track.filename;
    AudioPlayer_default.setAudioSource(url);
    this.trigger("trackchange");
  }
  getCurrentTrackTitle() {
    if (this._currentIndex < 0) {
      return "";
    }
    return this.gettitle(this._currentIndex);
  }
  getrating(item) {
    var _a;
    return (_a = this._tracks[item].rating) != null ? _a : 0;
  }
  setrating(item, rating) {
    this._tracks[item].rating = rating;
  }
  gettitle(item) {
    const track = this._tracks[item];
    if (track.metadata) {
      return `${track.metadata.artist} - ${track.metadata.title}`;
    }
    return this._tracks[item].filename.split("/").pop();
  }
  getlength(item) {
    return integerToTime(this._tracks[item].duration || 0);
  }
  onpleditmodified() {
  }
};
PlEdit.GUID = "345beebc49210229b66cbe90d9799aa4";
PlEdit.guid = "{345BEEBC-0229-4921-90BE-6CB6A49A79D9}";
var PlDir = class {
  showcurrentlyplayingentry() {
  }
  refresh() {
  }
  renameitem(item, name) {
  }
  enqueueitem(item) {
  }
  playitem(item) {
  }
};
PlDir.GUID = "61a7abad41f67d7980e1d0b1f4a40386";

// build/skin/makiClasses/PlayListGui.js
var PlayListGui = class extends Group_default {
  constructor() {
    super(...arguments);
    this._selectedIndex = -1;
    this._contentPanel = document.createElement("div");
    this._slider = new Slider_default(this._uiRoot);
    this._contentScrolled = () => {
      const list = this._contentPanel;
      const newPercent = list.scrollTop / (list.scrollHeight - list.clientHeight);
      this._slider.setposition((1 - newPercent) * 255);
    };
    this.refresh = () => {
      removeAllChildNodes(this._contentPanel);
      const pl = this._uiRoot.playlist;
      const currentTrack = pl.getcurrentindex();
      for (let i = 0; i < pl.getnumtracks(); i++) {
        const line = document.createElement("div");
        if (i == currentTrack) {
          line.classList.add("current");
        }
        if (i == this._selectedIndex) {
          line.classList.add("selected");
        }
        line.addEventListener("click", (ev) => {
          this._selectedIndex = i;
          this.refresh();
        });
        line.addEventListener("dblclick", (ev) => {
          this._uiRoot.playlist.playtrack(i);
          this._uiRoot.audio.play();
          this.refresh();
        });
        line.innerHTML = `<span>${i + 1}. ${pl.gettitle(i)}</span><span>${pl.getlength(i)}</span>`;
        this._contentPanel.appendChild(line);
      }
    };
    this.itemClick = () => {
    };
  }
  getElTag() {
    return "group";
  }
  init() {
    super.init();
    this._uiRoot.playlist.on("trackchange", this.refresh);
    this._contentPanel.addEventListener("scroll", this._contentScrolled);
    this.refresh();
  }
  _prepareScrollbar() {
    this._slider.setXmlAttributes({
      orientation: "v",
      x: "-10",
      relatx: "1",
      y: "0",
      w: "8",
      h: "0",
      relath: "1"
    });
    this._slider.setThumbSize(8, 18);
    const sliderHandler = new PlaylistScrollActionHandler(this._slider, this);
    this._slider.setActionHandler(sliderHandler);
    this._slider.getDiv().classList.add("scrollbar");
    this.addChild(this._slider);
  }
  _scrollTo(percent) {
    const list = this._contentPanel;
    const newScrollTop = percent * (list.scrollHeight - list.clientHeight);
    list.scrollTop = newScrollTop;
  }
  draw() {
    this._prepareScrollbar();
    super.draw();
    this._div.appendChild(this._contentPanel);
    this._contentPanel.classList.add("content-list");
    this._div.setAttribute("tabindex", "0");
    this._div.classList.add("pl");
    this._div.classList.add("list");
    this._div.style.pointerEvents = "auto";
  }
};
var PlayListGui_default = PlayListGui;
PlayListGui.GUID = "45f3f7c14ee6a6f35e125ea18d3ffc92";
var PlaylistScrollActionHandler = class extends ActionHandler {
  constructor(slider, pl) {
    super(slider);
    this._scrolling = false;
    this._pl = pl;
  }
  onLeftMouseDown(x, y) {
    this._scrolling = true;
  }
  onLeftMouseUp(x, y) {
    this._scrolling = false;
  }
  onsetposition(position) {
    if (this._scrolling) {
      this._pl._scrollTo(1 - position / 255);
    }
  }
};

// build/skin/makiClasses/WasabiTitle.js
var WasabiTitleBar = class extends Group_default {
  constructor() {
    super(...arguments);
    this._padtitleleft = 0;
    this._padtitleright = 0;
  }
  setXmlAttr(_key, value) {
    const lowerkey = _key.toLowerCase();
    if (super.setXmlAttr(lowerkey, value)) {
      return true;
    }
    switch (lowerkey) {
      case "padtitleleft":
        this._padtitleleft = num(value);
        this._renderX();
        break;
      case "padtitleright":
        this._padtitleright = num(value);
        this._renderWidth();
        break;
      default:
        return false;
    }
    return true;
  }
  _renderX() {
    this._div.style.left = this._relatx == "1" ? relative(this._padtitleleft + this._x) : px(this._padtitleleft + this._x);
  }
  _renderWidth() {
    this._div.style.width = this._relatw == "1" ? relative(-this._padtitleleft + -this._padtitleright + this._w) : px(-this._padtitleright + this.getwidth());
  }
  init() {
    super.init();
  }
};
var WasabiTitle_default = WasabiTitleBar;
WasabiTitleBar.GUID = "7DFD32444e7c3751AE8240BF33DC3A5F";

// build/_snowpack/pkg/butterchurn.js
var butterchurn = createCommonjsModule(function(module, exports) {
  (function webpackUniversalModuleDefinition(root, factory) {
    module.exports = factory();
  })(window, function() {
    return function(modules) {
      var installedModules = {};
      function __webpack_require__(moduleId) {
        if (installedModules[moduleId]) {
          return installedModules[moduleId].exports;
        }
        var module2 = installedModules[moduleId] = {
          i: moduleId,
          l: false,
          exports: {}
        };
        modules[moduleId].call(module2.exports, module2, module2.exports, __webpack_require__);
        module2.l = true;
        return module2.exports;
      }
      __webpack_require__.m = modules;
      __webpack_require__.c = installedModules;
      __webpack_require__.d = function(exports2, name, getter) {
        if (!__webpack_require__.o(exports2, name)) {
          Object.defineProperty(exports2, name, {enumerable: true, get: getter});
        }
      };
      __webpack_require__.r = function(exports2) {
        if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
          Object.defineProperty(exports2, Symbol.toStringTag, {value: "Module"});
        }
        Object.defineProperty(exports2, "__esModule", {value: true});
      };
      __webpack_require__.t = function(value, mode) {
        if (mode & 1)
          value = __webpack_require__(value);
        if (mode & 8)
          return value;
        if (mode & 4 && typeof value === "object" && value && value.__esModule)
          return value;
        var ns = Object.create(null);
        __webpack_require__.r(ns);
        Object.defineProperty(ns, "default", {enumerable: true, value});
        if (mode & 2 && typeof value != "string")
          for (var key in value)
            __webpack_require__.d(ns, key, function(key2) {
              return value[key2];
            }.bind(null, key));
        return ns;
      };
      __webpack_require__.n = function(module2) {
        var getter = module2 && module2.__esModule ? function getDefault() {
          return module2["default"];
        } : function getModuleExports() {
          return module2;
        };
        __webpack_require__.d(getter, "a", getter);
        return getter;
      };
      __webpack_require__.o = function(object, property) {
        return Object.prototype.hasOwnProperty.call(object, property);
      };
      __webpack_require__.p = "";
      return __webpack_require__(__webpack_require__.s = "./src/index.js");
    }({
      "./node_modules/ecma-proposal-math-extensions/reference-implementation/index.js": function(module2, exports2, __webpack_require__) {
        {
          const defineMath = (name, assignment) => {
            var configurable = typeof assignment === "function" ? true : false;
            var writable = typeof assignment === "function" ? true : false;
            var enumerable = typeof assignment === "function" ? true : false;
            Object.defineProperty(Math, name, {
              configurable,
              enumerable,
              writable,
              value: assignment
            });
          };
          defineMath("DEG_PER_RAD", Math.PI / 180);
          defineMath("RAD_PER_DEG", 180 / Math.PI);
          const f32A = new Float32Array(1);
          defineMath("scale", function scale(x, inLow, inHigh, outLow, outHigh) {
            if (arguments.length === 0) {
              return NaN;
            }
            if (Number.isNaN(x) || Number.isNaN(inLow) || Number.isNaN(inHigh) || Number.isNaN(outLow) || Number.isNaN(outHigh)) {
              return NaN;
            }
            if (x === Infinity || x === -Infinity) {
              return x;
            }
            return (x - inLow) * (outHigh - outLow) / (inHigh - inLow) + outLow;
          });
          defineMath("fscale", function fscale(x, inLow, inHigh, outLow, outHigh) {
            f32A[0] = Math.scale(x, inLow, inHigh, outLow, outHigh);
            return f32A[0];
          });
          defineMath("clamp", function clamp2(x, lower, upper) {
            return Math.min(upper, Math.max(lower, x));
          });
          defineMath("radians", function radians(degrees) {
            return degrees * Math.DEG_PER_RAD;
          });
          defineMath("degrees", function degrees(radians) {
            return radians * Math.RAD_PER_DEG;
          });
        }
      },
      "./src/audio/audioLevels.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return AudioLevels;
        });
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var AudioLevels = /* @__PURE__ */ function() {
          function AudioLevels2(audio) {
            _classCallCheck(this, AudioLevels2);
            this.audio = audio;
            var sampleRate;
            if (this.audio.audioContext) {
              sampleRate = this.audio.audioContext.sampleRate;
            } else {
              sampleRate = 44100;
            }
            var bucketHz = sampleRate / this.audio.fftSize;
            var bassLow = Math.clamp(Math.round(20 / bucketHz) - 1, 0, this.audio.numSamps - 1);
            var bassHigh = Math.clamp(Math.round(320 / bucketHz) - 1, 0, this.audio.numSamps - 1);
            var midHigh = Math.clamp(Math.round(2800 / bucketHz) - 1, 0, this.audio.numSamps - 1);
            var trebHigh = Math.clamp(Math.round(11025 / bucketHz) - 1, 0, this.audio.numSamps - 1);
            this.starts = [bassLow, bassHigh, midHigh];
            this.stops = [bassHigh, midHigh, trebHigh];
            this.val = new Float32Array(3);
            this.imm = new Float32Array(3);
            this.att = new Float32Array(3);
            this.avg = new Float32Array(3);
            this.longAvg = new Float32Array(3);
            this.att.fill(1);
            this.avg.fill(1);
            this.longAvg.fill(1);
          }
          _createClass(AudioLevels2, [{
            key: "updateAudioLevels",
            value: function updateAudioLevels(fps, frame) {
              if (this.audio.freqArray.length > 0) {
                var effectiveFPS = fps;
                if (!AudioLevels2.isFiniteNumber(effectiveFPS) || effectiveFPS < 15) {
                  effectiveFPS = 15;
                } else if (effectiveFPS > 144) {
                  effectiveFPS = 144;
                }
                this.imm.fill(0);
                for (var i = 0; i < 3; i++) {
                  for (var j = this.starts[i]; j < this.stops[i]; j++) {
                    this.imm[i] += this.audio.freqArray[j];
                  }
                }
                for (var _i = 0; _i < 3; _i++) {
                  var rate = void 0;
                  if (this.imm[_i] > this.avg[_i]) {
                    rate = 0.2;
                  } else {
                    rate = 0.5;
                  }
                  rate = AudioLevels2.adjustRateToFPS(rate, 30, effectiveFPS);
                  this.avg[_i] = this.avg[_i] * rate + this.imm[_i] * (1 - rate);
                  if (frame < 50) {
                    rate = 0.9;
                  } else {
                    rate = 0.992;
                  }
                  rate = AudioLevels2.adjustRateToFPS(rate, 30, effectiveFPS);
                  this.longAvg[_i] = this.longAvg[_i] * rate + this.imm[_i] * (1 - rate);
                  if (this.longAvg[_i] < 1e-3) {
                    this.val[_i] = 1;
                    this.att[_i] = 1;
                  } else {
                    this.val[_i] = this.imm[_i] / this.longAvg[_i];
                    this.att[_i] = this.avg[_i] / this.longAvg[_i];
                  }
                }
              }
            }
          }, {
            key: "bass",
            get: function get() {
              return this.val[0];
            }
          }, {
            key: "bass_att",
            get: function get() {
              return this.att[0];
            }
          }, {
            key: "mid",
            get: function get() {
              return this.val[1];
            }
          }, {
            key: "mid_att",
            get: function get() {
              return this.att[1];
            }
          }, {
            key: "treb",
            get: function get() {
              return this.val[2];
            }
          }, {
            key: "treb_att",
            get: function get() {
              return this.att[2];
            }
          }], [{
            key: "isFiniteNumber",
            value: function isFiniteNumber(num2) {
              return Number.isFinite(num2) && !Number.isNaN(num2);
            }
          }, {
            key: "adjustRateToFPS",
            value: function adjustRateToFPS(rate, baseFPS, FPS) {
              return Math.pow(rate, baseFPS / FPS);
            }
          }]);
          return AudioLevels2;
        }();
      },
      "./src/audio/audioProcessor.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return AudioProcessor;
        });
        var _fft__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/audio/fft.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var AudioProcessor = /* @__PURE__ */ function() {
          function AudioProcessor2(context) {
            _classCallCheck(this, AudioProcessor2);
            this.numSamps = 512;
            this.fftSize = this.numSamps * 2;
            this.fft = new _fft__WEBPACK_IMPORTED_MODULE_0__["default"](this.fftSize, 512, true);
            if (context) {
              this.audioContext = context;
              this.audible = context.createDelay();
              this.analyser = context.createAnalyser();
              this.analyser.smoothingTimeConstant = 0;
              this.analyser.fftSize = this.fftSize;
              this.audible.connect(this.analyser);
              this.analyserL = context.createAnalyser();
              this.analyserL.smoothingTimeConstant = 0;
              this.analyserL.fftSize = this.fftSize;
              this.analyserR = context.createAnalyser();
              this.analyserR.smoothingTimeConstant = 0;
              this.analyserR.fftSize = this.fftSize;
              this.splitter = context.createChannelSplitter(2);
              this.audible.connect(this.splitter);
              this.splitter.connect(this.analyserL, 0);
              this.splitter.connect(this.analyserR, 1);
            }
            this.timeByteArray = new Uint8Array(this.fftSize);
            this.timeByteArrayL = new Uint8Array(this.fftSize);
            this.timeByteArrayR = new Uint8Array(this.fftSize);
            this.timeArray = new Int8Array(this.fftSize);
            this.timeByteArraySignedL = new Int8Array(this.fftSize);
            this.timeByteArraySignedR = new Int8Array(this.fftSize);
            this.tempTimeArrayL = new Int8Array(this.fftSize);
            this.tempTimeArrayR = new Int8Array(this.fftSize);
            this.timeArrayL = new Int8Array(this.numSamps);
            this.timeArrayR = new Int8Array(this.numSamps);
          }
          _createClass(AudioProcessor2, [{
            key: "sampleAudio",
            value: function sampleAudio() {
              this.analyser.getByteTimeDomainData(this.timeByteArray);
              this.analyserL.getByteTimeDomainData(this.timeByteArrayL);
              this.analyserR.getByteTimeDomainData(this.timeByteArrayR);
              this.processAudio();
            }
          }, {
            key: "updateAudio",
            value: function updateAudio(timeByteArray, timeByteArrayL, timeByteArrayR) {
              this.timeByteArray.set(timeByteArray);
              this.timeByteArrayL.set(timeByteArrayL);
              this.timeByteArrayR.set(timeByteArrayR);
              this.processAudio();
            }
          }, {
            key: "processAudio",
            value: function processAudio() {
              for (var i = 0, j = 0, lastIdx = 0; i < this.fftSize; i++) {
                this.timeArray[i] = this.timeByteArray[i] - 128;
                this.timeByteArraySignedL[i] = this.timeByteArrayL[i] - 128;
                this.timeByteArraySignedR[i] = this.timeByteArrayR[i] - 128;
                this.tempTimeArrayL[i] = 0.5 * (this.timeByteArraySignedL[i] + this.timeByteArraySignedL[lastIdx]);
                this.tempTimeArrayR[i] = 0.5 * (this.timeByteArraySignedR[i] + this.timeByteArraySignedR[lastIdx]);
                if (i % 2 === 0) {
                  this.timeArrayL[j] = this.tempTimeArrayL[i];
                  this.timeArrayR[j] = this.tempTimeArrayR[i];
                  j += 1;
                }
                lastIdx = i;
              }
              this.freqArray = this.fft.timeToFrequencyDomain(this.timeArray);
              this.freqArrayL = this.fft.timeToFrequencyDomain(this.timeByteArraySignedL);
              this.freqArrayR = this.fft.timeToFrequencyDomain(this.timeByteArraySignedR);
            }
          }, {
            key: "connectAudio",
            value: function connectAudio(audionode) {
              audionode.connect(this.audible);
            }
          }, {
            key: "disconnectAudio",
            value: function disconnectAudio(audionode) {
              audionode.disconnect(this.audible);
            }
          }]);
          return AudioProcessor2;
        }();
      },
      "./src/audio/fft.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return FFT;
        });
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var FFT = /* @__PURE__ */ function() {
          function FFT2(samplesIn, samplesOut) {
            var equalize = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
            _classCallCheck(this, FFT2);
            this.samplesIn = samplesIn;
            this.samplesOut = samplesOut;
            this.equalize = equalize;
            this.NFREQ = samplesOut * 2;
            if (this.equalize) {
              this.initEqualizeTable();
            }
            this.initBitRevTable();
            this.initCosSinTable();
          }
          _createClass(FFT2, [{
            key: "initEqualizeTable",
            value: function initEqualizeTable() {
              this.equalizeArr = new Float32Array(this.samplesOut);
              var invHalfNFREQ = 1 / this.samplesOut;
              for (var i = 0; i < this.samplesOut; i++) {
                this.equalizeArr[i] = -0.02 * Math.log((this.samplesOut - i) * invHalfNFREQ);
              }
            }
          }, {
            key: "initBitRevTable",
            value: function initBitRevTable() {
              this.bitrevtable = new Uint16Array(this.NFREQ);
              for (var i = 0; i < this.NFREQ; i++) {
                this.bitrevtable[i] = i;
              }
              var j = 0;
              for (var _i = 0; _i < this.NFREQ; _i++) {
                if (j > _i) {
                  var temp = this.bitrevtable[_i];
                  this.bitrevtable[_i] = this.bitrevtable[j];
                  this.bitrevtable[j] = temp;
                }
                var m = this.NFREQ >> 1;
                while (m >= 1 && j >= m) {
                  j -= m;
                  m >>= 1;
                }
                j += m;
              }
            }
          }, {
            key: "initCosSinTable",
            value: function initCosSinTable() {
              var dftsize = 2;
              var tabsize = 0;
              while (dftsize <= this.NFREQ) {
                tabsize += 1;
                dftsize <<= 1;
              }
              this.cossintable = [new Float32Array(tabsize), new Float32Array(tabsize)];
              dftsize = 2;
              var i = 0;
              while (dftsize <= this.NFREQ) {
                var theta = -2 * Math.PI / dftsize;
                this.cossintable[0][i] = Math.cos(theta);
                this.cossintable[1][i] = Math.sin(theta);
                i += 1;
                dftsize <<= 1;
              }
            }
          }, {
            key: "timeToFrequencyDomain",
            value: function timeToFrequencyDomain(waveDataIn) {
              var real = new Float32Array(this.NFREQ);
              var imag = new Float32Array(this.NFREQ);
              for (var i = 0; i < this.NFREQ; i++) {
                var idx = this.bitrevtable[i];
                if (idx < this.samplesIn) {
                  real[i] = waveDataIn[idx];
                } else {
                  real[i] = 0;
                }
                imag[i] = 0;
              }
              var dftsize = 2;
              var t = 0;
              while (dftsize <= this.NFREQ) {
                var wpr = this.cossintable[0][t];
                var wpi = this.cossintable[1][t];
                var wr = 1;
                var wi = 0;
                var hdftsize = dftsize >> 1;
                for (var m = 0; m < hdftsize; m++) {
                  for (var _i2 = m; _i2 < this.NFREQ; _i2 += dftsize) {
                    var j = _i2 + hdftsize;
                    var tempr = wr * real[j] - wi * imag[j];
                    var tempi = wr * imag[j] + wi * real[j];
                    real[j] = real[_i2] - tempr;
                    imag[j] = imag[_i2] - tempi;
                    real[_i2] += tempr;
                    imag[_i2] += tempi;
                  }
                  var wtemp = wr;
                  wr = wtemp * wpr - wi * wpi;
                  wi = wi * wpr + wtemp * wpi;
                }
                dftsize <<= 1;
                t += 1;
              }
              var spectralDataOut = new Float32Array(this.samplesOut);
              if (this.equalize) {
                for (var _i3 = 0; _i3 < this.samplesOut; _i3++) {
                  spectralDataOut[_i3] = this.equalizeArr[_i3] * Math.sqrt(real[_i3] * real[_i3] + imag[_i3] * imag[_i3]);
                }
              } else {
                for (var _i4 = 0; _i4 < this.samplesOut; _i4++) {
                  spectralDataOut[_i4] = Math.sqrt(real[_i4] * real[_i4] + imag[_i4] * imag[_i4]);
                }
              }
              return spectralDataOut;
            }
          }]);
          return FFT2;
        }();
      },
      "./src/blankPreset.js": function(module2, exports2, __webpack_require__) {
        var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {
          "use strict;";
          var pmap = {
            baseVals: {
              gammaadj: 1.25,
              wave_g: 0.5,
              mv_x: 12,
              warpscale: 1,
              brighten: 0,
              mv_y: 9,
              wave_scale: 1,
              echo_alpha: 0,
              additivewave: 0,
              sx: 1,
              sy: 1,
              warp: 0.01,
              red_blue: 0,
              wave_mode: 0,
              wave_brighten: 0,
              wrap: 0,
              zoomexp: 1,
              fshader: 0,
              wave_r: 0.5,
              echo_zoom: 1,
              wave_smoothing: 0.75,
              warpanimspeed: 1,
              wave_dots: 0,
              wave_x: 0.5,
              wave_y: 0.5,
              zoom: 1,
              solarize: 0,
              modwavealphabyvolume: 0,
              dx: 0,
              cx: 0.5,
              dy: 0,
              darken_center: 0,
              cy: 0.5,
              invert: 0,
              bmotionvectorson: 0,
              rot: 0,
              modwavealphaend: 0.95,
              wave_mystery: -0.2,
              decay: 0.9,
              wave_a: 1,
              wave_b: 0.5,
              rating: 5,
              modwavealphastart: 0.75,
              darken: 0,
              echo_orient: 0,
              ib_r: 0.5,
              ib_g: 0.5,
              ib_b: 0.5,
              ib_a: 0,
              ib_size: 0,
              ob_r: 0.5,
              ob_g: 0.5,
              ob_b: 0.5,
              ob_a: 0,
              ob_size: 0,
              mv_dx: 0,
              mv_dy: 0,
              mv_a: 0,
              mv_r: 0.5,
              mv_g: 0.5,
              mv_b: 0.5,
              mv_l: 0
            },
            init_eqs: function init_eqs() {
              var m = {};
              return m;
            },
            frame_eqs: function frame_eqs(m) {
              m.rkeys = ["warp"];
              m.zoom = 1.01 + 0.02 * m.treb_att;
              m.warp = 0.15 + 0.25 * m.bass_att;
              return m;
            },
            pixel_eqs: function pixel_eqs(m) {
              m.warp = m.warp + m.rad * 0.15;
              return m;
            },
            waves: [{
              baseVals: {
                a: 1,
                enabled: 0,
                b: 1,
                g: 1,
                scaling: 1,
                samples: 512,
                additive: 0,
                usedots: 0,
                spectrum: 0,
                r: 1,
                smoothing: 0.5,
                thick: 0,
                sep: 0
              },
              init_eqs: function init_eqs(m) {
                m.rkeys = [];
                return m;
              },
              frame_eqs: function frame_eqs(m) {
                return m;
              },
              point_eqs: ""
            }, {
              baseVals: {
                a: 1,
                enabled: 0,
                b: 1,
                g: 1,
                scaling: 1,
                samples: 512,
                additive: 0,
                usedots: 0,
                spectrum: 0,
                r: 1,
                smoothing: 0.5,
                thick: 0,
                sep: 0
              },
              init_eqs: function init_eqs(m) {
                m.rkeys = [];
                return m;
              },
              frame_eqs: function frame_eqs(m) {
                return m;
              },
              point_eqs: ""
            }, {
              baseVals: {
                a: 1,
                enabled: 0,
                b: 1,
                g: 1,
                scaling: 1,
                samples: 512,
                additive: 0,
                usedots: 0,
                spectrum: 0,
                r: 1,
                smoothing: 0.5,
                thick: 0,
                sep: 0
              },
              init_eqs: function init_eqs(m) {
                m.rkeys = [];
                return m;
              },
              frame_eqs: function frame_eqs(m) {
                return m;
              },
              point_eqs: ""
            }, {
              baseVals: {
                a: 1,
                enabled: 0,
                b: 1,
                g: 1,
                scaling: 1,
                samples: 512,
                additive: 0,
                usedots: 0,
                spectrum: 0,
                r: 1,
                smoothing: 0.5,
                thick: 0,
                sep: 0
              },
              init_eqs: function init_eqs(m) {
                m.rkeys = [];
                return m;
              },
              frame_eqs: function frame_eqs(m) {
                return m;
              },
              point_eqs: ""
            }],
            shapes: [{
              baseVals: {
                r2: 0,
                a: 1,
                enabled: 0,
                b: 0,
                tex_ang: 0,
                thickoutline: 0,
                g: 0,
                textured: 0,
                g2: 1,
                tex_zoom: 1,
                additive: 0,
                border_a: 0.1,
                border_b: 1,
                b2: 0,
                a2: 0,
                r: 1,
                border_g: 1,
                rad: 0.1,
                x: 0.5,
                y: 0.5,
                ang: 0,
                sides: 4,
                border_r: 1
              },
              init_eqs: function init_eqs(m) {
                m.rkeys = [];
                return m;
              },
              frame_eqs: function frame_eqs(m) {
                return m;
              }
            }, {
              baseVals: {
                r2: 0,
                a: 1,
                enabled: 0,
                b: 0,
                tex_ang: 0,
                thickoutline: 0,
                g: 0,
                textured: 0,
                g2: 1,
                tex_zoom: 1,
                additive: 0,
                border_a: 0.1,
                border_b: 1,
                b2: 0,
                a2: 0,
                r: 1,
                border_g: 1,
                rad: 0.1,
                x: 0.5,
                y: 0.5,
                ang: 0,
                sides: 4,
                border_r: 1
              },
              init_eqs: function init_eqs(m) {
                m.rkeys = [];
                return m;
              },
              frame_eqs: function frame_eqs(m) {
                return m;
              }
            }, {
              baseVals: {
                r2: 0,
                a: 1,
                enabled: 0,
                b: 0,
                tex_ang: 0,
                thickoutline: 0,
                g: 0,
                textured: 0,
                g2: 1,
                tex_zoom: 1,
                additive: 0,
                border_a: 0.1,
                border_b: 1,
                b2: 0,
                a2: 0,
                r: 1,
                border_g: 1,
                rad: 0.1,
                x: 0.5,
                y: 0.5,
                ang: 0,
                sides: 4,
                border_r: 1
              },
              init_eqs: function init_eqs(m) {
                m.rkeys = [];
                return m;
              },
              frame_eqs: function frame_eqs(m) {
                return m;
              }
            }, {
              baseVals: {
                r2: 0,
                a: 1,
                enabled: 0,
                b: 0,
                tex_ang: 0,
                thickoutline: 0,
                g: 0,
                textured: 0,
                g2: 1,
                tex_zoom: 1,
                additive: 0,
                border_a: 0.1,
                border_b: 1,
                b2: 0,
                a2: 0,
                r: 1,
                border_g: 1,
                rad: 0.1,
                x: 0.5,
                y: 0.5,
                ang: 0,
                sides: 4,
                border_r: 1
              },
              init_eqs: function init_eqs(m) {
                m.rkeys = [];
                return m;
              },
              frame_eqs: function frame_eqs(m) {
                return m;
              }
            }],
            warp: "shader_body {\nret = texture2D(sampler_main, uv).rgb;\nret -= 0.004;\n}\n",
            comp: "shader_body {\nret = texture2D(sampler_main, uv).rgb;\nret *= hue_shader;\n}\n"
          };
          return pmap;
        }.apply(exports2, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== void 0 && (module2.exports = __WEBPACK_AMD_DEFINE_RESULT__));
      },
      "./src/equations/presetEquationRunner.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return PresetEquationRunner;
        });
        var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/utils.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var PresetEquationRunner = /* @__PURE__ */ function() {
          function PresetEquationRunner2(preset, globalVars, opts) {
            _classCallCheck(this, PresetEquationRunner2);
            this.preset = preset;
            this.texsizeX = opts.texsizeX;
            this.texsizeY = opts.texsizeY;
            this.mesh_width = opts.mesh_width;
            this.mesh_height = opts.mesh_height;
            this.aspectx = opts.aspectx;
            this.aspecty = opts.aspecty;
            this.invAspectx = 1 / this.aspectx;
            this.invAspecty = 1 / this.aspecty;
            this.qs = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].range(1, 33).map(function(x) {
              return "q".concat(x);
            });
            this.ts = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].range(1, 9).map(function(x) {
              return "t".concat(x);
            });
            this.regs = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].range(100).map(function(x) {
              if (x < 10) {
                return "reg0".concat(x);
              }
              return "reg".concat(x);
            });
            this.initializeEquations(globalVars);
          }
          _createClass(PresetEquationRunner2, [{
            key: "initializeEquations",
            value: function initializeEquations(globalVars) {
              this.runVertEQs = this.preset.pixel_eqs !== "";
              this.mdVSQInit = null;
              this.mdVSRegs = null;
              this.mdVSFrame = null;
              this.mdVSUserKeys = null;
              this.mdVSFrameMap = null;
              this.mdVSShapes = null;
              this.mdVSUserKeysShapes = null;
              this.mdVSFrameMapShapes = null;
              this.mdVSWaves = null;
              this.mdVSUserKeysWaves = null;
              this.mdVSFrameMapWaves = null;
              this.mdVSQAfterFrame = null;
              this.gmegabuf = new Array(1048576).fill(0);
              var mdVSBase = {
                frame: globalVars.frame,
                time: globalVars.time,
                fps: globalVars.fps,
                bass: globalVars.bass,
                bass_att: globalVars.bass_att,
                mid: globalVars.mid,
                mid_att: globalVars.mid_att,
                treb: globalVars.treb,
                treb_att: globalVars.treb_att,
                meshx: this.mesh_width,
                meshy: this.mesh_height,
                aspectx: this.invAspectx,
                aspecty: this.invAspecty,
                pixelsx: this.texsizeX,
                pixelsy: this.texsizeY,
                gmegabuf: this.gmegabuf
              };
              this.mdVS = Object.assign({}, this.preset.baseVals, mdVSBase);
              this.mdVS.megabuf = new Array(1048576).fill(0);
              this.mdVS.rand_start = new Float32Array([Math.random(), Math.random(), Math.random(), Math.random()]);
              this.mdVS.rand_preset = new Float32Array([Math.random(), Math.random(), Math.random(), Math.random()]);
              var nonUserKeys = this.qs.concat(this.regs, Object.keys(this.mdVS));
              var mdVSAfterInit = this.preset.init_eqs(_utils__WEBPACK_IMPORTED_MODULE_0__["default"].cloneVars(this.mdVS));
              this.mdVSQInit = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].pick(mdVSAfterInit, this.qs);
              this.mdVSRegs = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].pick(mdVSAfterInit, this.regs);
              var initUserVars = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].pick(mdVSAfterInit, Object.keys(_utils__WEBPACK_IMPORTED_MODULE_0__["default"].omit(mdVSAfterInit, nonUserKeys)));
              initUserVars.megabuf = mdVSAfterInit.megabuf;
              initUserVars.gmegabuf = mdVSAfterInit.gmegabuf;
              this.mdVSFrame = this.preset.frame_eqs(Object.assign({}, this.mdVS, this.mdVSQInit, this.mdVSRegs, initUserVars));
              this.mdVSUserKeys = Object.keys(_utils__WEBPACK_IMPORTED_MODULE_0__["default"].omit(this.mdVSFrame, nonUserKeys));
              this.mdVSFrameMap = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].pick(this.mdVSFrame, this.mdVSUserKeys);
              this.mdVSQAfterFrame = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].pick(this.mdVSFrame, this.qs);
              this.mdVSRegs = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].pick(this.mdVSFrame, this.regs);
              this.mdVSWaves = [];
              this.mdVSTWaveInits = [];
              this.mdVSUserKeysWaves = [];
              this.mdVSFrameMapWaves = [];
              if (this.preset.waves && this.preset.waves.length > 0) {
                for (var i = 0; i < this.preset.waves.length; i++) {
                  var wave = this.preset.waves[i];
                  var baseVals = wave.baseVals;
                  if (baseVals.enabled !== 0) {
                    var mdVSWave = Object.assign({}, baseVals, mdVSBase);
                    var nonUserWaveKeys = this.qs.concat(this.ts, this.regs, Object.keys(mdVSWave));
                    Object.assign(mdVSWave, this.mdVSQAfterFrame, this.mdVSRegs);
                    mdVSWave.megabuf = new Array(1048576).fill(0);
                    if (wave.init_eqs) {
                      mdVSWave = wave.init_eqs(mdVSWave);
                      this.mdVSRegs = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].pick(mdVSWave, this.regs);
                      Object.assign(mdVSWave, baseVals);
                    }
                    this.mdVSWaves.push(mdVSWave);
                    this.mdVSTWaveInits.push(_utils__WEBPACK_IMPORTED_MODULE_0__["default"].pick(mdVSWave, this.ts));
                    this.mdVSUserKeysWaves.push(Object.keys(_utils__WEBPACK_IMPORTED_MODULE_0__["default"].omit(mdVSWave, nonUserWaveKeys)));
                    this.mdVSFrameMapWaves.push(_utils__WEBPACK_IMPORTED_MODULE_0__["default"].pick(mdVSWave, this.mdVSUserKeysWaves[i]));
                  } else {
                    this.mdVSWaves.push({});
                    this.mdVSTWaveInits.push({});
                    this.mdVSUserKeysWaves.push([]);
                    this.mdVSFrameMapWaves.push({});
                  }
                }
              }
              this.mdVSShapes = [];
              this.mdVSTShapeInits = [];
              this.mdVSUserKeysShapes = [];
              this.mdVSFrameMapShapes = [];
              if (this.preset.shapes && this.preset.shapes.length > 0) {
                for (var _i = 0; _i < this.preset.shapes.length; _i++) {
                  var shape = this.preset.shapes[_i];
                  var _baseVals = shape.baseVals;
                  if (_baseVals.enabled !== 0) {
                    var mdVSShape = Object.assign({}, _baseVals, mdVSBase);
                    var nonUserShapeKeys = this.qs.concat(this.ts, this.regs, Object.keys(mdVSShape));
                    Object.assign(mdVSShape, this.mdVSQAfterFrame, this.mdVSRegs);
                    mdVSShape.megabuf = new Array(1048576).fill(0);
                    if (shape.init_eqs) {
                      mdVSShape = shape.init_eqs(mdVSShape);
                      this.mdVSRegs = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].pick(mdVSShape, this.regs);
                      Object.assign(mdVSShape, _baseVals);
                    }
                    this.mdVSShapes.push(mdVSShape);
                    this.mdVSTShapeInits.push(_utils__WEBPACK_IMPORTED_MODULE_0__["default"].pick(mdVSShape, this.ts));
                    this.mdVSUserKeysShapes.push(Object.keys(_utils__WEBPACK_IMPORTED_MODULE_0__["default"].omit(mdVSShape, nonUserShapeKeys)));
                    this.mdVSFrameMapShapes.push(_utils__WEBPACK_IMPORTED_MODULE_0__["default"].pick(mdVSShape, this.mdVSUserKeysShapes[_i]));
                  } else {
                    this.mdVSShapes.push({});
                    this.mdVSTShapeInits.push({});
                    this.mdVSUserKeysShapes.push([]);
                    this.mdVSFrameMapShapes.push({});
                  }
                }
              }
            }
          }, {
            key: "updatePreset",
            value: function updatePreset(preset, globalVars) {
              this.preset = preset;
              this.initializeEquations(globalVars);
            }
          }, {
            key: "updateGlobals",
            value: function updateGlobals(opts) {
              this.texsizeX = opts.texsizeX;
              this.texsizeY = opts.texsizeY;
              this.mesh_width = opts.mesh_width;
              this.mesh_height = opts.mesh_height;
              this.aspectx = opts.aspectx;
              this.aspecty = opts.aspecty;
              this.invAspectx = 1 / this.aspectx;
              this.invAspecty = 1 / this.aspecty;
            }
          }, {
            key: "runFrameEquations",
            value: function runFrameEquations(globalVars) {
              this.mdVSFrame = Object.assign({}, this.mdVS, this.mdVSQInit, this.mdVSFrameMap, globalVars);
              this.mdVSFrame = this.preset.frame_eqs(this.mdVSFrame);
              this.mdVSFrameMap = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].pick(this.mdVSFrame, this.mdVSUserKeys);
              this.mdVSQAfterFrame = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].pick(this.mdVSFrame, this.qs);
            }
          }]);
          return PresetEquationRunner2;
        }();
      },
      "./src/image/imageTextures.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return ImageTextures;
        });
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var ImageTextures = /* @__PURE__ */ function() {
          function ImageTextures2(gl) {
            var _this = this;
            _classCallCheck(this, ImageTextures2);
            this.gl = gl;
            this.anisoExt = this.gl.getExtension("EXT_texture_filter_anisotropic") || this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic") || this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
            this.samplers = {};
            this.clouds2Image = new Image();
            this.clouds2Image.onload = function() {
              _this.samplers.clouds2 = _this.gl.createTexture();
              _this.bindTexture(_this.samplers.clouds2, _this.clouds2Image, 128, 128);
            };
            this.clouds2Image.src = "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4RP+RXhpZgAASUkqAAgAAAAJAA8BAgAGAAAAegAAABABAgAVAAAAgAAAABIBAwABAAAAAQAAABoBBQABAAAAoAAAABsBBQABAAAAqAAAACgBAwABAAAAAgAAADIBAgAUAAAAsAAAABMCAwABAAAAAQAAAGmHBAABAAAAxAAAAGYFAABDYW5vbgBDYW5vbiBQb3dlclNob3QgUzExMAAAAAAAAAAAAAAAAEgAAAABAAAASAAAAAEAAAAyMDAyOjAxOjE5IDE3OjMzOjIwABsAmoIFAAEAAABWAwAAnYIFAAEAAABeAwAAAJAHAAQAAAAwMjEwA5ACABQAAAAOAgAABJACABQAAAAiAgAAAZEHAAQAAAABAgMAApEFAAEAAAA+AwAAAZIKAAEAAABGAwAAApIFAAEAAABOAwAABJIKAAEAAABmAwAABZIFAAEAAABuAwAABpIFAAEAAAB2AwAAB5IDAAEAAAAFAAAACZIDAAEAAAAAAAAACpIFAAEAAAB+AwAAfJIHAJoBAACGAwAAhpIHAAgBAAA2AgAAAKAHAAQAAAAwMTAwAaADAAEAAAABAAAAAqAEAAEAAACAAAAAA6AEAAEAAACAAAAABaAEAAEAAAAwBQAADqIFAAEAAAAgBQAAD6IFAAEAAAAoBQAAEKIDAAEAAAACAAAAF6IDAAEAAAACAAAAAKMHAAEAAAADAAAAAAAAADIwMDI6MDE6MTkgMTc6MzM6MjAAMjAwMjowMToxOSAxNzozMzoyMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAQAAACoBAAAgAAAAuAAAACAAAAABAAAAgAIAAEgAAAAKAAAA/////wMAAACK+AIAAAABAL8BAADoAwAArQAAACAAAAAMAAEAAwAmAAAAHAQAAAIAAwAEAAAAaAQAAAMAAwAEAAAAcAQAAAQAAwAaAAAAeAQAAAAAAwAGAAAArAQAAAAAAwAEAAAAuAQAAAYAAgAgAAAAwAQAAAcAAgAYAAAA4AQAAAgABAABAAAAkc4UAAkAAgAgAAAA+AQAABAABAABAAAAAAAJAQ0AAwAEAAAAGAUAAAAAAABMAAIAAAAFAAAAAAAAAAQAAAABAAAAAQAAAAAAAAAAAAAAAwABAAEwAAD/////WgGtACAAYgC4AP//AAAAAAAAAAAAAP//SABABkAGAgCtANMAngAAAAAAAAAAADQAAACPAEYBtQAqAfT/AgABAAEAAAAAAAAAAAAEMAAAAAAAAAAAvwEAALgAJwEAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAElNRzpQb3dlclNob3QgUzExMCBKUEVHAAAAAAAAAAAARmlybXdhcmUgVmVyc2lvbiAxLjAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAMgAuQC5AABqGADOAAAAgE8SAJsAAAAEAAEAAgAEAAAAUjk4AAIABwAEAAAAMDEwMAEQAwABAAAAQAYAAAIQAwABAAAAsAQAAAAAAAAGAAMBAwABAAAABgAAABoBBQABAAAAtAUAABsBBQABAAAAvAUAACgBAwABAAAAAgAAAAECBAABAAAA9AUAAAICBAABAAAAuA0AAAAAAAC0AAAAAQAAALQAAAABAAAAaM5qp6ps7vXbS52etpVdo/tuYZ2wtrDFXnrx1HK+braKpineV1+3VFWVteo72Poc/9j/2wCEAAkGBggGBQkIBwgKCQkLDRYPDQwMDRwTFRAWIR0jIiEcIB8kKTQsJCcxJx4fLT0tMTY3Ojo6Iio/RD44QjM3OTYBCQkJDAoMFAwMFA8KCgoPGhoKChoaTxoaGhoaT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT//AABEIAHgAoAMBIQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AOdCcU4R11HMSLHTxFTAXy6PLxQIUJTglIDo9KtbWzjScNvnK/gtao1FkycjaO1ebWvOWvyR307RjZfM5zXoraacTW3DtkyD1PrWathui39q66cmoK+60OacU5O2xA8ZQlT2qBkrdfmYsiZMUwpxVCImXNRMntTERlaaRg0CN5Y8iniOszUlWOniOgQhj5o2UwDZS7KBFmAuoCnIAq69wUjIHPHWuaok5HTBtIqrbzXCMyAEDqCarPvGV6Yqlbb+Xch337kBTOd1RNHxgCrc+xKgNWAPxyD2qCWMAY7g81UJ83yJlGxCy4qJlzWqMyMpTClAjoxCUbDCniP2rK5qOVKkEdMA8ummPmgA2Vd0m1S4vMTIXjUEtjtUzdotrdLQcFeSXQfcQqJ2y/GaZL5fkhE5Y9TXPFt2Zu7K6IUinVWVW+XvjvSNCsceScsa0k1067kRT69NisY8mnC2YoWA4qL2KtcglyjcVVdd78daqnK3zImr/IheFgTkdKiZK6ou6MJKxGyUwrTJOxmjaS2WYqwjLHbnp9KBaeeB5MbZxzXLGVlfotzpcdbdXsQiKniOtSBfLppjoTE0NMdPiYxElSRmiSurAnZiSMTzmmKSDmpUdCpS1NvT0TUoHEjpGQcYC8n3qM6MJdxgYuF46VyyfI2ui6nQlzJPq+hDPo0qcKNz/wB0U54Es7co/wAzkcgdAamU01ZbtjUWnrsjDn+dzxiqpjYHK1aZDHJGQmM9ahe2zk+lbU5WZlOOhWZKjKV1nOddYTPLpptjztbcB2NTBXibaSUOOma4IWt+h2y3/Uj8rmlEdbJmLQpTjpTNlNCYnl00x1RI0x00x4oARd6tmPIPtW1o+uf2fGd+GORlcdffNZVaaqRt1NKc+R36HQxWsWoqbmGQ/MMkg4rL1bSdi5UV5fM4ys9LHfZNXXU599Lkd+FNMbSzGPmHNb85lyFaS32HgUx8pGcqK2g72M5aGY8fPSomSvRRwndafZfYtRCzL8rHFaPiPTTHKlxHGEjKhTj1ryKU/wB4uzR6dSPuPujF2YIzTxHxXamtuxyNPfuIY+KYY6okDHg4pHQIMsQKLhYhV0dtq8mr6aQ8loZRy390DNZVKqgr92aQpczKcd8+nXefLHAwVI6028nt7mTzIY/KJ5IB4qI3UuZO6fxIuSTjy21WzLmjXs9rKFidgM/dzxXTJeRECC5ZN5XPWscVTTlePxM0oS0s9kUriaIEiIKAPzrFup/3uBzmopU3fUqc0isTEQWftVWZ0dPlWuqNNr0RhKafqzOlh6mq7x12RZytHqssMcwSfy0wwyDuxRq2oCew8gxjdx1HT3rx6Uby9GenUdkc/wCSpPzdaV4WVeFJru226nLv8iFVc/eXFKYsCqi7omSIjHzS3EKSRZBJbHNOWwRMp4WjO/O0Z4NWUubuGParnafSsXFS0ZonYRo/Pwzcmk8gL0FbQgkjOUncfFK9sSU4JpkkzO+7Jz9atRV7mbk7WHpczAcOT9aUqzgu3Ud6lxSd1oylJvRkMgDZJJzVSTK9KqKJbIGJqJlzWiViG7nfW1/ZK8XJUDqT0q9q08V2sRiL5HAG35SD3Bryaalzps9KduWyKt1pjWoXzG2uRnkcCs+8ee2YKJUbIzx0Iq/bXemiRPs7IY15Ey7m+TA5BrPuNUDIyCMDnhs81rz3SsZ8tmXbFDe2DTKVzHwyk8n6Vl3944Zo04A7jvT9pp5oOTX1Mp5GVsnmtG21aEQKkikFRj604SFKJOmpWrHAYr9RUjMGXKcg9xW0WmYyTREwNN281qZkqphQRwacCMYPHvUPUpCPGhXORmqU0fNEXqEkV2j9qjKVoQa+GAALE47VPDezRYUOdo7V5CkelY0pb+eayOJt4PG1uSKxpEkQkkmp0T9StX8hnm5GCM1GUBzVXsIj+deFYge1NMTueuapyJURr2jMvTmqclq4PK4ohMJRIhGwNadgLolUjDMvcVtz217GfLc2PsuSQQdw7Uw2pU/MCK6FU6eWhg4afmWLeKFkZJcg9mFRzac8MSyMRhumKnns7PZvQOS6utLblaRMLyR9KhkhVVBDZzV21TFeysVXWoiK1MjttV8O/YWyXVgegFZRsTu4FeHdp2e63PWSvqupZtrbadpHFPnst4xgVDlqUkUX03ax7VEbNd3ByapSbFYDYKw4PPpTv7LdT0wRVq703J0XkBtlU7Sy7qje1yMMtJpoaaZWbTCZOB+FdVo+n/ZrRXaEh/pwacptxEo2ZZfRBLmQNskY8g1lXmm3VsS4IZaaxDvZ9NifZK35mUZbp7odD6jGK3jcotogmgUrWsp3tZ2sTGO+nqZr3Flco6JEEdc7eetLDoElxEH81Vz0FbQrOEby9530MZUlJ+7ppqOOgRxDMrqcdumaqz6Xa55YJnphqaxE5PRadgdGKWr17nd+cl4VFzGHAq0NEspRuRNp9K5vYxm3e6b2ZvzuK027CroNsPvLz6iql7oICFkOQO1RPCuMbp3a3Q41ruzWj2MG604xZJrInQoSVHPrXPB3NZEYlm6bM0gup0+SQttPXmt42W25DuRTW7ht6qXX1qxZSSSttZcqPWrjJPfXuiWrbGgFiADHBxW9p1z5dv8AvW3J2B7VbUeXuQnK/kM+0SyTt5GSg/ic8VUv7xpodrDn26Gs5wj0+LqXGT67dDFWLEhfkGo5nklyrE4qlC9vwJcrFRbJVl3GtO1njhTqQR61u4StYyU1civ7sSLtAJ981kSLnPJrelHlRhVlzM7yLTdTtJuu9Qe3NdBbGUorMFJxz2NcFPnUrWO2XK4lsdKCARg13bmBSurCGU4aMtn0qjJ4Xt3YnP0GK4pYbmk+X3bGyq2WvvFKTw5IpIRAR61Fc+Gttvvfn1GOlYeynHVq1uprzxfzKcCW1mdroXU8YIqQR2KA7AxPUgDGKiz3TKutjPnjic74jtB9TzT4p58Bc7yOm6tItrfoQ0mWEubtZf367l7DtUqq1w24gKg6kDpW0FFrm7Gc207dynKqqzAoOehFVmhLdFJ/CumKtuYN9gGnzuPlibmoXs5VJBXkH1qlVjtdEezlvYimtJEXLow/CqErIDWkZp7WZEotbnrsTkjrmphz1rGDutdToloxaK0EMkU9VGSKRDIQd4A9MVm+ZS0+F7selvPoNDuHw3T2oJWUlWH50r3Vn1HtqjG1LSmVS6DdzxxWQ+nTSTcghjXBKPs3Z/I6IvmV/vK7aWYptsp2jua0LG3tllLQZkK8dO9C95227g9FfcmuFnnUrtyF9BUthHhfLkjO0n14zXToo2WhiruV2JqFtFGNyxoSPUVztzrdzBJhdoVewFZJ8zs3dLY0a5dVu9yCTxLKUPyDd2NZE+tXDyF84J74rSMEiJSbKFxqFxMpDyuQe2azpN3dj+dbRlbYzkr7nvCJkYxsP95eDUqxyA584t7EVnTi+j5fLoaSa66+ZOM45orqMgooAYwqNhis5DQ0yMBio2Zm7ZrNu+5VrDNizPsdFI9CKjNrDCuEiCZ6kcVlKEd7fMtSe34DY2jV8YKknvzTLqUQcs+PwqJuyuVHU5TWtVeaX5coq/dGaxpLxpUw4zjvRFKwSepAF85SUGcdRVeaJh/DiqvZ2JsZ86sDz0qBo2xu/hq0yLHvy9KeK2pkvcdRWogpM0AIaYwqJAhNq1FcPKoHlIHHesZNqPu6vsWtXrou5HuK5YLzjjNZ1/c3YiIUZX+8vauec36LqbRivV9DNivriYlWOdo6HmrxleWIBgDx3HSpaugvZmDqFuWYgwKSPQVlsjxIym3BUgjmoXa+xT7lSOzd3PkAq3YZpby8vVASeNendBzWukt+nUz22Jo7S2v4A3lFGxzg1Rm0l4m+UMVPqKlSa03Q2k9T/9n4qqwQ2C6FUcJKhVwpbQ1vCsihOUlK0km1lS0VoSE2qiF4TrpDJE0aZJK5EgBF7pQGeoyWHrHyLxlrwklpeaZbWWmyFkkIa43/2P/bAEMAAgEBAQEBAgEBAQICAgICBAMCAgICBQQEAwQGBQYGBgUGBgYHCQgGBwkHBgYICwgJCgoKCgoGCAsMCwoMCQoKCv/bAEMBAgICAgICBQMDBQoHBgcKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCv/AABEIAIAAgAMBIgACEQEDEQH/xAAeAAACAwEAAwEBAAAAAAAAAAAGBwQFCAMBAgkACv/EADcQAAEDAwMDAgUDAgYCAwAAAAECAwQFBhEAEiEHMUETUQgiMmFxFIGRFaEjQlKxwdEW8ReCov/EABsBAAICAwEAAAAAAAAAAAAAAAUGAwQBAgcA/8QAMREAAgEDAwMCBQMDBQAAAAAAAQIDAAQRBRIhMUFRE3EiYYGRwaHR4QYU8BUjMnKx/9oADAMBAAIRAxEAPwDNEamJCR8v9tT4dJ3Zwn+2rSHStzaVBvOrSDShnBTpvDYpbIBqsi0QKRn0+QO2uwpJQQCjRFEpR8D+2uj1LIXjb/bWwfmtNvFDqaWE/LsHfXZFNB/y6uVU75uUjj7a6NwMfMEfjWd3Fa0f/DB0mtK7KpIum8KgUxqQ+0pmE2EqMlzOQFA/5MgZ/J1q2L1glUxsPtIbbitNpW80EgbwSO+PGsWWjUqhRZy/0Tqkh1OFgH78aaKLzm0i28SnlLddYwk+wGdJH9QafJd3QLtkdh4802aNeRwWxCjBHU+aA/iosex//ktysdPnN8SpAOymM/M1IUo7/wD6k8jS8uTpxPthCJL3yuJSFKGOwPY50wavS7gnU3+vro7i4QXkyA3naoc86FrhnVGqpQl1SvTI5QVZzycHR6zkmiiSMvkLwSevtQe7WJ5HcLyeRS/q0BHqLc9NIKjyB50Pz6cEkkj+2j2qUlDRWfrJSQEgdjqqRbKKkVMJe2uBO5KSngn20SW9t1OC1DjaTsMhaBKhBCWt23A841QVGnBaiQ3n86O67TGWigR1bsg7hjkHPnVFNiJSgpIyc8DRBDxVRhjigmVAAP041CcaW2rcgYI9tE82n5PCedVkqAUkgJ1uQDUXfFaZplIUMsqb2kHke2rGNSylf0g8+2j2rWvRZtbjvxXY7EV14tuymdxzknCiD9hnge+oU+110+WtoLS4hKylDiBwoe/+2gkVysgB80akhZCQao4lMCk528jXRykKJ3bfxq8jUopABT31KXSRn6NS7sVFjihNVM+Y5T24zr1FPIVt26I3aUoEkA9+2uCqaUuDKdShs1oQM0bVvpPAtizaDUKLKVIVUYaZcxTrQSpl4jBQPOE/7k6rK1QUU213PUmJVLeWG4zTSgoff8Ht/Op1239WbjjNqqMgKDLKW0hCQkAJAHYceNC8aprVNbW+nKErG7nxnnGlyG3vJcvIckHP8f4KNyz20QCxjqP4rlFq98KoZs5ptxmKuQQ4kZBK/PPtjx21U3NbopREMhKlgfOQex9taAhdK3uofT7/AMo6eUh2PBElXqOyn0bFKT9XJOQRuHccg6BKn0RvByUUyqI+pxbZWnCchSQcZyOMZxzqs97E5IwFweR3z86nS0dFByWyOD2x8qULduuOOfIwVcZOBquqaEUV9t1EMBQz3HjTz6c9OpUibLl1aKGIsMelIekfKncoHAB8nj9tK/qfDpiqu9Hp3KWyQCR3++q7XStcel4FSiAiLf5pTVmEhcl1aOQok8e+h2bTVBZJGD99HAYnQZKxCYSXHRt3LQFAZ+x17XBbjT0VpLURKNqcFwJ5Ufvpms9VUuEfvQC609gpZaWMqAcnjzxqslQwBx+2jGr0ZyI6WHmsKx/OqaXTu4KfxjxpgBDDNBDuU1t2HUKReHSW0yqB6D9NEhh+Q0jIWvcFBC/bgkhX3I8al1mQ5ULdj0gUeKw2zIW6hbKDuJICeSSf9I0c/Bn0Pi3xcL1o1iSmP6chKz6qcjaPlPB78Ej99D9etp63K1OtySfUMSU4zuAwCUqIz++Nc70q8huB6SHLJz9yaeNQt3hbe3Rhj7AUJMUc8fJru5S0+n9HI99EcOkFxO5ScY9hr2k0hIbPy+PbTCX3UEA2mg1ym7gfl51Hk0rCdwbOilVLUkkFGvC6SVEkI/IOrAkAqBlNBbkJQQQnODxqK7TFIPKNGTtFZS4d+AAMnOvU2dPqEN6bAhuuMxwPWdbbJSjPbJ8aw9xFEMk4FeSOSQ4UZqNY/V26LLpj1qR5CjT5K8uhP1oJKclJJ4+ka2DZLVgdROlbVDtKII9wohsKeDxG8Mn/AD4BI2naPPdWsxdOennSm511K27kulcCqlgKpUpxQ9FSwPpV7A++ovTq+Lw6IdUGJcSWmQuG56DjbUrc082T9IUONvn/AI0rana2msB1tjtlX4vG79x2/wDaYLO4udM2mcZjbjzinj1f6PXNEtfDtIYjts8+nETj1FEY3qz3JwNZJvGw566u4n0FbiTu419Ird6o2r18oaWnIiYr8mKlT0dXdteSCArGCMAY/wCNKq8ehtl2tMcl1LY8+SpSGkjsOcE/9aRrbULm0maKZfiHamiW1huI1dDxWGHOmU9tkPyIpSM5STqGKHBTIEea2VJB5GtFXzCob812AkIbUjgADHGgWo9OY7Sf1jrjYDhJQpRxxpktbidjlxig08MSjC81nbqPSKe3Wj/Twop9IbwrsFew0HzaeE8lPfTav+22WqissELUSd2DxjQRVKQGx8qPyddMsJA1qgz2pDvEK3LH519dunnRiPZfXiDc8OoxUU1x8IdUy6NqwrIBx3wSM6B/jNsG2aZ1fdlW5LbWJ0Rtx5pAyW1425J7HIAOmjYxrN8yqTb9UoEanKXT0h+ey8lTrxGcKScZRn2PnzpWdXKVKYvqo0559+U7EfLSJMiOW3HAnspSTnx57Ec65F/TyYuid3IGDjx710nV2zAo28Z/X2pVU+2JMJrZIVk9xrg6xDkLWww8lS0n5kA8jRo7NtiAwpF0SVNEK+YIQdwGq9u16ImOzWqO8l1qWne24MHI/wCD9jpvhugGEakEDrzS/Lb7gXYYJ+VCS6c5HUHkJ+dJyCR2OudJpEya86zGirce27m/TTnGOSSPbV7dM2FRkw0uOMqEuQWfkeSVIUMd0jkdxqM4HqK8qR6oZ9MEOlRxgeQdXBcJIp2HmqZt3jcFhxShvufX6ZWQuS84SlZJaSOMZ9tMzpz8RVmUmy5do120UuNPJBSyklG5eACSR3yB2++ll1F6rW69WZKItHTIUUFDD7rpGxefqwO478atrNtyFeVoR6o84gPeotC1NEDJB4PbQie3W/X02PGc9aKRTf2R3gVUXJRH59xuVSgRzGZcXuQ2CcIB8DXWHClMOIdlLKlA5yfHPfRk1bbkOElp9e5aBtzjwO2qmpNMxspTjPuPGjVnZpGB5FCLq7eQkY4o+HXyRYtowaBY4ALMlt5ySpeVhSQNwPH0nAI9hka6TPiakXWt2Rcqn23HUkrDaApJXwMjz7/zpRyWSpzcPOplOghLaHZLSi2VYCgNYk0PT2G5kyx79+awurXoOA3HjtVjWqgqq1FdVUVqbWCGyDhQOPOhK6KnV3VoVJdWG0AhAHkaNJUQrpbcVLSAVnd6iOVHuMaFrnp0tpKv1BJUgYIOpLeKFTtA6cVFNNKRknrzQLV5sV1agWjz/mPfQjVYSFLUWxx4zorqsBwun5cA6qJEEkH7edGIY1iHw0NkdpDzWvLB+KW9rXr0OpN1x55tbXpTQtsbkoOAQkqBwQBweccadHTfrT0wrFz1K5ruuWfOcl00x4s2SylTsde0JCl+OEgpBHP2GsvVG0ajCfUw7CIKDjKRqw6eyKjb9cbdMcPNKc2vMujhSc9jri6Tw+myrhdwwSPFdSaNyyk84OaPut/WO1oTkuzG6PFmul8LYrDBO5SMHIVu5UVcfg9u+l1Gvup0+lLRb0v/AA8ENtvEkNk8naNEd4dNl1J1+tNx0oU4srS0Owz4GfGltMo1VgTDGfWpKEqzwO+orW8WIARtgit5oC+d65BoaqIqqpSprkle71crKlHg50fdVevFq31ZdPt+NbyoU+PT249RloUNstaCT6pAAwo55P2Gh1+lSnt7CmS5nJScarUWstThbciFWOT8vYaIJqWcFjyPzVVrME4A4oErdLE1tamV5JOQfY6pqZeN22Sp1mkVd5lLowtKF8HTjh2HBfaSEIBJByPbQ/cnRhLzS5cTJOSSlQ7a2ttYEUmCaxNp5kTIFD1rfEHekScluoTjKaUseo2/yQnzg+NNinTqPdba36FN9cJA9RJGFJJ5wRpNW/02nTa81SGYpLrrwQkbfJONao6f/C3UunPTxd5Sn1LefdQlUb0+R3IP8aY7bW0jnRC3/LigdxpfqRMwHSl2/RH23Ni2SD7EauaRa1RlUaRLjxS4iMAp7YeQCcZx5AP8Z0aVyg0RgNvSZxafWfodSBzjjj+PxrzRK43aFX/Rwq9CccqLKmlNMvhRJIKcKT7j799GG1ZJIvhI3ePahY0x1k+LO3zS+juvtOBpvCcqHJAONV931CVP+R2GhWVY3oRjb/Gn51R6ET0Uin1i0LUHomIgyW2RvWF4PJH1DPck+4xxxpS3ZR61Zlddi16gNtnaU+m4nKT9xrW3vYL0BoSN3jIzxWJbSazOJQdv1xSlrFLbSokg5OqWRBSXDuIH50dVKmVCrOLMOEpz8J7aoa9Z1w0Vaf6tRZLBcA9NLjJG7PI/9aPRyDAVjzQhkJOQOK+lfxU/DzTVXM2enFkf4D6C4+7FbKxu85OcD8AaTUH4erjaeLrNGcSsKwpBbP8AbWtOiV5zKnVG00SptyUrOFpS8FA/YjPGnW3QrdrITOcpLaXQQTubwQR7++uKLok12zehIBz0I4x8iD+mK6h/qKQKokQnjrnmsCu9MJ8ajpZqNLWktpwoKTpe3TZtDZlrUI+1e3JCm+M6+md1dN7VuuCqPPpTW8NkNrQkAg447ayz1t6Ff0FMh5qlrKjnZhPnGhGqaZe6RIDL8St0I/Pir9nfW98pAGCOx/FZFbpkB2oKQ5BbbU2rAUrhK/tqxj2pa8qQp+tPMw1hISyMEpd57HGcHnPtgak3h0/uKbP/AEkeI6CFH6UEYOqef0lvNcb1XZDoWk7kJUrnOtreSHgsRXnVyOBXpd67Jst8xKdHMtfqAKLY+VQ8lKh3/OuUe2oVxRjPpAzv5LDn1t/Y++ulF6e1y9YZtp9paKgw5hlwpJ9XOePznU/p70tvqgXO8K3EfZEMFBTggLXgkDH7dtEi9hM2w4WqoFzGu5cmudk9B4NWvmImcoRGluBTkoJ4SnI5/OtnMdO2rdZgVKt1mNJgtsJERQQPTkYCRtxyO2SSeTu1nqk3TETV4dKVFTGUtwpkGQsJSnHPCjxp41S9alWbWVY1syI7UVhLf6mXJeAbYHOTvP8AqHAAz286llsrV1TEmfwKhW5uFZspj8mqjq58PfTe6KC7Vo8KNGU2hS1ORlggr5OMDkcax3UulMFfUVuO5MUhppe5DxPbHOONa2u2NVKBSlMUCVNkMuR0plPvpAaWvn6M4OPzpL1C3pcOovOymwXSFbVBOdufI/71pY288UpEDllPT81m5nieMGVQDUTqj1OrNm2221bF3PrdRGLLxaePJ5899DvTLqJROq9VpznVGC++mG2WnGwCQ8rOAT5z7/jXpUbcW+46mpI3kqyk9+NelvvtWe4h2nx0ZQ4CpJT3HnTFp2n3CpvHXnnoaDXt/AW2k8ccdRTerNsdGbepiq7SbPZSQz6qmxFUSkHt4IHP99KK7OtdlxnltsUKS4VEpfadOAMdsfcHVldvVKtVOkriQ3VRy4r/ABdijhQHYY8aUldil1TinkBSl87jotpmj78tdkk/9iaGX+rCMhbYAD2FfTe1PgzqHT+7UXJatwF6M1IC22ivDm0HI5Hn99Puh0+RTssKqLzzeMpTJBKk/bJ1CtaWzMbJizUOBBIWE5BB/BAP76vmySnn++hul6faxH14iefnkfT5e+aLXl1O/wDtv2+VedVdx04TlMtoajFS1FCvXZ3ZSe+PY41aaj1GK7LjlEd703ByheOx0VuohNAVxmqcTbJAaD698P3TisQZDDVDbZfeOQ+ngpP/AFoJY+Du3xUkzKrLalsDOWcFOD+f402Y9MqzVLdaqNS9V8kltxJIIGOBqPGl1OBGcDzO9RPClL57HQKXR9JkZXaDZx24+4HFEEvrxAVWTPv+M1k7qf03c6UXG5Kt+2W3S0slmSpsgd+/PfA/31VT+rw5XV7Tgxqi9HLzsh5IWXMA4wk8Jz/61qfqf0ypfUSkqnMtgzWo69iSTySOBrOVT+Fy8H6k2xVqTIbS4fmf2ZShOlG+0xrOUqyZU9CBnj+KN214J1BBwR1FI+5axbN0SRL9L0pTqgXGkNYQhWPA0QWv0pvrqJRAqgz5amow/wAJv1fkGMnsfHJ0Vv8ASGj9La+5Vbzt+XLisglpLUc7XecABXj8nTHoTFTdsaIbcguUlh0BSWW1J3ZcAyFecD/nWbRTI/pxnbjz+1YuJPTTe4z7UtbWoF2XPOYtepy1L/TIUpwOOhKUJQMq559j/Oqu+qXW4tYcRS6bMQzKQENMrQcqTjgcDkeR9tN+2enl4Wncypj8OO+AMu5SpaCnIzyPOrvrrU6bS7f/AFKKm1FfWgpSoqSTvxnA9iNMM+orZlSoDADH17mg8Nm90DklST+nYVmdfQq/6q4hX9CDKXRu3PvISEjPcjOf7Z1X3T0BlW/SHKtU7jhD0nQhxDIUoJ9yTjxnwNBV/dYep9r3K8+xXpYCuEoWtQBTnjH2Ol31P+IPqddDCI8utO7UIx6bR2p/cDv++rKanqbspVlA9v3qBtPsVBDBif8APFMWtWPSqdTnahIuultpwfSbmv8ApKUARhQye2Of20lbs6o2bDkriqrsJWxW0rbVuSr99ANzXLXZ29dSlur+XlS3CdLyvRW1rWsOg55I76MWupyoT6jbvpihtxp8LD4Bj61/RJHoRq8ZmNWFvJWyrcxIjultxP7juNXdEoJouRFqT7rSvqTJXuOffOvaIT6YBJOBxnU9ogpwBjVbTrSDAkxyMc9/5q7NcSOSvbxXtr9r9r920ZqrXhYBSQdQJjQIJx+dTVup7ajSNqknPtqCcAx1lTg5qllPvxcltwj8agSnqpIQSEuqB7nB51dqYjlRLo75BP2xquu+ZckWnoNqw0StqgH2lOYUUeQPzoHM/pRM7E4HYDJ+1EEw7hRxnueB96rabFcqrkmPJa9UNoBLK+x+bng9+NU9woj0+Utb1vtObAMteiR6ae+5I8du+plWqFah0t5VKbEV1xW4uuIO5IA4Bz986z71mvbqpRbmTUaqX429sNhyO4r03BnIWOfIxn8aA3N9CsigDnyen3olFayFDk0665W4Eq1v69HlyC00raWmlBSkKzwSPtwceQdYw+L3rDWLhqggJQ41FiI2RcnBWc/MtQAABJ8eO2tAWXcl2/p3WX3S4pwpVuWySl3I/wD1pQ9erfrM2c+0i3I8sFBcQtMTkI7c7e3PvoZNcPHcCQjj371aiCPGUB5rLNfviqyKYiTU2VrbQdiXHBnIz21CqNq1WpwUzaPDMhtxsLCmkZwD747aOLwgXNHt522avZjQiLWHEEp+dsDcBt9uSM/jVFRLZ6vWBSZF2dNHZSIzzKm5jbRStSRzwUkHgZznHfVxLkyLxgH9DVdo1j6nIpK31QaoylfqMEEDCgBoHl0OU7HVUm2VpS3wpvGc8d9ak6WVGL1IdnW51Ht6NMmuO+ozMGGHMEYKSBhJAPIOO5OfGqC//h1doNVcnUOnThGUopKS0HAoc9iO/wDHjUqak0bGNxz+lQtbK3xrX//Z";
            this.emptyImage = new Image();
            this.emptyImage.onload = function() {
              _this.samplers.empty = _this.gl.createTexture();
              _this.bindTexture(_this.samplers.empty, _this.emptyImage, 1, 1);
            };
            this.emptyImage.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=";
          }
          _createClass(ImageTextures2, [{
            key: "bindTexture",
            value: function bindTexture(texture, data, width, height) {
              this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
              this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);
              this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, width, height, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, data);
              this.gl.generateMipmap(this.gl.TEXTURE_2D);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.REPEAT);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.REPEAT);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR_MIPMAP_LINEAR);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);
              if (this.anisoExt) {
                var max = this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
                this.gl.texParameterf(this.gl.TEXTURE_2D, this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT, max);
              }
            }
          }, {
            key: "loadExtraImages",
            value: function loadExtraImages(imageData) {
              var _this2 = this;
              Object.keys(imageData).forEach(function(imageName) {
                var _imageData$imageName = imageData[imageName], data = _imageData$imageName.data, width = _imageData$imageName.width, height = _imageData$imageName.height;
                if (!_this2.samplers[imageName]) {
                  var image = new Image();
                  image.onload = function() {
                    _this2.samplers[imageName] = _this2.gl.createTexture();
                    _this2.bindTexture(_this2.samplers[imageName], image, width, height);
                  };
                  image.src = data;
                }
              });
            }
          }, {
            key: "getTexture",
            value: function getTexture(sampler) {
              var tex = this.samplers[sampler];
              if (tex) {
                return tex;
              }
              return this.samplers.clouds2;
            }
          }]);
          return ImageTextures2;
        }();
      },
      "./src/index.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return Butterchurn;
        });
        var ecma_proposal_math_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/ecma-proposal-math-extensions/reference-implementation/index.js");
        var _presetBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/presetBase.js");
        var _visualizer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/visualizer.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var Butterchurn = /* @__PURE__ */ function() {
          function Butterchurn2() {
            _classCallCheck(this, Butterchurn2);
          }
          _createClass(Butterchurn2, null, [{
            key: "createVisualizer",
            value: function createVisualizer(context, canvas, opts) {
              return new _visualizer__WEBPACK_IMPORTED_MODULE_2__["default"](context, canvas, opts);
            }
          }]);
          return Butterchurn2;
        }();
      },
      "./src/noise/noise.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return Noise;
        });
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var Noise = /* @__PURE__ */ function() {
          function Noise2(gl) {
            _classCallCheck(this, Noise2);
            this.gl = gl;
            this.anisoExt = this.gl.getExtension("EXT_texture_filter_anisotropic") || this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic") || this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
            this.noiseTexLQ = this.gl.createTexture();
            this.noiseTexLQLite = this.gl.createTexture();
            this.noiseTexMQ = this.gl.createTexture();
            this.noiseTexHQ = this.gl.createTexture();
            this.noiseTexVolLQ = this.gl.createTexture();
            this.noiseTexVolHQ = this.gl.createTexture();
            this.nTexArrLQ = Noise2.createNoiseTex(256, 1);
            this.nTexArrLQLite = Noise2.createNoiseTex(32, 1);
            this.nTexArrMQ = Noise2.createNoiseTex(256, 4);
            this.nTexArrHQ = Noise2.createNoiseTex(256, 8);
            this.nTexArrVolLQ = Noise2.createNoiseVolTex(32, 1);
            this.nTexArrVolHQ = Noise2.createNoiseVolTex(32, 4);
            this.bindTexture(this.noiseTexLQ, this.nTexArrLQ, 256, 256);
            this.bindTexture(this.noiseTexLQLite, this.nTexArrLQLite, 32, 32);
            this.bindTexture(this.noiseTexMQ, this.nTexArrMQ, 256, 256);
            this.bindTexture(this.noiseTexHQ, this.nTexArrHQ, 256, 256);
            this.bindTexture3D(this.noiseTexVolLQ, this.nTexArrVolLQ, 32, 32, 32);
            this.bindTexture3D(this.noiseTexVolHQ, this.nTexArrVolHQ, 32, 32, 32);
            this.noiseTexPointLQ = this.gl.createSampler();
            gl.samplerParameteri(this.noiseTexPointLQ, gl.TEXTURE_MIN_FILTER, gl.NEAREST_MIPMAP_NEAREST);
            gl.samplerParameteri(this.noiseTexPointLQ, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
            gl.samplerParameteri(this.noiseTexPointLQ, gl.TEXTURE_WRAP_S, gl.REPEAT);
            gl.samplerParameteri(this.noiseTexPointLQ, gl.TEXTURE_WRAP_T, gl.REPEAT);
          }
          _createClass(Noise2, [{
            key: "bindTexture",
            value: function bindTexture(texture, data, width, height) {
              this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
              this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);
              this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, width, height, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, data);
              this.gl.generateMipmap(this.gl.TEXTURE_2D);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.REPEAT);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.REPEAT);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR_MIPMAP_LINEAR);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);
              if (this.anisoExt) {
                var max = this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
                this.gl.texParameterf(this.gl.TEXTURE_2D, this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT, max);
              }
            }
          }, {
            key: "bindTexture3D",
            value: function bindTexture3D(texture, data, width, height, depth) {
              this.gl.bindTexture(this.gl.TEXTURE_3D, texture);
              this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);
              this.gl.texImage3D(this.gl.TEXTURE_3D, 0, this.gl.RGBA, width, height, depth, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, data);
              this.gl.generateMipmap(this.gl.TEXTURE_3D);
              this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_S, this.gl.REPEAT);
              this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_T, this.gl.REPEAT);
              this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_R, this.gl.REPEAT);
              this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR_MIPMAP_LINEAR);
              this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);
              if (this.anisoExt) {
                var max = this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
                this.gl.texParameterf(this.gl.TEXTURE_3D, this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT, max);
              }
            }
          }], [{
            key: "fCubicInterpolate",
            value: function fCubicInterpolate(y0, y1, y2, y3, t) {
              var t2 = t * t;
              var t3 = t * t2;
              var a0 = y3 - y2 - y0 + y1;
              var a1 = y0 - y1 - a0;
              var a2 = y2 - y0;
              var a3 = y1;
              return a0 * t3 + a1 * t2 + a2 * t + a3;
            }
          }, {
            key: "dwCubicInterpolate",
            value: function dwCubicInterpolate(y0, y1, y2, y3, t) {
              var ret = [];
              for (var i = 0; i < 4; i++) {
                var f = Noise2.fCubicInterpolate(y0[i] / 255, y1[i] / 255, y2[i] / 255, y3[i] / 255, t);
                f = Math.clamp(f, 0, 1);
                ret[i] = f * 255;
              }
              return ret;
            }
          }, {
            key: "createNoiseVolTex",
            value: function createNoiseVolTex(noiseSize, zoom) {
              var nsize = noiseSize * noiseSize * noiseSize;
              var texArr = new Uint8Array(nsize * 4);
              var texRange = zoom > 1 ? 216 : 256;
              var halfTexRange = texRange * 0.5;
              for (var i = 0; i < nsize; i++) {
                texArr[i * 4 + 0] = Math.floor(Math.random() * texRange + halfTexRange);
                texArr[i * 4 + 1] = Math.floor(Math.random() * texRange + halfTexRange);
                texArr[i * 4 + 2] = Math.floor(Math.random() * texRange + halfTexRange);
                texArr[i * 4 + 3] = Math.floor(Math.random() * texRange + halfTexRange);
              }
              var wordsPerSlice = noiseSize * noiseSize;
              var wordsPerLine = noiseSize;
              if (zoom > 1) {
                for (var z = 0; z < noiseSize; z += zoom) {
                  for (var y = 0; y < noiseSize; y += zoom) {
                    for (var x = 0; x < noiseSize; x++) {
                      if (x % zoom !== 0) {
                        var baseX = Math.floor(x / zoom) * zoom + noiseSize;
                        var baseY = z * wordsPerSlice + y * wordsPerLine;
                        var y0 = [];
                        var y1 = [];
                        var y2 = [];
                        var y3 = [];
                        for (var _i = 0; _i < 4; _i++) {
                          y0[_i] = texArr[baseY * 4 + (baseX - zoom) % noiseSize * 4 + _i];
                          y1[_i] = texArr[baseY * 4 + baseX % noiseSize * 4 + _i];
                          y2[_i] = texArr[baseY * 4 + (baseX + zoom) % noiseSize * 4 + _i];
                          y3[_i] = texArr[baseY * 4 + (baseX + zoom * 2) % noiseSize * 4 + _i];
                        }
                        var t = x % zoom / zoom;
                        var result = Noise2.dwCubicInterpolate(y0, y1, y2, y3, t);
                        for (var _i2 = 0; _i2 < 4; _i2++) {
                          var offset = x * 4 + _i2;
                          texArr[z * wordsPerSlice * 4 + y * wordsPerLine * 4 + offset] = result[_i2];
                        }
                      }
                    }
                  }
                }
                for (var _z = 0; _z < noiseSize; _z += zoom) {
                  for (var _x = 0; _x < noiseSize; _x++) {
                    for (var _y = 0; _y < noiseSize; _y++) {
                      if (_y % zoom !== 0) {
                        var _baseY = Math.floor(_y / zoom) * zoom + noiseSize;
                        var baseZ = _z * wordsPerSlice;
                        var _y2 = [];
                        var _y3 = [];
                        var _y4 = [];
                        var _y5 = [];
                        for (var _i3 = 0; _i3 < 4; _i3++) {
                          var _offset = _x * 4 + baseZ * 4 + _i3;
                          _y2[_i3] = texArr[(_baseY - zoom) % noiseSize * wordsPerLine * 4 + _offset];
                          _y3[_i3] = texArr[_baseY % noiseSize * wordsPerLine * 4 + _offset];
                          _y4[_i3] = texArr[(_baseY + zoom) % noiseSize * wordsPerLine * 4 + _offset];
                          _y5[_i3] = texArr[(_baseY + zoom * 2) % noiseSize * wordsPerLine * 4 + _offset];
                        }
                        var _t = _y % zoom / zoom;
                        var _result = Noise2.dwCubicInterpolate(_y2, _y3, _y4, _y5, _t);
                        for (var _i4 = 0; _i4 < 4; _i4++) {
                          var _offset2 = _x * 4 + baseZ * 4 + _i4;
                          texArr[_y * wordsPerLine * 4 + _offset2] = _result[_i4];
                        }
                      }
                    }
                  }
                }
                for (var _x2 = 0; _x2 < noiseSize; _x2++) {
                  for (var _y6 = 0; _y6 < noiseSize; _y6++) {
                    for (var _z2 = 0; _z2 < noiseSize; _z2++) {
                      if (_z2 % zoom !== 0) {
                        var _baseY2 = _y6 * wordsPerLine;
                        var _baseZ = Math.floor(_z2 / zoom) * zoom + noiseSize;
                        var _y7 = [];
                        var _y8 = [];
                        var _y9 = [];
                        var _y10 = [];
                        for (var _i5 = 0; _i5 < 4; _i5++) {
                          var _offset3 = _x2 * 4 + _baseY2 * 4 + _i5;
                          _y7[_i5] = texArr[(_baseZ - zoom) % noiseSize * wordsPerSlice * 4 + _offset3];
                          _y8[_i5] = texArr[_baseZ % noiseSize * wordsPerSlice * 4 + _offset3];
                          _y9[_i5] = texArr[(_baseZ + zoom) % noiseSize * wordsPerSlice * 4 + _offset3];
                          _y10[_i5] = texArr[(_baseZ + zoom * 2) % noiseSize * wordsPerSlice * 4 + _offset3];
                        }
                        var _t2 = _y6 % zoom / zoom;
                        var _result2 = Noise2.dwCubicInterpolate(_y7, _y8, _y9, _y10, _t2);
                        for (var _i6 = 0; _i6 < 4; _i6++) {
                          var _offset4 = _x2 * 4 + _baseY2 * 4 + _i6;
                          texArr[_z2 * wordsPerSlice * 4 + _offset4] = _result2[_i6];
                        }
                      }
                    }
                  }
                }
              }
              return texArr;
            }
          }, {
            key: "createNoiseTex",
            value: function createNoiseTex(noiseSize, zoom) {
              var nsize = noiseSize * noiseSize;
              var texArr = new Uint8Array(nsize * 4);
              var texRange = zoom > 1 ? 216 : 256;
              var halfTexRange = texRange * 0.5;
              for (var i = 0; i < nsize; i++) {
                texArr[i * 4 + 0] = Math.floor(Math.random() * texRange + halfTexRange);
                texArr[i * 4 + 1] = Math.floor(Math.random() * texRange + halfTexRange);
                texArr[i * 4 + 2] = Math.floor(Math.random() * texRange + halfTexRange);
                texArr[i * 4 + 3] = Math.floor(Math.random() * texRange + halfTexRange);
              }
              if (zoom > 1) {
                for (var y = 0; y < noiseSize; y += zoom) {
                  for (var x = 0; x < noiseSize; x++) {
                    if (x % zoom !== 0) {
                      var baseX = Math.floor(x / zoom) * zoom + noiseSize;
                      var baseY = y * noiseSize;
                      var y0 = [];
                      var y1 = [];
                      var y2 = [];
                      var y3 = [];
                      for (var z = 0; z < 4; z++) {
                        y0[z] = texArr[baseY * 4 + (baseX - zoom) % noiseSize * 4 + z];
                        y1[z] = texArr[baseY * 4 + baseX % noiseSize * 4 + z];
                        y2[z] = texArr[baseY * 4 + (baseX + zoom) % noiseSize * 4 + z];
                        y3[z] = texArr[baseY * 4 + (baseX + zoom * 2) % noiseSize * 4 + z];
                      }
                      var t = x % zoom / zoom;
                      var result = Noise2.dwCubicInterpolate(y0, y1, y2, y3, t);
                      for (var _z3 = 0; _z3 < 4; _z3++) {
                        texArr[y * noiseSize * 4 + x * 4 + _z3] = result[_z3];
                      }
                    }
                  }
                }
                for (var _x3 = 0; _x3 < noiseSize; _x3++) {
                  for (var _y11 = 0; _y11 < noiseSize; _y11++) {
                    if (_y11 % zoom !== 0) {
                      var _baseY3 = Math.floor(_y11 / zoom) * zoom + noiseSize;
                      var _y12 = [];
                      var _y13 = [];
                      var _y14 = [];
                      var _y15 = [];
                      for (var _z4 = 0; _z4 < 4; _z4++) {
                        _y12[_z4] = texArr[(_baseY3 - zoom) % noiseSize * noiseSize * 4 + _x3 * 4 + _z4];
                        _y13[_z4] = texArr[_baseY3 % noiseSize * noiseSize * 4 + _x3 * 4 + _z4];
                        _y14[_z4] = texArr[(_baseY3 + zoom) % noiseSize * noiseSize * 4 + _x3 * 4 + _z4];
                        _y15[_z4] = texArr[(_baseY3 + zoom * 2) % noiseSize * noiseSize * 4 + _x3 * 4 + _z4];
                      }
                      var _t3 = _y11 % zoom / zoom;
                      var _result3 = Noise2.dwCubicInterpolate(_y12, _y13, _y14, _y15, _t3);
                      for (var _z5 = 0; _z5 < 4; _z5++) {
                        texArr[_y11 * noiseSize * 4 + _x3 * 4 + _z5] = _result3[_z5];
                      }
                    }
                  }
                }
              }
              return texArr;
            }
          }]);
          return Noise2;
        }();
      },
      "./src/presetBase.js": function(module2, exports2) {
        var EPSILON = 1e-5;
        window.sqr = function sqr(x) {
          return x * x;
        };
        window.sqrt = function sqrt(x) {
          return Math.sqrt(Math.abs(x));
        };
        window.log10 = function log10(val) {
          return Math.log(val) * Math.LOG10E;
        };
        window.sign = function sign(x) {
          return x > 0 ? 1 : x < 0 ? -1 : 0;
        };
        window.rand = function rand2(x) {
          var xf = Math.floor(x);
          if (xf < 1) {
            return Math.random();
          }
          return Math.random() * xf;
        };
        window.randint = function randint(x) {
          return Math.floor(rand(x));
        };
        window.bnot = function bnot(x) {
          return Math.abs(x) < EPSILON ? 1 : 0;
        };
        function isFiniteNumber(num2) {
          return isFinite(num2) && !isNaN(num2);
        }
        window.pow = function pow(x, y) {
          var z = Math.pow(x, y);
          if (!isFiniteNumber(z)) {
            return 0;
          }
          return z;
        };
        window.div = function div(x, y) {
          if (y === 0) {
            return 0;
          }
          return x / y;
        };
        window.mod = function mod(x, y) {
          if (y === 0) {
            return 0;
          }
          var z = Math.floor(x) % Math.floor(y);
          return z;
        };
        window.bitor = function bitor(x, y) {
          var z = Math.floor(x) | Math.floor(y);
          return z;
        };
        window.bitand = function bitand(x, y) {
          var z = Math.floor(x) & Math.floor(y);
          return z;
        };
        window.sigmoid = function sigmoid(x, y) {
          var t = 1 + Math.exp(-x * y);
          return Math.abs(t) > EPSILON ? 1 / t : 0;
        };
        window.bor = function bor(x, y) {
          return Math.abs(x) > EPSILON || Math.abs(y) > EPSILON ? 1 : 0;
        };
        window.band = function band(x, y) {
          return Math.abs(x) > EPSILON && Math.abs(y) > EPSILON ? 1 : 0;
        };
        window.equal = function equal(x, y) {
          return Math.abs(x - y) < EPSILON ? 1 : 0;
        };
        window.above = function above(x, y) {
          return x > y ? 1 : 0;
        };
        window.below = function below(x, y) {
          return x < y ? 1 : 0;
        };
        window.ifcond = function ifcond(x, y, z) {
          return Math.abs(x) > EPSILON ? y : z;
        };
        window.memcpy = function memcpy(megabuf, dst, src2, len) {
          var destOffset = dst;
          var srcOffset = src2;
          var copyLen = len;
          if (srcOffset < 0) {
            copyLen += srcOffset;
            destOffset -= srcOffset;
            srcOffset = 0;
          }
          if (destOffset < 0) {
            copyLen += destOffset;
            srcOffset -= destOffset;
            destOffset = 0;
          }
          if (copyLen > 0) {
            megabuf.copyWithin(destOffset, srcOffset, copyLen);
          }
          return dst;
        };
      },
      "./src/rendering/blendPattern.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return BlendPattern;
        });
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var BlendPattern = /* @__PURE__ */ function() {
          function BlendPattern2(opts) {
            _classCallCheck(this, BlendPattern2);
            this.mesh_width = opts.mesh_width;
            this.mesh_height = opts.mesh_height;
            this.aspectx = opts.aspectx;
            this.aspecty = opts.aspecty;
            this.vertInfoA = new Float32Array((this.mesh_width + 1) * (this.mesh_height + 1));
            this.vertInfoC = new Float32Array((this.mesh_width + 1) * (this.mesh_height + 1));
            this.createBlendPattern();
          }
          _createClass(BlendPattern2, [{
            key: "updateGlobals",
            value: function updateGlobals(opts) {
              var oldMeshWidth = this.mesh_width;
              var oldMeshHeight = this.mesh_height;
              this.mesh_width = opts.mesh_width;
              this.mesh_height = opts.mesh_height;
              this.aspectx = opts.aspectx;
              this.aspecty = opts.aspecty;
              if (this.mesh_width !== oldMeshWidth || this.mesh_height !== oldMeshHeight) {
                this.vertInfoA = BlendPattern2.resizeMatrixValues(this.vertInfoA, oldMeshWidth, oldMeshHeight, this.mesh_width, this.mesh_height);
                this.vertInfoC = BlendPattern2.resizeMatrixValues(this.vertInfoC, oldMeshWidth, oldMeshHeight, this.mesh_width, this.mesh_height);
              }
            }
          }, {
            key: "genPlasma",
            value: function genPlasma(x0, x1, y0, y1, dt) {
              var midx = Math.floor((x0 + x1) / 2);
              var midy = Math.floor((y0 + y1) / 2);
              var t00 = this.vertInfoC[y0 * (this.mesh_width + 1) + x0];
              var t01 = this.vertInfoC[y0 * (this.mesh_width + 1) + x1];
              var t10 = this.vertInfoC[y1 * (this.mesh_width + 1) + x0];
              var t11 = this.vertInfoC[y1 * (this.mesh_width + 1) + x1];
              if (y1 - y0 >= 2) {
                if (x0 === 0) {
                  this.vertInfoC[midy * (this.mesh_width + 1) + x0] = 0.5 * (t00 + t10) + (Math.random() * 2 - 1) * dt * this.aspecty;
                }
                this.vertInfoC[midy * (this.mesh_width + 1) + x1] = 0.5 * (t01 + t11) + (Math.random() * 2 - 1) * dt * this.aspecty;
              }
              if (x1 - x0 >= 2) {
                if (y0 === 0) {
                  this.vertInfoC[y0 * (this.mesh_width + 1) + midx] = 0.5 * (t00 + t01) + (Math.random() * 2 - 1) * dt * this.aspectx;
                }
                this.vertInfoC[y1 * (this.mesh_width + 1) + midx] = 0.5 * (t10 + t11) + (Math.random() * 2 - 1) * dt * this.aspectx;
              }
              if (y1 - y0 >= 2 && x1 - x0 >= 2) {
                t00 = this.vertInfoC[midy * (this.mesh_width + 1) + x0];
                t01 = this.vertInfoC[midy * (this.mesh_width + 1) + x1];
                t10 = this.vertInfoC[y0 * (this.mesh_width + 1) + midx];
                t11 = this.vertInfoC[y1 * (this.mesh_width + 1) + midx];
                this.vertInfoC[midy * (this.mesh_width + 1) + midx] = 0.25 * (t10 + t11 + t00 + t01) + (Math.random() * 2 - 1) * dt;
                this.genPlasma(x0, midx, y0, midy, dt * 0.5);
                this.genPlasma(midx, x1, y0, midy, dt * 0.5);
                this.genPlasma(x0, midx, midy, y1, dt * 0.5);
                this.genPlasma(midx, x1, midy, y1, dt * 0.5);
              }
            }
          }, {
            key: "createBlendPattern",
            value: function createBlendPattern() {
              var mixType = 1 + Math.floor(Math.random() * 3);
              if (mixType === 0) {
                var nVert = 0;
                for (var y = 0; y <= this.mesh_height; y++) {
                  for (var x = 0; x <= this.mesh_width; x++) {
                    this.vertInfoA[nVert] = 1;
                    this.vertInfoC[nVert] = 0;
                    nVert += 1;
                  }
                }
              } else if (mixType === 1) {
                var ang = Math.random() * 6.28;
                var vx = Math.cos(ang);
                var vy = Math.sin(ang);
                var band = 0.1 + 0.2 * Math.random();
                var invBand = 1 / band;
                var _nVert = 0;
                for (var _y = 0; _y <= this.mesh_height; _y++) {
                  var fy = _y / this.mesh_height * this.aspecty;
                  for (var _x = 0; _x <= this.mesh_width; _x++) {
                    var fx = _x / this.mesh_width * this.aspectx;
                    var t = (fx - 0.5) * vx + (fy - 0.5) * vy + 0.5;
                    t = (t - 0.5) / Math.sqrt(2) + 0.5;
                    this.vertInfoA[_nVert] = invBand * (1 + band);
                    this.vertInfoC[_nVert] = -invBand + invBand * t;
                    _nVert += 1;
                  }
                }
              } else if (mixType === 2) {
                var _band = 0.12 + 0.13 * Math.random();
                var _invBand = 1 / _band;
                this.vertInfoC[0] = Math.random();
                this.vertInfoC[this.mesh_width] = Math.random();
                this.vertInfoC[this.mesh_height * (this.mesh_width + 1)] = Math.random();
                this.vertInfoC[this.mesh_height * (this.mesh_width + 1) + this.mesh_width] = Math.random();
                this.genPlasma(0, this.mesh_width, 0, this.mesh_height, 0.25);
                var minc = this.vertInfoC[0];
                var maxc = this.vertInfoC[0];
                var _nVert2 = 0;
                for (var _y2 = 0; _y2 <= this.mesh_height; _y2++) {
                  for (var _x2 = 0; _x2 <= this.mesh_width; _x2++) {
                    if (minc > this.vertInfoC[_nVert2]) {
                      minc = this.vertInfoC[_nVert2];
                    }
                    if (maxc < this.vertInfoC[_nVert2]) {
                      maxc = this.vertInfoC[_nVert2];
                    }
                    _nVert2 += 1;
                  }
                }
                var mult = 1 / (maxc - minc);
                _nVert2 = 0;
                for (var _y3 = 0; _y3 <= this.mesh_height; _y3++) {
                  for (var _x3 = 0; _x3 <= this.mesh_width; _x3++) {
                    var _t = (this.vertInfoC[_nVert2] - minc) * mult;
                    this.vertInfoA[_nVert2] = _invBand * (1 + _band);
                    this.vertInfoC[_nVert2] = -_invBand + _invBand * _t;
                    _nVert2 += 1;
                  }
                }
              } else if (mixType === 3) {
                var _band2 = 0.02 + 0.14 * Math.random() + 0.34 * Math.random();
                var _invBand2 = 1 / _band2;
                var dir = Math.floor(Math.random() * 2) * 2 - 1;
                var _nVert3 = 0;
                for (var _y4 = 0; _y4 <= this.mesh_height; _y4++) {
                  var dy = (_y4 / this.mesh_height - 0.5) * this.aspecty;
                  for (var _x4 = 0; _x4 <= this.mesh_width; _x4++) {
                    var dx = (_x4 / this.mesh_width - 0.5) * this.aspectx;
                    var _t2 = Math.sqrt(dx * dx + dy * dy) * 1.41421;
                    if (dir === -1) {
                      _t2 = 1 - _t2;
                    }
                    this.vertInfoA[_nVert3] = _invBand2 * (1 + _band2);
                    this.vertInfoC[_nVert3] = -_invBand2 + _invBand2 * _t2;
                    _nVert3 += 1;
                  }
                }
              }
            }
          }], [{
            key: "resizeMatrixValues",
            value: function resizeMatrixValues(oldMat, oldWidth, oldHeight, newWidth, newHeight) {
              var newMat = new Float32Array((newWidth + 1) * (newHeight + 1));
              var nVert = 0;
              for (var j = 0; j < newHeight + 1; j++) {
                for (var i = 0; i < newWidth + 1; i++) {
                  var x = i / newHeight;
                  var y = j / newWidth;
                  x *= oldWidth + 1;
                  y *= oldHeight + 1;
                  x = Math.clamp(x, 0, oldWidth - 1);
                  y = Math.clamp(y, 0, oldHeight - 1);
                  var nx = Math.floor(x);
                  var ny = Math.floor(y);
                  var dx = x - nx;
                  var dy = y - ny;
                  var val00 = oldMat[ny * (oldWidth + 1) + nx];
                  var val01 = oldMat[ny * (oldWidth + 1) + (nx + 1)];
                  var val10 = oldMat[(ny + 1) * (oldWidth + 1) + nx];
                  var val11 = oldMat[(ny + 1) * (oldWidth + 1) + (nx + 1)];
                  newMat[nVert] = val00 * (1 - dx) * (1 - dy) + val01 * dx * (1 - dy) + val10 * (1 - dx) * dy + val11 * dx * dy;
                  nVert += 1;
                }
              }
              return newMat;
            }
          }]);
          return BlendPattern2;
        }();
      },
      "./src/rendering/motionVectors/motionVectors.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return MotionVectors;
        });
        var _shaders_shaderUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/rendering/shaders/shaderUtils.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var MotionVectors = /* @__PURE__ */ function() {
          function MotionVectors2(gl, opts) {
            _classCallCheck(this, MotionVectors2);
            this.gl = gl;
            this.maxX = 64;
            this.maxY = 48;
            this.positions = new Float32Array(this.maxX * this.maxY * 2 * 3);
            this.texsizeX = opts.texsizeX;
            this.texsizeY = opts.texsizeY;
            this.mesh_width = opts.mesh_width;
            this.mesh_height = opts.mesh_height;
            this.positionVertexBuf = this.gl.createBuffer();
            this.floatPrecision = _shaders_shaderUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getFragmentFloatPrecision(this.gl);
            this.createShader();
          }
          _createClass(MotionVectors2, [{
            key: "updateGlobals",
            value: function updateGlobals(opts) {
              this.texsizeX = opts.texsizeX;
              this.texsizeY = opts.texsizeY;
              this.mesh_width = opts.mesh_width;
              this.mesh_height = opts.mesh_height;
            }
          }, {
            key: "createShader",
            value: function createShader() {
              this.shaderProgram = this.gl.createProgram();
              var vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);
              this.gl.shaderSource(vertShader, "#version 300 es\n                                      in vec3 aPos;\n                                      void main(void) {\n                                        gl_Position = vec4(aPos, 1.0);\n                                      }");
              this.gl.compileShader(vertShader);
              var fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);
              this.gl.shaderSource(fragShader, "#version 300 es\n                                      precision ".concat(this.floatPrecision, " float;\n                                      precision highp int;\n                                      precision mediump sampler2D;\n                                      out vec4 fragColor;\n                                      uniform vec4 u_color;\n                                      void main(void) {\n                                        fragColor = u_color;\n                                      }"));
              this.gl.compileShader(fragShader);
              this.gl.attachShader(this.shaderProgram, vertShader);
              this.gl.attachShader(this.shaderProgram, fragShader);
              this.gl.linkProgram(this.shaderProgram);
              this.aPosLoc = this.gl.getAttribLocation(this.shaderProgram, "aPos");
              this.colorLoc = this.gl.getUniformLocation(this.shaderProgram, "u_color");
            }
          }, {
            key: "getMotionDir",
            value: function getMotionDir(warpUVs, fx, fy) {
              var y0 = Math.floor(fy * this.mesh_height);
              var dy = fy * this.mesh_height - y0;
              var x0 = Math.floor(fx * this.mesh_width);
              var dx = fx * this.mesh_width - x0;
              var x1 = x0 + 1;
              var y1 = y0 + 1;
              var gridX1 = this.mesh_width + 1;
              var fx2;
              var fy2;
              fx2 = warpUVs[(y0 * gridX1 + x0) * 2 + 0] * (1 - dx) * (1 - dy);
              fy2 = warpUVs[(y0 * gridX1 + x0) * 2 + 1] * (1 - dx) * (1 - dy);
              fx2 += warpUVs[(y0 * gridX1 + x1) * 2 + 0] * dx * (1 - dy);
              fy2 += warpUVs[(y0 * gridX1 + x1) * 2 + 1] * dx * (1 - dy);
              fx2 += warpUVs[(y1 * gridX1 + x0) * 2 + 0] * (1 - dx) * dy;
              fy2 += warpUVs[(y1 * gridX1 + x0) * 2 + 1] * (1 - dx) * dy;
              fx2 += warpUVs[(y1 * gridX1 + x1) * 2 + 0] * dx * dy;
              fy2 += warpUVs[(y1 * gridX1 + x1) * 2 + 1] * dx * dy;
              return [fx2, 1 - fy2];
            }
          }, {
            key: "generateMotionVectors",
            value: function generateMotionVectors(mdVSFrame, warpUVs) {
              var mvA = mdVSFrame.mv_a;
              var nX = Math.floor(mdVSFrame.mv_x);
              var nY = Math.floor(mdVSFrame.mv_y);
              if (mvA > 1e-3 && nX > 0 && nY > 0) {
                var dx = mdVSFrame.mv_x - nX;
                var dy = mdVSFrame.mv_y - nY;
                if (nX > this.maxX) {
                  nX = this.maxX;
                  dx = 0;
                }
                if (nY > this.maxY) {
                  nY = this.maxY;
                  dy = 0;
                }
                var dx2 = mdVSFrame.mv_dx;
                var dy2 = mdVSFrame.mv_dy;
                var lenMult = mdVSFrame.mv_l;
                var minLen = 1 / this.texsizeX;
                this.numVecVerts = 0;
                for (var j = 0; j < nY; j++) {
                  var fy = (j + 0.25) / (nY + dy + 0.25 - 1);
                  fy -= dy2;
                  if (fy > 1e-4 && fy < 0.9999) {
                    for (var i = 0; i < nX; i++) {
                      var fx = (i + 0.25) / (nX + dx + 0.25 - 1);
                      fx += dx2;
                      if (fx > 1e-4 && fx < 0.9999) {
                        var fx2arr = this.getMotionDir(warpUVs, fx, fy);
                        var fx2 = fx2arr[0];
                        var fy2 = fx2arr[1];
                        var dxi = fx2 - fx;
                        var dyi = fy2 - fy;
                        dxi *= lenMult;
                        dyi *= lenMult;
                        var fdist = Math.sqrt(dxi * dxi + dyi * dyi);
                        if (fdist < minLen && fdist > 1e-8) {
                          fdist = minLen / fdist;
                          dxi *= fdist;
                          dyi *= fdist;
                        } else {
                          dxi = minLen;
                          dxi = minLen;
                        }
                        fx2 = fx + dxi;
                        fy2 = fy + dyi;
                        var vx1 = 2 * fx - 1;
                        var vy1 = 2 * fy - 1;
                        var vx2 = 2 * fx2 - 1;
                        var vy2 = 2 * fy2 - 1;
                        this.positions[this.numVecVerts * 3 + 0] = vx1;
                        this.positions[this.numVecVerts * 3 + 1] = vy1;
                        this.positions[this.numVecVerts * 3 + 2] = 0;
                        this.positions[(this.numVecVerts + 1) * 3 + 0] = vx2;
                        this.positions[(this.numVecVerts + 1) * 3 + 1] = vy2;
                        this.positions[(this.numVecVerts + 1) * 3 + 2] = 0;
                        this.numVecVerts += 2;
                      }
                    }
                  }
                }
                if (this.numVecVerts > 0) {
                  this.color = [mdVSFrame.mv_r, mdVSFrame.mv_g, mdVSFrame.mv_b, mvA];
                  return true;
                }
              }
              return false;
            }
          }, {
            key: "drawMotionVectors",
            value: function drawMotionVectors(mdVSFrame, warpUVs) {
              if (this.generateMotionVectors(mdVSFrame, warpUVs)) {
                this.gl.useProgram(this.shaderProgram);
                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf);
                this.gl.bufferData(this.gl.ARRAY_BUFFER, this.positions, this.gl.STATIC_DRAW);
                this.gl.vertexAttribPointer(this.aPosLoc, 3, this.gl.FLOAT, false, 0, 0);
                this.gl.enableVertexAttribArray(this.aPosLoc);
                this.gl.uniform4fv(this.colorLoc, this.color);
                this.gl.lineWidth(1);
                this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
                this.gl.drawArrays(this.gl.LINES, 0, this.numVecVerts);
              }
            }
          }]);
          return MotionVectors2;
        }();
      },
      "./src/rendering/renderer.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return Renderer;
        });
        var _audio_audioLevels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/audio/audioLevels.js");
        var _blankPreset__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/blankPreset.js");
        var _blankPreset__WEBPACK_IMPORTED_MODULE_1___default = /* @__PURE__ */ __webpack_require__.n(_blankPreset__WEBPACK_IMPORTED_MODULE_1__);
        var _equations_presetEquationRunner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/equations/presetEquationRunner.js");
        var _waves_basicWaveform__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/rendering/waves/basicWaveform.js");
        var _waves_customWaveform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/rendering/waves/customWaveform.js");
        var _shapes_customShape__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/rendering/shapes/customShape.js");
        var _sprites_border__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/rendering/sprites/border.js");
        var _sprites_darkenCenter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/rendering/sprites/darkenCenter.js");
        var _motionVectors_motionVectors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/rendering/motionVectors/motionVectors.js");
        var _shaders_warp__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/rendering/shaders/warp.js");
        var _shaders_comp__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/rendering/shaders/comp.js");
        var _shaders_output__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/rendering/shaders/output.js");
        var _shaders_resample__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/rendering/shaders/resample.js");
        var _shaders_blur_blur__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/rendering/shaders/blur/blur.js");
        var _noise_noise__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/noise/noise.js");
        var _image_imageTextures__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/image/imageTextures.js");
        var _text_titleText__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/rendering/text/titleText.js");
        var _blendPattern__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./src/rendering/blendPattern.js");
        var _utils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./src/utils.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var Renderer = /* @__PURE__ */ function() {
          function Renderer2(gl, audio, opts) {
            _classCallCheck(this, Renderer2);
            this.gl = gl;
            this.audio = audio;
            this.frameNum = 0;
            this.fps = 30;
            this.time = 0;
            this.presetTime = 0;
            this.lastTime = performance.now();
            this.timeHist = [0];
            this.timeHistMax = 120;
            this.blending = false;
            this.blendStartTime = 0;
            this.blendProgress = 0;
            this.blendDuration = 0;
            this.width = opts.width || 1200;
            this.height = opts.height || 900;
            this.mesh_width = opts.meshWidth || 48;
            this.mesh_height = opts.meshHeight || 36;
            this.pixelRatio = opts.pixelRatio || window.devicePixelRatio || 1;
            this.textureRatio = opts.textureRatio || 1;
            this.outputFXAA = opts.outputFXAA || false;
            this.texsizeX = this.width * this.pixelRatio * this.textureRatio;
            this.texsizeY = this.height * this.pixelRatio * this.textureRatio;
            this.aspectx = this.texsizeY > this.texsizeX ? this.texsizeX / this.texsizeY : 1;
            this.aspecty = this.texsizeX > this.texsizeY ? this.texsizeY / this.texsizeX : 1;
            this.invAspectx = 1 / this.aspectx;
            this.invAspecty = 1 / this.aspecty;
            this.qs = _utils__WEBPACK_IMPORTED_MODULE_18__["default"].range(1, 33).map(function(x) {
              return "q".concat(x);
            });
            this.ts = _utils__WEBPACK_IMPORTED_MODULE_18__["default"].range(1, 9).map(function(x) {
              return "t".concat(x);
            });
            this.regs = _utils__WEBPACK_IMPORTED_MODULE_18__["default"].range(0, 100).map(function(x) {
              if (x < 10) {
                return "reg0".concat(x);
              }
              return "reg".concat(x);
            });
            this.blurRatios = [[0.5, 0.25], [0.125, 0.125], [0.0625, 0.0625]];
            this.audioLevels = new _audio_audioLevels__WEBPACK_IMPORTED_MODULE_0__["default"](this.audio);
            this.prevFrameBuffer = this.gl.createFramebuffer();
            this.targetFrameBuffer = this.gl.createFramebuffer();
            this.prevTexture = this.gl.createTexture();
            this.targetTexture = this.gl.createTexture();
            this.compFrameBuffer = this.gl.createFramebuffer();
            this.compTexture = this.gl.createTexture();
            this.anisoExt = this.gl.getExtension("EXT_texture_filter_anisotropic") || this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic") || this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
            this.bindFrameBufferTexture(this.prevFrameBuffer, this.prevTexture);
            this.bindFrameBufferTexture(this.targetFrameBuffer, this.targetTexture);
            this.bindFrameBufferTexture(this.compFrameBuffer, this.compTexture);
            var params = {
              pixelRatio: this.pixelRatio,
              textureRatio: this.textureRatio,
              texsizeX: this.texsizeX,
              texsizeY: this.texsizeY,
              mesh_width: this.mesh_width,
              mesh_height: this.mesh_height,
              aspectx: this.aspectx,
              aspecty: this.aspecty
            };
            this.noise = new _noise_noise__WEBPACK_IMPORTED_MODULE_14__["default"](gl);
            this.image = new _image_imageTextures__WEBPACK_IMPORTED_MODULE_15__["default"](gl);
            this.warpShader = new _shaders_warp__WEBPACK_IMPORTED_MODULE_9__["default"](gl, this.noise, this.image, params);
            this.compShader = new _shaders_comp__WEBPACK_IMPORTED_MODULE_10__["default"](gl, this.noise, this.image, params);
            this.outputShader = new _shaders_output__WEBPACK_IMPORTED_MODULE_11__["default"](gl, params);
            this.prevWarpShader = new _shaders_warp__WEBPACK_IMPORTED_MODULE_9__["default"](gl, this.noise, this.image, params);
            this.prevCompShader = new _shaders_comp__WEBPACK_IMPORTED_MODULE_10__["default"](gl, this.noise, this.image, params);
            this.numBlurPasses = 0;
            this.blurShader1 = new _shaders_blur_blur__WEBPACK_IMPORTED_MODULE_13__["default"](0, this.blurRatios, gl, params);
            this.blurShader2 = new _shaders_blur_blur__WEBPACK_IMPORTED_MODULE_13__["default"](1, this.blurRatios, gl, params);
            this.blurShader3 = new _shaders_blur_blur__WEBPACK_IMPORTED_MODULE_13__["default"](2, this.blurRatios, gl, params);
            this.blurTexture1 = this.blurShader1.blurVerticalTexture;
            this.blurTexture2 = this.blurShader2.blurVerticalTexture;
            this.blurTexture3 = this.blurShader3.blurVerticalTexture;
            this.basicWaveform = new _waves_basicWaveform__WEBPACK_IMPORTED_MODULE_3__["default"](gl, params);
            this.customWaveforms = _utils__WEBPACK_IMPORTED_MODULE_18__["default"].range(4).map(function(i) {
              return new _waves_customWaveform__WEBPACK_IMPORTED_MODULE_4__["default"](i, gl, params);
            });
            this.customShapes = _utils__WEBPACK_IMPORTED_MODULE_18__["default"].range(4).map(function(i) {
              return new _shapes_customShape__WEBPACK_IMPORTED_MODULE_5__["default"](i, gl, params);
            });
            this.prevCustomWaveforms = _utils__WEBPACK_IMPORTED_MODULE_18__["default"].range(4).map(function(i) {
              return new _waves_customWaveform__WEBPACK_IMPORTED_MODULE_4__["default"](i, gl, params);
            });
            this.prevCustomShapes = _utils__WEBPACK_IMPORTED_MODULE_18__["default"].range(4).map(function(i) {
              return new _shapes_customShape__WEBPACK_IMPORTED_MODULE_5__["default"](i, gl, params);
            });
            this.darkenCenter = new _sprites_darkenCenter__WEBPACK_IMPORTED_MODULE_7__["default"](gl, params);
            this.innerBorder = new _sprites_border__WEBPACK_IMPORTED_MODULE_6__["default"](gl, params);
            this.outerBorder = new _sprites_border__WEBPACK_IMPORTED_MODULE_6__["default"](gl, params);
            this.motionVectors = new _motionVectors_motionVectors__WEBPACK_IMPORTED_MODULE_8__["default"](gl, params);
            this.titleText = new _text_titleText__WEBPACK_IMPORTED_MODULE_16__["default"](gl, params);
            this.blendPattern = new _blendPattern__WEBPACK_IMPORTED_MODULE_17__["default"](params);
            this.resampleShader = new _shaders_resample__WEBPACK_IMPORTED_MODULE_12__["default"](gl);
            this.supertext = {
              startTime: -1
            };
            this.warpUVs = new Float32Array((this.mesh_width + 1) * (this.mesh_height + 1) * 2);
            this.warpColor = new Float32Array((this.mesh_width + 1) * (this.mesh_height + 1) * 4);
            this.gl.clearColor(0, 0, 0, 1);
            this.blankPreset = _blankPreset__WEBPACK_IMPORTED_MODULE_1___default.a;
            var globalVars = {
              frame: 0,
              time: 0,
              fps: 45,
              bass: 1,
              bass_att: 1,
              mid: 1,
              mid_att: 1,
              treb: 1,
              treb_att: 1
            };
            this.preset = _blankPreset__WEBPACK_IMPORTED_MODULE_1___default.a;
            this.prevPreset = this.preset;
            this.presetEquationRunner = new _equations_presetEquationRunner__WEBPACK_IMPORTED_MODULE_2__["default"](this.preset, globalVars, params);
            this.prevPresetEquationRunner = new _equations_presetEquationRunner__WEBPACK_IMPORTED_MODULE_2__["default"](this.prevPreset, globalVars, params);
            this.regVars = this.presetEquationRunner.mdVSRegs;
          }
          _createClass(Renderer2, [{
            key: "loadPreset",
            value: function loadPreset(preset, blendTime) {
              this.blendPattern.createBlendPattern();
              this.blending = true;
              this.blendStartTime = this.time;
              this.blendDuration = blendTime;
              this.blendProgress = 0;
              this.prevPresetEquationRunner = this.presetEquationRunner;
              this.prevPreset = this.preset;
              this.preset = preset;
              this.preset.baseVals.old_wave_mode = this.prevPreset.baseVals.wave_mode;
              this.presetTime = this.time;
              var globalVars = {
                frame: this.frameNum,
                time: this.time,
                fps: this.fps,
                bass: this.audioLevels.bass,
                bass_att: this.audioLevels.bass_att,
                mid: this.audioLevels.mid,
                mid_att: this.audioLevels.mid_att,
                treb: this.audioLevels.treb,
                treb_att: this.audioLevels.treb_att
              };
              var params = {
                pixelRatio: this.pixelRatio,
                textureRatio: this.textureRatio,
                texsizeX: this.texsizeX,
                texsizeY: this.texsizeY,
                mesh_width: this.mesh_width,
                mesh_height: this.mesh_height,
                aspectx: this.aspectx,
                aspecty: this.aspecty
              };
              this.presetEquationRunner = new _equations_presetEquationRunner__WEBPACK_IMPORTED_MODULE_2__["default"](this.preset, globalVars, params);
              this.regVars = this.presetEquationRunner.mdVSRegs;
              var tmpWarpShader = this.prevWarpShader;
              this.prevWarpShader = this.warpShader;
              this.warpShader = tmpWarpShader;
              var tmpCompShader = this.prevCompShader;
              this.prevCompShader = this.compShader;
              this.compShader = tmpCompShader;
              var warpText = this.preset.warp.trim();
              var compText = this.preset.comp.trim();
              this.warpShader.updateShader(warpText);
              this.compShader.updateShader(compText);
              if (warpText.length === 0) {
                this.numBlurPasses = 0;
              } else {
                this.numBlurPasses = Renderer2.getHighestBlur(warpText);
              }
              if (compText.length !== 0) {
                this.numBlurPasses = Math.max(this.numBlurPasses, Renderer2.getHighestBlur(compText));
              }
            }
          }, {
            key: "loadExtraImages",
            value: function loadExtraImages(imageData) {
              this.image.loadExtraImages(imageData);
            }
          }, {
            key: "setRendererSize",
            value: function setRendererSize(width, height, opts) {
              var oldTexsizeX = this.texsizeX;
              var oldTexsizeY = this.texsizeY;
              this.width = width;
              this.height = height;
              this.mesh_width = opts.meshWidth || this.mesh_width;
              this.mesh_height = opts.meshHeight || this.mesh_height;
              this.pixelRatio = opts.pixelRatio || this.pixelRatio;
              this.textureRatio = opts.textureRatio || this.textureRatio;
              this.texsizeX = width * this.pixelRatio * this.textureRatio;
              this.texsizeY = height * this.pixelRatio * this.textureRatio;
              this.aspectx = this.texsizeY > this.texsizeX ? this.texsizeX / this.texsizeY : 1;
              this.aspecty = this.texsizeX > this.texsizeY ? this.texsizeY / this.texsizeX : 1;
              if (this.texsizeX !== oldTexsizeX || this.texsizeY !== oldTexsizeY) {
                var targetTextureNew = this.gl.createTexture();
                this.bindFrameBufferTexture(this.targetFrameBuffer, targetTextureNew);
                this.bindFrambufferAndSetViewport(this.targetFrameBuffer, this.texsizeX, this.texsizeY);
                this.resampleShader.renderQuadTexture(this.targetTexture);
                this.targetTexture = targetTextureNew;
                this.bindFrameBufferTexture(this.prevFrameBuffer, this.prevTexture);
                this.bindFrameBufferTexture(this.compFrameBuffer, this.compTexture);
              }
              this.updateGlobals();
              if (this.frameNum > 0) {
                this.renderToScreen();
              }
            }
          }, {
            key: "setInternalMeshSize",
            value: function setInternalMeshSize(width, height) {
              this.mesh_width = width;
              this.mesh_height = height;
              this.updateGlobals();
            }
          }, {
            key: "setOutputAA",
            value: function setOutputAA(useAA) {
              this.outputFXAA = useAA;
            }
          }, {
            key: "updateGlobals",
            value: function updateGlobals() {
              var params = {
                pixelRatio: this.pixelRatio,
                textureRatio: this.textureRatio,
                texsizeX: this.texsizeX,
                texsizeY: this.texsizeY,
                mesh_width: this.mesh_width,
                mesh_height: this.mesh_height,
                aspectx: this.aspectx,
                aspecty: this.aspecty
              };
              this.presetEquationRunner.updateGlobals(params);
              this.prevPresetEquationRunner.updateGlobals(params);
              this.warpShader.updateGlobals(params);
              this.prevWarpShader.updateGlobals(params);
              this.compShader.updateGlobals(params);
              this.prevCompShader.updateGlobals(params);
              this.outputShader.updateGlobals(params);
              this.blurShader1.updateGlobals(params);
              this.blurShader2.updateGlobals(params);
              this.blurShader3.updateGlobals(params);
              this.basicWaveform.updateGlobals(params);
              this.customWaveforms.forEach(function(wave) {
                return wave.updateGlobals(params);
              });
              this.customShapes.forEach(function(shape) {
                return shape.updateGlobals(params);
              });
              this.prevCustomWaveforms.forEach(function(wave) {
                return wave.updateGlobals(params);
              });
              this.prevCustomShapes.forEach(function(shape) {
                return shape.updateGlobals(params);
              });
              this.darkenCenter.updateGlobals(params);
              this.innerBorder.updateGlobals(params);
              this.outerBorder.updateGlobals(params);
              this.motionVectors.updateGlobals(params);
              this.titleText.updateGlobals(params);
              this.blendPattern.updateGlobals(params);
              this.warpUVs = new Float32Array((this.mesh_width + 1) * (this.mesh_height + 1) * 2);
              this.warpColor = new Float32Array((this.mesh_width + 1) * (this.mesh_height + 1) * 4);
            }
          }, {
            key: "calcTimeAndFPS",
            value: function calcTimeAndFPS(elapsedTime) {
              var elapsed;
              if (elapsedTime) {
                elapsed = elapsedTime;
              } else {
                var newTime = performance.now();
                elapsed = (newTime - this.lastTime) / 1e3;
                if (elapsed > 1 || elapsed < 0 || this.frame < 2) {
                  elapsed = 1 / 30;
                }
                this.lastTime = newTime;
              }
              this.time += 1 / this.fps;
              if (this.blending) {
                this.blendProgress = (this.time - this.blendStartTime) / this.blendDuration;
                if (this.blendProgress > 1) {
                  this.blending = false;
                }
              }
              var newHistTime = this.timeHist[this.timeHist.length - 1] + elapsed;
              this.timeHist.push(newHistTime);
              if (this.timeHist.length > this.timeHistMax) {
                this.timeHist.shift();
              }
              var newFPS = this.timeHist.length / (newHistTime - this.timeHist[0]);
              if (Math.abs(newFPS - this.fps) > 3 && this.frame > this.timeHistMax) {
                this.fps = newFPS;
              } else {
                var damping = 0.93;
                this.fps = damping * this.fps + (1 - damping) * newFPS;
              }
            }
          }, {
            key: "runPixelEquations",
            value: function runPixelEquations(preset, mdVSFrame, runVertEQs, blending) {
              var gridX = this.mesh_width;
              var gridZ = this.mesh_height;
              var gridX1 = gridX + 1;
              var gridZ1 = gridZ + 1;
              var warpTimeV = this.time * mdVSFrame.warpanimspeed;
              var warpScaleInv = 1 / mdVSFrame.warpscale;
              var warpf0 = 11.68 + 4 * Math.cos(warpTimeV * 1.413 + 10);
              var warpf1 = 8.77 + 3 * Math.cos(warpTimeV * 1.113 + 7);
              var warpf2 = 10.54 + 3 * Math.cos(warpTimeV * 1.233 + 3);
              var warpf3 = 11.49 + 4 * Math.cos(warpTimeV * 0.933 + 5);
              var texelOffsetX = 0 / this.texsizeX;
              var texelOffsetY = 0 / this.texsizeY;
              var aspectx = this.aspectx;
              var aspecty = this.aspecty;
              var mdVSVertex = _utils__WEBPACK_IMPORTED_MODULE_18__["default"].cloneVars(mdVSFrame);
              var offset = 0;
              var offsetColor = 0;
              for (var iz = 0; iz < gridZ1; iz++) {
                for (var ix = 0; ix < gridX1; ix++) {
                  var x = ix / gridX * 2 - 1;
                  var y = iz / gridZ * 2 - 1;
                  var rad = Math.sqrt(x * x * aspectx * aspectx + y * y * aspecty * aspecty);
                  if (runVertEQs) {
                    var ang = void 0;
                    if (iz === gridZ / 2 && ix === gridX / 2) {
                      ang = 0;
                    } else {
                      ang = _utils__WEBPACK_IMPORTED_MODULE_18__["default"].atan2(y * aspecty, x * aspectx);
                    }
                    mdVSVertex.x = x * 0.5 * aspectx + 0.5;
                    mdVSVertex.y = y * -0.5 * aspecty + 0.5;
                    mdVSVertex.rad = rad;
                    mdVSVertex.ang = ang;
                    mdVSVertex.zoom = mdVSFrame.zoom;
                    mdVSVertex.zoomexp = mdVSFrame.zoomexp;
                    mdVSVertex.rot = mdVSFrame.rot;
                    mdVSVertex.warp = mdVSFrame.warp;
                    mdVSVertex.cx = mdVSFrame.cx;
                    mdVSVertex.cy = mdVSFrame.cy;
                    mdVSVertex.dx = mdVSFrame.dx;
                    mdVSVertex.dy = mdVSFrame.dy;
                    mdVSVertex.sx = mdVSFrame.sx;
                    mdVSVertex.sy = mdVSFrame.sy;
                    mdVSVertex = preset.pixel_eqs(mdVSVertex);
                  }
                  var warp = mdVSVertex.warp;
                  var zoom = mdVSVertex.zoom;
                  var zoomExp = mdVSVertex.zoomexp;
                  var cx = mdVSVertex.cx;
                  var cy = mdVSVertex.cy;
                  var sx = mdVSVertex.sx;
                  var sy = mdVSVertex.sy;
                  var dx = mdVSVertex.dx;
                  var dy = mdVSVertex.dy;
                  var rot = mdVSVertex.rot;
                  var zoom2V = Math.pow(zoom, Math.pow(zoomExp, rad * 2 - 1));
                  var zoom2Inv = 1 / zoom2V;
                  var u = x * 0.5 * aspectx * zoom2Inv + 0.5;
                  var v = -y * 0.5 * aspecty * zoom2Inv + 0.5;
                  u = (u - cx) / sx + cx;
                  v = (v - cy) / sy + cy;
                  if (warp !== 0) {
                    u += warp * 35e-4 * Math.sin(warpTimeV * 0.333 + warpScaleInv * (x * warpf0 - y * warpf3));
                    v += warp * 35e-4 * Math.cos(warpTimeV * 0.375 - warpScaleInv * (x * warpf2 + y * warpf1));
                    u += warp * 35e-4 * Math.cos(warpTimeV * 0.753 - warpScaleInv * (x * warpf1 - y * warpf2));
                    v += warp * 35e-4 * Math.sin(warpTimeV * 0.825 + warpScaleInv * (x * warpf0 + y * warpf3));
                  }
                  var u2 = u - cx;
                  var v2 = v - cy;
                  var cosRot = Math.cos(rot);
                  var sinRot = Math.sin(rot);
                  u = u2 * cosRot - v2 * sinRot + cx;
                  v = u2 * sinRot + v2 * cosRot + cy;
                  u -= dx;
                  v -= dy;
                  u = (u - 0.5) / aspectx + 0.5;
                  v = (v - 0.5) / aspecty + 0.5;
                  u += texelOffsetX;
                  v += texelOffsetY;
                  if (!blending) {
                    this.warpUVs[offset] = u;
                    this.warpUVs[offset + 1] = v;
                    this.warpColor[offsetColor + 0] = 1;
                    this.warpColor[offsetColor + 1] = 1;
                    this.warpColor[offsetColor + 2] = 1;
                    this.warpColor[offsetColor + 3] = 1;
                  } else {
                    var mix2 = this.blendPattern.vertInfoA[offset / 2] * this.blendProgress + this.blendPattern.vertInfoC[offset / 2];
                    mix2 = Math.clamp(mix2, 0, 1);
                    this.warpUVs[offset] = this.warpUVs[offset] * mix2 + u * (1 - mix2);
                    this.warpUVs[offset + 1] = this.warpUVs[offset + 1] * mix2 + v * (1 - mix2);
                    this.warpColor[offsetColor + 0] = 1;
                    this.warpColor[offsetColor + 1] = 1;
                    this.warpColor[offsetColor + 2] = 1;
                    this.warpColor[offsetColor + 3] = mix2;
                  }
                  offset += 2;
                  offsetColor += 4;
                }
              }
              this.mdVSVertex = mdVSVertex;
            }
          }, {
            key: "bindFrambufferAndSetViewport",
            value: function bindFrambufferAndSetViewport(fb, width, height) {
              this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, fb);
              this.gl.viewport(0, 0, width, height);
            }
          }, {
            key: "bindFrameBufferTexture",
            value: function bindFrameBufferTexture(targetFrameBuffer, targetTexture) {
              this.gl.bindTexture(this.gl.TEXTURE_2D, targetTexture);
              this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);
              this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.texsizeX, this.texsizeY, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, new Uint8Array(this.texsizeX * this.texsizeY * 4));
              this.gl.generateMipmap(this.gl.TEXTURE_2D);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR_MIPMAP_LINEAR);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);
              if (this.anisoExt) {
                var max = this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
                this.gl.texParameterf(this.gl.TEXTURE_2D, this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT, max);
              }
              this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, targetFrameBuffer);
              this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, targetTexture, 0);
            }
          }, {
            key: "render",
            value: function render() {
              var _this = this;
              var _ref = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, audioLevels = _ref.audioLevels, elapsedTime = _ref.elapsedTime;
              this.calcTimeAndFPS(elapsedTime);
              this.frameNum += 1;
              if (audioLevels) {
                this.audio.updateAudio(audioLevels.timeByteArray, audioLevels.timeByteArrayL, audioLevels.timeByteArrayR);
              } else {
                this.audio.sampleAudio();
              }
              this.audioLevels.updateAudioLevels(this.fps, this.frameNum);
              var globalVars = {
                frame: this.frameNum,
                time: this.time,
                fps: this.fps,
                bass: this.audioLevels.bass,
                bass_att: this.audioLevels.bass_att,
                mid: this.audioLevels.mid,
                mid_att: this.audioLevels.mid_att,
                treb: this.audioLevels.treb,
                treb_att: this.audioLevels.treb_att,
                meshx: this.mesh_width,
                meshy: this.mesh_height,
                aspectx: this.invAspectx,
                aspecty: this.invAspecty,
                pixelsx: this.texsizeX,
                pixelsy: this.texsizeY
              };
              var prevGlobalVars = Object.assign({}, globalVars);
              prevGlobalVars.gmegabuf = this.prevPresetEquationRunner.gmegabuf;
              globalVars.gmegabuf = this.presetEquationRunner.gmegabuf;
              Object.assign(globalVars, this.regVars);
              this.presetEquationRunner.runFrameEquations(globalVars);
              var mdVSFrame = this.presetEquationRunner.mdVSFrame;
              this.runPixelEquations(this.presetEquationRunner.preset, mdVSFrame, this.presetEquationRunner.runVertEQs, false);
              Object.assign(this.regVars, _utils__WEBPACK_IMPORTED_MODULE_18__["default"].pick(this.mdVSVertex, this.regs));
              Object.assign(globalVars, this.regVars);
              var mdVSFrameMixed;
              if (this.blending) {
                this.prevPresetEquationRunner.runFrameEquations(prevGlobalVars);
                this.runPixelEquations(this.prevPresetEquationRunner.preset, this.prevPresetEquationRunner.mdVSFrame, this.prevPresetEquationRunner.runVertEQs, true);
                mdVSFrameMixed = Renderer2.mixFrameEquations(this.blendProgress, mdVSFrame, this.prevPresetEquationRunner.mdVSFrame);
              } else {
                mdVSFrameMixed = mdVSFrame;
              }
              var swapTexture = this.targetTexture;
              this.targetTexture = this.prevTexture;
              this.prevTexture = swapTexture;
              var swapFrameBuffer = this.targetFrameBuffer;
              this.targetFrameBuffer = this.prevFrameBuffer;
              this.prevFrameBuffer = swapFrameBuffer;
              this.gl.bindTexture(this.gl.TEXTURE_2D, this.prevTexture);
              this.gl.generateMipmap(this.gl.TEXTURE_2D);
              this.bindFrambufferAndSetViewport(this.targetFrameBuffer, this.texsizeX, this.texsizeY);
              this.gl.clear(this.gl.COLOR_BUFFER_BIT);
              this.gl.enable(this.gl.BLEND);
              this.gl.blendEquation(this.gl.FUNC_ADD);
              this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
              var _Renderer$getBlurValu = Renderer2.getBlurValues(mdVSFrameMixed), blurMins = _Renderer$getBlurValu.blurMins, blurMaxs = _Renderer$getBlurValu.blurMaxs;
              if (!this.blending) {
                this.warpShader.renderQuadTexture(false, this.prevTexture, this.blurTexture1, this.blurTexture2, this.blurTexture3, blurMins, blurMaxs, mdVSFrame, this.warpUVs, this.warpColor);
              } else {
                this.prevWarpShader.renderQuadTexture(false, this.prevTexture, this.blurTexture1, this.blurTexture2, this.blurTexture3, blurMins, blurMaxs, this.prevPresetEquationRunner.mdVSFrame, this.warpUVs, this.warpColor);
                this.warpShader.renderQuadTexture(true, this.prevTexture, this.blurTexture1, this.blurTexture2, this.blurTexture3, blurMins, blurMaxs, mdVSFrameMixed, this.warpUVs, this.warpColor);
              }
              if (this.numBlurPasses > 0) {
                this.blurShader1.renderBlurTexture(this.targetTexture, mdVSFrame, blurMins, blurMaxs);
                if (this.numBlurPasses > 1) {
                  this.blurShader2.renderBlurTexture(this.blurTexture1, mdVSFrame, blurMins, blurMaxs);
                  if (this.numBlurPasses > 2) {
                    this.blurShader3.renderBlurTexture(this.blurTexture2, mdVSFrame, blurMins, blurMaxs);
                  }
                }
                this.bindFrambufferAndSetViewport(this.targetFrameBuffer, this.texsizeX, this.texsizeY);
              }
              this.motionVectors.drawMotionVectors(mdVSFrameMixed, this.warpUVs);
              if (this.preset.shapes && this.preset.shapes.length > 0) {
                this.customShapes.forEach(function(shape, i) {
                  shape.drawCustomShape(_this.blending ? _this.blendProgress : 1, globalVars, _this.presetEquationRunner, _this.preset.shapes[i], _this.prevTexture);
                });
              }
              if (this.preset.waves && this.preset.waves.length > 0) {
                this.customWaveforms.forEach(function(waveform, i) {
                  waveform.drawCustomWaveform(_this.blending ? _this.blendProgress : 1, _this.audio.timeArrayL, _this.audio.timeArrayR, _this.audio.freqArrayL, _this.audio.freqArrayR, globalVars, _this.presetEquationRunner, _this.preset.waves[i]);
                });
              }
              if (this.blending) {
                if (this.prevPreset.shapes && this.prevPreset.shapes.length > 0) {
                  this.prevCustomShapes.forEach(function(shape, i) {
                    shape.drawCustomShape(1 - _this.blendProgress, prevGlobalVars, _this.prevPresetEquationRunner, _this.prevPreset.shapes[i], _this.prevTexture);
                  });
                }
                if (this.prevPreset.waves && this.prevPreset.waves.length > 0) {
                  this.prevCustomWaveforms.forEach(function(waveform, i) {
                    waveform.drawCustomWaveform(1 - _this.blendProgress, _this.audio.timeArrayL, _this.audio.timeArrayR, _this.audio.freqArrayL, _this.audio.freqArrayR, prevGlobalVars, _this.prevPresetEquationRunner, _this.prevPreset.waves[i]);
                  });
                }
              }
              this.basicWaveform.drawBasicWaveform(this.blending, this.blendProgress, this.audio.timeArrayL, this.audio.timeArrayR, mdVSFrameMixed);
              this.darkenCenter.drawDarkenCenter(mdVSFrameMixed);
              var outerColor = [mdVSFrameMixed.ob_r, mdVSFrameMixed.ob_g, mdVSFrameMixed.ob_b, mdVSFrameMixed.ob_a];
              this.outerBorder.drawBorder(outerColor, mdVSFrameMixed.ob_size, 0);
              var innerColor = [mdVSFrameMixed.ib_r, mdVSFrameMixed.ib_g, mdVSFrameMixed.ib_b, mdVSFrameMixed.ib_a];
              this.innerBorder.drawBorder(innerColor, mdVSFrameMixed.ib_size, mdVSFrameMixed.ob_size);
              if (this.supertext.startTime >= 0) {
                var progress = (this.time - this.supertext.startTime) / this.supertext.duration;
                if (progress >= 1) {
                  this.titleText.renderTitle(progress, true, globalVars);
                }
              }
              this.globalVars = globalVars;
              this.mdVSFrame = mdVSFrame;
              this.mdVSFrameMixed = mdVSFrameMixed;
              this.renderToScreen();
            }
          }, {
            key: "renderToScreen",
            value: function renderToScreen() {
              if (this.outputFXAA) {
                this.bindFrambufferAndSetViewport(this.compFrameBuffer, this.texsizeX, this.texsizeY);
              } else {
                this.bindFrambufferAndSetViewport(null, this.width, this.height);
              }
              this.gl.clear(this.gl.COLOR_BUFFER_BIT);
              this.gl.enable(this.gl.BLEND);
              this.gl.blendEquation(this.gl.FUNC_ADD);
              this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
              var _Renderer$getBlurValu2 = Renderer2.getBlurValues(this.mdVSFrameMixed), blurMins = _Renderer$getBlurValu2.blurMins, blurMaxs = _Renderer$getBlurValu2.blurMaxs;
              if (!this.blending) {
                this.compShader.renderQuadTexture(false, this.targetTexture, this.blurTexture1, this.blurTexture2, this.blurTexture3, blurMins, blurMaxs, this.mdVSFrame, this.warpColor);
              } else {
                this.prevCompShader.renderQuadTexture(false, this.targetTexture, this.blurTexture1, this.blurTexture2, this.blurTexture3, blurMins, blurMaxs, this.prevPresetEquationRunner.mdVSFrame, this.warpColor);
                this.compShader.renderQuadTexture(true, this.targetTexture, this.blurTexture1, this.blurTexture2, this.blurTexture3, blurMins, blurMaxs, this.mdVSFrameMixed, this.warpColor);
              }
              if (this.supertext.startTime >= 0) {
                var progress = (this.time - this.supertext.startTime) / this.supertext.duration;
                this.titleText.renderTitle(progress, false, this.globalVars);
                if (progress >= 1) {
                  this.supertext.startTime = -1;
                }
              }
              if (this.outputFXAA) {
                this.gl.bindTexture(this.gl.TEXTURE_2D, this.compTexture);
                this.gl.generateMipmap(this.gl.TEXTURE_2D);
                this.bindFrambufferAndSetViewport(null, this.width, this.height);
                this.outputShader.renderQuadTexture(this.compTexture);
              }
            }
          }, {
            key: "launchSongTitleAnim",
            value: function launchSongTitleAnim(text) {
              this.supertext = {
                startTime: this.time,
                duration: 1.7
              };
              this.titleText.generateTitleTexture(text);
            }
          }, {
            key: "toDataURL",
            value: function toDataURL() {
              var _this2 = this;
              var data = new Uint8Array(this.texsizeX * this.texsizeY * 4);
              var compFrameBuffer = this.gl.createFramebuffer();
              var compTexture = this.gl.createTexture();
              this.bindFrameBufferTexture(compFrameBuffer, compTexture);
              var _Renderer$getBlurValu3 = Renderer2.getBlurValues(this.mdVSFrameMixed), blurMins = _Renderer$getBlurValu3.blurMins, blurMaxs = _Renderer$getBlurValu3.blurMaxs;
              this.compShader.renderQuadTexture(false, this.targetTexture, this.blurTexture1, this.blurTexture2, this.blurTexture3, blurMins, blurMaxs, this.mdVSFrame, this.warpColor);
              this.gl.readPixels(0, 0, this.texsizeX, this.texsizeY, this.gl.RGBA, this.gl.UNSIGNED_BYTE, data);
              Array.from({
                length: this.texsizeY
              }, function(val, i) {
                return data.slice(i * _this2.texsizeX * 4, (i + 1) * _this2.texsizeX * 4);
              }).forEach(function(val, i) {
                return data.set(val, (_this2.texsizeY - i - 1) * _this2.texsizeX * 4);
              });
              var canvas = document.createElement("canvas");
              canvas.width = this.texsizeX;
              canvas.height = this.texsizeY;
              var context = canvas.getContext("2d");
              var imageData = context.createImageData(this.texsizeX, this.texsizeY);
              imageData.data.set(data);
              context.putImageData(imageData, 0, 0);
              this.gl.deleteTexture(compTexture);
              this.gl.deleteFramebuffer(compFrameBuffer);
              return canvas.toDataURL();
            }
          }, {
            key: "warpBufferToDataURL",
            value: function warpBufferToDataURL() {
              var data = new Uint8Array(this.texsizeX * this.texsizeY * 4);
              this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.targetFrameBuffer);
              this.gl.readPixels(0, 0, this.texsizeX, this.texsizeY, this.gl.RGBA, this.gl.UNSIGNED_BYTE, data);
              var canvas = document.createElement("canvas");
              canvas.width = this.texsizeX;
              canvas.height = this.texsizeY;
              var context = canvas.getContext("2d");
              var imageData = context.createImageData(this.texsizeX, this.texsizeY);
              imageData.data.set(data);
              context.putImageData(imageData, 0, 0);
              return canvas.toDataURL();
            }
          }], [{
            key: "getHighestBlur",
            value: function getHighestBlur(t) {
              if (/sampler_blur3/.test(t)) {
                return 3;
              } else if (/sampler_blur2/.test(t)) {
                return 2;
              } else if (/sampler_blur1/.test(t)) {
                return 1;
              }
              return 0;
            }
          }, {
            key: "mixFrameEquations",
            value: function mixFrameEquations(blendProgress, mdVSFrame, mdVSFramePrev) {
              var mix = 0.5 - 0.5 * Math.cos(blendProgress * Math.PI);
              var mix2 = 1 - mix;
              var snapPoint = 0.5;
              var mixedFrame = _utils__WEBPACK_IMPORTED_MODULE_18__["default"].cloneVars(mdVSFrame);
              mixedFrame.decay = mix * mdVSFrame.decay + mix2 * mdVSFramePrev.decay;
              mixedFrame.wave_a = mix * mdVSFrame.wave_a + mix2 * mdVSFramePrev.wave_a;
              mixedFrame.wave_r = mix * mdVSFrame.wave_r + mix2 * mdVSFramePrev.wave_r;
              mixedFrame.wave_g = mix * mdVSFrame.wave_g + mix2 * mdVSFramePrev.wave_g;
              mixedFrame.wave_b = mix * mdVSFrame.wave_b + mix2 * mdVSFramePrev.wave_b;
              mixedFrame.wave_x = mix * mdVSFrame.wave_x + mix2 * mdVSFramePrev.wave_x;
              mixedFrame.wave_y = mix * mdVSFrame.wave_y + mix2 * mdVSFramePrev.wave_y;
              mixedFrame.wave_mystery = mix * mdVSFrame.wave_mystery + mix2 * mdVSFramePrev.wave_mystery;
              mixedFrame.ob_size = mix * mdVSFrame.ob_size + mix2 * mdVSFramePrev.ob_size;
              mixedFrame.ob_r = mix * mdVSFrame.ob_r + mix2 * mdVSFramePrev.ob_r;
              mixedFrame.ob_g = mix * mdVSFrame.ob_g + mix2 * mdVSFramePrev.ob_g;
              mixedFrame.ob_b = mix * mdVSFrame.ob_b + mix2 * mdVSFramePrev.ob_b;
              mixedFrame.ob_a = mix * mdVSFrame.ob_a + mix2 * mdVSFramePrev.ob_a;
              mixedFrame.ib_size = mix * mdVSFrame.ib_size + mix2 * mdVSFramePrev.ib_size;
              mixedFrame.ib_r = mix * mdVSFrame.ib_r + mix2 * mdVSFramePrev.ib_r;
              mixedFrame.ib_g = mix * mdVSFrame.ib_g + mix2 * mdVSFramePrev.ib_g;
              mixedFrame.ib_b = mix * mdVSFrame.ib_b + mix2 * mdVSFramePrev.ib_b;
              mixedFrame.ib_a = mix * mdVSFrame.ib_a + mix2 * mdVSFramePrev.ib_a;
              mixedFrame.mv_x = mix * mdVSFrame.mv_x + mix2 * mdVSFramePrev.mv_x;
              mixedFrame.mv_y = mix * mdVSFrame.mv_y + mix2 * mdVSFramePrev.mv_y;
              mixedFrame.mv_dx = mix * mdVSFrame.mv_dx + mix2 * mdVSFramePrev.mv_dx;
              mixedFrame.mv_dy = mix * mdVSFrame.mv_dy + mix2 * mdVSFramePrev.mv_dy;
              mixedFrame.mv_l = mix * mdVSFrame.mv_l + mix2 * mdVSFramePrev.mv_l;
              mixedFrame.mv_r = mix * mdVSFrame.mv_r + mix2 * mdVSFramePrev.mv_r;
              mixedFrame.mv_g = mix * mdVSFrame.mv_g + mix2 * mdVSFramePrev.mv_g;
              mixedFrame.mv_b = mix * mdVSFrame.mv_b + mix2 * mdVSFramePrev.mv_b;
              mixedFrame.mv_a = mix * mdVSFrame.mv_a + mix2 * mdVSFramePrev.mv_a;
              mixedFrame.echo_zoom = mix * mdVSFrame.echo_zoom + mix2 * mdVSFramePrev.echo_zoom;
              mixedFrame.echo_alpha = mix * mdVSFrame.echo_alpha + mix2 * mdVSFramePrev.echo_alpha;
              mixedFrame.echo_orient = mix * mdVSFrame.echo_orient + mix2 * mdVSFramePrev.echo_orient;
              mixedFrame.wave_dots = mix < snapPoint ? mdVSFramePrev.wave_dots : mdVSFrame.wave_dots;
              mixedFrame.wave_thick = mix < snapPoint ? mdVSFramePrev.wave_thick : mdVSFrame.wave_thick;
              mixedFrame.additivewave = mix < snapPoint ? mdVSFramePrev.additivewave : mdVSFrame.additivewave;
              mixedFrame.wave_brighten = mix < snapPoint ? mdVSFramePrev.wave_brighten : mdVSFrame.wave_brighten;
              mixedFrame.darken_center = mix < snapPoint ? mdVSFramePrev.darken_center : mdVSFrame.darken_center;
              mixedFrame.gammaadj = mix < snapPoint ? mdVSFramePrev.gammaadj : mdVSFrame.gammaadj;
              mixedFrame.wrap = mix < snapPoint ? mdVSFramePrev.wrap : mdVSFrame.wrap;
              mixedFrame.invert = mix < snapPoint ? mdVSFramePrev.invert : mdVSFrame.invert;
              mixedFrame.brighten = mix < snapPoint ? mdVSFramePrev.brighten : mdVSFrame.brighten;
              mixedFrame.darken = mix < snapPoint ? mdVSFramePrev.darken : mdVSFrame.darken;
              mixedFrame.solarize = mix < snapPoint ? mdVSFramePrev.brighten : mdVSFrame.solarize;
              mixedFrame.b1n = mix * mdVSFrame.b1n + mix2 * mdVSFramePrev.b1n;
              mixedFrame.b2n = mix * mdVSFrame.b2n + mix2 * mdVSFramePrev.b2n;
              mixedFrame.b3n = mix * mdVSFrame.b3n + mix2 * mdVSFramePrev.b3n;
              mixedFrame.b1x = mix * mdVSFrame.b1x + mix2 * mdVSFramePrev.b1x;
              mixedFrame.b2x = mix * mdVSFrame.b2x + mix2 * mdVSFramePrev.b2x;
              mixedFrame.b3x = mix * mdVSFrame.b3x + mix2 * mdVSFramePrev.b3x;
              mixedFrame.b1ed = mix * mdVSFrame.b1ed + mix2 * mdVSFramePrev.b1ed;
              return mixedFrame;
            }
          }, {
            key: "getBlurValues",
            value: function getBlurValues(mdVSFrame) {
              var blurMin1 = mdVSFrame.b1n;
              var blurMin2 = mdVSFrame.b2n;
              var blurMin3 = mdVSFrame.b3n;
              var blurMax1 = mdVSFrame.b1x;
              var blurMax2 = mdVSFrame.b2x;
              var blurMax3 = mdVSFrame.b3x;
              var fMinDist = 0.1;
              if (blurMax1 - blurMin1 < fMinDist) {
                var avg = (blurMin1 + blurMax1) * 0.5;
                blurMin1 = avg - fMinDist * 0.5;
                blurMax1 = avg - fMinDist * 0.5;
              }
              blurMax2 = Math.min(blurMax1, blurMax2);
              blurMin2 = Math.max(blurMin1, blurMin2);
              if (blurMax2 - blurMin2 < fMinDist) {
                var _avg = (blurMin2 + blurMax2) * 0.5;
                blurMin2 = _avg - fMinDist * 0.5;
                blurMax2 = _avg - fMinDist * 0.5;
              }
              blurMax3 = Math.min(blurMax2, blurMax3);
              blurMin3 = Math.max(blurMin2, blurMin3);
              if (blurMax3 - blurMin3 < fMinDist) {
                var _avg2 = (blurMin3 + blurMax3) * 0.5;
                blurMin3 = _avg2 - fMinDist * 0.5;
                blurMax3 = _avg2 - fMinDist * 0.5;
              }
              return {
                blurMins: [blurMin1, blurMin2, blurMin3],
                blurMaxs: [blurMax1, blurMax2, blurMax3]
              };
            }
          }]);
          return Renderer2;
        }();
      },
      "./src/rendering/shaders/blur/blur.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return BlurShader;
        });
        var _blurVertical__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/rendering/shaders/blur/blurVertical.js");
        var _blurHorizontal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/rendering/shaders/blur/blurHorizontal.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var BlurShader = /* @__PURE__ */ function() {
          function BlurShader2(blurLevel, blurRatios, gl) {
            var opts = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
            _classCallCheck(this, BlurShader2);
            this.blurLevel = blurLevel;
            this.blurRatios = blurRatios;
            this.gl = gl;
            this.texsizeX = opts.texsizeX;
            this.texsizeY = opts.texsizeY;
            this.anisoExt = this.gl.getExtension("EXT_texture_filter_anisotropic") || this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic") || this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
            this.blurHorizontalFrameBuffer = this.gl.createFramebuffer();
            this.blurVerticalFrameBuffer = this.gl.createFramebuffer();
            this.blurHorizontalTexture = this.gl.createTexture();
            this.blurVerticalTexture = this.gl.createTexture();
            this.setupFrameBufferTextures();
            this.blurHorizontal = new _blurHorizontal__WEBPACK_IMPORTED_MODULE_1__["default"](gl, this.blurLevel, opts);
            this.blurVertical = new _blurVertical__WEBPACK_IMPORTED_MODULE_0__["default"](gl, this.blurLevel, opts);
          }
          _createClass(BlurShader2, [{
            key: "updateGlobals",
            value: function updateGlobals(opts) {
              this.texsizeX = opts.texsizeX;
              this.texsizeY = opts.texsizeY;
              this.setupFrameBufferTextures();
            }
          }, {
            key: "getTextureSize",
            value: function getTextureSize(sizeRatio) {
              var sizeX = Math.max(this.texsizeX * sizeRatio, 16);
              sizeX = Math.floor((sizeX + 3) / 16) * 16;
              var sizeY = Math.max(this.texsizeY * sizeRatio, 16);
              sizeY = Math.floor((sizeY + 3) / 4) * 4;
              return [sizeX, sizeY];
            }
          }, {
            key: "setupFrameBufferTextures",
            value: function setupFrameBufferTextures() {
              var srcBlurRatios = this.blurLevel > 0 ? this.blurRatios[this.blurLevel - 1] : [1, 1];
              var dstBlurRatios = this.blurRatios[this.blurLevel];
              var srcTexsizeHorizontal = this.getTextureSize(srcBlurRatios[1]);
              var dstTexsizeHorizontal = this.getTextureSize(dstBlurRatios[0]);
              this.bindFrameBufferTexture(this.blurHorizontalFrameBuffer, this.blurHorizontalTexture, dstTexsizeHorizontal);
              var srcTexsizeVertical = dstTexsizeHorizontal;
              var dstTexsizeVertical = this.getTextureSize(dstBlurRatios[1]);
              this.bindFrameBufferTexture(this.blurVerticalFrameBuffer, this.blurVerticalTexture, dstTexsizeVertical);
              this.horizontalTexsizes = [srcTexsizeHorizontal, dstTexsizeHorizontal];
              this.verticalTexsizes = [srcTexsizeVertical, dstTexsizeVertical];
            }
          }, {
            key: "bindFrambufferAndSetViewport",
            value: function bindFrambufferAndSetViewport(fb, texsize) {
              this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, fb);
              this.gl.viewport(0, 0, texsize[0], texsize[1]);
            }
          }, {
            key: "bindFrameBufferTexture",
            value: function bindFrameBufferTexture(targetFrameBuffer, targetTexture, texsize) {
              this.gl.bindTexture(this.gl.TEXTURE_2D, targetTexture);
              this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);
              this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, texsize[0], texsize[1], 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, new Uint8Array(texsize[0] * texsize[1] * 4));
              this.gl.generateMipmap(this.gl.TEXTURE_2D);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR_MIPMAP_LINEAR);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);
              if (this.anisoExt) {
                var max = this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
                this.gl.texParameterf(this.gl.TEXTURE_2D, this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT, max);
              }
              this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, targetFrameBuffer);
              this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, targetTexture, 0);
            }
          }, {
            key: "renderBlurTexture",
            value: function renderBlurTexture(prevTexture, mdVSFrame, blurMins, blurMaxs) {
              this.bindFrambufferAndSetViewport(this.blurHorizontalFrameBuffer, this.horizontalTexsizes[1]);
              this.blurHorizontal.renderQuadTexture(prevTexture, mdVSFrame, blurMins, blurMaxs, this.horizontalTexsizes[0]);
              this.gl.bindTexture(this.gl.TEXTURE_2D, this.blurHorizontalTexture);
              this.gl.generateMipmap(this.gl.TEXTURE_2D);
              this.bindFrambufferAndSetViewport(this.blurVerticalFrameBuffer, this.verticalTexsizes[1]);
              this.blurVertical.renderQuadTexture(this.blurHorizontalTexture, mdVSFrame, this.verticalTexsizes[0]);
              this.gl.bindTexture(this.gl.TEXTURE_2D, this.blurVerticalTexture);
              this.gl.generateMipmap(this.gl.TEXTURE_2D);
            }
          }]);
          return BlurShader2;
        }();
      },
      "./src/rendering/shaders/blur/blurHorizontal.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return BlurHorizontal;
        });
        var _shaderUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/rendering/shaders/shaderUtils.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var BlurHorizontal = /* @__PURE__ */ function() {
          function BlurHorizontal2(gl, blurLevel) {
            _classCallCheck(this, BlurHorizontal2);
            this.gl = gl;
            this.blurLevel = blurLevel;
            var w = [4, 3.8, 3.5, 2.9, 1.9, 1.2, 0.7, 0.3];
            var w1H = w[0] + w[1];
            var w2H = w[2] + w[3];
            var w3H = w[4] + w[5];
            var w4H = w[6] + w[7];
            var d1H = 0 + 2 * w[1] / w1H;
            var d2H = 2 + 2 * w[3] / w2H;
            var d3H = 4 + 2 * w[5] / w3H;
            var d4H = 6 + 2 * w[7] / w4H;
            this.ws = new Float32Array([w1H, w2H, w3H, w4H]);
            this.ds = new Float32Array([d1H, d2H, d3H, d4H]);
            this.wDiv = 0.5 / (w1H + w2H + w3H + w4H);
            this.positions = new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]);
            this.vertexBuf = this.gl.createBuffer();
            this.floatPrecision = _shaderUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getFragmentFloatPrecision(this.gl);
            this.createShader();
          }
          _createClass(BlurHorizontal2, [{
            key: "createShader",
            value: function createShader() {
              this.shaderProgram = this.gl.createProgram();
              var vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);
              this.gl.shaderSource(vertShader, "#version 300 es\n                                      const vec2 halfmad = vec2(0.5);\n                                      in vec2 aPos;\n                                      out vec2 uv;\n                                      void main(void) {\n                                        gl_Position = vec4(aPos, 0.0, 1.0);\n                                        uv = aPos * halfmad + halfmad;\n                                      }");
              this.gl.compileShader(vertShader);
              var fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);
              this.gl.shaderSource(fragShader, "#version 300 es\n       precision ".concat(this.floatPrecision, " float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n       uniform vec4 texsize;\n       uniform float scale;\n       uniform float bias;\n       uniform vec4 ws;\n       uniform vec4 ds;\n       uniform float wdiv;\n\n       void main(void) {\n         float w1 = ws[0];\n         float w2 = ws[1];\n         float w3 = ws[2];\n         float w4 = ws[3];\n         float d1 = ds[0];\n         float d2 = ds[1];\n         float d3 = ds[2];\n         float d4 = ds[3];\n\n         vec2 uv2 = uv.xy;\n\n         vec3 blur =\n           ( texture(uTexture, uv2 + vec2( d1 * texsize.z,0.0) ).xyz\n           + texture(uTexture, uv2 + vec2(-d1 * texsize.z,0.0) ).xyz) * w1 +\n           ( texture(uTexture, uv2 + vec2( d2 * texsize.z,0.0) ).xyz\n           + texture(uTexture, uv2 + vec2(-d2 * texsize.z,0.0) ).xyz) * w2 +\n           ( texture(uTexture, uv2 + vec2( d3 * texsize.z,0.0) ).xyz\n           + texture(uTexture, uv2 + vec2(-d3 * texsize.z,0.0) ).xyz) * w3 +\n           ( texture(uTexture, uv2 + vec2( d4 * texsize.z,0.0) ).xyz\n           + texture(uTexture, uv2 + vec2(-d4 * texsize.z,0.0) ).xyz) * w4;\n\n         blur.xyz *= wdiv;\n         blur.xyz = blur.xyz * scale + bias;\n\n         fragColor = vec4(blur, 1.0);\n       }"));
              this.gl.compileShader(fragShader);
              this.gl.attachShader(this.shaderProgram, vertShader);
              this.gl.attachShader(this.shaderProgram, fragShader);
              this.gl.linkProgram(this.shaderProgram);
              this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos");
              this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "uTexture");
              this.texsizeLocation = this.gl.getUniformLocation(this.shaderProgram, "texsize");
              this.scaleLoc = this.gl.getUniformLocation(this.shaderProgram, "scale");
              this.biasLoc = this.gl.getUniformLocation(this.shaderProgram, "bias");
              this.wsLoc = this.gl.getUniformLocation(this.shaderProgram, "ws");
              this.dsLocation = this.gl.getUniformLocation(this.shaderProgram, "ds");
              this.wdivLoc = this.gl.getUniformLocation(this.shaderProgram, "wdiv");
            }
          }, {
            key: "getScaleAndBias",
            value: function getScaleAndBias(blurMins, blurMaxs) {
              var scale = [1, 1, 1];
              var bias = [0, 0, 0];
              var tempMin;
              var tempMax;
              scale[0] = 1 / (blurMaxs[0] - blurMins[0]);
              bias[0] = -blurMins[0] * scale[0];
              tempMin = (blurMins[1] - blurMins[0]) / (blurMaxs[0] - blurMins[0]);
              tempMax = (blurMaxs[1] - blurMins[0]) / (blurMaxs[0] - blurMins[0]);
              scale[1] = 1 / (tempMax - tempMin);
              bias[1] = -tempMin * scale[1];
              tempMin = (blurMins[2] - blurMins[1]) / (blurMaxs[1] - blurMins[1]);
              tempMax = (blurMaxs[2] - blurMins[1]) / (blurMaxs[1] - blurMins[1]);
              scale[2] = 1 / (tempMax - tempMin);
              bias[2] = -tempMin * scale[2];
              return {
                scale: scale[this.blurLevel],
                bias: bias[this.blurLevel]
              };
            }
          }, {
            key: "renderQuadTexture",
            value: function renderQuadTexture(texture, mdVSFrame, blurMins, blurMaxs, srcTexsize) {
              this.gl.useProgram(this.shaderProgram);
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf);
              this.gl.bufferData(this.gl.ARRAY_BUFFER, this.positions, this.gl.STATIC_DRAW);
              this.gl.vertexAttribPointer(this.positionLocation, 2, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.positionLocation);
              this.gl.activeTexture(this.gl.TEXTURE0);
              this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
              this.gl.uniform1i(this.textureLoc, 0);
              var _this$getScaleAndBias = this.getScaleAndBias(blurMins, blurMaxs), scale = _this$getScaleAndBias.scale, bias = _this$getScaleAndBias.bias;
              this.gl.uniform4fv(this.texsizeLocation, [srcTexsize[0], srcTexsize[1], 1 / srcTexsize[0], 1 / srcTexsize[1]]);
              this.gl.uniform1f(this.scaleLoc, scale);
              this.gl.uniform1f(this.biasLoc, bias);
              this.gl.uniform4fv(this.wsLoc, this.ws);
              this.gl.uniform4fv(this.dsLocation, this.ds);
              this.gl.uniform1f(this.wdivLoc, this.wDiv);
              this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
              this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);
            }
          }]);
          return BlurHorizontal2;
        }();
      },
      "./src/rendering/shaders/blur/blurVertical.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return BlurVertical;
        });
        var _shaderUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/rendering/shaders/shaderUtils.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var BlurVertical = /* @__PURE__ */ function() {
          function BlurVertical2(gl, blurLevel) {
            _classCallCheck(this, BlurVertical2);
            this.gl = gl;
            this.blurLevel = blurLevel;
            var w = [4, 3.8, 3.5, 2.9, 1.9, 1.2, 0.7, 0.3];
            var w1V = w[0] + w[1] + w[2] + w[3];
            var w2V = w[4] + w[5] + w[6] + w[7];
            var d1V = 0 + 2 * ((w[2] + w[3]) / w1V);
            var d2V = 2 + 2 * ((w[6] + w[7]) / w2V);
            this.wds = new Float32Array([w1V, w2V, d1V, d2V]);
            this.wDiv = 1 / ((w1V + w2V) * 2);
            this.positions = new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]);
            this.vertexBuf = this.gl.createBuffer();
            this.floatPrecision = _shaderUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getFragmentFloatPrecision(this.gl);
            this.createShader();
          }
          _createClass(BlurVertical2, [{
            key: "createShader",
            value: function createShader() {
              this.shaderProgram = this.gl.createProgram();
              var vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);
              this.gl.shaderSource(vertShader, "#version 300 es\n                                      const vec2 halfmad = vec2(0.5);\n                                      in vec2 aPos;\n                                      out vec2 uv;\n                                      void main(void) {\n                                        gl_Position = vec4(aPos, 0.0, 1.0);\n                                        uv = aPos * halfmad + halfmad;\n                                      }");
              this.gl.compileShader(vertShader);
              var fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);
              this.gl.shaderSource(fragShader, "#version 300 es\n       precision ".concat(this.floatPrecision, " float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n       uniform vec4 texsize;\n       uniform float ed1;\n       uniform float ed2;\n       uniform float ed3;\n       uniform vec4 wds;\n       uniform float wdiv;\n\n       void main(void) {\n         float w1 = wds[0];\n         float w2 = wds[1];\n         float d1 = wds[2];\n         float d2 = wds[3];\n\n         vec2 uv2 = uv.xy;\n\n         vec3 blur =\n           ( texture(uTexture, uv2 + vec2(0.0, d1 * texsize.w) ).xyz\n           + texture(uTexture, uv2 + vec2(0.0,-d1 * texsize.w) ).xyz) * w1 +\n           ( texture(uTexture, uv2 + vec2(0.0, d2 * texsize.w) ).xyz\n           + texture(uTexture, uv2 + vec2(0.0,-d2 * texsize.w) ).xyz) * w2;\n\n         blur.xyz *= wdiv;\n\n         float t = min(min(uv.x, uv.y), 1.0 - max(uv.x, uv.y));\n         t = sqrt(t);\n         t = ed1 + ed2 * clamp(t * ed3, 0.0, 1.0);\n         blur.xyz *= t;\n\n         fragColor = vec4(blur, 1.0);\n       }"));
              this.gl.compileShader(fragShader);
              this.gl.attachShader(this.shaderProgram, vertShader);
              this.gl.attachShader(this.shaderProgram, fragShader);
              this.gl.linkProgram(this.shaderProgram);
              this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos");
              this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "uTexture");
              this.texsizeLocation = this.gl.getUniformLocation(this.shaderProgram, "texsize");
              this.ed1Loc = this.gl.getUniformLocation(this.shaderProgram, "ed1");
              this.ed2Loc = this.gl.getUniformLocation(this.shaderProgram, "ed2");
              this.ed3Loc = this.gl.getUniformLocation(this.shaderProgram, "ed3");
              this.wdsLocation = this.gl.getUniformLocation(this.shaderProgram, "wds");
              this.wdivLoc = this.gl.getUniformLocation(this.shaderProgram, "wdiv");
            }
          }, {
            key: "renderQuadTexture",
            value: function renderQuadTexture(texture, mdVSFrame, srcTexsize) {
              this.gl.useProgram(this.shaderProgram);
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf);
              this.gl.bufferData(this.gl.ARRAY_BUFFER, this.positions, this.gl.STATIC_DRAW);
              this.gl.vertexAttribPointer(this.positionLocation, 2, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.positionLocation);
              this.gl.activeTexture(this.gl.TEXTURE0);
              this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
              this.gl.uniform1i(this.textureLoc, 0);
              var b1ed = this.blurLevel === 0 ? mdVSFrame.b1ed : 0;
              this.gl.uniform4fv(this.texsizeLocation, [srcTexsize[0], srcTexsize[1], 1 / srcTexsize[0], 1 / srcTexsize[1]]);
              this.gl.uniform1f(this.ed1Loc, 1 - b1ed);
              this.gl.uniform1f(this.ed2Loc, b1ed);
              this.gl.uniform1f(this.ed3Loc, 5);
              this.gl.uniform4fv(this.wdsLocation, this.wds);
              this.gl.uniform1f(this.wdivLoc, this.wDiv);
              this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
              this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);
            }
          }]);
          return BlurVertical2;
        }();
      },
      "./src/rendering/shaders/comp.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return CompShader;
        });
        var _shaderUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/rendering/shaders/shaderUtils.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var CompShader = /* @__PURE__ */ function() {
          function CompShader2(gl, noise, image) {
            var opts = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
            _classCallCheck(this, CompShader2);
            this.gl = gl;
            this.noise = noise;
            this.image = image;
            this.mesh_width = opts.mesh_width;
            this.mesh_height = opts.mesh_height;
            this.texsizeX = opts.texsizeX;
            this.texsizeY = opts.texsizeY;
            this.aspectx = opts.aspectx;
            this.aspecty = opts.aspecty;
            this.invAspectx = 1 / this.aspectx;
            this.invAspecty = 1 / this.aspecty;
            this.compWidth = 32;
            this.compHeight = 24;
            this.buildPositions();
            this.indexBuf = gl.createBuffer();
            this.positionVertexBuf = this.gl.createBuffer();
            this.compColorVertexBuf = this.gl.createBuffer();
            this.floatPrecision = _shaderUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getFragmentFloatPrecision(this.gl);
            this.createShader();
            this.mainSampler = this.gl.createSampler();
            this.mainSamplerFW = this.gl.createSampler();
            this.mainSamplerFC = this.gl.createSampler();
            this.mainSamplerPW = this.gl.createSampler();
            this.mainSamplerPC = this.gl.createSampler();
            gl.samplerParameteri(this.mainSampler, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);
            gl.samplerParameteri(this.mainSampler, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
            gl.samplerParameteri(this.mainSampler, gl.TEXTURE_WRAP_S, gl.REPEAT);
            gl.samplerParameteri(this.mainSampler, gl.TEXTURE_WRAP_T, gl.REPEAT);
            gl.samplerParameteri(this.mainSamplerFW, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);
            gl.samplerParameteri(this.mainSamplerFW, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
            gl.samplerParameteri(this.mainSamplerFW, gl.TEXTURE_WRAP_S, gl.REPEAT);
            gl.samplerParameteri(this.mainSamplerFW, gl.TEXTURE_WRAP_T, gl.REPEAT);
            gl.samplerParameteri(this.mainSamplerFC, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);
            gl.samplerParameteri(this.mainSamplerFC, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
            gl.samplerParameteri(this.mainSamplerFC, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
            gl.samplerParameteri(this.mainSamplerFC, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
            gl.samplerParameteri(this.mainSamplerPW, gl.TEXTURE_MIN_FILTER, gl.NEAREST_MIPMAP_NEAREST);
            gl.samplerParameteri(this.mainSamplerPW, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
            gl.samplerParameteri(this.mainSamplerPW, gl.TEXTURE_WRAP_S, gl.REPEAT);
            gl.samplerParameteri(this.mainSamplerPW, gl.TEXTURE_WRAP_T, gl.REPEAT);
            gl.samplerParameteri(this.mainSamplerPC, gl.TEXTURE_MIN_FILTER, gl.NEAREST_MIPMAP_NEAREST);
            gl.samplerParameteri(this.mainSamplerPC, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
            gl.samplerParameteri(this.mainSamplerPC, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
            gl.samplerParameteri(this.mainSamplerPC, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
          }
          _createClass(CompShader2, [{
            key: "buildPositions",
            value: function buildPositions() {
              var width = 2;
              var height = 2;
              var widthHalf = width / 2;
              var heightHalf = height / 2;
              var gridX = this.compWidth;
              var gridY = this.compHeight;
              var gridX1 = gridX + 1;
              var gridY1 = gridY + 1;
              var segmentWidth = width / gridX;
              var segmentHeight = height / gridY;
              var vertices = [];
              for (var iy = 0; iy < gridY1; iy++) {
                var y = iy * segmentHeight - heightHalf;
                for (var ix = 0; ix < gridX1; ix++) {
                  var x = ix * segmentWidth - widthHalf;
                  vertices.push(x, -y, 0);
                }
              }
              var indices = [];
              for (var _iy = 0; _iy < gridY; _iy++) {
                for (var _ix = 0; _ix < gridX; _ix++) {
                  var a = _ix + gridX1 * _iy;
                  var b = _ix + gridX1 * (_iy + 1);
                  var c = _ix + 1 + gridX1 * (_iy + 1);
                  var d = _ix + 1 + gridX1 * _iy;
                  indices.push(a, b, d);
                  indices.push(b, c, d);
                }
              }
              this.vertices = new Float32Array(vertices);
              this.indices = new Uint16Array(indices);
            }
          }, {
            key: "updateGlobals",
            value: function updateGlobals(opts) {
              this.mesh_width = opts.mesh_width;
              this.mesh_height = opts.mesh_height;
              this.texsizeX = opts.texsizeX;
              this.texsizeY = opts.texsizeY;
              this.aspectx = opts.aspectx;
              this.aspecty = opts.aspecty;
              this.invAspectx = 1 / this.aspectx;
              this.invAspecty = 1 / this.aspecty;
              this.buildPositions();
            }
          }, {
            key: "createShader",
            value: function createShader() {
              var shaderText = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : "";
              var fragShaderText;
              var fragShaderHeaderText;
              if (shaderText.length === 0) {
                fragShaderText = "float orient_horiz = mod(echo_orientation, 2.0);\n                        float orient_x = (orient_horiz != 0.0) ? -1.0 : 1.0;\n                        float orient_y = (echo_orientation >= 2.0) ? -1.0 : 1.0;\n                        vec2 uv_echo = ((uv - 0.5) *\n                                        (1.0 / echo_zoom) *\n                                        vec2(orient_x, orient_y)) + 0.5;\n\n                        ret = mix(texture(sampler_main, uv).rgb,\n                                  texture(sampler_main, uv_echo).rgb,\n                                  echo_alpha);\n\n                        ret *= gammaAdj;\n\n                        if(fShader >= 1.0) {\n                          ret *= hue_shader;\n                        } else if(fShader > 0.001) {\n                          ret *= (1.0 - fShader) + (fShader * hue_shader);\n                        }\n\n                        if(brighten != 0) ret = sqrt(ret);\n                        if(darken != 0) ret = ret*ret;\n                        if(solarize != 0) ret = ret * (1.0 - ret) * 4.0;\n                        if(invert != 0) ret = 1.0 - ret;";
                fragShaderHeaderText = "";
              } else {
                var shaderParts = _shaderUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getShaderParts(shaderText);
                fragShaderHeaderText = shaderParts[0];
                fragShaderText = shaderParts[1];
              }
              fragShaderText = fragShaderText.replace(/texture2D/g, "texture");
              fragShaderText = fragShaderText.replace(/texture3D/g, "texture");
              this.userTextures = _shaderUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getUserSamplers(fragShaderHeaderText);
              this.shaderProgram = this.gl.createProgram();
              var vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);
              this.gl.shaderSource(vertShader, "#version 300 es\n                                      const vec2 halfmad = vec2(0.5);\n                                      in vec2 aPos;\n                                      in vec4 aCompColor;\n                                      out vec2 vUv;\n                                      out vec4 vColor;\n                                      void main(void) {\n                                        gl_Position = vec4(aPos, 0.0, 1.0);\n                                        vUv = aPos * halfmad + halfmad;\n                                        vColor = aCompColor;\n                                      }");
              this.gl.compileShader(vertShader);
              var fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);
              this.gl.shaderSource(fragShader, "#version 300 es\n                                      precision ".concat(this.floatPrecision, " float;\n                                      precision highp int;\n                                      precision mediump sampler2D;\n                                      precision mediump sampler3D;\n\n                                      vec3 lum(vec3 v){\n                                          return vec3(dot(v, vec3(0.32,0.49,0.29)));\n                                      }\n\n                                      in vec2 vUv;\n                                      in vec4 vColor;\n                                      out vec4 fragColor;\n                                      uniform sampler2D sampler_main;\n                                      uniform sampler2D sampler_fw_main;\n                                      uniform sampler2D sampler_fc_main;\n                                      uniform sampler2D sampler_pw_main;\n                                      uniform sampler2D sampler_pc_main;\n                                      uniform sampler2D sampler_blur1;\n                                      uniform sampler2D sampler_blur2;\n                                      uniform sampler2D sampler_blur3;\n                                      uniform sampler2D sampler_noise_lq;\n                                      uniform sampler2D sampler_noise_lq_lite;\n                                      uniform sampler2D sampler_noise_mq;\n                                      uniform sampler2D sampler_noise_hq;\n                                      uniform sampler2D sampler_pw_noise_lq;\n                                      uniform sampler3D sampler_noisevol_lq;\n                                      uniform sampler3D sampler_noisevol_hq;\n\n                                      uniform float time;\n                                      uniform float gammaAdj;\n                                      uniform float echo_zoom;\n                                      uniform float echo_alpha;\n                                      uniform float echo_orientation;\n                                      uniform int invert;\n                                      uniform int brighten;\n                                      uniform int darken;\n                                      uniform int solarize;\n                                      uniform vec2 resolution;\n                                      uniform vec4 aspect;\n                                      uniform vec4 texsize;\n                                      uniform vec4 texsize_noise_lq;\n                                      uniform vec4 texsize_noise_mq;\n                                      uniform vec4 texsize_noise_hq;\n                                      uniform vec4 texsize_noise_lq_lite;\n                                      uniform vec4 texsize_noisevol_lq;\n                                      uniform vec4 texsize_noisevol_hq;\n\n                                      uniform float bass;\n                                      uniform float mid;\n                                      uniform float treb;\n                                      uniform float vol;\n                                      uniform float bass_att;\n                                      uniform float mid_att;\n                                      uniform float treb_att;\n                                      uniform float vol_att;\n\n                                      uniform float frame;\n                                      uniform float fps;\n\n                                      uniform vec4 _qa;\n                                      uniform vec4 _qb;\n                                      uniform vec4 _qc;\n                                      uniform vec4 _qd;\n                                      uniform vec4 _qe;\n                                      uniform vec4 _qf;\n                                      uniform vec4 _qg;\n                                      uniform vec4 _qh;\n\n                                      #define q1 _qa.x\n                                      #define q2 _qa.y\n                                      #define q3 _qa.z\n                                      #define q4 _qa.w\n                                      #define q5 _qb.x\n                                      #define q6 _qb.y\n                                      #define q7 _qb.z\n                                      #define q8 _qb.w\n                                      #define q9 _qc.x\n                                      #define q10 _qc.y\n                                      #define q11 _qc.z\n                                      #define q12 _qc.w\n                                      #define q13 _qd.x\n                                      #define q14 _qd.y\n                                      #define q15 _qd.z\n                                      #define q16 _qd.w\n                                      #define q17 _qe.x\n                                      #define q18 _qe.y\n                                      #define q19 _qe.z\n                                      #define q20 _qe.w\n                                      #define q21 _qf.x\n                                      #define q22 _qf.y\n                                      #define q23 _qf.z\n                                      #define q24 _qf.w\n                                      #define q25 _qg.x\n                                      #define q26 _qg.y\n                                      #define q27 _qg.z\n                                      #define q28 _qg.w\n                                      #define q29 _qh.x\n                                      #define q30 _qh.y\n                                      #define q31 _qh.z\n                                      #define q32 _qh.w\n\n                                      uniform vec4 slow_roam_cos;\n                                      uniform vec4 roam_cos;\n                                      uniform vec4 slow_roam_sin;\n                                      uniform vec4 roam_sin;\n\n                                      uniform float blur1_min;\n                                      uniform float blur1_max;\n                                      uniform float blur2_min;\n                                      uniform float blur2_max;\n                                      uniform float blur3_min;\n                                      uniform float blur3_max;\n\n                                      uniform float scale1;\n                                      uniform float scale2;\n                                      uniform float scale3;\n                                      uniform float bias1;\n                                      uniform float bias2;\n                                      uniform float bias3;\n\n                                      uniform vec4 rand_frame;\n                                      uniform vec4 rand_preset;\n\n                                      uniform float fShader;\n\n                                      float PI = ").concat(Math.PI, ";\n\n                                      ").concat(fragShaderHeaderText, "\n\n                                      void main(void) {\n                                        vec3 ret;\n                                        vec2 uv = vUv;\n                                        vec2 uv_orig = vUv;\n                                        uv.y = 1.0 - uv.y;\n                                        uv_orig.y = 1.0 - uv_orig.y;\n                                        float rad = length(uv - 0.5);\n                                        float ang = atan(uv.x - 0.5, uv.y - 0.5);\n                                        vec3 hue_shader = vColor.rgb;\n\n                                        ").concat(fragShaderText, "\n\n                                        fragColor = vec4(ret, vColor.a);\n                                      }"));
              this.gl.compileShader(fragShader);
              this.gl.attachShader(this.shaderProgram, vertShader);
              this.gl.attachShader(this.shaderProgram, fragShader);
              this.gl.linkProgram(this.shaderProgram);
              this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos");
              this.compColorLocation = this.gl.getAttribLocation(this.shaderProgram, "aCompColor");
              this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_main");
              this.textureFWLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_fw_main");
              this.textureFCLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_fc_main");
              this.texturePWLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_pw_main");
              this.texturePCLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_pc_main");
              this.blurTexture1Loc = this.gl.getUniformLocation(this.shaderProgram, "sampler_blur1");
              this.blurTexture2Loc = this.gl.getUniformLocation(this.shaderProgram, "sampler_blur2");
              this.blurTexture3Loc = this.gl.getUniformLocation(this.shaderProgram, "sampler_blur3");
              this.noiseLQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noise_lq");
              this.noiseMQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noise_mq");
              this.noiseHQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noise_hq");
              this.noiseLQLiteLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noise_lq_lite");
              this.noisePointLQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_pw_noise_lq");
              this.noiseVolLQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noisevol_lq");
              this.noiseVolHQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noisevol_hq");
              this.timeLoc = this.gl.getUniformLocation(this.shaderProgram, "time");
              this.gammaAdjLoc = this.gl.getUniformLocation(this.shaderProgram, "gammaAdj");
              this.echoZoomLoc = this.gl.getUniformLocation(this.shaderProgram, "echo_zoom");
              this.echoAlphaLoc = this.gl.getUniformLocation(this.shaderProgram, "echo_alpha");
              this.echoOrientationLoc = this.gl.getUniformLocation(this.shaderProgram, "echo_orientation");
              this.invertLoc = this.gl.getUniformLocation(this.shaderProgram, "invert");
              this.brightenLoc = this.gl.getUniformLocation(this.shaderProgram, "brighten");
              this.darkenLoc = this.gl.getUniformLocation(this.shaderProgram, "darken");
              this.solarizeLoc = this.gl.getUniformLocation(this.shaderProgram, "solarize");
              this.texsizeLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize");
              this.texsizeNoiseLQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noise_lq");
              this.texsizeNoiseMQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noise_mq");
              this.texsizeNoiseHQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noise_hq");
              this.texsizeNoiseLQLiteLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noise_lq_lite");
              this.texsizeNoiseVolLQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noisevol_lq");
              this.texsizeNoiseVolHQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noisevol_hq");
              this.resolutionLoc = this.gl.getUniformLocation(this.shaderProgram, "resolution");
              this.aspectLoc = this.gl.getUniformLocation(this.shaderProgram, "aspect");
              this.bassLoc = this.gl.getUniformLocation(this.shaderProgram, "bass");
              this.midLoc = this.gl.getUniformLocation(this.shaderProgram, "mid");
              this.trebLoc = this.gl.getUniformLocation(this.shaderProgram, "treb");
              this.volLoc = this.gl.getUniformLocation(this.shaderProgram, "vol");
              this.bassAttLoc = this.gl.getUniformLocation(this.shaderProgram, "bass_att");
              this.midAttLoc = this.gl.getUniformLocation(this.shaderProgram, "mid_att");
              this.trebAttLoc = this.gl.getUniformLocation(this.shaderProgram, "treb_att");
              this.volAttLoc = this.gl.getUniformLocation(this.shaderProgram, "vol_att");
              this.frameLoc = this.gl.getUniformLocation(this.shaderProgram, "frame");
              this.fpsLoc = this.gl.getUniformLocation(this.shaderProgram, "fps");
              this.blur1MinLoc = this.gl.getUniformLocation(this.shaderProgram, "blur1_min");
              this.blur1MaxLoc = this.gl.getUniformLocation(this.shaderProgram, "blur1_max");
              this.blur2MinLoc = this.gl.getUniformLocation(this.shaderProgram, "blur2_min");
              this.blur2MaxLoc = this.gl.getUniformLocation(this.shaderProgram, "blur2_max");
              this.blur3MinLoc = this.gl.getUniformLocation(this.shaderProgram, "blur3_min");
              this.blur3MaxLoc = this.gl.getUniformLocation(this.shaderProgram, "blur3_max");
              this.scale1Loc = this.gl.getUniformLocation(this.shaderProgram, "scale1");
              this.scale2Loc = this.gl.getUniformLocation(this.shaderProgram, "scale2");
              this.scale3Loc = this.gl.getUniformLocation(this.shaderProgram, "scale3");
              this.bias1Loc = this.gl.getUniformLocation(this.shaderProgram, "bias1");
              this.bias2Loc = this.gl.getUniformLocation(this.shaderProgram, "bias2");
              this.bias3Loc = this.gl.getUniformLocation(this.shaderProgram, "bias3");
              this.randPresetLoc = this.gl.getUniformLocation(this.shaderProgram, "rand_preset");
              this.randFrameLoc = this.gl.getUniformLocation(this.shaderProgram, "rand_frame");
              this.fShaderLoc = this.gl.getUniformLocation(this.shaderProgram, "fShader");
              this.qaLoc = this.gl.getUniformLocation(this.shaderProgram, "_qa");
              this.qbLoc = this.gl.getUniformLocation(this.shaderProgram, "_qb");
              this.qcLoc = this.gl.getUniformLocation(this.shaderProgram, "_qc");
              this.qdLoc = this.gl.getUniformLocation(this.shaderProgram, "_qd");
              this.qeLoc = this.gl.getUniformLocation(this.shaderProgram, "_qe");
              this.qfLoc = this.gl.getUniformLocation(this.shaderProgram, "_qf");
              this.qgLoc = this.gl.getUniformLocation(this.shaderProgram, "_qg");
              this.qhLoc = this.gl.getUniformLocation(this.shaderProgram, "_qh");
              this.slowRoamCosLoc = this.gl.getUniformLocation(this.shaderProgram, "slow_roam_cos");
              this.roamCosLoc = this.gl.getUniformLocation(this.shaderProgram, "roam_cos");
              this.slowRoamSinLoc = this.gl.getUniformLocation(this.shaderProgram, "slow_roam_sin");
              this.roamSinLoc = this.gl.getUniformLocation(this.shaderProgram, "roam_sin");
              for (var i = 0; i < this.userTextures.length; i++) {
                var userTexture = this.userTextures[i];
                userTexture.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_".concat(userTexture.sampler));
              }
            }
          }, {
            key: "updateShader",
            value: function updateShader(shaderText) {
              this.createShader(shaderText);
            }
          }, {
            key: "bindBlurVals",
            value: function bindBlurVals(blurMins, blurMaxs) {
              var blurMin1 = blurMins[0];
              var blurMin2 = blurMins[1];
              var blurMin3 = blurMins[2];
              var blurMax1 = blurMaxs[0];
              var blurMax2 = blurMaxs[1];
              var blurMax3 = blurMaxs[2];
              var scale1 = blurMax1 - blurMin1;
              var bias1 = blurMin1;
              var scale2 = blurMax2 - blurMin2;
              var bias2 = blurMin2;
              var scale3 = blurMax3 - blurMin3;
              var bias3 = blurMin3;
              this.gl.uniform1f(this.blur1MinLoc, blurMin1);
              this.gl.uniform1f(this.blur1MaxLoc, blurMax1);
              this.gl.uniform1f(this.blur2MinLoc, blurMin2);
              this.gl.uniform1f(this.blur2MaxLoc, blurMax2);
              this.gl.uniform1f(this.blur3MinLoc, blurMin3);
              this.gl.uniform1f(this.blur3MaxLoc, blurMax3);
              this.gl.uniform1f(this.scale1Loc, scale1);
              this.gl.uniform1f(this.scale2Loc, scale2);
              this.gl.uniform1f(this.scale3Loc, scale3);
              this.gl.uniform1f(this.bias1Loc, bias1);
              this.gl.uniform1f(this.bias2Loc, bias2);
              this.gl.uniform1f(this.bias3Loc, bias3);
            }
          }, {
            key: "generateCompColors",
            value: function generateCompColors(blending, mdVSFrame, warpColor) {
              var hueBase = CompShader2.generateHueBase(mdVSFrame);
              var gridX1 = this.compWidth + 1;
              var gridY1 = this.compHeight + 1;
              var compColor = new Float32Array(gridX1 * gridY1 * 4);
              var offsetColor = 0;
              for (var j = 0; j < gridY1; j++) {
                for (var i = 0; i < gridX1; i++) {
                  var x = i / this.compWidth;
                  var y = j / this.compHeight;
                  var col = [1, 1, 1];
                  for (var c = 0; c < 3; c++) {
                    col[c] = hueBase[0 + c] * x * y + hueBase[3 + c] * (1 - x) * y + hueBase[6 + c] * x * (1 - y) + hueBase[9 + c] * (1 - x) * (1 - y);
                  }
                  var alpha = 1;
                  if (blending) {
                    x *= this.mesh_width + 1;
                    y *= this.mesh_height + 1;
                    x = Math.clamp(x, 0, this.mesh_width - 1);
                    y = Math.clamp(y, 0, this.mesh_height - 1);
                    var nx = Math.floor(x);
                    var ny = Math.floor(y);
                    var dx = x - nx;
                    var dy = y - ny;
                    var alpha00 = warpColor[(ny * (this.mesh_width + 1) + nx) * 4 + 3];
                    var alpha01 = warpColor[(ny * (this.mesh_width + 1) + (nx + 1)) * 4 + 3];
                    var alpha10 = warpColor[((ny + 1) * (this.mesh_width + 1) + nx) * 4 + 3];
                    var alpha11 = warpColor[((ny + 1) * (this.mesh_width + 1) + (nx + 1)) * 4 + 3];
                    alpha = alpha00 * (1 - dx) * (1 - dy) + alpha01 * dx * (1 - dy) + alpha10 * (1 - dx) * dy + alpha11 * dx * dy;
                  }
                  compColor[offsetColor + 0] = col[0];
                  compColor[offsetColor + 1] = col[1];
                  compColor[offsetColor + 2] = col[2];
                  compColor[offsetColor + 3] = alpha;
                  offsetColor += 4;
                }
              }
              return compColor;
            }
          }, {
            key: "renderQuadTexture",
            value: function renderQuadTexture(blending, texture, blurTexture1, blurTexture2, blurTexture3, blurMins, blurMaxs, mdVSFrame, warpColor) {
              var compColors = this.generateCompColors(blending, mdVSFrame, warpColor);
              this.gl.useProgram(this.shaderProgram);
              this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.indexBuf);
              this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, this.indices, this.gl.STATIC_DRAW);
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf);
              this.gl.bufferData(this.gl.ARRAY_BUFFER, this.vertices, this.gl.STATIC_DRAW);
              this.gl.vertexAttribPointer(this.positionLocation, 3, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.positionLocation);
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.compColorVertexBuf);
              this.gl.bufferData(this.gl.ARRAY_BUFFER, compColors, this.gl.STATIC_DRAW);
              this.gl.vertexAttribPointer(this.compColorLocation, 4, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.compColorLocation);
              var wrapping = mdVSFrame.wrap !== 0 ? this.gl.REPEAT : this.gl.CLAMP_TO_EDGE;
              this.gl.samplerParameteri(this.mainSampler, this.gl.TEXTURE_WRAP_S, wrapping);
              this.gl.samplerParameteri(this.mainSampler, this.gl.TEXTURE_WRAP_T, wrapping);
              this.gl.activeTexture(this.gl.TEXTURE0);
              this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
              this.gl.bindSampler(0, this.mainSampler);
              this.gl.uniform1i(this.textureLoc, 0);
              this.gl.activeTexture(this.gl.TEXTURE1);
              this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
              this.gl.bindSampler(1, this.mainSamplerFW);
              this.gl.uniform1i(this.textureFWLoc, 1);
              this.gl.activeTexture(this.gl.TEXTURE2);
              this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
              this.gl.bindSampler(2, this.mainSamplerFC);
              this.gl.uniform1i(this.textureFCLoc, 2);
              this.gl.activeTexture(this.gl.TEXTURE3);
              this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
              this.gl.bindSampler(3, this.mainSamplerPW);
              this.gl.uniform1i(this.texturePWLoc, 3);
              this.gl.activeTexture(this.gl.TEXTURE4);
              this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
              this.gl.bindSampler(4, this.mainSamplerPC);
              this.gl.uniform1i(this.texturePCLoc, 4);
              this.gl.activeTexture(this.gl.TEXTURE5);
              this.gl.bindTexture(this.gl.TEXTURE_2D, blurTexture1);
              this.gl.uniform1i(this.blurTexture1Loc, 5);
              this.gl.activeTexture(this.gl.TEXTURE6);
              this.gl.bindTexture(this.gl.TEXTURE_2D, blurTexture2);
              this.gl.uniform1i(this.blurTexture2Loc, 6);
              this.gl.activeTexture(this.gl.TEXTURE7);
              this.gl.bindTexture(this.gl.TEXTURE_2D, blurTexture3);
              this.gl.uniform1i(this.blurTexture3Loc, 7);
              this.gl.activeTexture(this.gl.TEXTURE8);
              this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQ);
              this.gl.uniform1i(this.noiseLQLoc, 8);
              this.gl.activeTexture(this.gl.TEXTURE9);
              this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexMQ);
              this.gl.uniform1i(this.noiseMQLoc, 9);
              this.gl.activeTexture(this.gl.TEXTURE10);
              this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexHQ);
              this.gl.uniform1i(this.noiseHQLoc, 10);
              this.gl.activeTexture(this.gl.TEXTURE11);
              this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQLite);
              this.gl.uniform1i(this.noiseLQLiteLoc, 11);
              this.gl.activeTexture(this.gl.TEXTURE12);
              this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQ);
              this.gl.bindSampler(12, this.noise.noiseTexPointLQ);
              this.gl.uniform1i(this.noisePointLQLoc, 12);
              this.gl.activeTexture(this.gl.TEXTURE13);
              this.gl.bindTexture(this.gl.TEXTURE_3D, this.noise.noiseTexVolLQ);
              this.gl.uniform1i(this.noiseVolLQLoc, 13);
              this.gl.activeTexture(this.gl.TEXTURE14);
              this.gl.bindTexture(this.gl.TEXTURE_3D, this.noise.noiseTexVolHQ);
              this.gl.uniform1i(this.noiseVolHQLoc, 14);
              for (var i = 0; i < this.userTextures.length; i++) {
                var userTexture = this.userTextures[i];
                this.gl.activeTexture(this.gl.TEXTURE15 + i);
                this.gl.bindTexture(this.gl.TEXTURE_2D, this.image.getTexture(userTexture.sampler));
                this.gl.uniform1i(userTexture.textureLoc, 15 + i);
              }
              this.gl.uniform1f(this.timeLoc, mdVSFrame.time);
              this.gl.uniform1f(this.gammaAdjLoc, mdVSFrame.gammaadj);
              this.gl.uniform1f(this.echoZoomLoc, mdVSFrame.echo_zoom);
              this.gl.uniform1f(this.echoAlphaLoc, mdVSFrame.echo_alpha);
              this.gl.uniform1f(this.echoOrientationLoc, mdVSFrame.echo_orient);
              this.gl.uniform1i(this.invertLoc, mdVSFrame.invert);
              this.gl.uniform1i(this.brightenLoc, mdVSFrame.brighten);
              this.gl.uniform1i(this.darkenLoc, mdVSFrame.darken);
              this.gl.uniform1i(this.solarizeLoc, mdVSFrame.solarize);
              this.gl.uniform2fv(this.resolutionLoc, [this.texsizeX, this.texsizeY]);
              this.gl.uniform4fv(this.aspectLoc, [this.aspectx, this.aspecty, this.invAspectx, this.invAspecty]);
              this.gl.uniform4fv(this.texsizeLoc, new Float32Array([this.texsizeX, this.texsizeY, 1 / this.texsizeX, 1 / this.texsizeY]));
              this.gl.uniform4fv(this.texsizeNoiseLQLoc, [256, 256, 1 / 256, 1 / 256]);
              this.gl.uniform4fv(this.texsizeNoiseMQLoc, [256, 256, 1 / 256, 1 / 256]);
              this.gl.uniform4fv(this.texsizeNoiseHQLoc, [256, 256, 1 / 256, 1 / 256]);
              this.gl.uniform4fv(this.texsizeNoiseLQLiteLoc, [32, 32, 1 / 32, 1 / 32]);
              this.gl.uniform4fv(this.texsizeNoiseVolLQLoc, [32, 32, 1 / 32, 1 / 32]);
              this.gl.uniform4fv(this.texsizeNoiseVolHQLoc, [32, 32, 1 / 32, 1 / 32]);
              this.gl.uniform1f(this.bassLoc, mdVSFrame.bass);
              this.gl.uniform1f(this.midLoc, mdVSFrame.mid);
              this.gl.uniform1f(this.trebLoc, mdVSFrame.treb);
              this.gl.uniform1f(this.volLoc, (mdVSFrame.bass + mdVSFrame.mid + mdVSFrame.treb) / 3);
              this.gl.uniform1f(this.bassAttLoc, mdVSFrame.bass_att);
              this.gl.uniform1f(this.midAttLoc, mdVSFrame.mid_att);
              this.gl.uniform1f(this.trebAttLoc, mdVSFrame.treb_att);
              this.gl.uniform1f(this.volAttLoc, (mdVSFrame.bass_att + mdVSFrame.mid_att + mdVSFrame.treb_att) / 3);
              this.gl.uniform1f(this.frameLoc, mdVSFrame.frame);
              this.gl.uniform1f(this.fpsLoc, mdVSFrame.fps);
              this.gl.uniform4fv(this.randPresetLoc, mdVSFrame.rand_preset);
              this.gl.uniform4fv(this.randFrameLoc, new Float32Array([Math.random(), Math.random(), Math.random(), Math.random()]));
              this.gl.uniform1f(this.fShaderLoc, mdVSFrame.fshader);
              this.gl.uniform4fv(this.qaLoc, new Float32Array([mdVSFrame.q1 || 0, mdVSFrame.q2 || 0, mdVSFrame.q3 || 0, mdVSFrame.q4 || 0]));
              this.gl.uniform4fv(this.qbLoc, new Float32Array([mdVSFrame.q5 || 0, mdVSFrame.q6 || 0, mdVSFrame.q7 || 0, mdVSFrame.q8 || 0]));
              this.gl.uniform4fv(this.qcLoc, new Float32Array([mdVSFrame.q9 || 0, mdVSFrame.q10 || 0, mdVSFrame.q11 || 0, mdVSFrame.q12 || 0]));
              this.gl.uniform4fv(this.qdLoc, new Float32Array([mdVSFrame.q13 || 0, mdVSFrame.q14 || 0, mdVSFrame.q15 || 0, mdVSFrame.q16 || 0]));
              this.gl.uniform4fv(this.qeLoc, new Float32Array([mdVSFrame.q17 || 0, mdVSFrame.q18 || 0, mdVSFrame.q19 || 0, mdVSFrame.q20 || 0]));
              this.gl.uniform4fv(this.qfLoc, new Float32Array([mdVSFrame.q21 || 0, mdVSFrame.q22 || 0, mdVSFrame.q23 || 0, mdVSFrame.q24 || 0]));
              this.gl.uniform4fv(this.qgLoc, new Float32Array([mdVSFrame.q25 || 0, mdVSFrame.q26 || 0, mdVSFrame.q27 || 0, mdVSFrame.q28 || 0]));
              this.gl.uniform4fv(this.qhLoc, new Float32Array([mdVSFrame.q29 || 0, mdVSFrame.q30 || 0, mdVSFrame.q31 || 0, mdVSFrame.q32 || 0]));
              this.gl.uniform4fv(this.slowRoamCosLoc, [0.5 + 0.5 * Math.cos(mdVSFrame.time * 5e-3), 0.5 + 0.5 * Math.cos(mdVSFrame.time * 8e-3), 0.5 + 0.5 * Math.cos(mdVSFrame.time * 0.013), 0.5 + 0.5 * Math.cos(mdVSFrame.time * 0.022)]);
              this.gl.uniform4fv(this.roamCosLoc, [0.5 + 0.5 * Math.cos(mdVSFrame.time * 0.3), 0.5 + 0.5 * Math.cos(mdVSFrame.time * 1.3), 0.5 + 0.5 * Math.cos(mdVSFrame.time * 5), 0.5 + 0.5 * Math.cos(mdVSFrame.time * 20)]);
              this.gl.uniform4fv(this.slowRoamSinLoc, [0.5 + 0.5 * Math.sin(mdVSFrame.time * 5e-3), 0.5 + 0.5 * Math.sin(mdVSFrame.time * 8e-3), 0.5 + 0.5 * Math.sin(mdVSFrame.time * 0.013), 0.5 + 0.5 * Math.sin(mdVSFrame.time * 0.022)]);
              this.gl.uniform4fv(this.roamSinLoc, [0.5 + 0.5 * Math.sin(mdVSFrame.time * 0.3), 0.5 + 0.5 * Math.sin(mdVSFrame.time * 1.3), 0.5 + 0.5 * Math.sin(mdVSFrame.time * 5), 0.5 + 0.5 * Math.sin(mdVSFrame.time * 20)]);
              this.bindBlurVals(blurMins, blurMaxs);
              if (blending) {
                this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
              } else {
                this.gl.disable(this.gl.BLEND);
              }
              this.gl.drawElements(this.gl.TRIANGLES, this.indices.length, this.gl.UNSIGNED_SHORT, 0);
              if (!blending) {
                this.gl.enable(this.gl.BLEND);
              }
            }
          }], [{
            key: "generateHueBase",
            value: function generateHueBase(mdVSFrame) {
              var hueBase = new Float32Array([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]);
              for (var i = 0; i < 4; i++) {
                hueBase[i * 3 + 0] = 0.6 + 0.3 * Math.sin(mdVSFrame.time * 30 * 0.0143 + 3 + i * 21 + mdVSFrame.rand_start[3]);
                hueBase[i * 3 + 1] = 0.6 + 0.3 * Math.sin(mdVSFrame.time * 30 * 0.0107 + 1 + i * 13 + mdVSFrame.rand_start[1]);
                hueBase[i * 3 + 2] = 0.6 + 0.3 * Math.sin(mdVSFrame.time * 30 * 0.0129 + 6 + i * 9 + mdVSFrame.rand_start[2]);
                var maxshade = Math.max(hueBase[i * 3], hueBase[i * 3 + 1], hueBase[i * 3 + 2]);
                for (var k = 0; k < 3; k++) {
                  hueBase[i * 3 + k] = hueBase[i * 3 + k] / maxshade;
                  hueBase[i * 3 + k] = 0.5 + 0.5 * hueBase[i * 3 + k];
                }
              }
              return hueBase;
            }
          }]);
          return CompShader2;
        }();
      },
      "./src/rendering/shaders/output.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return OutputShader;
        });
        var _shaderUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/rendering/shaders/shaderUtils.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var OutputShader = /* @__PURE__ */ function() {
          function OutputShader2(gl, opts) {
            _classCallCheck(this, OutputShader2);
            this.gl = gl;
            this.textureRatio = opts.textureRatio;
            this.texsizeX = opts.texsizeX;
            this.texsizeY = opts.texsizeY;
            this.positions = new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]);
            this.vertexBuf = this.gl.createBuffer();
            this.floatPrecision = _shaderUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getFragmentFloatPrecision(this.gl);
            if (this.useFXAA()) {
              this.createFXAAShader();
            } else {
              this.createShader();
            }
          }
          _createClass(OutputShader2, [{
            key: "useFXAA",
            value: function useFXAA() {
              return this.textureRatio <= 1;
            }
          }, {
            key: "updateGlobals",
            value: function updateGlobals(opts) {
              this.textureRatio = opts.textureRatio;
              this.texsizeX = opts.texsizeX;
              this.texsizeY = opts.texsizeY;
              this.gl.deleteProgram(this.shaderProgram);
              if (this.useFXAA()) {
                this.createFXAAShader();
              } else {
                this.createShader();
              }
            }
          }, {
            key: "createFXAAShader",
            value: function createFXAAShader() {
              this.shaderProgram = this.gl.createProgram();
              var vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);
              this.gl.shaderSource(vertShader, "#version 300 es\n       const vec2 halfmad = vec2(0.5);\n       in vec2 aPos;\n       out vec2 v_rgbM;\n       out vec2 v_rgbNW;\n       out vec2 v_rgbNE;\n       out vec2 v_rgbSW;\n       out vec2 v_rgbSE;\n       uniform vec4 texsize;\n       void main(void) {\n         gl_Position = vec4(aPos, 0.0, 1.0);\n\n         v_rgbM = aPos * halfmad + halfmad;\n         v_rgbNW = v_rgbM + (vec2(-1.0, -1.0) * texsize.zx);\n         v_rgbNE = v_rgbM + (vec2(1.0, -1.0) * texsize.zx);\n         v_rgbSW = v_rgbM + (vec2(-1.0, 1.0) * texsize.zx);\n         v_rgbSE = v_rgbM + (vec2(1.0, 1.0) * texsize.zx);\n       }");
              this.gl.compileShader(vertShader);
              var fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);
              this.gl.shaderSource(fragShader, "#version 300 es\n       precision ".concat(this.floatPrecision, " float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 v_rgbM;\n       in vec2 v_rgbNW;\n       in vec2 v_rgbNE;\n       in vec2 v_rgbSW;\n       in vec2 v_rgbSE;\n       out vec4 fragColor;\n       uniform vec4 texsize;\n       uniform sampler2D uTexture;\n\n       #ifndef FXAA_REDUCE_MIN\n         #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n       #endif\n       #ifndef FXAA_REDUCE_MUL\n         #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n       #endif\n       #ifndef FXAA_SPAN_MAX\n         #define FXAA_SPAN_MAX     8.0\n       #endif\n\n       void main(void) {\n         vec4 color;\n         vec3 rgbNW = textureLod(uTexture, v_rgbNW, 0.0).xyz;\n         vec3 rgbNE = textureLod(uTexture, v_rgbNE, 0.0).xyz;\n         vec3 rgbSW = textureLod(uTexture, v_rgbSW, 0.0).xyz;\n         vec3 rgbSE = textureLod(uTexture, v_rgbSE, 0.0).xyz;\n         vec3 rgbM  = textureLod(uTexture, v_rgbM, 0.0).xyz;\n         vec3 luma = vec3(0.299, 0.587, 0.114);\n         float lumaNW = dot(rgbNW, luma);\n         float lumaNE = dot(rgbNE, luma);\n         float lumaSW = dot(rgbSW, luma);\n         float lumaSE = dot(rgbSE, luma);\n         float lumaM  = dot(rgbM,  luma);\n         float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n         float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n         mediump vec2 dir;\n         dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n         dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n         float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                               (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n         float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n         dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n                   max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                   dir * rcpDirMin)) * texsize.zw;\n\n         vec3 rgbA = 0.5 * (\n             textureLod(uTexture, v_rgbM + dir * (1.0 / 3.0 - 0.5), 0.0).xyz +\n             textureLod(uTexture, v_rgbM + dir * (2.0 / 3.0 - 0.5), 0.0).xyz);\n         vec3 rgbB = rgbA * 0.5 + 0.25 * (\n             textureLod(uTexture, v_rgbM + dir * -0.5, 0.0).xyz +\n             textureLod(uTexture, v_rgbM + dir * 0.5, 0.0).xyz);\n\n         float lumaB = dot(rgbB, luma);\n         if ((lumaB < lumaMin) || (lumaB > lumaMax))\n           color = vec4(rgbA, 1.0);\n         else\n           color = vec4(rgbB, 1.0);\n\n         fragColor = color;\n       }"));
              this.gl.compileShader(fragShader);
              this.gl.attachShader(this.shaderProgram, vertShader);
              this.gl.attachShader(this.shaderProgram, fragShader);
              this.gl.linkProgram(this.shaderProgram);
              this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos");
              this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "uTexture");
              this.texsizeLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize");
            }
          }, {
            key: "createShader",
            value: function createShader() {
              this.shaderProgram = this.gl.createProgram();
              var vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);
              this.gl.shaderSource(vertShader, "#version 300 es\n       const vec2 halfmad = vec2(0.5);\n       in vec2 aPos;\n       out vec2 uv;\n       void main(void) {\n         gl_Position = vec4(aPos, 0.0, 1.0);\n         uv = aPos * halfmad + halfmad;\n       }");
              this.gl.compileShader(vertShader);
              var fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);
              this.gl.shaderSource(fragShader, "#version 300 es\n       precision ".concat(this.floatPrecision, " float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n\n       void main(void) {\n         fragColor = vec4(texture(uTexture, uv).rgb, 1.0);\n       }"));
              this.gl.compileShader(fragShader);
              this.gl.attachShader(this.shaderProgram, vertShader);
              this.gl.attachShader(this.shaderProgram, fragShader);
              this.gl.linkProgram(this.shaderProgram);
              this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos");
              this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "uTexture");
            }
          }, {
            key: "renderQuadTexture",
            value: function renderQuadTexture(texture) {
              this.gl.useProgram(this.shaderProgram);
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf);
              this.gl.bufferData(this.gl.ARRAY_BUFFER, this.positions, this.gl.STATIC_DRAW);
              this.gl.vertexAttribPointer(this.positionLocation, 2, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.positionLocation);
              this.gl.activeTexture(this.gl.TEXTURE0);
              this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
              this.gl.uniform1i(this.textureLoc, 0);
              if (this.useFXAA()) {
                this.gl.uniform4fv(this.texsizeLoc, new Float32Array([this.texsizeX, this.texsizeY, 1 / this.texsizeX, 1 / this.texsizeY]));
              }
              this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
              this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);
            }
          }]);
          return OutputShader2;
        }();
      },
      "./src/rendering/shaders/resample.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return ResampleShader;
        });
        var _shaderUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/rendering/shaders/shaderUtils.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var ResampleShader = /* @__PURE__ */ function() {
          function ResampleShader2(gl) {
            _classCallCheck(this, ResampleShader2);
            this.gl = gl;
            this.positions = new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]);
            this.vertexBuf = this.gl.createBuffer();
            this.floatPrecision = _shaderUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getFragmentFloatPrecision(this.gl);
            this.createShader();
          }
          _createClass(ResampleShader2, [{
            key: "createShader",
            value: function createShader() {
              this.shaderProgram = this.gl.createProgram();
              var vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);
              this.gl.shaderSource(vertShader, "#version 300 es\n       const vec2 halfmad = vec2(0.5);\n       in vec2 aPos;\n       out vec2 uv;\n       void main(void) {\n         gl_Position = vec4(aPos, 0.0, 1.0);\n         uv = aPos * halfmad + halfmad;\n       }");
              this.gl.compileShader(vertShader);
              var fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);
              this.gl.shaderSource(fragShader, "#version 300 es\n       precision ".concat(this.floatPrecision, " float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n\n       void main(void) {\n         fragColor = vec4(texture(uTexture, uv).rgb, 1.0);\n       }"));
              this.gl.compileShader(fragShader);
              this.gl.attachShader(this.shaderProgram, vertShader);
              this.gl.attachShader(this.shaderProgram, fragShader);
              this.gl.linkProgram(this.shaderProgram);
              this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos");
              this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "uTexture");
            }
          }, {
            key: "renderQuadTexture",
            value: function renderQuadTexture(texture) {
              this.gl.useProgram(this.shaderProgram);
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf);
              this.gl.bufferData(this.gl.ARRAY_BUFFER, this.positions, this.gl.STATIC_DRAW);
              this.gl.vertexAttribPointer(this.positionLocation, 2, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.positionLocation);
              this.gl.activeTexture(this.gl.TEXTURE0);
              this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
              this.gl.generateMipmap(this.gl.TEXTURE_2D);
              this.gl.uniform1i(this.textureLoc, 0);
              this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
              this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);
            }
          }]);
          return ResampleShader2;
        }();
      },
      "./src/rendering/shaders/shaderUtils.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return ShaderUtils;
        });
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var lineMatcher = /uniform sampler2D sampler_(?:.+?);/g;
        var samplerMatcher = /uniform sampler2D sampler_(.+?);/;
        var ShaderUtils = /* @__PURE__ */ function() {
          function ShaderUtils2() {
            _classCallCheck(this, ShaderUtils2);
          }
          _createClass(ShaderUtils2, null, [{
            key: "getShaderParts",
            value: function getShaderParts(t) {
              var sbIndex = t.indexOf("shader_body");
              if (t && sbIndex > -1) {
                var beforeShaderBody = t.substring(0, sbIndex);
                var afterShaderBody = t.substring(sbIndex);
                var firstCurly = afterShaderBody.indexOf("{");
                var lastCurly = afterShaderBody.lastIndexOf("}");
                var shaderBody = afterShaderBody.substring(firstCurly + 1, lastCurly);
                return [beforeShaderBody, shaderBody];
              }
              return ["", t];
            }
          }, {
            key: "getFragmentFloatPrecision",
            value: function getFragmentFloatPrecision(gl) {
              if (gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT).precision > 0) {
                return "highp";
              } else if (gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT).precision > 0) {
                return "mediump";
              }
              return "lowp";
            }
          }, {
            key: "getUserSamplers",
            value: function getUserSamplers(text) {
              var samplers = [];
              var lineMatches = text.match(lineMatcher);
              if (lineMatches && lineMatches.length > 0) {
                for (var i = 0; i < lineMatches.length; i++) {
                  var samplerMatches = lineMatches[i].match(samplerMatcher);
                  if (samplerMatches && samplerMatches.length > 0) {
                    var sampler = samplerMatches[1];
                    samplers.push({
                      sampler
                    });
                  }
                }
              }
              return samplers;
            }
          }]);
          return ShaderUtils2;
        }();
      },
      "./src/rendering/shaders/warp.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return WarpShader;
        });
        var _shaderUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/rendering/shaders/shaderUtils.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var WarpShader = /* @__PURE__ */ function() {
          function WarpShader2(gl, noise, image) {
            var opts = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
            _classCallCheck(this, WarpShader2);
            this.gl = gl;
            this.noise = noise;
            this.image = image;
            this.texsizeX = opts.texsizeX;
            this.texsizeY = opts.texsizeY;
            this.mesh_width = opts.mesh_width;
            this.mesh_height = opts.mesh_height;
            this.aspectx = opts.aspectx;
            this.aspecty = opts.aspecty;
            this.invAspectx = 1 / this.aspectx;
            this.invAspecty = 1 / this.aspecty;
            this.buildPositions();
            this.indexBuf = gl.createBuffer();
            this.positionVertexBuf = this.gl.createBuffer();
            this.warpUvVertexBuf = this.gl.createBuffer();
            this.warpColorVertexBuf = this.gl.createBuffer();
            this.floatPrecision = _shaderUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getFragmentFloatPrecision(this.gl);
            this.createShader();
            this.mainSampler = this.gl.createSampler();
            this.mainSamplerFW = this.gl.createSampler();
            this.mainSamplerFC = this.gl.createSampler();
            this.mainSamplerPW = this.gl.createSampler();
            this.mainSamplerPC = this.gl.createSampler();
            gl.samplerParameteri(this.mainSampler, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);
            gl.samplerParameteri(this.mainSampler, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
            gl.samplerParameteri(this.mainSampler, gl.TEXTURE_WRAP_S, gl.REPEAT);
            gl.samplerParameteri(this.mainSampler, gl.TEXTURE_WRAP_T, gl.REPEAT);
            gl.samplerParameteri(this.mainSamplerFW, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);
            gl.samplerParameteri(this.mainSamplerFW, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
            gl.samplerParameteri(this.mainSamplerFW, gl.TEXTURE_WRAP_S, gl.REPEAT);
            gl.samplerParameteri(this.mainSamplerFW, gl.TEXTURE_WRAP_T, gl.REPEAT);
            gl.samplerParameteri(this.mainSamplerFC, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);
            gl.samplerParameteri(this.mainSamplerFC, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
            gl.samplerParameteri(this.mainSamplerFC, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
            gl.samplerParameteri(this.mainSamplerFC, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
            gl.samplerParameteri(this.mainSamplerPW, gl.TEXTURE_MIN_FILTER, gl.NEAREST_MIPMAP_NEAREST);
            gl.samplerParameteri(this.mainSamplerPW, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
            gl.samplerParameteri(this.mainSamplerPW, gl.TEXTURE_WRAP_S, gl.REPEAT);
            gl.samplerParameteri(this.mainSamplerPW, gl.TEXTURE_WRAP_T, gl.REPEAT);
            gl.samplerParameteri(this.mainSamplerPC, gl.TEXTURE_MIN_FILTER, gl.NEAREST_MIPMAP_NEAREST);
            gl.samplerParameteri(this.mainSamplerPC, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
            gl.samplerParameteri(this.mainSamplerPC, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
            gl.samplerParameteri(this.mainSamplerPC, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
          }
          _createClass(WarpShader2, [{
            key: "buildPositions",
            value: function buildPositions() {
              var width = 2;
              var height = 2;
              var widthHalf = width / 2;
              var heightHalf = height / 2;
              var gridX = this.mesh_width;
              var gridY = this.mesh_height;
              var gridX1 = gridX + 1;
              var gridY1 = gridY + 1;
              var segmentWidth = width / gridX;
              var segmentHeight = height / gridY;
              var vertices = [];
              for (var iy = 0; iy < gridY1; iy++) {
                var y = iy * segmentHeight - heightHalf;
                for (var ix = 0; ix < gridX1; ix++) {
                  var x = ix * segmentWidth - widthHalf;
                  vertices.push(x, -y, 0);
                }
              }
              var indices = [];
              for (var _iy = 0; _iy < gridY; _iy++) {
                for (var _ix = 0; _ix < gridX; _ix++) {
                  var a = _ix + gridX1 * _iy;
                  var b = _ix + gridX1 * (_iy + 1);
                  var c = _ix + 1 + gridX1 * (_iy + 1);
                  var d = _ix + 1 + gridX1 * _iy;
                  indices.push(a, b, d);
                  indices.push(b, c, d);
                }
              }
              this.vertices = new Float32Array(vertices);
              this.indices = new Uint16Array(indices);
            }
          }, {
            key: "updateGlobals",
            value: function updateGlobals(opts) {
              this.texsizeX = opts.texsizeX;
              this.texsizeY = opts.texsizeY;
              this.mesh_width = opts.mesh_width;
              this.mesh_height = opts.mesh_height;
              this.aspectx = opts.aspectx;
              this.aspecty = opts.aspecty;
              this.invAspectx = 1 / this.aspectx;
              this.invAspecty = 1 / this.aspecty;
              this.buildPositions();
            }
          }, {
            key: "createShader",
            value: function createShader() {
              var shaderText = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : "";
              var fragShaderText;
              var fragShaderHeaderText;
              if (shaderText.length === 0) {
                fragShaderText = "ret = texture(sampler_main, uv).rgb * decay;";
                fragShaderHeaderText = "";
              } else {
                var shaderParts = _shaderUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getShaderParts(shaderText);
                fragShaderHeaderText = shaderParts[0];
                fragShaderText = shaderParts[1];
              }
              fragShaderText = fragShaderText.replace(/texture2D/g, "texture");
              fragShaderText = fragShaderText.replace(/texture3D/g, "texture");
              this.userTextures = _shaderUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getUserSamplers(fragShaderHeaderText);
              this.shaderProgram = this.gl.createProgram();
              var vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);
              this.gl.shaderSource(vertShader, "#version 300 es\n                                      precision ".concat(this.floatPrecision, " float;\n                                      const vec2 halfmad = vec2(0.5);\n                                      in vec2 aPos;\n                                      in vec2 aWarpUv;\n                                      in vec4 aWarpColor;\n                                      out vec2 uv;\n                                      out vec2 uv_orig;\n                                      out vec4 vColor;\n                                      void main(void) {\n                                        gl_Position = vec4(aPos, 0.0, 1.0);\n                                        uv_orig = aPos * halfmad + halfmad;\n                                        uv = aWarpUv;\n                                        vColor = aWarpColor;\n                                      }"));
              this.gl.compileShader(vertShader);
              var fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);
              this.gl.shaderSource(fragShader, "#version 300 es\n                                      precision ".concat(this.floatPrecision, " float;\n                                      precision highp int;\n                                      precision mediump sampler2D;\n                                      precision mediump sampler3D;\n\n                                      in vec2 uv;\n                                      in vec2 uv_orig;\n                                      in vec4 vColor;\n                                      out vec4 fragColor;\n                                      uniform sampler2D sampler_main;\n                                      uniform sampler2D sampler_fw_main;\n                                      uniform sampler2D sampler_fc_main;\n                                      uniform sampler2D sampler_pw_main;\n                                      uniform sampler2D sampler_pc_main;\n                                      uniform sampler2D sampler_blur1;\n                                      uniform sampler2D sampler_blur2;\n                                      uniform sampler2D sampler_blur3;\n                                      uniform sampler2D sampler_noise_lq;\n                                      uniform sampler2D sampler_noise_lq_lite;\n                                      uniform sampler2D sampler_noise_mq;\n                                      uniform sampler2D sampler_noise_hq;\n                                      uniform sampler2D sampler_pw_noise_lq;\n                                      uniform sampler3D sampler_noisevol_lq;\n                                      uniform sampler3D sampler_noisevol_hq;\n                                      uniform float time;\n                                      uniform float decay;\n                                      uniform vec2 resolution;\n                                      uniform vec4 aspect;\n                                      uniform vec4 texsize;\n                                      uniform vec4 texsize_noise_lq;\n                                      uniform vec4 texsize_noise_mq;\n                                      uniform vec4 texsize_noise_hq;\n                                      uniform vec4 texsize_noise_lq_lite;\n                                      uniform vec4 texsize_noisevol_lq;\n                                      uniform vec4 texsize_noisevol_hq;\n\n                                      uniform float bass;\n                                      uniform float mid;\n                                      uniform float treb;\n                                      uniform float vol;\n                                      uniform float bass_att;\n                                      uniform float mid_att;\n                                      uniform float treb_att;\n                                      uniform float vol_att;\n\n                                      uniform float frame;\n                                      uniform float fps;\n\n                                      uniform vec4 _qa;\n                                      uniform vec4 _qb;\n                                      uniform vec4 _qc;\n                                      uniform vec4 _qd;\n                                      uniform vec4 _qe;\n                                      uniform vec4 _qf;\n                                      uniform vec4 _qg;\n                                      uniform vec4 _qh;\n\n                                      #define q1 _qa.x\n                                      #define q2 _qa.y\n                                      #define q3 _qa.z\n                                      #define q4 _qa.w\n                                      #define q5 _qb.x\n                                      #define q6 _qb.y\n                                      #define q7 _qb.z\n                                      #define q8 _qb.w\n                                      #define q9 _qc.x\n                                      #define q10 _qc.y\n                                      #define q11 _qc.z\n                                      #define q12 _qc.w\n                                      #define q13 _qd.x\n                                      #define q14 _qd.y\n                                      #define q15 _qd.z\n                                      #define q16 _qd.w\n                                      #define q17 _qe.x\n                                      #define q18 _qe.y\n                                      #define q19 _qe.z\n                                      #define q20 _qe.w\n                                      #define q21 _qf.x\n                                      #define q22 _qf.y\n                                      #define q23 _qf.z\n                                      #define q24 _qf.w\n                                      #define q25 _qg.x\n                                      #define q26 _qg.y\n                                      #define q27 _qg.z\n                                      #define q28 _qg.w\n                                      #define q29 _qh.x\n                                      #define q30 _qh.y\n                                      #define q31 _qh.z\n                                      #define q32 _qh.w\n\n                                      uniform vec4 slow_roam_cos;\n                                      uniform vec4 roam_cos;\n                                      uniform vec4 slow_roam_sin;\n                                      uniform vec4 roam_sin;\n\n                                      uniform float blur1_min;\n                                      uniform float blur1_max;\n                                      uniform float blur2_min;\n                                      uniform float blur2_max;\n                                      uniform float blur3_min;\n                                      uniform float blur3_max;\n\n                                      uniform float scale1;\n                                      uniform float scale2;\n                                      uniform float scale3;\n                                      uniform float bias1;\n                                      uniform float bias2;\n                                      uniform float bias3;\n\n                                      uniform vec4 rand_frame;\n                                      uniform vec4 rand_preset;\n\n                                      float PI = ").concat(Math.PI, ";\n\n                                      ").concat(fragShaderHeaderText, "\n\n                                      void main(void) {\n                                        vec3 ret;\n                                        float rad = length(uv_orig - 0.5);\n                                        float ang = atan(uv_orig.x - 0.5, uv_orig.y - 0.5);\n\n                                        ").concat(fragShaderText, "\n\n                                        fragColor = vec4(ret, 1.0) * vColor;\n                                      }"));
              this.gl.compileShader(fragShader);
              this.gl.attachShader(this.shaderProgram, vertShader);
              this.gl.attachShader(this.shaderProgram, fragShader);
              this.gl.linkProgram(this.shaderProgram);
              this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos");
              this.warpUvLocation = this.gl.getAttribLocation(this.shaderProgram, "aWarpUv");
              this.warpColorLocation = this.gl.getAttribLocation(this.shaderProgram, "aWarpColor");
              this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_main");
              this.textureFWLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_fw_main");
              this.textureFCLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_fc_main");
              this.texturePWLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_pw_main");
              this.texturePCLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_pc_main");
              this.blurTexture1Loc = this.gl.getUniformLocation(this.shaderProgram, "sampler_blur1");
              this.blurTexture2Loc = this.gl.getUniformLocation(this.shaderProgram, "sampler_blur2");
              this.blurTexture3Loc = this.gl.getUniformLocation(this.shaderProgram, "sampler_blur3");
              this.noiseLQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noise_lq");
              this.noiseMQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noise_mq");
              this.noiseHQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noise_hq");
              this.noiseLQLiteLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noise_lq_lite");
              this.noisePointLQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_pw_noise_lq");
              this.noiseVolLQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noisevol_lq");
              this.noiseVolHQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noisevol_hq");
              this.decayLoc = this.gl.getUniformLocation(this.shaderProgram, "decay");
              this.texsizeLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize");
              this.texsizeNoiseLQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noise_lq");
              this.texsizeNoiseMQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noise_mq");
              this.texsizeNoiseHQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noise_hq");
              this.texsizeNoiseLQLiteLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noise_lq_lite");
              this.texsizeNoiseVolLQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noisevol_lq");
              this.texsizeNoiseVolHQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noisevol_hq");
              this.resolutionLoc = this.gl.getUniformLocation(this.shaderProgram, "resolution");
              this.aspectLoc = this.gl.getUniformLocation(this.shaderProgram, "aspect");
              this.bassLoc = this.gl.getUniformLocation(this.shaderProgram, "bass");
              this.midLoc = this.gl.getUniformLocation(this.shaderProgram, "mid");
              this.trebLoc = this.gl.getUniformLocation(this.shaderProgram, "treb");
              this.volLoc = this.gl.getUniformLocation(this.shaderProgram, "vol");
              this.bassAttLoc = this.gl.getUniformLocation(this.shaderProgram, "bass_att");
              this.midAttLoc = this.gl.getUniformLocation(this.shaderProgram, "mid_att");
              this.trebAttLoc = this.gl.getUniformLocation(this.shaderProgram, "treb_att");
              this.volAttLoc = this.gl.getUniformLocation(this.shaderProgram, "vol_att");
              this.timeLoc = this.gl.getUniformLocation(this.shaderProgram, "time");
              this.frameLoc = this.gl.getUniformLocation(this.shaderProgram, "frame");
              this.fpsLoc = this.gl.getUniformLocation(this.shaderProgram, "fps");
              this.blur1MinLoc = this.gl.getUniformLocation(this.shaderProgram, "blur1_min");
              this.blur1MaxLoc = this.gl.getUniformLocation(this.shaderProgram, "blur1_max");
              this.blur2MinLoc = this.gl.getUniformLocation(this.shaderProgram, "blur2_min");
              this.blur2MaxLoc = this.gl.getUniformLocation(this.shaderProgram, "blur2_max");
              this.blur3MinLoc = this.gl.getUniformLocation(this.shaderProgram, "blur3_min");
              this.blur3MaxLoc = this.gl.getUniformLocation(this.shaderProgram, "blur3_max");
              this.scale1Loc = this.gl.getUniformLocation(this.shaderProgram, "scale1");
              this.scale2Loc = this.gl.getUniformLocation(this.shaderProgram, "scale2");
              this.scale3Loc = this.gl.getUniformLocation(this.shaderProgram, "scale3");
              this.bias1Loc = this.gl.getUniformLocation(this.shaderProgram, "bias1");
              this.bias2Loc = this.gl.getUniformLocation(this.shaderProgram, "bias2");
              this.bias3Loc = this.gl.getUniformLocation(this.shaderProgram, "bias3");
              this.randPresetLoc = this.gl.getUniformLocation(this.shaderProgram, "rand_preset");
              this.randFrameLoc = this.gl.getUniformLocation(this.shaderProgram, "rand_frame");
              this.qaLoc = this.gl.getUniformLocation(this.shaderProgram, "_qa");
              this.qbLoc = this.gl.getUniformLocation(this.shaderProgram, "_qb");
              this.qcLoc = this.gl.getUniformLocation(this.shaderProgram, "_qc");
              this.qdLoc = this.gl.getUniformLocation(this.shaderProgram, "_qd");
              this.qeLoc = this.gl.getUniformLocation(this.shaderProgram, "_qe");
              this.qfLoc = this.gl.getUniformLocation(this.shaderProgram, "_qf");
              this.qgLoc = this.gl.getUniformLocation(this.shaderProgram, "_qg");
              this.qhLoc = this.gl.getUniformLocation(this.shaderProgram, "_qh");
              this.slowRoamCosLoc = this.gl.getUniformLocation(this.shaderProgram, "slow_roam_cos");
              this.roamCosLoc = this.gl.getUniformLocation(this.shaderProgram, "roam_cos");
              this.slowRoamSinLoc = this.gl.getUniformLocation(this.shaderProgram, "slow_roam_sin");
              this.roamSinLoc = this.gl.getUniformLocation(this.shaderProgram, "roam_sin");
              for (var i = 0; i < this.userTextures.length; i++) {
                var userTexture = this.userTextures[i];
                userTexture.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_".concat(userTexture.sampler));
              }
            }
          }, {
            key: "updateShader",
            value: function updateShader(shaderText) {
              this.createShader(shaderText);
            }
          }, {
            key: "bindBlurVals",
            value: function bindBlurVals(blurMins, blurMaxs) {
              var blurMin1 = blurMins[0];
              var blurMin2 = blurMins[1];
              var blurMin3 = blurMins[2];
              var blurMax1 = blurMaxs[0];
              var blurMax2 = blurMaxs[1];
              var blurMax3 = blurMaxs[2];
              var scale1 = blurMax1 - blurMin1;
              var bias1 = blurMin1;
              var scale2 = blurMax2 - blurMin2;
              var bias2 = blurMin2;
              var scale3 = blurMax3 - blurMin3;
              var bias3 = blurMin3;
              this.gl.uniform1f(this.blur1MinLoc, blurMin1);
              this.gl.uniform1f(this.blur1MaxLoc, blurMax1);
              this.gl.uniform1f(this.blur2MinLoc, blurMin2);
              this.gl.uniform1f(this.blur2MaxLoc, blurMax2);
              this.gl.uniform1f(this.blur3MinLoc, blurMin3);
              this.gl.uniform1f(this.blur3MaxLoc, blurMax3);
              this.gl.uniform1f(this.scale1Loc, scale1);
              this.gl.uniform1f(this.scale2Loc, scale2);
              this.gl.uniform1f(this.scale3Loc, scale3);
              this.gl.uniform1f(this.bias1Loc, bias1);
              this.gl.uniform1f(this.bias2Loc, bias2);
              this.gl.uniform1f(this.bias3Loc, bias3);
            }
          }, {
            key: "renderQuadTexture",
            value: function renderQuadTexture(blending, texture, blurTexture1, blurTexture2, blurTexture3, blurMins, blurMaxs, mdVSFrame, warpUVs, warpColor) {
              this.gl.useProgram(this.shaderProgram);
              this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.indexBuf);
              this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, this.indices, this.gl.STATIC_DRAW);
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf);
              this.gl.bufferData(this.gl.ARRAY_BUFFER, this.vertices, this.gl.STATIC_DRAW);
              this.gl.vertexAttribPointer(this.positionLocation, 3, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.positionLocation);
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.warpUvVertexBuf);
              this.gl.bufferData(this.gl.ARRAY_BUFFER, warpUVs, this.gl.STATIC_DRAW);
              this.gl.vertexAttribPointer(this.warpUvLocation, 2, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.warpUvLocation);
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.warpColorVertexBuf);
              this.gl.bufferData(this.gl.ARRAY_BUFFER, warpColor, this.gl.STATIC_DRAW);
              this.gl.vertexAttribPointer(this.warpColorLocation, 4, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.warpColorLocation);
              var wrapping = mdVSFrame.wrap !== 0 ? this.gl.REPEAT : this.gl.CLAMP_TO_EDGE;
              this.gl.samplerParameteri(this.mainSampler, this.gl.TEXTURE_WRAP_S, wrapping);
              this.gl.samplerParameteri(this.mainSampler, this.gl.TEXTURE_WRAP_T, wrapping);
              this.gl.activeTexture(this.gl.TEXTURE0);
              this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
              this.gl.bindSampler(0, this.mainSampler);
              this.gl.uniform1i(this.textureLoc, 0);
              this.gl.activeTexture(this.gl.TEXTURE1);
              this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
              this.gl.bindSampler(1, this.mainSamplerFW);
              this.gl.uniform1i(this.textureFWLoc, 1);
              this.gl.activeTexture(this.gl.TEXTURE2);
              this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
              this.gl.bindSampler(2, this.mainSamplerFC);
              this.gl.uniform1i(this.textureFCLoc, 2);
              this.gl.activeTexture(this.gl.TEXTURE3);
              this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
              this.gl.bindSampler(3, this.mainSamplerPW);
              this.gl.uniform1i(this.texturePWLoc, 3);
              this.gl.activeTexture(this.gl.TEXTURE4);
              this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
              this.gl.bindSampler(4, this.mainSamplerPC);
              this.gl.uniform1i(this.texturePCLoc, 4);
              this.gl.activeTexture(this.gl.TEXTURE5);
              this.gl.bindTexture(this.gl.TEXTURE_2D, blurTexture1);
              this.gl.uniform1i(this.blurTexture1Loc, 5);
              this.gl.activeTexture(this.gl.TEXTURE6);
              this.gl.bindTexture(this.gl.TEXTURE_2D, blurTexture2);
              this.gl.uniform1i(this.blurTexture2Loc, 6);
              this.gl.activeTexture(this.gl.TEXTURE7);
              this.gl.bindTexture(this.gl.TEXTURE_2D, blurTexture3);
              this.gl.uniform1i(this.blurTexture3Loc, 7);
              this.gl.activeTexture(this.gl.TEXTURE8);
              this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQ);
              this.gl.uniform1i(this.noiseLQLoc, 8);
              this.gl.activeTexture(this.gl.TEXTURE9);
              this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexMQ);
              this.gl.uniform1i(this.noiseMQLoc, 9);
              this.gl.activeTexture(this.gl.TEXTURE10);
              this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexHQ);
              this.gl.uniform1i(this.noiseHQLoc, 10);
              this.gl.activeTexture(this.gl.TEXTURE11);
              this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQLite);
              this.gl.uniform1i(this.noiseLQLiteLoc, 11);
              this.gl.activeTexture(this.gl.TEXTURE12);
              this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQ);
              this.gl.bindSampler(12, this.noise.noiseTexPointLQ);
              this.gl.uniform1i(this.noisePointLQLoc, 12);
              this.gl.activeTexture(this.gl.TEXTURE13);
              this.gl.bindTexture(this.gl.TEXTURE_3D, this.noise.noiseTexVolLQ);
              this.gl.uniform1i(this.noiseVolLQLoc, 13);
              this.gl.activeTexture(this.gl.TEXTURE14);
              this.gl.bindTexture(this.gl.TEXTURE_3D, this.noise.noiseTexVolHQ);
              this.gl.uniform1i(this.noiseVolHQLoc, 14);
              for (var i = 0; i < this.userTextures.length; i++) {
                var userTexture = this.userTextures[i];
                this.gl.activeTexture(this.gl.TEXTURE15 + i);
                this.gl.bindTexture(this.gl.TEXTURE_2D, this.image.getTexture(userTexture.sampler));
                this.gl.uniform1i(userTexture.textureLoc, 15 + i);
              }
              this.gl.uniform1f(this.decayLoc, mdVSFrame.decay);
              this.gl.uniform2fv(this.resolutionLoc, [this.texsizeX, this.texsizeY]);
              this.gl.uniform4fv(this.aspectLoc, [this.aspectx, this.aspecty, this.invAspectx, this.invAspecty]);
              this.gl.uniform4fv(this.texsizeLoc, [this.texsizeX, this.texsizeY, 1 / this.texsizeX, 1 / this.texsizeY]);
              this.gl.uniform4fv(this.texsizeNoiseLQLoc, [256, 256, 1 / 256, 1 / 256]);
              this.gl.uniform4fv(this.texsizeNoiseMQLoc, [256, 256, 1 / 256, 1 / 256]);
              this.gl.uniform4fv(this.texsizeNoiseHQLoc, [256, 256, 1 / 256, 1 / 256]);
              this.gl.uniform4fv(this.texsizeNoiseLQLiteLoc, [32, 32, 1 / 32, 1 / 32]);
              this.gl.uniform4fv(this.texsizeNoiseVolLQLoc, [32, 32, 1 / 32, 1 / 32]);
              this.gl.uniform4fv(this.texsizeNoiseVolHQLoc, [32, 32, 1 / 32, 1 / 32]);
              this.gl.uniform1f(this.bassLoc, mdVSFrame.bass);
              this.gl.uniform1f(this.midLoc, mdVSFrame.mid);
              this.gl.uniform1f(this.trebLoc, mdVSFrame.treb);
              this.gl.uniform1f(this.volLoc, (mdVSFrame.bass + mdVSFrame.mid + mdVSFrame.treb) / 3);
              this.gl.uniform1f(this.bassAttLoc, mdVSFrame.bass_att);
              this.gl.uniform1f(this.midAttLoc, mdVSFrame.mid_att);
              this.gl.uniform1f(this.trebAttLoc, mdVSFrame.treb_att);
              this.gl.uniform1f(this.volAttLoc, (mdVSFrame.bass_att + mdVSFrame.mid_att + mdVSFrame.treb_att) / 3);
              this.gl.uniform1f(this.timeLoc, mdVSFrame.time);
              this.gl.uniform1f(this.frameLoc, mdVSFrame.frame);
              this.gl.uniform1f(this.fpsLoc, mdVSFrame.fps);
              this.gl.uniform4fv(this.randPresetLoc, mdVSFrame.rand_preset);
              this.gl.uniform4fv(this.randFrameLoc, new Float32Array([Math.random(), Math.random(), Math.random(), Math.random()]));
              this.gl.uniform4fv(this.qaLoc, new Float32Array([mdVSFrame.q1 || 0, mdVSFrame.q2 || 0, mdVSFrame.q3 || 0, mdVSFrame.q4 || 0]));
              this.gl.uniform4fv(this.qbLoc, new Float32Array([mdVSFrame.q5 || 0, mdVSFrame.q6 || 0, mdVSFrame.q7 || 0, mdVSFrame.q8 || 0]));
              this.gl.uniform4fv(this.qcLoc, new Float32Array([mdVSFrame.q9 || 0, mdVSFrame.q10 || 0, mdVSFrame.q11 || 0, mdVSFrame.q12 || 0]));
              this.gl.uniform4fv(this.qdLoc, new Float32Array([mdVSFrame.q13 || 0, mdVSFrame.q14 || 0, mdVSFrame.q15 || 0, mdVSFrame.q16 || 0]));
              this.gl.uniform4fv(this.qeLoc, new Float32Array([mdVSFrame.q17 || 0, mdVSFrame.q18 || 0, mdVSFrame.q19 || 0, mdVSFrame.q20 || 0]));
              this.gl.uniform4fv(this.qfLoc, new Float32Array([mdVSFrame.q21 || 0, mdVSFrame.q22 || 0, mdVSFrame.q23 || 0, mdVSFrame.q24 || 0]));
              this.gl.uniform4fv(this.qgLoc, new Float32Array([mdVSFrame.q25 || 0, mdVSFrame.q26 || 0, mdVSFrame.q27 || 0, mdVSFrame.q28 || 0]));
              this.gl.uniform4fv(this.qhLoc, new Float32Array([mdVSFrame.q29 || 0, mdVSFrame.q30 || 0, mdVSFrame.q31 || 0, mdVSFrame.q32 || 0]));
              this.gl.uniform4fv(this.slowRoamCosLoc, [0.5 + 0.5 * Math.cos(mdVSFrame.time * 5e-3), 0.5 + 0.5 * Math.cos(mdVSFrame.time * 8e-3), 0.5 + 0.5 * Math.cos(mdVSFrame.time * 0.013), 0.5 + 0.5 * Math.cos(mdVSFrame.time * 0.022)]);
              this.gl.uniform4fv(this.roamCosLoc, [0.5 + 0.5 * Math.cos(mdVSFrame.time * 0.3), 0.5 + 0.5 * Math.cos(mdVSFrame.time * 1.3), 0.5 + 0.5 * Math.cos(mdVSFrame.time * 5), 0.5 + 0.5 * Math.cos(mdVSFrame.time * 20)]);
              this.gl.uniform4fv(this.slowRoamSinLoc, [0.5 + 0.5 * Math.sin(mdVSFrame.time * 5e-3), 0.5 + 0.5 * Math.sin(mdVSFrame.time * 8e-3), 0.5 + 0.5 * Math.sin(mdVSFrame.time * 0.013), 0.5 + 0.5 * Math.sin(mdVSFrame.time * 0.022)]);
              this.gl.uniform4fv(this.roamSinLoc, [0.5 + 0.5 * Math.sin(mdVSFrame.time * 0.3), 0.5 + 0.5 * Math.sin(mdVSFrame.time * 1.3), 0.5 + 0.5 * Math.sin(mdVSFrame.time * 5), 0.5 + 0.5 * Math.sin(mdVSFrame.time * 20)]);
              this.bindBlurVals(blurMins, blurMaxs);
              if (blending) {
                this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
              } else {
                this.gl.disable(this.gl.BLEND);
              }
              this.gl.drawElements(this.gl.TRIANGLES, this.indices.length, this.gl.UNSIGNED_SHORT, 0);
              if (!blending) {
                this.gl.enable(this.gl.BLEND);
              }
            }
          }]);
          return WarpShader2;
        }();
      },
      "./src/rendering/shapes/customShape.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return CustomShape;
        });
        var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/utils.js");
        var _shaders_shaderUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/rendering/shaders/shaderUtils.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var CustomShape = /* @__PURE__ */ function() {
          function CustomShape2(index, gl, opts) {
            _classCallCheck(this, CustomShape2);
            this.index = index;
            this.gl = gl;
            var maxSides = 101;
            this.positions = new Float32Array((maxSides + 2) * 3);
            this.colors = new Float32Array((maxSides + 2) * 4);
            this.uvs = new Float32Array((maxSides + 2) * 2);
            this.borderPositions = new Float32Array((maxSides + 1) * 3);
            this.texsizeX = opts.texsizeX;
            this.texsizeY = opts.texsizeY;
            this.mesh_width = opts.mesh_width;
            this.mesh_height = opts.mesh_height;
            this.aspectx = opts.aspectx;
            this.aspecty = opts.aspecty;
            this.invAspectx = 1 / this.aspectx;
            this.invAspecty = 1 / this.aspecty;
            this.positionVertexBuf = this.gl.createBuffer();
            this.colorVertexBuf = this.gl.createBuffer();
            this.uvVertexBuf = this.gl.createBuffer();
            this.borderPositionVertexBuf = this.gl.createBuffer();
            this.floatPrecision = _shaders_shaderUtils__WEBPACK_IMPORTED_MODULE_1__["default"].getFragmentFloatPrecision(this.gl);
            this.createShader();
            this.createBorderShader();
            this.mainSampler = this.gl.createSampler();
            gl.samplerParameteri(this.mainSampler, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);
            gl.samplerParameteri(this.mainSampler, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
            gl.samplerParameteri(this.mainSampler, gl.TEXTURE_WRAP_S, gl.REPEAT);
            gl.samplerParameteri(this.mainSampler, gl.TEXTURE_WRAP_T, gl.REPEAT);
          }
          _createClass(CustomShape2, [{
            key: "updateGlobals",
            value: function updateGlobals(opts) {
              this.texsizeX = opts.texsizeX;
              this.texsizeY = opts.texsizeY;
              this.mesh_width = opts.mesh_width;
              this.mesh_height = opts.mesh_height;
              this.aspectx = opts.aspectx;
              this.aspecty = opts.aspecty;
              this.invAspectx = 1 / this.aspectx;
              this.invAspecty = 1 / this.aspecty;
            }
          }, {
            key: "createShader",
            value: function createShader() {
              this.shaderProgram = this.gl.createProgram();
              var vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);
              this.gl.shaderSource(vertShader, "#version 300 es\n                                      in vec3 aPos;\n                                      in vec4 aColor;\n                                      in vec2 aUv;\n                                      out vec4 vColor;\n                                      out vec2 vUv;\n                                      void main(void) {\n                                        vColor = aColor;\n                                        vUv = aUv;\n                                        gl_Position = vec4(aPos, 1.0);\n                                      }");
              this.gl.compileShader(vertShader);
              var fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);
              this.gl.shaderSource(fragShader, "#version 300 es\n                                      precision ".concat(this.floatPrecision, " float;\n                                      precision highp int;\n                                      precision mediump sampler2D;\n                                      uniform sampler2D uTexture;\n                                      uniform float uTextured;\n                                      in vec4 vColor;\n                                      in vec2 vUv;\n                                      out vec4 fragColor;\n                                      void main(void) {\n                                        if (uTextured != 0.0) {\n                                          fragColor = texture(uTexture, vUv) * vColor;\n                                        } else {\n                                          fragColor = vColor;\n                                        }\n                                      }"));
              this.gl.compileShader(fragShader);
              this.gl.attachShader(this.shaderProgram, vertShader);
              this.gl.attachShader(this.shaderProgram, fragShader);
              this.gl.linkProgram(this.shaderProgram);
              this.aPosLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos");
              this.aColorLocation = this.gl.getAttribLocation(this.shaderProgram, "aColor");
              this.aUvLocation = this.gl.getAttribLocation(this.shaderProgram, "aUv");
              this.texturedLoc = this.gl.getUniformLocation(this.shaderProgram, "uTextured");
              this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "uTexture");
            }
          }, {
            key: "createBorderShader",
            value: function createBorderShader() {
              this.borderShaderProgram = this.gl.createProgram();
              var vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);
              this.gl.shaderSource(vertShader, "#version 300 es\n                                      in vec3 aBorderPos;\n                                      uniform vec2 thickOffset;\n                                      void main(void) {\n                                        gl_Position = vec4(aBorderPos +\n                                                           vec3(thickOffset, 0.0), 1.0);\n                                      }");
              this.gl.compileShader(vertShader);
              var fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);
              this.gl.shaderSource(fragShader, "#version 300 es\n                                      precision ".concat(this.floatPrecision, " float;\n                                      precision highp int;\n                                      precision mediump sampler2D;\n                                      out vec4 fragColor;\n                                      uniform vec4 uBorderColor;\n                                      void main(void) {\n                                        fragColor = uBorderColor;\n                                      }"));
              this.gl.compileShader(fragShader);
              this.gl.attachShader(this.borderShaderProgram, vertShader);
              this.gl.attachShader(this.borderShaderProgram, fragShader);
              this.gl.linkProgram(this.borderShaderProgram);
              this.aBorderPosLoc = this.gl.getAttribLocation(this.borderShaderProgram, "aBorderPos");
              this.uBorderColorLoc = this.gl.getUniformLocation(this.borderShaderProgram, "uBorderColor");
              this.thickOffsetLoc = this.gl.getUniformLocation(this.shaderProgram, "thickOffset");
            }
          }, {
            key: "drawCustomShape",
            value: function drawCustomShape(blendProgress, globalVars, presetEquationRunner, shapeEqs, prevTexture) {
              if (shapeEqs.baseVals.enabled !== 0) {
                this.setupShapeBuffers(presetEquationRunner.mdVSFrame);
                var mdVSShape = Object.assign({}, presetEquationRunner.mdVSShapes[this.index], presetEquationRunner.mdVSFrameMapShapes[this.index], presetEquationRunner.mdVSQAfterFrame, presetEquationRunner.mdVSTShapeInits[this.index], globalVars);
                var mdVSShapeBaseVals = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].cloneVars(mdVSShape);
                var numInst = Math.clamp(mdVSShape.num_inst, 1, 1024);
                for (var j = 0; j < numInst; j++) {
                  mdVSShape.instance = j;
                  mdVSShape.x = mdVSShapeBaseVals.x;
                  mdVSShape.y = mdVSShapeBaseVals.y;
                  mdVSShape.rad = mdVSShapeBaseVals.rad;
                  mdVSShape.ang = mdVSShapeBaseVals.ang;
                  mdVSShape.r = mdVSShapeBaseVals.r;
                  mdVSShape.g = mdVSShapeBaseVals.g;
                  mdVSShape.b = mdVSShapeBaseVals.b;
                  mdVSShape.a = mdVSShapeBaseVals.a;
                  mdVSShape.r2 = mdVSShapeBaseVals.r2;
                  mdVSShape.g2 = mdVSShapeBaseVals.g2;
                  mdVSShape.b2 = mdVSShapeBaseVals.b2;
                  mdVSShape.a2 = mdVSShapeBaseVals.a2;
                  mdVSShape.border_r = mdVSShapeBaseVals.border_r;
                  mdVSShape.border_g = mdVSShapeBaseVals.border_g;
                  mdVSShape.border_b = mdVSShapeBaseVals.border_b;
                  mdVSShape.border_a = mdVSShapeBaseVals.border_a;
                  mdVSShape.thickoutline = mdVSShapeBaseVals.thickoutline;
                  mdVSShape.textured = mdVSShapeBaseVals.textured;
                  mdVSShape.tex_zoom = mdVSShapeBaseVals.tex_zoom;
                  mdVSShape.tex_ang = mdVSShapeBaseVals.tex_ang;
                  mdVSShape.additive = mdVSShapeBaseVals.additive;
                  var mdVSShapeFrame = shapeEqs.frame_eqs(mdVSShape);
                  var sides = mdVSShapeFrame.sides;
                  sides = Math.clamp(sides, 3, 100);
                  sides = Math.floor(sides);
                  var rad = mdVSShapeFrame.rad;
                  var ang = mdVSShapeFrame.ang;
                  var x = mdVSShapeFrame.x * 2 - 1;
                  var y = mdVSShapeFrame.y * -2 + 1;
                  var r = mdVSShapeFrame.r;
                  var g = mdVSShapeFrame.g;
                  var b = mdVSShapeFrame.b;
                  var a = mdVSShapeFrame.a;
                  var r2 = mdVSShapeFrame.r2;
                  var g2 = mdVSShapeFrame.g2;
                  var b2 = mdVSShapeFrame.b2;
                  var a2 = mdVSShapeFrame.a2;
                  var borderR = mdVSShapeFrame.border_r;
                  var borderG = mdVSShapeFrame.border_g;
                  var borderB = mdVSShapeFrame.border_b;
                  var borderA = mdVSShapeFrame.border_a;
                  this.borderColor = [borderR, borderG, borderB, borderA * blendProgress];
                  var thickoutline = mdVSShapeFrame.thickoutline;
                  var textured = mdVSShapeFrame.textured;
                  var texZoom = mdVSShapeFrame.tex_zoom;
                  var texAng = mdVSShapeFrame.tex_ang;
                  var additive = mdVSShapeFrame.additive;
                  var hasBorder = this.borderColor[3] > 0;
                  var isTextured = Math.abs(textured) >= 1;
                  var isBorderThick = Math.abs(thickoutline) >= 1;
                  var isAdditive = Math.abs(additive) >= 1;
                  this.positions[0] = x;
                  this.positions[1] = y;
                  this.positions[2] = 0;
                  this.colors[0] = r;
                  this.colors[1] = g;
                  this.colors[2] = b;
                  this.colors[3] = a * blendProgress;
                  if (isTextured) {
                    this.uvs[0] = 0.5;
                    this.uvs[1] = 0.5;
                  }
                  var quarterPi = Math.PI * 0.25;
                  for (var k = 1; k <= sides + 1; k++) {
                    var p = (k - 1) / sides;
                    var pTwoPi = p * 2 * Math.PI;
                    var angSum = pTwoPi + ang + quarterPi;
                    this.positions[k * 3 + 0] = x + rad * Math.cos(angSum) * this.aspecty;
                    this.positions[k * 3 + 1] = y + rad * Math.sin(angSum);
                    this.positions[k * 3 + 2] = 0;
                    this.colors[k * 4 + 0] = r2;
                    this.colors[k * 4 + 1] = g2;
                    this.colors[k * 4 + 2] = b2;
                    this.colors[k * 4 + 3] = a2 * blendProgress;
                    if (isTextured) {
                      var texAngSum = pTwoPi + texAng + quarterPi;
                      this.uvs[k * 2 + 0] = 0.5 + 0.5 * Math.cos(texAngSum) / texZoom * this.aspecty;
                      this.uvs[k * 2 + 1] = 0.5 + 0.5 * Math.sin(texAngSum) / texZoom;
                    }
                    if (hasBorder) {
                      this.borderPositions[(k - 1) * 3 + 0] = this.positions[k * 3 + 0];
                      this.borderPositions[(k - 1) * 3 + 1] = this.positions[k * 3 + 1];
                      this.borderPositions[(k - 1) * 3 + 2] = this.positions[k * 3 + 2];
                    }
                  }
                  this.mdVSShapeFrame = mdVSShapeFrame;
                  this.drawCustomShapeInstance(prevTexture, sides, isTextured, hasBorder, isBorderThick, isAdditive);
                }
                var mdVSUserKeysShape = presetEquationRunner.mdVSUserKeysShapes[this.index];
                var mdVSNewFrameMapShape = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].pick(this.mdVSShapeFrame, mdVSUserKeysShape);
                presetEquationRunner.mdVSFrameMapShapes[this.index] = mdVSNewFrameMapShape;
              }
            }
          }, {
            key: "setupShapeBuffers",
            value: function setupShapeBuffers(mdVSFrame) {
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf);
              this.gl.bufferData(this.gl.ARRAY_BUFFER, this.positions, this.gl.DYNAMIC_DRAW);
              this.gl.vertexAttribPointer(this.aPosLocation, 3, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.aPosLocation);
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorVertexBuf);
              this.gl.bufferData(this.gl.ARRAY_BUFFER, this.colors, this.gl.DYNAMIC_DRAW);
              this.gl.vertexAttribPointer(this.aColorLocation, 4, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.aColorLocation);
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.uvVertexBuf);
              this.gl.bufferData(this.gl.ARRAY_BUFFER, this.uvs, this.gl.DYNAMIC_DRAW);
              this.gl.vertexAttribPointer(this.aUvLocation, 2, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.aUvLocation);
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.borderPositionVertexBuf);
              this.gl.bufferData(this.gl.ARRAY_BUFFER, this.borderPositions, this.gl.DYNAMIC_DRAW);
              this.gl.vertexAttribPointer(this.aBorderPosLoc, 3, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.aBorderPosLoc);
              var wrapping = mdVSFrame.wrap !== 0 ? this.gl.REPEAT : this.gl.CLAMP_TO_EDGE;
              this.gl.samplerParameteri(this.mainSampler, this.gl.TEXTURE_WRAP_S, wrapping);
              this.gl.samplerParameteri(this.mainSampler, this.gl.TEXTURE_WRAP_T, wrapping);
            }
          }, {
            key: "drawCustomShapeInstance",
            value: function drawCustomShapeInstance(prevTexture, sides, isTextured, hasBorder, isBorderThick, isAdditive) {
              this.gl.useProgram(this.shaderProgram);
              var updatedPositions = new Float32Array(this.positions.buffer, 0, (sides + 2) * 3);
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf);
              this.gl.bufferSubData(this.gl.ARRAY_BUFFER, 0, updatedPositions);
              this.gl.vertexAttribPointer(this.aPosLocation, 3, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.aPosLocation);
              var updatedColors = new Float32Array(this.colors.buffer, 0, (sides + 2) * 4);
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorVertexBuf);
              this.gl.bufferSubData(this.gl.ARRAY_BUFFER, 0, updatedColors);
              this.gl.vertexAttribPointer(this.aColorLocation, 4, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.aColorLocation);
              if (isTextured) {
                var updatedUvs = new Float32Array(this.uvs.buffer, 0, (sides + 2) * 2);
                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.uvVertexBuf);
                this.gl.bufferSubData(this.gl.ARRAY_BUFFER, 0, updatedUvs);
                this.gl.vertexAttribPointer(this.aUvLocation, 2, this.gl.FLOAT, false, 0, 0);
                this.gl.enableVertexAttribArray(this.aUvLocation);
              }
              this.gl.uniform1f(this.texturedLoc, isTextured ? 1 : 0);
              this.gl.activeTexture(this.gl.TEXTURE0);
              this.gl.bindTexture(this.gl.TEXTURE_2D, prevTexture);
              this.gl.bindSampler(0, this.mainSampler);
              this.gl.uniform1i(this.textureLoc, 0);
              if (isAdditive) {
                this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE);
              } else {
                this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
              }
              this.gl.drawArrays(this.gl.TRIANGLE_FAN, 0, sides + 2);
              if (hasBorder) {
                this.gl.useProgram(this.borderShaderProgram);
                var updatedBorderPos = new Float32Array(this.borderPositions.buffer, 0, (sides + 1) * 3);
                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.borderPositionVertexBuf);
                this.gl.bufferSubData(this.gl.ARRAY_BUFFER, 0, updatedBorderPos);
                this.gl.vertexAttribPointer(this.aBorderPosLoc, 3, this.gl.FLOAT, false, 0, 0);
                this.gl.enableVertexAttribArray(this.aBorderPosLoc);
                this.gl.uniform4fv(this.uBorderColorLoc, this.borderColor);
                var instances = isBorderThick ? 4 : 1;
                for (var i = 0; i < instances; i++) {
                  var offset = 2;
                  if (i === 0) {
                    this.gl.uniform2fv(this.thickOffsetLoc, [0, 0]);
                  } else if (i === 1) {
                    this.gl.uniform2fv(this.thickOffsetLoc, [offset / this.texsizeX, 0]);
                  } else if (i === 2) {
                    this.gl.uniform2fv(this.thickOffsetLoc, [0, offset / this.texsizeY]);
                  } else if (i === 3) {
                    this.gl.uniform2fv(this.thickOffsetLoc, [offset / this.texsizeX, offset / this.texsizeY]);
                  }
                  this.gl.drawArrays(this.gl.LINE_STRIP, 0, sides + 1);
                }
              }
            }
          }]);
          return CustomShape2;
        }();
      },
      "./src/rendering/sprites/border.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return Border;
        });
        var _shaders_shaderUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/rendering/shaders/shaderUtils.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var Border = /* @__PURE__ */ function() {
          function Border2(gl) {
            var opts = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
            _classCallCheck(this, Border2);
            this.gl = gl;
            this.positions = new Float32Array(72);
            this.aspectx = opts.aspectx;
            this.aspecty = opts.aspecty;
            this.invAspectx = 1 / this.aspectx;
            this.invAspecty = 1 / this.aspecty;
            this.floatPrecision = _shaders_shaderUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getFragmentFloatPrecision(this.gl);
            this.createShader();
            this.vertexBuf = this.gl.createBuffer();
          }
          _createClass(Border2, [{
            key: "updateGlobals",
            value: function updateGlobals(opts) {
              this.aspectx = opts.aspectx;
              this.aspecty = opts.aspecty;
              this.invAspectx = 1 / this.aspectx;
              this.invAspecty = 1 / this.aspecty;
            }
          }, {
            key: "createShader",
            value: function createShader() {
              this.shaderProgram = this.gl.createProgram();
              var vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);
              this.gl.shaderSource(vertShader, "#version 300 es\n                                      in vec3 aPos;\n                                      void main(void) {\n                                        gl_Position = vec4(aPos, 1.0);\n                                      }");
              this.gl.compileShader(vertShader);
              var fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);
              this.gl.shaderSource(fragShader, "#version 300 es\n                                      precision ".concat(this.floatPrecision, " float;\n                                      precision highp int;\n                                      precision mediump sampler2D;\n                                      out vec4 fragColor;\n                                      uniform vec4 u_color;\n                                      void main(void) {\n                                        fragColor = u_color;\n                                      }"));
              this.gl.compileShader(fragShader);
              this.gl.attachShader(this.shaderProgram, vertShader);
              this.gl.attachShader(this.shaderProgram, fragShader);
              this.gl.linkProgram(this.shaderProgram);
              this.aPosLoc = this.gl.getAttribLocation(this.shaderProgram, "aPos");
              this.colorLoc = this.gl.getUniformLocation(this.shaderProgram, "u_color");
            }
          }, {
            key: "addTriangle",
            value: function addTriangle(offset, point1, point2, point3) {
              this.positions[offset + 0] = point1[0];
              this.positions[offset + 1] = point1[1];
              this.positions[offset + 2] = point1[2];
              this.positions[offset + 3] = point2[0];
              this.positions[offset + 4] = point2[1];
              this.positions[offset + 5] = point2[2];
              this.positions[offset + 6] = point3[0];
              this.positions[offset + 7] = point3[1];
              this.positions[offset + 8] = point3[2];
            }
          }, {
            key: "generateBorder",
            value: function generateBorder(borderColor, borderSize, prevBorderSize) {
              if (borderSize > 0 && borderColor[3] > 0) {
                var width = 2;
                var height = 2;
                var widthHalf = width / 2;
                var heightHalf = height / 2;
                var prevBorderWidth = prevBorderSize / 2;
                var borderWidth = borderSize / 2 + prevBorderWidth;
                var prevBorderWidthWidth = prevBorderWidth * width;
                var prevBorderWidthHeight = prevBorderWidth * height;
                var borderWidthWidth = borderWidth * width;
                var borderWidthHeight = borderWidth * height;
                var point1 = [-widthHalf + prevBorderWidthWidth, -heightHalf + borderWidthHeight, 0];
                var point2 = [-widthHalf + prevBorderWidthWidth, heightHalf - borderWidthHeight, 0];
                var point3 = [-widthHalf + borderWidthWidth, heightHalf - borderWidthHeight, 0];
                var point4 = [-widthHalf + borderWidthWidth, -heightHalf + borderWidthHeight, 0];
                this.addTriangle(0, point4, point2, point1);
                this.addTriangle(9, point4, point3, point2);
                point1 = [widthHalf - prevBorderWidthWidth, -heightHalf + borderWidthHeight, 0];
                point2 = [widthHalf - prevBorderWidthWidth, heightHalf - borderWidthHeight, 0];
                point3 = [widthHalf - borderWidthWidth, heightHalf - borderWidthHeight, 0];
                point4 = [widthHalf - borderWidthWidth, -heightHalf + borderWidthHeight, 0];
                this.addTriangle(18, point1, point2, point4);
                this.addTriangle(27, point2, point3, point4);
                point1 = [-widthHalf + prevBorderWidthWidth, -heightHalf + prevBorderWidthHeight, 0];
                point2 = [-widthHalf + prevBorderWidthWidth, borderWidthHeight - heightHalf, 0];
                point3 = [widthHalf - prevBorderWidthWidth, borderWidthHeight - heightHalf, 0];
                point4 = [widthHalf - prevBorderWidthWidth, -heightHalf + prevBorderWidthHeight, 0];
                this.addTriangle(36, point4, point2, point1);
                this.addTriangle(45, point4, point3, point2);
                point1 = [-widthHalf + prevBorderWidthWidth, heightHalf - prevBorderWidthHeight, 0];
                point2 = [-widthHalf + prevBorderWidthWidth, heightHalf - borderWidthHeight, 0];
                point3 = [widthHalf - prevBorderWidthWidth, heightHalf - borderWidthHeight, 0];
                point4 = [widthHalf - prevBorderWidthWidth, heightHalf - prevBorderWidthHeight, 0];
                this.addTriangle(54, point1, point2, point4);
                this.addTriangle(63, point2, point3, point4);
                return true;
              }
              return false;
            }
          }, {
            key: "drawBorder",
            value: function drawBorder(borderColor, borderSize, prevBorderSize) {
              if (this.generateBorder(borderColor, borderSize, prevBorderSize)) {
                this.gl.useProgram(this.shaderProgram);
                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf);
                this.gl.bufferData(this.gl.ARRAY_BUFFER, this.positions, this.gl.STATIC_DRAW);
                this.gl.vertexAttribPointer(this.aPosLoc, 3, this.gl.FLOAT, false, 0, 0);
                this.gl.enableVertexAttribArray(this.aPosLoc);
                this.gl.uniform4fv(this.colorLoc, borderColor);
                this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
                this.gl.drawArrays(this.gl.TRIANGLES, 0, this.positions.length / 3);
              }
            }
          }]);
          return Border2;
        }();
      },
      "./src/rendering/sprites/darkenCenter.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return CustomShape;
        });
        var _shaders_shaderUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/rendering/shaders/shaderUtils.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var CustomShape = /* @__PURE__ */ function() {
          function CustomShape2(gl, opts) {
            _classCallCheck(this, CustomShape2);
            this.gl = gl;
            this.aspectx = opts.aspectx;
            this.aspecty = opts.aspecty;
            this.invAspectx = 1 / this.aspectx;
            this.invAspecty = 1 / this.aspecty;
            this.generatePositions();
            this.colors = new Float32Array([0, 0, 0, 3 / 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
            this.positionVertexBuf = this.gl.createBuffer();
            this.colorVertexBuf = this.gl.createBuffer();
            this.floatPrecision = _shaders_shaderUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getFragmentFloatPrecision(this.gl);
            this.createShader();
          }
          _createClass(CustomShape2, [{
            key: "updateGlobals",
            value: function updateGlobals(opts) {
              this.aspectx = opts.aspectx;
              this.aspecty = opts.aspecty;
              this.invAspectx = 1 / this.aspectx;
              this.invAspecty = 1 / this.aspecty;
              this.generatePositions();
            }
          }, {
            key: "generatePositions",
            value: function generatePositions() {
              var halfSize = 0.05;
              this.positions = new Float32Array([0, 0, 0, -halfSize * this.aspecty, 0, 0, 0, -halfSize, 0, halfSize * this.aspecty, 0, 0, 0, halfSize, 0, -halfSize * this.aspecty, 0, 0]);
            }
          }, {
            key: "createShader",
            value: function createShader() {
              this.shaderProgram = this.gl.createProgram();
              var vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);
              this.gl.shaderSource(vertShader, "#version 300 es\n                                      in vec3 aPos;\n                                      in vec4 aColor;\n                                      out vec4 vColor;\n                                      void main(void) {\n                                        vColor = aColor;\n                                        gl_Position = vec4(aPos, 1.0);\n                                      }");
              this.gl.compileShader(vertShader);
              var fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);
              this.gl.shaderSource(fragShader, "#version 300 es\n                                      precision ".concat(this.floatPrecision, " float;\n                                      precision highp int;\n                                      precision mediump sampler2D;\n                                      in vec4 vColor;\n                                      out vec4 fragColor;\n                                      void main(void) {\n                                        fragColor = vColor;\n                                      }"));
              this.gl.compileShader(fragShader);
              this.gl.attachShader(this.shaderProgram, vertShader);
              this.gl.attachShader(this.shaderProgram, fragShader);
              this.gl.linkProgram(this.shaderProgram);
              this.aPosLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos");
              this.aColorLocation = this.gl.getAttribLocation(this.shaderProgram, "aColor");
            }
          }, {
            key: "drawDarkenCenter",
            value: function drawDarkenCenter(mdVSFrame) {
              if (mdVSFrame.darken_center !== 0) {
                this.gl.useProgram(this.shaderProgram);
                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf);
                this.gl.bufferData(this.gl.ARRAY_BUFFER, this.positions, this.gl.STATIC_DRAW);
                this.gl.vertexAttribPointer(this.aPosLocation, 3, this.gl.FLOAT, false, 0, 0);
                this.gl.enableVertexAttribArray(this.aPosLocation);
                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorVertexBuf);
                this.gl.bufferData(this.gl.ARRAY_BUFFER, this.colors, this.gl.STATIC_DRAW);
                this.gl.vertexAttribPointer(this.aColorLocation, 4, this.gl.FLOAT, false, 0, 0);
                this.gl.enableVertexAttribArray(this.aColorLocation);
                this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
                this.gl.drawArrays(this.gl.TRIANGLE_FAN, 0, this.positions.length / 3);
              }
            }
          }]);
          return CustomShape2;
        }();
      },
      "./src/rendering/text/titleText.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return TitleText;
        });
        var _shaders_shaderUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/rendering/shaders/shaderUtils.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var TitleText = /* @__PURE__ */ function() {
          function TitleText2(gl) {
            var opts = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
            _classCallCheck(this, TitleText2);
            this.gl = gl;
            this.texsizeX = opts.texsizeX;
            this.texsizeY = opts.texsizeY;
            this.aspectx = opts.aspectx;
            this.aspecty = opts.aspecty;
            this.invAspectx = 1 / this.aspectx;
            this.invAspecty = 1 / this.aspecty;
            this.buildPositions();
            this.textTexture = this.gl.createTexture();
            this.indexBuf = gl.createBuffer();
            this.positionVertexBuf = this.gl.createBuffer();
            this.vertexBuf = this.gl.createBuffer();
            this.canvas = document.createElement("canvas");
            this.canvas.width = this.texsizeX;
            this.canvas.height = this.texsizeY;
            this.context2D = this.canvas.getContext("2d");
            this.floatPrecision = _shaders_shaderUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getFragmentFloatPrecision(this.gl);
            this.createShader();
          }
          _createClass(TitleText2, [{
            key: "generateTitleTexture",
            value: function generateTitleTexture(text) {
              this.context2D.clearRect(0, 0, this.texsizeX, this.texsizeY);
              this.fontSize = Math.floor(16 * (this.texsizeX / 256));
              this.fontSize = Math.max(this.fontSize, 6);
              this.context2D.font = "italic ".concat(this.fontSize, "px Times New Roman");
              var titleText = text;
              var textLength = this.context2D.measureText(titleText).width;
              if (textLength > this.texsizeX) {
                var percentToKeep = 0.91 * (this.texsizeX / textLength);
                titleText = "".concat(titleText.substring(0, Math.floor(titleText.length * percentToKeep)), "...");
                textLength = this.context2D.measureText(titleText).width;
              }
              this.context2D.fillStyle = "#FFFFFF";
              this.context2D.fillText(titleText, (this.texsizeX - textLength) / 2, this.texsizeY / 2);
              var imageData = new Uint8Array(this.context2D.getImageData(0, 0, this.texsizeX, this.texsizeY).data.buffer);
              this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, true);
              this.gl.bindTexture(this.gl.TEXTURE_2D, this.textTexture);
              this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.texsizeX, this.texsizeY, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, imageData);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR_MIPMAP_LINEAR);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);
              this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);
              this.gl.generateMipmap(this.gl.TEXTURE_2D);
              this.gl.bindTexture(this.gl.TEXTURE_2D, null);
            }
          }, {
            key: "updateGlobals",
            value: function updateGlobals(opts) {
              this.texsizeX = opts.texsizeX;
              this.texsizeY = opts.texsizeY;
              this.aspectx = opts.aspectx;
              this.aspecty = opts.aspecty;
              this.invAspectx = 1 / this.aspectx;
              this.invAspecty = 1 / this.aspecty;
              this.canvas.width = this.texsizeX;
              this.canvas.height = this.texsizeY;
            }
          }, {
            key: "buildPositions",
            value: function buildPositions() {
              var width = 2;
              var height = 2;
              var widthHalf = width / 2;
              var heightHalf = height / 2;
              var gridX = 15;
              var gridY = 7;
              var gridX1 = gridX + 1;
              var gridY1 = gridY + 1;
              var segmentWidth = width / gridX;
              var segmentHeight = height / gridY;
              var vertices = [];
              for (var iy = 0; iy < gridY1; iy++) {
                var y = iy * segmentHeight - heightHalf;
                for (var ix = 0; ix < gridX1; ix++) {
                  var x = ix * segmentWidth - widthHalf;
                  vertices.push(x, -y, 0);
                }
              }
              var indices = [];
              for (var _iy = 0; _iy < gridY; _iy++) {
                for (var _ix = 0; _ix < gridX; _ix++) {
                  var a = _ix + gridX1 * _iy;
                  var b = _ix + gridX1 * (_iy + 1);
                  var c = _ix + 1 + gridX1 * (_iy + 1);
                  var d = _ix + 1 + gridX1 * _iy;
                  indices.push(a, b, d);
                  indices.push(b, c, d);
                }
              }
              this.vertices = new Float32Array(vertices);
              this.indices = new Uint16Array(indices);
            }
          }, {
            key: "createShader",
            value: function createShader() {
              this.shaderProgram = this.gl.createProgram();
              var vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);
              this.gl.shaderSource(vertShader, "#version 300 es\n       const vec2 halfmad = vec2(0.5);\n       in vec2 aPos;\n       in vec2 aUv;\n       out vec2 uv_orig;\n       out vec2 uv;\n       void main(void) {\n         gl_Position = vec4(aPos, 0.0, 1.0);\n         uv_orig = aPos * halfmad + halfmad;\n         uv = aUv;\n       }");
              this.gl.compileShader(vertShader);
              var fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);
              this.gl.shaderSource(fragShader, "#version 300 es\n       precision ".concat(this.floatPrecision, " float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv_orig;\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n       uniform float textColor;\n\n       void main(void) {\n         fragColor = texture(uTexture, uv) * vec4(textColor);\n       }"));
              this.gl.compileShader(fragShader);
              this.gl.attachShader(this.shaderProgram, vertShader);
              this.gl.attachShader(this.shaderProgram, fragShader);
              this.gl.linkProgram(this.shaderProgram);
              this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos");
              this.uvLocation = this.gl.getAttribLocation(this.shaderProgram, "aUv");
              this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "uTexture");
              this.textColorLoc = this.gl.getUniformLocation(this.shaderProgram, "textColor");
            }
          }, {
            key: "generateUvs",
            value: function generateUvs(progress, flip, globalVars) {
              var gridX = 15;
              var gridY = 7;
              var gridX1 = gridX + 1;
              var gridY1 = gridY + 1;
              var uvs = [];
              var vertClip = 0.75;
              for (var j = 0; j < gridY1; j++) {
                for (var i = 0; i < gridX1; i++) {
                  var u = i / gridX;
                  var v = (j / gridY - 0.5) * vertClip + 0.5;
                  var x = u * 2 - 1;
                  var y = v * 2 - 1;
                  if (progress >= 1) {
                    y += 1 / this.texsizeY;
                  }
                  uvs.push(x, flip ? y : -y);
                }
              }
              var rampedProgress = Math.max(0, 1 - progress * 1.5);
              var t2 = Math.pow(rampedProgress, 1.8) * 1.3;
              for (var _j = 0; _j < gridY1; _j++) {
                for (var _i = 0; _i < gridX1; _i++) {
                  var idx = _j * gridX1 + _i;
                  uvs[idx] += t2 * 0.07 * Math.sin(globalVars.time * 0.31 + uvs[idx] * 0.39 - uvs[idx + 1] * 1.94);
                  uvs[idx] += t2 * 0.044 * Math.sin(globalVars.time * 0.81 - uvs[idx] * 1.91 + uvs[idx + 1] * 0.27);
                  uvs[idx] += t2 * 0.061 * Math.sin(globalVars.time * 1.31 + uvs[idx] * 0.61 + uvs[idx + 1] * 0.74);
                  uvs[idx + 1] += t2 * 0.061 * Math.sin(globalVars.time * 0.37 + uvs[idx] * 1.83 + uvs[idx + 1] * 0.69);
                  uvs[idx + 1] += t2 * 0.07 * Math.sin(globalVars.time * 0.67 + uvs[idx] * 0.42 - uvs[idx + 1] * 1.39);
                  uvs[idx + 1] += t2 * 0.087 * Math.sin(globalVars.time * 1.07 + uvs[idx] * 3.55 + uvs[idx + 1] * 0.89);
                }
              }
              var scale = 1.01 / (Math.pow(progress, 0.21) + 0.01);
              for (var _i2 = 0; _i2 < uvs.length / 2; _i2++) {
                uvs[_i2 * 2] *= scale;
                uvs[_i2 * 2 + 1] *= scale * this.invAspecty;
                uvs[_i2 * 2] = (uvs[_i2 * 2] + 1) / 2;
                uvs[_i2 * 2 + 1] = (uvs[_i2 * 2 + 1] + 1) / 2;
              }
              return new Float32Array(uvs);
            }
          }, {
            key: "renderTitle",
            value: function renderTitle(progress, flip, globalVars) {
              this.gl.useProgram(this.shaderProgram);
              var progressUvs = this.generateUvs(progress, flip, globalVars);
              this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.indexBuf);
              this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, this.indices, this.gl.STATIC_DRAW);
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf);
              this.gl.bufferData(this.gl.ARRAY_BUFFER, this.vertices, this.gl.STATIC_DRAW);
              this.gl.vertexAttribPointer(this.positionLocation, 3, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.positionLocation);
              this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf);
              this.gl.bufferData(this.gl.ARRAY_BUFFER, progressUvs, this.gl.STATIC_DRAW);
              this.gl.vertexAttribPointer(this.uvLocation, 2, this.gl.FLOAT, false, 0, 0);
              this.gl.enableVertexAttribArray(this.uvLocation);
              this.gl.activeTexture(this.gl.TEXTURE0);
              this.gl.bindTexture(this.gl.TEXTURE_2D, this.textTexture);
              this.gl.uniform1i(this.textureLoc, 0);
              this.gl.uniform1f(this.textColorLoc, Math.pow(progress, 0.3));
              this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
              this.gl.drawElements(this.gl.TRIANGLES, this.indices.length, this.gl.UNSIGNED_SHORT, 0);
            }
          }]);
          return TitleText2;
        }();
      },
      "./src/rendering/waves/basicWaveform.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return BasicWaveform;
        });
        var _shaders_shaderUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/rendering/shaders/shaderUtils.js");
        var _waveUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/rendering/waves/waveUtils.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var BasicWaveform = /* @__PURE__ */ function() {
          function BasicWaveform2(gl) {
            var opts = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
            _classCallCheck(this, BasicWaveform2);
            this.gl = gl;
            var numAudioSamples = 512;
            this.positions = new Float32Array(numAudioSamples * 3);
            this.positions2 = new Float32Array(numAudioSamples * 3);
            this.oldPositions = new Float32Array(numAudioSamples * 3);
            this.oldPositions2 = new Float32Array(numAudioSamples * 3);
            this.smoothedPositions = new Float32Array((numAudioSamples * 2 - 1) * 3);
            this.smoothedPositions2 = new Float32Array((numAudioSamples * 2 - 1) * 3);
            this.color = [0, 0, 0, 1];
            this.texsizeX = opts.texsizeX;
            this.texsizeY = opts.texsizeY;
            this.aspectx = opts.aspectx;
            this.aspecty = opts.aspecty;
            this.invAspectx = 1 / this.aspectx;
            this.invAspecty = 1 / this.aspecty;
            this.floatPrecision = _shaders_shaderUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getFragmentFloatPrecision(this.gl);
            this.createShader();
            this.vertexBuf = this.gl.createBuffer();
          }
          _createClass(BasicWaveform2, [{
            key: "updateGlobals",
            value: function updateGlobals(opts) {
              this.texsizeX = opts.texsizeX;
              this.texsizeY = opts.texsizeY;
              this.aspectx = opts.aspectx;
              this.aspecty = opts.aspecty;
              this.invAspectx = 1 / this.aspectx;
              this.invAspecty = 1 / this.aspecty;
            }
          }, {
            key: "createShader",
            value: function createShader() {
              this.shaderProgram = this.gl.createProgram();
              var vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);
              this.gl.shaderSource(vertShader, "#version 300 es\n                                      in vec3 aPos;\n                                      uniform vec2 thickOffset;\n                                      void main(void) {\n                                        gl_Position = vec4(aPos + vec3(thickOffset, 0.0), 1.0);\n                                      }");
              this.gl.compileShader(vertShader);
              var fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);
              this.gl.shaderSource(fragShader, "#version 300 es\n                                      precision ".concat(this.floatPrecision, " float;\n                                      precision highp int;\n                                      precision mediump sampler2D;\n                                      out vec4 fragColor;\n                                      uniform vec4 u_color;\n                                      void main(void) {\n                                        fragColor = u_color;\n                                      }"));
              this.gl.compileShader(fragShader);
              this.gl.attachShader(this.shaderProgram, vertShader);
              this.gl.attachShader(this.shaderProgram, fragShader);
              this.gl.linkProgram(this.shaderProgram);
              this.aPosLoc = this.gl.getAttribLocation(this.shaderProgram, "aPos");
              this.colorLoc = this.gl.getUniformLocation(this.shaderProgram, "u_color");
              this.thickOffsetLoc = this.gl.getUniformLocation(this.shaderProgram, "thickOffset");
            }
          }, {
            key: "generateWaveform",
            value: function generateWaveform(blending, blendProgress, timeArrayL, timeArrayR, mdVSFrame) {
              var alpha = mdVSFrame.wave_a;
              var vol = (mdVSFrame.bass + mdVSFrame.mid + mdVSFrame.treb) / 3;
              if (vol > -0.01 && alpha > 1e-3 && timeArrayL.length > 0) {
                var waveL = BasicWaveform2.processWaveform(timeArrayL, mdVSFrame);
                var waveR = BasicWaveform2.processWaveform(timeArrayR, mdVSFrame);
                var newWaveMode = Math.floor(mdVSFrame.wave_mode) % 8;
                var oldWaveMode = Math.floor(mdVSFrame.old_wave_mode) % 8;
                var wavePosX = mdVSFrame.wave_x * 2 - 1;
                var wavePosY = mdVSFrame.wave_y * 2 - 1;
                this.numVert = 0;
                this.oldNumVert = 0;
                var its = blending && newWaveMode !== oldWaveMode ? 2 : 1;
                for (var it = 0; it < its; it++) {
                  var waveMode = it === 0 ? newWaveMode : oldWaveMode;
                  var fWaveParam2 = mdVSFrame.wave_mystery;
                  if ((waveMode === 0 || waveMode === 1 || waveMode === 4) && (fWaveParam2 < -1 || fWaveParam2 > 1)) {
                    fWaveParam2 = fWaveParam2 * 0.5 + 0.5;
                    fWaveParam2 -= Math.floor(fWaveParam2);
                    fWaveParam2 = Math.abs(fWaveParam2);
                    fWaveParam2 = fWaveParam2 * 2 - 1;
                  }
                  var numVert = void 0;
                  var positions = void 0;
                  var positions2 = void 0;
                  if (it === 0) {
                    positions = this.positions;
                    positions2 = this.positions2;
                  } else {
                    positions = this.oldPositions;
                    positions2 = this.oldPositions2;
                  }
                  alpha = mdVSFrame.wave_a;
                  if (waveMode === 0) {
                    if (mdVSFrame.modwavealphabyvolume > 0) {
                      var alphaDiff = mdVSFrame.modwavealphaend - mdVSFrame.modwavealphastart;
                      alpha *= (vol - mdVSFrame.modwavealphastart) / alphaDiff;
                    }
                    alpha = Math.clamp(alpha, 0, 1);
                    numVert = Math.floor(waveL.length / 2) + 1;
                    var numVertInv = 1 / (numVert - 1);
                    var sampleOffset = Math.floor((waveL.length - numVert) / 2);
                    for (var i = 0; i < numVert - 1; i++) {
                      var rad = 0.5 + 0.4 * waveR[i + sampleOffset] + fWaveParam2;
                      var ang = i * numVertInv * 2 * Math.PI + mdVSFrame.time * 0.2;
                      if (i < numVert / 10) {
                        var _mix = i / (numVert * 0.1);
                        _mix = 0.5 - 0.5 * Math.cos(_mix * Math.PI);
                        var rad2 = 0.5 + 0.4 * waveR[i + numVert + sampleOffset] + fWaveParam2;
                        rad = (1 - _mix) * rad2 + rad * _mix;
                      }
                      positions[i * 3 + 0] = rad * Math.cos(ang) * this.aspecty + wavePosX;
                      positions[i * 3 + 1] = rad * Math.sin(ang) * this.aspectx + wavePosY;
                      positions[i * 3 + 2] = 0;
                    }
                    positions[(numVert - 1) * 3 + 0] = positions[0];
                    positions[(numVert - 1) * 3 + 1] = positions[1];
                    positions[(numVert - 1) * 3 + 2] = 0;
                  } else if (waveMode === 1) {
                    alpha *= 1.25;
                    if (mdVSFrame.modwavealphabyvolume > 0) {
                      var _alphaDiff = mdVSFrame.modwavealphaend - mdVSFrame.modwavealphastart;
                      alpha *= (vol - mdVSFrame.modwavealphastart) / _alphaDiff;
                    }
                    alpha = Math.clamp(alpha, 0, 1);
                    numVert = Math.floor(waveL.length / 2);
                    for (var _i = 0; _i < numVert; _i++) {
                      var _rad = 0.53 + 0.43 * waveR[_i] + fWaveParam2;
                      var _ang = waveL[_i + 32] * 0.5 * Math.PI + mdVSFrame.time * 2.3;
                      positions[_i * 3 + 0] = _rad * Math.cos(_ang) * this.aspecty + wavePosX;
                      positions[_i * 3 + 1] = _rad * Math.sin(_ang) * this.aspectx + wavePosY;
                      positions[_i * 3 + 2] = 0;
                    }
                  } else if (waveMode === 2) {
                    if (this.texsizeX < 1024) {
                      alpha *= 0.09;
                    } else if (this.texsizeX >= 1024 && this.texsizeX < 2048) {
                      alpha *= 0.11;
                    } else {
                      alpha *= 0.13;
                    }
                    if (mdVSFrame.modwavealphabyvolume > 0) {
                      var _alphaDiff2 = mdVSFrame.modwavealphaend - mdVSFrame.modwavealphastart;
                      alpha *= (vol - mdVSFrame.modwavealphastart) / _alphaDiff2;
                    }
                    alpha = Math.clamp(alpha, 0, 1);
                    numVert = waveL.length;
                    for (var _i2 = 0; _i2 < waveL.length; _i2++) {
                      positions[_i2 * 3 + 0] = waveR[_i2] * this.aspecty + wavePosX;
                      positions[_i2 * 3 + 1] = waveL[(_i2 + 32) % waveL.length] * this.aspectx + wavePosY;
                      positions[_i2 * 3 + 2] = 0;
                    }
                  } else if (waveMode === 3) {
                    if (this.texsizeX < 1024) {
                      alpha *= 0.15;
                    } else if (this.texsizeX >= 1024 && this.texsizeX < 2048) {
                      alpha *= 0.22;
                    } else {
                      alpha *= 0.33;
                    }
                    alpha *= 1.3;
                    alpha *= mdVSFrame.treb * mdVSFrame.treb;
                    if (mdVSFrame.modwavealphabyvolume > 0) {
                      var _alphaDiff3 = mdVSFrame.modwavealphaend - mdVSFrame.modwavealphastart;
                      alpha *= (vol - mdVSFrame.modwavealphastart) / _alphaDiff3;
                    }
                    alpha = Math.clamp(alpha, 0, 1);
                    numVert = waveL.length;
                    for (var _i3 = 0; _i3 < waveL.length; _i3++) {
                      positions[_i3 * 3 + 0] = waveR[_i3] * this.aspecty + wavePosX;
                      positions[_i3 * 3 + 1] = waveL[(_i3 + 32) % waveL.length] * this.aspectx + wavePosY;
                      positions[_i3 * 3 + 2] = 0;
                    }
                  } else if (waveMode === 4) {
                    if (mdVSFrame.modwavealphabyvolume > 0) {
                      var _alphaDiff4 = mdVSFrame.modwavealphaend - mdVSFrame.modwavealphastart;
                      alpha *= (vol - mdVSFrame.modwavealphastart) / _alphaDiff4;
                    }
                    alpha = Math.clamp(alpha, 0, 1);
                    numVert = waveL.length;
                    if (numVert > this.texsizeX / 3) {
                      numVert = Math.floor(this.texsizeX / 3);
                    }
                    var _numVertInv = 1 / numVert;
                    var _sampleOffset = Math.floor((waveL.length - numVert) / 2);
                    var w1 = 0.45 + 0.5 * (fWaveParam2 * 0.5 + 0.5);
                    var w2 = 1 - w1;
                    for (var _i4 = 0; _i4 < numVert; _i4++) {
                      var x = 2 * _i4 * _numVertInv + (wavePosX - 1) + waveR[(_i4 + 25 + _sampleOffset) % waveL.length] * 0.44;
                      var y = waveL[_i4 + _sampleOffset] * 0.47 + wavePosY;
                      if (_i4 > 1) {
                        x = x * w2 + w1 * (positions[(_i4 - 1) * 3 + 0] * 2 - positions[(_i4 - 2) * 3 + 0]);
                        y = y * w2 + w1 * (positions[(_i4 - 1) * 3 + 1] * 2 - positions[(_i4 - 2) * 3 + 1]);
                      }
                      positions[_i4 * 3 + 0] = x;
                      positions[_i4 * 3 + 1] = y;
                      positions[_i4 * 3 + 2] = 0;
                    }
                  } else if (waveMode === 5) {
                    if (this.texsizeX < 1024) {
                      alpha *= 0.09;
                    } else if (this.texsizeX >= 1024 && this.texsizeX < 2048) {
                      alpha *= 0.11;
                    } else {
                      alpha *= 0.13;
                    }
                    if (mdVSFrame.modwavealphabyvolume > 0) {
                      var _alphaDiff5 = mdVSFrame.modwavealphaend - mdVSFrame.modwavealphastart;
                      alpha *= (vol - mdVSFrame.modwavealphastart) / _alphaDiff5;
                    }
                    alpha = Math.clamp(alpha, 0, 1);
                    var cosRot = Math.cos(mdVSFrame.time * 0.3);
                    var sinRot = Math.sin(mdVSFrame.time * 0.3);
                    numVert = waveL.length;
                    for (var _i5 = 0; _i5 < waveL.length; _i5++) {
                      var ioff = (_i5 + 32) % waveL.length;
                      var x0 = waveR[_i5] * waveL[ioff] + waveL[_i5] * waveR[ioff];
                      var y0 = waveR[_i5] * waveR[_i5] - waveL[ioff] * waveL[ioff];
                      positions[_i5 * 3 + 0] = (x0 * cosRot - y0 * sinRot) * (this.aspecty + wavePosX);
                      positions[_i5 * 3 + 1] = (x0 * sinRot + y0 * cosRot) * (this.aspectx + wavePosY);
                      positions[_i5 * 3 + 2] = 0;
                    }
                  } else if (waveMode === 6 || waveMode === 7) {
                    if (mdVSFrame.modwavealphabyvolume > 0) {
                      var _alphaDiff6 = mdVSFrame.modwavealphaend - mdVSFrame.modwavealphastart;
                      alpha *= (vol - mdVSFrame.modwavealphastart) / _alphaDiff6;
                    }
                    alpha = Math.clamp(alpha, 0, 1);
                    numVert = Math.floor(waveL.length / 2);
                    if (numVert > this.texsizeX / 3) {
                      numVert = Math.floor(this.texsizeX / 3);
                    }
                    var _sampleOffset2 = Math.floor((waveL.length - numVert) / 2);
                    var _ang2 = Math.PI * 0.5 * fWaveParam2;
                    var dx = Math.cos(_ang2);
                    var dy = Math.sin(_ang2);
                    var edgex = [wavePosX * Math.cos(_ang2 + Math.PI * 0.5) - dx * 3, wavePosX * Math.cos(_ang2 + Math.PI * 0.5) + dx * 3];
                    var edgey = [wavePosX * Math.sin(_ang2 + Math.PI * 0.5) - dy * 3, wavePosX * Math.sin(_ang2 + Math.PI * 0.5) + dy * 3];
                    for (var _i6 = 0; _i6 < 2; _i6++) {
                      for (var j = 0; j < 4; j++) {
                        var t = void 0;
                        var bClip = false;
                        switch (j) {
                          case 0:
                            if (edgex[_i6] > 1.1) {
                              t = (1.1 - edgex[1 - _i6]) / (edgex[_i6] - edgex[1 - _i6]);
                              bClip = true;
                            }
                            break;
                          case 1:
                            if (edgex[_i6] < -1.1) {
                              t = (-1.1 - edgex[1 - _i6]) / (edgex[_i6] - edgex[1 - _i6]);
                              bClip = true;
                            }
                            break;
                          case 2:
                            if (edgey[_i6] > 1.1) {
                              t = (1.1 - edgey[1 - _i6]) / (edgey[_i6] - edgey[1 - _i6]);
                              bClip = true;
                            }
                            break;
                          case 3:
                            if (edgey[_i6] < -1.1) {
                              t = (-1.1 - edgey[1 - _i6]) / (edgey[_i6] - edgey[1 - _i6]);
                              bClip = true;
                            }
                            break;
                        }
                        if (bClip) {
                          var dxi = edgex[_i6] - edgex[1 - _i6];
                          var dyi = edgey[_i6] - edgey[1 - _i6];
                          edgex[_i6] = edgex[1 - _i6] + dxi * t;
                          edgey[_i6] = edgey[1 - _i6] + dyi * t;
                        }
                      }
                    }
                    dx = (edgex[1] - edgex[0]) / numVert;
                    dy = (edgey[1] - edgey[0]) / numVert;
                    var ang2 = Math.atan2(dy, dx);
                    var perpDx = Math.cos(ang2 + Math.PI * 0.5);
                    var perpDy = Math.sin(ang2 + Math.PI * 0.5);
                    if (waveMode === 6) {
                      for (var _i7 = 0; _i7 < numVert; _i7++) {
                        var sample = waveL[_i7 + _sampleOffset2];
                        positions[_i7 * 3 + 0] = edgex[0] + dx * _i7 + perpDx * 0.25 * sample;
                        positions[_i7 * 3 + 1] = edgey[0] + dy * _i7 + perpDy * 0.25 * sample;
                        positions[_i7 * 3 + 2] = 0;
                      }
                    } else if (waveMode === 7) {
                      var sep = Math.pow(wavePosY * 0.5 + 0.5, 2);
                      for (var _i8 = 0; _i8 < numVert; _i8++) {
                        var _sample = waveL[_i8 + _sampleOffset2];
                        positions[_i8 * 3 + 0] = edgex[0] + dx * _i8 + perpDx * (0.25 * _sample + sep);
                        positions[_i8 * 3 + 1] = edgey[0] + dy * _i8 + perpDy * (0.25 * _sample + sep);
                        positions[_i8 * 3 + 2] = 0;
                      }
                      for (var _i9 = 0; _i9 < numVert; _i9++) {
                        var _sample2 = waveR[_i9 + _sampleOffset2];
                        positions2[_i9 * 3 + 0] = edgex[0] + dx * _i9 + perpDx * (0.25 * _sample2 - sep);
                        positions2[_i9 * 3 + 1] = edgey[0] + dy * _i9 + perpDy * (0.25 * _sample2 - sep);
                        positions2[_i9 * 3 + 2] = 0;
                      }
                    }
                  }
                  if (it === 0) {
                    this.positions = positions;
                    this.positions2 = positions2;
                    this.numVert = numVert;
                    this.alpha = alpha;
                  } else {
                    this.oldPositions = positions;
                    this.oldPositions2 = positions2;
                    this.oldNumVert = numVert;
                    this.oldAlpha = alpha;
                  }
                }
                var mix = 0.5 - 0.5 * Math.cos(blendProgress * Math.PI);
                var mix2 = 1 - mix;
                if (this.oldNumVert > 0) {
                  alpha = mix * this.alpha + mix2 * this.oldAlpha;
                }
                var r = Math.clamp(mdVSFrame.wave_r, 0, 1);
                var g = Math.clamp(mdVSFrame.wave_g, 0, 1);
                var b = Math.clamp(mdVSFrame.wave_b, 0, 1);
                if (mdVSFrame.wave_brighten !== 0) {
                  var maxc = Math.max(r, g, b);
                  if (maxc > 0.01) {
                    r /= maxc;
                    g /= maxc;
                    b /= maxc;
                  }
                }
                this.color = [r, g, b, alpha];
                if (this.oldNumVert > 0) {
                  if (newWaveMode === 7) {
                    var m = (this.oldNumVert - 1) / (this.numVert * 2);
                    for (var _i10 = 0; _i10 < this.numVert; _i10++) {
                      var fIdx = _i10 * m;
                      var nIdx = Math.floor(fIdx);
                      var _t = fIdx - nIdx;
                      var _x = this.oldPositions[nIdx * 3 + 0] * (1 - _t) + this.oldPositions[(nIdx + 1) * 3 + 0] * _t;
                      var _y = this.oldPositions[nIdx * 3 + 1] * (1 - _t) + this.oldPositions[(nIdx + 1) * 3 + 1] * _t;
                      this.positions[_i10 * 3 + 0] = this.positions[_i10 * 3 + 0] * mix + _x * mix2;
                      this.positions[_i10 * 3 + 1] = this.positions[_i10 * 3 + 1] * mix + _y * mix2;
                      this.positions[_i10 * 3 + 2] = 0;
                    }
                    for (var _i11 = 0; _i11 < this.numVert; _i11++) {
                      var _fIdx = (_i11 + this.numVert) * m;
                      var _nIdx = Math.floor(_fIdx);
                      var _t2 = _fIdx - _nIdx;
                      var _x2 = this.oldPositions[_nIdx * 3 + 0] * (1 - _t2) + this.oldPositions[(_nIdx + 1) * 3 + 0] * _t2;
                      var _y2 = this.oldPositions[_nIdx * 3 + 1] * (1 - _t2) + this.oldPositions[(_nIdx + 1) * 3 + 1] * _t2;
                      this.positions2[_i11 * 3 + 0] = this.positions2[_i11 * 3 + 0] * mix + _x2 * mix2;
                      this.positions2[_i11 * 3 + 1] = this.positions2[_i11 * 3 + 1] * mix + _y2 * mix2;
                      this.positions2[_i11 * 3 + 2] = 0;
                    }
                  } else if (oldWaveMode === 7) {
                    var halfNumVert = this.numVert / 2;
                    var _m = (this.oldNumVert - 1) / halfNumVert;
                    for (var _i12 = 0; _i12 < halfNumVert; _i12++) {
                      var _fIdx2 = _i12 * _m;
                      var _nIdx2 = Math.floor(_fIdx2);
                      var _t3 = _fIdx2 - _nIdx2;
                      var _x3 = this.oldPositions[_nIdx2 * 3 + 0] * (1 - _t3) + this.oldPositions[(_nIdx2 + 1) * 3 + 0] * _t3;
                      var _y3 = this.oldPositions[_nIdx2 * 3 + 1] * (1 - _t3) + this.oldPositions[(_nIdx2 + 1) * 3 + 1] * _t3;
                      this.positions[_i12 * 3 + 0] = this.positions[_i12 * 3 + 0] * mix + _x3 * mix2;
                      this.positions[_i12 * 3 + 1] = this.positions[_i12 * 3 + 1] * mix + _y3 * mix2;
                      this.positions[_i12 * 3 + 2] = 0;
                    }
                    for (var _i13 = 0; _i13 < halfNumVert; _i13++) {
                      var _fIdx3 = _i13 * _m;
                      var _nIdx3 = Math.floor(_fIdx3);
                      var _t4 = _fIdx3 - _nIdx3;
                      var _x4 = this.oldPositions2[_nIdx3 * 3 + 0] * (1 - _t4) + this.oldPositions2[(_nIdx3 + 1) * 3 + 0] * _t4;
                      var _y4 = this.oldPositions2[_nIdx3 * 3 + 1] * (1 - _t4) + this.oldPositions2[(_nIdx3 + 1) * 3 + 1] * _t4;
                      this.positions2[_i13 * 3 + 0] = this.positions[(_i13 + halfNumVert) * 3 + 0] * mix + _x4 * mix2;
                      this.positions2[_i13 * 3 + 1] = this.positions[(_i13 + halfNumVert) * 3 + 1] * mix + _y4 * mix2;
                      this.positions2[_i13 * 3 + 2] = 0;
                    }
                  } else {
                    var _m2 = (this.oldNumVert - 1) / this.numVert;
                    for (var _i14 = 0; _i14 < this.numVert; _i14++) {
                      var _fIdx4 = _i14 * _m2;
                      var _nIdx4 = Math.floor(_fIdx4);
                      var _t5 = _fIdx4 - _nIdx4;
                      var _x5 = this.oldPositions[_nIdx4 * 3 + 0] * (1 - _t5) + this.oldPositions[(_nIdx4 + 1) * 3 + 0] * _t5;
                      var _y5 = this.oldPositions[_nIdx4 * 3 + 1] * (1 - _t5) + this.oldPositions[(_nIdx4 + 1) * 3 + 1] * _t5;
                      this.positions[_i14 * 3 + 0] = this.positions[_i14 * 3 + 0] * mix + _x5 * mix2;
                      this.positions[_i14 * 3 + 1] = this.positions[_i14 * 3 + 1] * mix + _y5 * mix2;
                      this.positions[_i14 * 3 + 2] = 0;
                    }
                  }
                }
                for (var _i15 = 0; _i15 < this.numVert; _i15++) {
                  this.positions[_i15 * 3 + 1] = -this.positions[_i15 * 3 + 1];
                }
                this.smoothedNumVert = this.numVert * 2 - 1;
                _waveUtils__WEBPACK_IMPORTED_MODULE_1__["default"].smoothWave(this.positions, this.smoothedPositions, this.numVert);
                if (newWaveMode === 7 || oldWaveMode === 7) {
                  for (var _i16 = 0; _i16 < this.numVert; _i16++) {
                    this.positions2[_i16 * 3 + 1] = -this.positions2[_i16 * 3 + 1];
                  }
                  _waveUtils__WEBPACK_IMPORTED_MODULE_1__["default"].smoothWave(this.positions2, this.smoothedPositions2, this.numVert);
                }
                return true;
              }
              return false;
            }
          }, {
            key: "drawBasicWaveform",
            value: function drawBasicWaveform(blending, blendProgress, timeArrayL, timeArrayR, mdVSFrame) {
              if (this.generateWaveform(blending, blendProgress, timeArrayL, timeArrayR, mdVSFrame)) {
                this.gl.useProgram(this.shaderProgram);
                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf);
                this.gl.bufferData(this.gl.ARRAY_BUFFER, this.smoothedPositions, this.gl.STATIC_DRAW);
                this.gl.vertexAttribPointer(this.aPosLoc, 3, this.gl.FLOAT, false, 0, 0);
                this.gl.enableVertexAttribArray(this.aPosLoc);
                this.gl.uniform4fv(this.colorLoc, this.color);
                var instances = 1;
                if (mdVSFrame.wave_thick !== 0 || mdVSFrame.wave_dots !== 0) {
                  instances = 4;
                }
                if (mdVSFrame.additivewave !== 0) {
                  this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE);
                } else {
                  this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
                }
                var drawMode = mdVSFrame.wave_dots !== 0 ? this.gl.POINTS : this.gl.LINE_STRIP;
                for (var i = 0; i < instances; i++) {
                  var offset = 2;
                  if (i === 0) {
                    this.gl.uniform2fv(this.thickOffsetLoc, [0, 0]);
                  } else if (i === 1) {
                    this.gl.uniform2fv(this.thickOffsetLoc, [offset / this.texsizeX, 0]);
                  } else if (i === 2) {
                    this.gl.uniform2fv(this.thickOffsetLoc, [0, offset / this.texsizeY]);
                  } else if (i === 3) {
                    this.gl.uniform2fv(this.thickOffsetLoc, [offset / this.texsizeX, offset / this.texsizeY]);
                  }
                  this.gl.drawArrays(drawMode, 0, this.smoothedNumVert);
                }
                var waveMode = Math.floor(mdVSFrame.wave_mode) % 8;
                if (waveMode === 7) {
                  this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf);
                  this.gl.bufferData(this.gl.ARRAY_BUFFER, this.smoothedPositions2, this.gl.STATIC_DRAW);
                  this.gl.vertexAttribPointer(this.aPosLoc, 3, this.gl.FLOAT, false, 0, 0);
                  this.gl.enableVertexAttribArray(this.aPosLoc);
                  for (var _i17 = 0; _i17 < instances; _i17++) {
                    var _offset = 2;
                    if (_i17 === 0) {
                      this.gl.uniform2fv(this.thickOffsetLoc, [0, 0]);
                    } else if (_i17 === 1) {
                      this.gl.uniform2fv(this.thickOffsetLoc, [_offset / this.texsizeX, 0]);
                    } else if (_i17 === 2) {
                      this.gl.uniform2fv(this.thickOffsetLoc, [0, _offset / this.texsizeY]);
                    } else if (_i17 === 3) {
                      this.gl.uniform2fv(this.thickOffsetLoc, [_offset / this.texsizeX, _offset / this.texsizeY]);
                    }
                    this.gl.drawArrays(drawMode, 0, this.smoothedNumVert);
                  }
                }
              }
            }
          }], [{
            key: "processWaveform",
            value: function processWaveform(timeArray, mdVSFrame) {
              var waveform = [];
              var scale = mdVSFrame.wave_scale / 128;
              var smooth = mdVSFrame.wave_smoothing;
              var smooth2 = scale * (1 - smooth);
              waveform.push(timeArray[0] * scale);
              for (var i = 1; i < timeArray.length; i++) {
                waveform.push(timeArray[i] * smooth2 + waveform[i - 1] * smooth);
              }
              return waveform;
            }
          }]);
          return BasicWaveform2;
        }();
      },
      "./src/rendering/waves/customWaveform.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return CustomWaveform;
        });
        var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/utils.js");
        var _shaders_shaderUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/rendering/shaders/shaderUtils.js");
        var _waveUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/rendering/waves/waveUtils.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var CustomWaveform = /* @__PURE__ */ function() {
          function CustomWaveform2(index, gl, opts) {
            _classCallCheck(this, CustomWaveform2);
            this.index = index;
            this.gl = gl;
            var maxSamples = 512;
            this.pointsData = [new Float32Array(maxSamples), new Float32Array(maxSamples)];
            this.positions = new Float32Array(maxSamples * 3);
            this.colors = new Float32Array(maxSamples * 4);
            this.smoothedPositions = new Float32Array((maxSamples * 2 - 1) * 3);
            this.smoothedColors = new Float32Array((maxSamples * 2 - 1) * 4);
            this.texsizeX = opts.texsizeX;
            this.texsizeY = opts.texsizeY;
            this.mesh_width = opts.mesh_width;
            this.mesh_height = opts.mesh_height;
            this.aspectx = opts.aspectx;
            this.aspecty = opts.aspecty;
            this.invAspectx = 1 / this.aspectx;
            this.invAspecty = 1 / this.aspecty;
            this.positionVertexBuf = this.gl.createBuffer();
            this.colorVertexBuf = this.gl.createBuffer();
            this.floatPrecision = _shaders_shaderUtils__WEBPACK_IMPORTED_MODULE_1__["default"].getFragmentFloatPrecision(this.gl);
            this.createShader();
          }
          _createClass(CustomWaveform2, [{
            key: "updateGlobals",
            value: function updateGlobals(opts) {
              this.texsizeX = opts.texsizeX;
              this.texsizeY = opts.texsizeY;
              this.mesh_width = opts.mesh_width;
              this.mesh_height = opts.mesh_height;
              this.aspectx = opts.aspectx;
              this.aspecty = opts.aspecty;
              this.invAspectx = 1 / this.aspectx;
              this.invAspecty = 1 / this.aspecty;
            }
          }, {
            key: "createShader",
            value: function createShader() {
              this.shaderProgram = this.gl.createProgram();
              var vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);
              this.gl.shaderSource(vertShader, "#version 300 es\n                                      uniform float uSize;\n                                      uniform vec2 thickOffset;\n                                      in vec3 aPos;\n                                      in vec4 aColor;\n                                      out vec4 vColor;\n                                      void main(void) {\n                                        vColor = aColor;\n                                        gl_PointSize = uSize;\n                                        gl_Position = vec4(aPos + vec3(thickOffset, 0.0), 1.0);\n                                      }");
              this.gl.compileShader(vertShader);
              var fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);
              this.gl.shaderSource(fragShader, "#version 300 es\n                                      precision ".concat(this.floatPrecision, " float;\n                                      precision highp int;\n                                      precision mediump sampler2D;\n                                      in vec4 vColor;\n                                      out vec4 fragColor;\n                                      void main(void) {\n                                        fragColor = vColor;\n                                      }"));
              this.gl.compileShader(fragShader);
              this.gl.attachShader(this.shaderProgram, vertShader);
              this.gl.attachShader(this.shaderProgram, fragShader);
              this.gl.linkProgram(this.shaderProgram);
              this.aPosLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos");
              this.aColorLocation = this.gl.getAttribLocation(this.shaderProgram, "aColor");
              this.sizeLoc = this.gl.getUniformLocation(this.shaderProgram, "uSize");
              this.thickOffsetLoc = this.gl.getUniformLocation(this.shaderProgram, "thickOffset");
            }
          }, {
            key: "generateWaveform",
            value: function generateWaveform(timeArrayL, timeArrayR, freqArrayL, freqArrayR, globalVars, presetEquationRunner, waveEqs, alphaMult) {
              if (waveEqs.baseVals.enabled !== 0 && timeArrayL.length > 0) {
                var mdVSWave = Object.assign({}, presetEquationRunner.mdVSWaves[this.index], presetEquationRunner.mdVSFrameMapWaves[this.index], presetEquationRunner.mdVSQAfterFrame, presetEquationRunner.mdVSTWaveInits[this.index], globalVars);
                var mdVSWaveFrame = waveEqs.frame_eqs(mdVSWave);
                var maxSamples = 512;
                if (Object.prototype.hasOwnProperty.call(mdVSWaveFrame, "samples")) {
                  this.samples = mdVSWaveFrame.samples;
                } else {
                  this.samples = maxSamples;
                }
                if (this.samples > maxSamples) {
                  this.samples = maxSamples;
                }
                this.samples = Math.floor(this.samples);
                var sep = Math.floor(mdVSWaveFrame.sep);
                var scaling = mdVSWaveFrame.scaling;
                var spectrum = mdVSWaveFrame.spectrum;
                var smoothing = mdVSWaveFrame.smoothing;
                var usedots = mdVSWaveFrame.usedots;
                var frameR = mdVSWaveFrame.r;
                var frameG = mdVSWaveFrame.g;
                var frameB = mdVSWaveFrame.b;
                var frameA = mdVSWaveFrame.a;
                var waveScale = presetEquationRunner.mdVS.wave_scale;
                this.samples -= sep;
                if (this.samples >= 2 || usedots !== 0 && this.samples >= 1) {
                  var useSpectrum = spectrum !== 0;
                  var scale = (useSpectrum ? 0.15 : 4e-3) * scaling * waveScale;
                  var pointsLeft = useSpectrum ? freqArrayL : timeArrayL;
                  var pointsRight = useSpectrum ? freqArrayR : timeArrayR;
                  var j0 = useSpectrum ? 0 : Math.floor((maxSamples - this.samples) / 2 - sep / 2);
                  var j1 = useSpectrum ? 0 : Math.floor((maxSamples - this.samples) / 2 + sep / 2);
                  var t = useSpectrum ? (maxSamples - sep) / this.samples : 1;
                  var mix1 = Math.pow(smoothing * 0.98, 0.5);
                  var mix2 = 1 - mix1;
                  this.pointsData[0][0] = pointsLeft[j0];
                  this.pointsData[1][0] = pointsRight[j1];
                  for (var j = 1; j < this.samples; j++) {
                    var left = pointsLeft[Math.floor(j * t + j0)];
                    var right = pointsRight[Math.floor(j * t + j1)];
                    this.pointsData[0][j] = left * mix2 + this.pointsData[0][j - 1] * mix1;
                    this.pointsData[1][j] = right * mix2 + this.pointsData[1][j - 1] * mix1;
                  }
                  for (var _j = this.samples - 2; _j >= 0; _j--) {
                    this.pointsData[0][_j] = this.pointsData[0][_j] * mix2 + this.pointsData[0][_j + 1] * mix1;
                    this.pointsData[1][_j] = this.pointsData[1][_j] * mix2 + this.pointsData[1][_j + 1] * mix1;
                  }
                  for (var _j2 = 0; _j2 < this.samples; _j2++) {
                    this.pointsData[0][_j2] *= scale;
                    this.pointsData[1][_j2] *= scale;
                  }
                  for (var _j3 = 0; _j3 < this.samples; _j3++) {
                    var value1 = this.pointsData[0][_j3];
                    var value2 = this.pointsData[1][_j3];
                    mdVSWaveFrame.sample = _j3 / (this.samples - 1);
                    mdVSWaveFrame.value1 = value1;
                    mdVSWaveFrame.value2 = value2;
                    mdVSWaveFrame.x = 0.5 + value1;
                    mdVSWaveFrame.y = 0.5 + value2;
                    mdVSWaveFrame.r = frameR;
                    mdVSWaveFrame.g = frameG;
                    mdVSWaveFrame.b = frameB;
                    mdVSWaveFrame.a = frameA;
                    if (waveEqs.point_eqs !== "") {
                      mdVSWaveFrame = waveEqs.point_eqs(mdVSWaveFrame);
                    }
                    var x = (mdVSWaveFrame.x * 2 - 1) * this.invAspectx;
                    var y = (mdVSWaveFrame.y * -2 + 1) * this.invAspecty;
                    var r = mdVSWaveFrame.r;
                    var g = mdVSWaveFrame.g;
                    var b = mdVSWaveFrame.b;
                    var a = mdVSWaveFrame.a;
                    this.positions[_j3 * 3 + 0] = x;
                    this.positions[_j3 * 3 + 1] = y;
                    this.positions[_j3 * 3 + 2] = 0;
                    this.colors[_j3 * 4 + 0] = r;
                    this.colors[_j3 * 4 + 1] = g;
                    this.colors[_j3 * 4 + 2] = b;
                    this.colors[_j3 * 4 + 3] = a * alphaMult;
                  }
                  var mdvsUserKeysWave = presetEquationRunner.mdVSUserKeysWaves[this.index];
                  var mdVSNewFrameMapWave = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].pick(mdVSWaveFrame, mdvsUserKeysWave);
                  presetEquationRunner.mdVSFrameMapWaves[this.index] = mdVSNewFrameMapWave;
                  this.mdVSWaveFrame = mdVSWaveFrame;
                  if (usedots === 0) {
                    _waveUtils__WEBPACK_IMPORTED_MODULE_2__["default"].smoothWaveAndColor(this.positions, this.colors, this.smoothedPositions, this.smoothedColors, this.samples);
                  }
                  return true;
                }
              }
              return false;
            }
          }, {
            key: "drawCustomWaveform",
            value: function drawCustomWaveform(blendProgress, timeArrayL, timeArrayR, freqArrayL, freqArrayR, globalVars, presetEquationRunner, waveEqs) {
              if (waveEqs && this.generateWaveform(timeArrayL, timeArrayR, freqArrayL, freqArrayR, globalVars, presetEquationRunner, waveEqs, blendProgress)) {
                this.gl.useProgram(this.shaderProgram);
                var waveUseDots = this.mdVSWaveFrame.usedots !== 0;
                var waveThick = this.mdVSWaveFrame.thick !== 0;
                var waveAdditive = this.mdVSWaveFrame.additive !== 0;
                var positions;
                var colors;
                var numVerts;
                if (!waveUseDots) {
                  positions = this.smoothedPositions;
                  colors = this.smoothedColors;
                  numVerts = this.samples * 2 - 1;
                } else {
                  positions = this.positions;
                  colors = this.colors;
                  numVerts = this.samples;
                }
                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf);
                this.gl.bufferData(this.gl.ARRAY_BUFFER, positions, this.gl.STATIC_DRAW);
                this.gl.vertexAttribPointer(this.aPosLocation, 3, this.gl.FLOAT, false, 0, 0);
                this.gl.enableVertexAttribArray(this.aPosLocation);
                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorVertexBuf);
                this.gl.bufferData(this.gl.ARRAY_BUFFER, colors, this.gl.STATIC_DRAW);
                this.gl.vertexAttribPointer(this.aColorLocation, 4, this.gl.FLOAT, false, 0, 0);
                this.gl.enableVertexAttribArray(this.aColorLocation);
                var instances = 1;
                if (waveUseDots) {
                  if (waveThick) {
                    this.gl.uniform1f(this.sizeLoc, 2 + (this.texsizeX >= 1024 ? 1 : 0));
                  } else {
                    this.gl.uniform1f(this.sizeLoc, 1 + (this.texsizeX >= 1024 ? 1 : 0));
                  }
                } else {
                  this.gl.uniform1f(this.sizeLoc, 1);
                  if (waveThick) {
                    instances = 4;
                  }
                }
                if (waveAdditive) {
                  this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE);
                } else {
                  this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
                }
                var drawMode = waveUseDots ? this.gl.POINTS : this.gl.LINE_STRIP;
                for (var i = 0; i < instances; i++) {
                  var offset = 2;
                  if (i === 0) {
                    this.gl.uniform2fv(this.thickOffsetLoc, [0, 0]);
                  } else if (i === 1) {
                    this.gl.uniform2fv(this.thickOffsetLoc, [offset / this.texsizeX, 0]);
                  } else if (i === 2) {
                    this.gl.uniform2fv(this.thickOffsetLoc, [0, offset / this.texsizeY]);
                  } else if (i === 3) {
                    this.gl.uniform2fv(this.thickOffsetLoc, [offset / this.texsizeX, offset / this.texsizeY]);
                  }
                  this.gl.drawArrays(drawMode, 0, numVerts);
                }
              }
            }
          }]);
          return CustomWaveform2;
        }();
      },
      "./src/rendering/waves/waveUtils.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return WaveUtils;
        });
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var WaveUtils = /* @__PURE__ */ function() {
          function WaveUtils2() {
            _classCallCheck(this, WaveUtils2);
          }
          _createClass(WaveUtils2, null, [{
            key: "smoothWave",
            value: function smoothWave(positions, positionsSmoothed, nVertsIn) {
              var zCoord = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : false;
              var c1 = -0.15;
              var c2 = 1.15;
              var c3 = 1.15;
              var c4 = -0.15;
              var invSum = 1 / (c1 + c2 + c3 + c4);
              var j = 0;
              var iBelow = 0;
              var iAbove;
              var iAbove2 = 1;
              for (var i = 0; i < nVertsIn - 1; i++) {
                iAbove = iAbove2;
                iAbove2 = Math.min(nVertsIn - 1, i + 2);
                for (var k = 0; k < 3; k++) {
                  positionsSmoothed[j * 3 + k] = positions[i * 3 + k];
                }
                if (zCoord) {
                  for (var _k = 0; _k < 3; _k++) {
                    positionsSmoothed[(j + 1) * 3 + _k] = (c1 * positions[iBelow * 3 + _k] + c2 * positions[i * 3 + _k] + c3 * positions[iAbove * 3 + _k] + c4 * positions[iAbove2 * 3 + _k]) * invSum;
                  }
                } else {
                  for (var _k2 = 0; _k2 < 2; _k2++) {
                    positionsSmoothed[(j + 1) * 3 + _k2] = (c1 * positions[iBelow * 3 + _k2] + c2 * positions[i * 3 + _k2] + c3 * positions[iAbove * 3 + _k2] + c4 * positions[iAbove2 * 3 + _k2]) * invSum;
                  }
                  positionsSmoothed[(j + 1) * 3 + 2] = 0;
                }
                iBelow = i;
                j += 2;
              }
              for (var _k3 = 0; _k3 < 3; _k3++) {
                positionsSmoothed[j * 3 + _k3] = positions[(nVertsIn - 1) * 3 + _k3];
              }
            }
          }, {
            key: "smoothWaveAndColor",
            value: function smoothWaveAndColor(positions, colors, positionsSmoothed, colorsSmoothed, nVertsIn) {
              var zCoord = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : false;
              var c1 = -0.15;
              var c2 = 1.15;
              var c3 = 1.15;
              var c4 = -0.15;
              var invSum = 1 / (c1 + c2 + c3 + c4);
              var j = 0;
              var iBelow = 0;
              var iAbove;
              var iAbove2 = 1;
              for (var i = 0; i < nVertsIn - 1; i++) {
                iAbove = iAbove2;
                iAbove2 = Math.min(nVertsIn - 1, i + 2);
                for (var k = 0; k < 3; k++) {
                  positionsSmoothed[j * 3 + k] = positions[i * 3 + k];
                }
                if (zCoord) {
                  for (var _k4 = 0; _k4 < 3; _k4++) {
                    positionsSmoothed[(j + 1) * 3 + _k4] = (c1 * positions[iBelow * 3 + _k4] + c2 * positions[i * 3 + _k4] + c3 * positions[iAbove * 3 + _k4] + c4 * positions[iAbove2 * 3 + _k4]) * invSum;
                  }
                } else {
                  for (var _k5 = 0; _k5 < 2; _k5++) {
                    positionsSmoothed[(j + 1) * 3 + _k5] = (c1 * positions[iBelow * 3 + _k5] + c2 * positions[i * 3 + _k5] + c3 * positions[iAbove * 3 + _k5] + c4 * positions[iAbove2 * 3 + _k5]) * invSum;
                  }
                  positionsSmoothed[(j + 1) * 3 + 2] = 0;
                }
                for (var _k6 = 0; _k6 < 4; _k6++) {
                  colorsSmoothed[j * 4 + _k6] = colors[i * 4 + _k6];
                  colorsSmoothed[(j + 1) * 4 + _k6] = colors[i * 4 + _k6];
                }
                iBelow = i;
                j += 2;
              }
              for (var _k7 = 0; _k7 < 3; _k7++) {
                positionsSmoothed[j * 3 + _k7] = positions[(nVertsIn - 1) * 3 + _k7];
              }
              for (var _k8 = 0; _k8 < 4; _k8++) {
                colorsSmoothed[j * 4 + _k8] = colors[(nVertsIn - 1) * 4 + _k8];
              }
            }
          }]);
          return WaveUtils2;
        }();
      },
      "./src/utils.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return Utils4;
        });
        function _toConsumableArray(arr) {
          return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();
        }
        function _nonIterableSpread() {
          throw new TypeError("Invalid attempt to spread non-iterable instance");
        }
        function _iterableToArray(iter) {
          if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]")
            return Array.from(iter);
        }
        function _arrayWithoutHoles(arr) {
          if (Array.isArray(arr)) {
            for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {
              arr2[i] = arr[i];
            }
            return arr2;
          }
        }
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var Utils4 = /* @__PURE__ */ function() {
          function Utils5() {
            _classCallCheck(this, Utils5);
          }
          _createClass(Utils5, null, [{
            key: "atan2",
            value: function atan2(x, y) {
              var a = Math.atan2(x, y);
              if (a < 0) {
                a += 2 * Math.PI;
              }
              return a;
            }
          }, {
            key: "cloneVars",
            value: function cloneVars(vars) {
              return Object.assign({}, vars);
            }
          }, {
            key: "range",
            value: function range(start, end) {
              if (end === void 0) {
                return _toConsumableArray(Array(start).keys());
              }
              return Array.from({
                length: end - start
              }, function(_, i) {
                return i + start;
              });
            }
          }, {
            key: "pick",
            value: function pick(obj, keys) {
              var newObj = {};
              for (var i = 0; i < keys.length; i++) {
                var key = keys[i];
                newObj[key] = obj[key];
              }
              return newObj;
            }
          }, {
            key: "omit",
            value: function omit(obj, keys) {
              var newObj = Object.assign({}, obj);
              for (var i = 0; i < keys.length; i++) {
                var key = keys[i];
                delete newObj[key];
              }
              return newObj;
            }
          }]);
          return Utils5;
        }();
      },
      "./src/visualizer.js": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return Visualizer;
        });
        var _audio_audioProcessor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/audio/audioProcessor.js");
        var _rendering_renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/rendering/renderer.js");
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var Visualizer = /* @__PURE__ */ function() {
          function Visualizer2(audioContext, canvas, opts) {
            _classCallCheck(this, Visualizer2);
            this.audio = new _audio_audioProcessor__WEBPACK_IMPORTED_MODULE_0__["default"](audioContext);
            var gl = canvas.getContext("webgl2", {
              alpha: false,
              antialias: false,
              depth: false,
              stencil: false,
              premultipliedAlpha: false
            });
            this.baseValsDefaults = {
              decay: 0.98,
              gammaadj: 2,
              echo_zoom: 2,
              echo_alpha: 0,
              echo_orient: 0,
              red_blue: 0,
              brighten: 0,
              darken: 0,
              wrap: 1,
              darken_center: 0,
              solarize: 0,
              invert: 0,
              fshader: 0,
              b1n: 0,
              b2n: 0,
              b3n: 0,
              b1x: 1,
              b2x: 1,
              b3x: 1,
              b1ed: 0.25,
              wave_mode: 0,
              additivewave: 0,
              wave_dots: 0,
              wave_thick: 0,
              wave_a: 0.8,
              wave_scale: 1,
              wave_smoothing: 0.75,
              wave_mystery: 0,
              modwavealphabyvolume: 0,
              modwavealphastart: 0.75,
              modwavealphaend: 0.95,
              wave_r: 1,
              wave_g: 1,
              wave_b: 1,
              wave_x: 0.5,
              wave_y: 0.5,
              wave_brighten: 1,
              mv_x: 12,
              mv_y: 9,
              mv_dx: 0,
              mv_dy: 0,
              mv_l: 0.9,
              mv_r: 1,
              mv_g: 1,
              mv_b: 1,
              mv_a: 1,
              warpanimspeed: 1,
              warpscale: 1,
              zoomexp: 1,
              zoom: 1,
              rot: 0,
              cx: 0.5,
              cy: 0.5,
              dx: 0,
              dy: 0,
              warp: 1,
              sx: 1,
              sy: 1,
              ob_size: 0.01,
              ob_r: 0,
              ob_g: 0,
              ob_b: 0,
              ob_a: 0,
              ib_size: 0.01,
              ib_r: 0.25,
              ib_g: 0.25,
              ib_b: 0.25,
              ib_a: 0
            };
            this.shapeBaseValsDefaults = {
              enabled: 0,
              sides: 4,
              additive: 0,
              thickoutline: 0,
              textured: 0,
              num_inst: 1,
              tex_zoom: 1,
              tex_ang: 0,
              x: 0.5,
              y: 0.5,
              rad: 0.1,
              ang: 0,
              r: 1,
              g: 0,
              b: 0,
              a: 1,
              r2: 0,
              g2: 1,
              b2: 0,
              a2: 0,
              border_r: 1,
              border_g: 1,
              border_b: 1,
              border_a: 0.1
            };
            this.waveBaseValsDefaults = {
              enabled: 0,
              samples: 512,
              sep: 0,
              scaling: 1,
              smoothing: 0.5,
              r: 1,
              g: 1,
              b: 1,
              a: 1,
              spectrum: 0,
              usedots: 0,
              thick: 0,
              additive: 0
            };
            this.renderer = new _rendering_renderer__WEBPACK_IMPORTED_MODULE_1__["default"](gl, this.audio, opts);
          }
          _createClass(Visualizer2, [{
            key: "connectAudio",
            value: function connectAudio(audioNode) {
              this.audioNode = audioNode;
              this.audio.connectAudio(audioNode);
            }
          }, {
            key: "disconnectAudio",
            value: function disconnectAudio(audioNode) {
              this.audio.disconnectAudio(audioNode);
            }
          }, {
            key: "loadPreset",
            value: function loadPreset(presetMap) {
              var blendTime = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
              var preset = Object.assign({}, presetMap);
              preset.baseVals = Object.assign({}, this.baseValsDefaults, preset.baseVals);
              for (var i = 0; i < preset.shapes.length; i++) {
                preset.shapes[i].baseVals = Object.assign({}, this.shapeBaseValsDefaults, preset.shapes[i].baseVals);
              }
              for (var _i = 0; _i < preset.waves.length; _i++) {
                preset.waves[_i].baseVals = Object.assign({}, this.waveBaseValsDefaults, preset.waves[_i].baseVals);
              }
              if (typeof preset.init_eqs !== "function") {
                preset.init_eqs = new Function("a", "".concat(preset.init_eqs_str, " return a;"));
                preset.frame_eqs = new Function("a", "".concat(preset.frame_eqs_str, " return a;"));
                if (preset.pixel_eqs_str && preset.pixel_eqs_str !== "") {
                  preset.pixel_eqs = new Function("a", "".concat(preset.pixel_eqs_str, " return a;"));
                } else {
                  preset.pixel_eqs = "";
                }
                for (var _i2 = 0; _i2 < preset.shapes.length; _i2++) {
                  if (preset.shapes[_i2].baseVals.enabled !== 0) {
                    preset.shapes[_i2] = Object.assign({}, preset.shapes[_i2], {
                      init_eqs: new Function("a", "".concat(preset.shapes[_i2].init_eqs_str, " return a;")),
                      frame_eqs: new Function("a", "".concat(preset.shapes[_i2].frame_eqs_str, " return a;"))
                    });
                  }
                }
                for (var _i3 = 0; _i3 < preset.waves.length; _i3++) {
                  if (preset.waves[_i3].baseVals.enabled !== 0) {
                    var wave = {
                      init_eqs: new Function("a", "".concat(preset.waves[_i3].init_eqs_str, " return a;")),
                      frame_eqs: new Function("a", "".concat(preset.waves[_i3].frame_eqs_str, " return a;"))
                    };
                    if (preset.waves[_i3].point_eqs_str && preset.waves[_i3].point_eqs_str !== "") {
                      wave.point_eqs = new Function("a", "".concat(preset.waves[_i3].point_eqs_str, " return a;"));
                    } else {
                      wave.point_eqs = "";
                    }
                    preset.waves[_i3] = Object.assign({}, preset.waves[_i3], wave);
                  }
                }
              }
              this.renderer.loadPreset(preset, blendTime);
            }
          }, {
            key: "loadExtraImages",
            value: function loadExtraImages(imageData) {
              this.renderer.loadExtraImages(imageData);
            }
          }, {
            key: "setRendererSize",
            value: function setRendererSize(width, height) {
              var opts = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
              this.renderer.setRendererSize(width, height, opts);
            }
          }, {
            key: "setInternalMeshSize",
            value: function setInternalMeshSize(width, height) {
              this.renderer.setInternalMeshSize(width, height);
            }
          }, {
            key: "setOutputAA",
            value: function setOutputAA(useAA) {
              this.renderer.setOutputAA(useAA);
            }
          }, {
            key: "render",
            value: function render(opts) {
              this.renderer.render(opts);
            }
          }, {
            key: "launchSongTitleAnim",
            value: function launchSongTitleAnim(text) {
              this.renderer.launchSongTitleAnim(text);
            }
          }, {
            key: "toDataURL",
            value: function toDataURL() {
              return this.renderer.toDataURL();
            }
          }, {
            key: "warpBufferToDataURL",
            value: function warpBufferToDataURL() {
              return this.renderer.warpBufferToDataURL();
            }
          }]);
          return Visualizer2;
        }();
      }
    });
  });
});
var __pika_web_default_export_for_treeshaking__ = /* @__PURE__ */ getDefaultExportFromCjs(butterchurn);
var butterchurn_default = __pika_web_default_export_for_treeshaking__;

// build/_snowpack/pkg/butterchurn-presets.js
var butterchurnPresets_min = createCommonjsModule(function(module, exports) {
  !function(a, e) {
    module.exports = e();
  }(typeof self != "undefined" ? self : commonjsGlobal, function() {
    return function(a) {
      var e = {};
      function t(r) {
        if (e[r])
          return e[r].exports;
        var n = e[r] = {i: r, l: false, exports: {}};
        return a[r].call(n.exports, n, n.exports, t), n.l = true, n.exports;
      }
      return t.m = a, t.c = e, t.d = function(a2, e2, r) {
        t.o(a2, e2) || Object.defineProperty(a2, e2, {configurable: false, enumerable: true, get: r});
      }, t.n = function(a2) {
        var e2 = a2 && a2.__esModule ? function() {
          return a2.default;
        } : function() {
          return a2;
        };
        return t.d(e2, "a", e2), e2;
      }, t.o = function(a2, e2) {
        return Object.prototype.hasOwnProperty.call(a2, e2);
      }, t.p = "", t(t.s = 165);
    }([function(a, e, t) {
      a.exports = !t(5)(function() {
        return Object.defineProperty({}, "a", {get: function() {
          return 7;
        }}).a != 7;
      });
    }, function(a, e) {
      a.exports = function(a2) {
        return typeof a2 == "object" ? a2 !== null : typeof a2 == "function";
      };
    }, function(a, e) {
      var t = a.exports = typeof window != "undefined" && window.Math == Math ? window : typeof self != "undefined" && self.Math == Math ? self : Function("return this")();
      typeof __g == "number" && (__g = t);
    }, function(a, e) {
      var t = a.exports = {version: "2.5.3"};
      typeof __e == "number" && (__e = t);
    }, function(a, e, t) {
      var r = t(15), n = t(16), _ = t(18), s = Object.defineProperty;
      e.f = t(0) ? Object.defineProperty : function(a2, e2, t2) {
        if (r(a2), e2 = _(e2, true), r(t2), n)
          try {
            return s(a2, e2, t2);
          } catch (a3) {
          }
        if ("get" in t2 || "set" in t2)
          throw TypeError("Accessors not supported!");
        return "value" in t2 && (a2[e2] = t2.value), a2;
      };
    }, function(a, e) {
      a.exports = function(a2) {
        try {
          return !!a2();
        } catch (a3) {
          return true;
        }
      };
    }, function(a, e, t) {
      e.__esModule = true, e.default = function(a2, e2) {
        if (!(a2 instanceof e2))
          throw new TypeError("Cannot call a class as a function");
      };
    }, function(a, e, t) {
      e.__esModule = true;
      var r, n = t(8), _ = (r = n) && r.__esModule ? r : {default: r};
      e.default = function() {
        function a2(a3, e2) {
          for (var t2 = 0; t2 < e2.length; t2++) {
            var r2 = e2[t2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), (0, _.default)(a3, r2.key, r2);
          }
        }
        return function(e2, t2, r2) {
          return t2 && a2(e2.prototype, t2), r2 && a2(e2, r2), e2;
        };
      }();
    }, function(a, e, t) {
      a.exports = {default: t(9), __esModule: true};
    }, function(a, e, t) {
      t(10);
      var r = t(3).Object;
      a.exports = function(a2, e2, t2) {
        return r.defineProperty(a2, e2, t2);
      };
    }, function(a, e, t) {
      var r = t(11);
      r(r.S + r.F * !t(0), "Object", {defineProperty: t(4).f});
    }, function(a, e, t) {
      var r = t(2), n = t(3), _ = t(12), s = t(14), v = function(a2, e2, t2) {
        var m, i, p, b = a2 & v.F, l = a2 & v.G, x = a2 & v.S, o = a2 & v.P, d = a2 & v.B, u = a2 & v.W, c = l ? n : n[e2] || (n[e2] = {}), y = c.prototype, h = l ? r : x ? r[e2] : (r[e2] || {}).prototype;
        for (m in l && (t2 = e2), t2)
          (i = !b && h && h[m] !== void 0) && m in c || (p = i ? h[m] : t2[m], c[m] = l && typeof h[m] != "function" ? t2[m] : d && i ? _(p, r) : u && h[m] == p ? function(a3) {
            var e3 = function(e4, t3, r2) {
              if (this instanceof a3) {
                switch (arguments.length) {
                  case 0:
                    return new a3();
                  case 1:
                    return new a3(e4);
                  case 2:
                    return new a3(e4, t3);
                }
                return new a3(e4, t3, r2);
              }
              return a3.apply(this, arguments);
            };
            return e3.prototype = a3.prototype, e3;
          }(p) : o && typeof p == "function" ? _(Function.call, p) : p, o && ((c.virtual || (c.virtual = {}))[m] = p, a2 & v.R && y && !y[m] && s(y, m, p)));
      };
      v.F = 1, v.G = 2, v.S = 4, v.P = 8, v.B = 16, v.W = 32, v.U = 64, v.R = 128, a.exports = v;
    }, function(a, e, t) {
      var r = t(13);
      a.exports = function(a2, e2, t2) {
        if (r(a2), e2 === void 0)
          return a2;
        switch (t2) {
          case 1:
            return function(t3) {
              return a2.call(e2, t3);
            };
          case 2:
            return function(t3, r2) {
              return a2.call(e2, t3, r2);
            };
          case 3:
            return function(t3, r2, n) {
              return a2.call(e2, t3, r2, n);
            };
        }
        return function() {
          return a2.apply(e2, arguments);
        };
      };
    }, function(a, e) {
      a.exports = function(a2) {
        if (typeof a2 != "function")
          throw TypeError(a2 + " is not a function!");
        return a2;
      };
    }, function(a, e, t) {
      var r = t(4), n = t(19);
      a.exports = t(0) ? function(a2, e2, t2) {
        return r.f(a2, e2, n(1, t2));
      } : function(a2, e2, t2) {
        return a2[e2] = t2, a2;
      };
    }, function(a, e, t) {
      var r = t(1);
      a.exports = function(a2) {
        if (!r(a2))
          throw TypeError(a2 + " is not an object!");
        return a2;
      };
    }, function(a, e, t) {
      a.exports = !t(0) && !t(5)(function() {
        return Object.defineProperty(t(17)("div"), "a", {get: function() {
          return 7;
        }}).a != 7;
      });
    }, function(a, e, t) {
      var r = t(1), n = t(2).document, _ = r(n) && r(n.createElement);
      a.exports = function(a2) {
        return _ ? n.createElement(a2) : {};
      };
    }, function(a, e, t) {
      var r = t(1);
      a.exports = function(a2, e2) {
        if (!r(a2))
          return a2;
        var t2, n;
        if (e2 && typeof (t2 = a2.toString) == "function" && !r(n = t2.call(a2)))
          return n;
        if (typeof (t2 = a2.valueOf) == "function" && !r(n = t2.call(a2)))
          return n;
        if (!e2 && typeof (t2 = a2.toString) == "function" && !r(n = t2.call(a2)))
          return n;
        throw TypeError("Can't convert object to primitive value");
      };
    }, function(a, e) {
      a.exports = function(a2, e2) {
        return {enumerable: !(1 & a2), configurable: !(2 & a2), writable: !(4 & a2), value: e2};
      };
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.42, decay: 1, echo_zoom: 0.999823, echo_alpha: 0.5, echo_orient: 1, wave_mode: 5, wave_thick: 1, wave_brighten: 0, wrap: 0, darken: 1, wave_a: 1185e-6, wave_scale: 0.325446, wave_smoothing: 0.9, modwavealphastart: 0.5, modwavealphaend: 1, warpanimspeed: 2.630064, warpscale: 3.209168, zoomexp: 1.000158, dx: 1e-5, dy: 1e-5, warp: 0.01, wave_r: 0.5, wave_g: 0.5, wave_b: 0.5, ob_size: 5e-3, ob_a: 0.5, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 0.1, mv_x: 6.4, mv_y: 4.8, mv_l: 5, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.thresh=0;a.dx_r=0;a.dy_r=0;a.tg1=0;a.tg2=0;a.tg3=0;a.six=0;", frame_eqs_str: "a.wave_r=.5+.5*Math.sin(1.6*a.time);a.wave_g=.5+.5*Math.sin(4.1*a.time);a.wave_b=-1+(1-a.wave_r+1-a.wave_g);a.warp=2;a.ob_r+=a.wave_b*above(Math.sin(.1*a.time),0);a.ob_b+=a.wave_g*above(Math.sin(.1*a.time),0);a.ob_g+=a.wave_r*above(Math.sin(.1*a.time),0);a.ob_r+=a.wave_g*below(Math.sin(.1*a.time),0);a.ob_b+=a.wave_r*below(Math.sin(.1*a.time),0);a.ob_g+=a.wave_b*below(Math.sin(.1*a.time),0);", pixel_eqs_str: "a.thresh=2*above(a.bass_att,a.thresh)+(1-above(a.bass_att,a.thresh))*(.96*(a.thresh-1.3)+1.3);a.dx_r=.05*equal(a.thresh,2)*Math.sin(5*a.time)+(1-equal(a.thresh,2))*a.dx_r;a.dy_r=.056*equal(a.thresh,2)*Math.sin(6*a.time)+(1-equal(a.thresh,2))*a.dy_r;a.tg1=Math.abs(Math.sin(a.time));a.tg2=22*above(a.tg1,.75)+12*below(a.tg1,.25)+18*above(a.tg1,.25)*below(a.tg1,.5)+12*above(a.tg1,.5)*below(a.tg1,.75);a.tg3=.00001<Math.abs(equal(a.thresh,2))?a.tg2:a.tg3;a.six=Math.sin(a.x);a.dx+=\na.dx_r*Math.sin(Math.abs(a.tg3*a.y))*Math.sin(a.time);a.dy+=a.dy_r*Math.sin(Math.abs(a.tg3*a.x))*Math.cos(a.time);a.dx+=a.dx_r*pow(a.rad,2*a.y)*Math.sin(a.time);a.dy+=a.dy_r*pow(a.rad,2*a.x)*Math.sin(a.time);a.zoom-=.0825*pow(a.rad,6*a.x)*Math.cos(6*a.ang);a.rot-=.039375*Math.sin(1.25*a.time)*pow(a.rad,a.x)*Math.sin(1.45*a.time)*Math.sin(a.time);", warp: "", comp: ""};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1, decay: 1, echo_zoom: 1, echo_alpha: 1, echo_orient: 1, wave_mode: 5, wave_brighten: 0, wave_a: 1e-3, wave_scale: 1.447722, wave_smoothing: 0.5, modwavealphastart: 0.5, modwavealphaend: 1, fshader: 1, dx: 1e-5, dy: 1e-5, warp: 0.01, wave_r: 0.5, wave_g: 0.5, wave_b: 0.5, ob_size: 0.015, ob_a: 1, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 1, mv_x: 0, mv_y: 0, mv_l: 1, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.pfdx_r=0;a.pfthresh=0;a.thresh=0;a.ladder=0;a.q1=0;a.leafset=0;a.dy_r=0;a.pfdy_r=0;a.leaf=0;a.dx_r=0;a.q2=0;a.q3=0;a.leafset=3;", frame_eqs_str: "a.wave_r=.5+.5*Math.sin(1.6*a.time);a.wave_g=.5+.5*Math.sin(4.1*a.time);a.wave_b=-1+(1-a.wave_r+1-a.wave_g);a.warp=0;a.pfthresh=3*above(a.bass_att,a.pfthresh)+(1-above(a.bass_att,a.pfthresh))*(.96*(a.pfthresh-1.3)+1.3);a.pfdx_r=.015*equal(a.pfthresh,3)*Math.sin(5*a.time)+(1-equal(a.pfthresh,3))*a.pfdx_r;a.pfdy_r=.015*equal(a.pfthresh,3)*Math.sin(6*a.time)+(1-equal(a.pfthresh,3))*a.pfdy_r;a.q1=a.wave_r;a.q2=a.wave_g;a.q3=a.wave_b;a.ob_r=1-.75*Math.abs(a.q1);a.ob_g=1-.75*Math.abs(a.q2);\na.ob_b=1-.75*Math.abs(a.q3);a.echo_zoom+=Math.min(Math.max(.75,50*a.pfdx_r),1);a.echo_orient+=16*a.pfdy_r;a.dx+=15.1*a.pfdx_r;a.dy+=15.1*a.pfdy_r;a.ob_size+=.005*a.bass_att;a.ib_a-=Math.min(.5,.5-Math.abs(a.dx+a.dy));", pixel_eqs_str: "a.thresh=2*above(a.bass_att,a.thresh)+(1-above(a.bass_att,a.thresh))*(.96*(a.thresh-1.3)+1.3);a.dx_r=.015*equal(a.thresh,2)*Math.sin(5*a.time)+(1-equal(a.thresh,2))*a.dx_r;a.dy_r=.015*equal(a.thresh,2)*Math.sin(6*a.time)+(1-equal(a.thresh,2))*a.dy_r;a.ladder=Math.abs(Math.sin(1*a.time));a.leaf=5*below(a.ladder,.2)+8*above(a.ladder,.2)*below(a.ladder,.4)+12*above(a.ladder,.4)*below(a.ladder,.6)+18*above(a.ladder,.6)*below(a.ladder,.8)+24*above(a.ladder,.8);a.leafset=.00001<Math.abs(equal(a.thresh,\n2))?a.leaf:a.leafset;a.zoom+=.05*(.75-Math.cos(a.leafset*a.rad))*(1-a.rad);a.zoom-=Math.abs(.05*(.75-Math.cos(4*a.rad)));", warp: "", comp: ""};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1, decay: 0.96, echo_zoom: 0.99663, echo_orient: 1, wave_mode: 2, wave_dots: 1, wave_brighten: 0, wrap: 0, darken: 1, wave_a: 1e-3, wave_scale: 0.011726, wave_smoothing: 0.9, warpanimspeed: 0.010284, warpscale: 0.01, warp: 0.01, wave_r: 0.5, wave_g: 0.4, wave_b: 0.3, ob_size: 0, ob_r: 0.11, ob_b: 0.1, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, mv_x: 64, mv_y: 48, mv_l: 5, mv_r: 0, mv_g: 0, mv_b: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 1, sides: 32, additive: 1, rad: 0.194774, r: 0, b: 1, a: 1e-6, r2: 0.63, g2: 0.7, b2: 1, a2: 0.07, border_a: 0}, init_eqs_str: "a.lens_scale=0;a.cang=0;a.n=0;a.yq=0;a.xp=0;a.fix=0;a.yp=0;a.t1=0;a.q1=0;a.pos_scale=0;a.cubesize=0;a.xq=0;a.sang=0;a.flip=0;a.zq=0;a.tm=0;a.zp=0;a.q2=0;a.sample=0;a.q8=0;a.flip=1;", frame_eqs_str: "a.flip=-a.flip;a.lens_scale=.5*a.flip+.5;a.lens_scale=1+2.4*a.lens_scale;a.pos_scale=.00001<Math.abs(equal(a.flip,-1))?.5:a.lens_scale;a.t1=.25*a.q1;a.sample=1;a.n=6.283*a.sample;a.cubesize=a.q2;a.fix=.5*div(1,a.cubesize);a.tm=4*a.q1+4*a.sample;a.xp=Math.sin(a.tm)*Math.cos(3*a.tm)*.5+.5;a.yp=Math.sin(1.1*a.tm)*Math.sin(4.1*a.tm)*.5+.5;a.zp=Math.sin(2.9*a.tm)*Math.cos(1.77*a.tm)*.5+.5;a.xp=div(Math.floor(a.xp*a.cubesize),a.cubesize)-.5+a.fix;a.yp=div(Math.floor(a.yp*a.cubesize),\na.cubesize)-.5+a.fix;a.zp=div(Math.floor(a.zp*a.cubesize),a.cubesize)-.5+a.fix;a.ang=a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp*a.sang+a.zp*a.cang;a.yq=a.yp;a.zq=a.xp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.ang=.75*a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sang+a.zp*a.cang;a.zq=a.yp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.zp+=2;a.x=div(-a.xp,a.zp)*a.pos_scale+.5;a.y=div(-a.yp,a.zp)*a.pos_scale*1.333+.5;a.rad=a.rad*(1+div(a.q8,\n3))*a.lens_scale;"}, {baseVals: {enabled: 1, sides: 6, rad: 0.043785, r: 0.3, g: 0.6, b: 1, g2: 0, b2: 1, border_a: 0}, init_eqs_str: "a.cang=0;a.n=0;a.yq=0;a.xp=0;a.fix=0;a.yp=0;a.t1=0;a.q1=0;a.cubesize=0;a.xq=0;a.sang=0;a.zq=0;a.tm=0;a.zp=0;a.q2=0;a.sample=0;a.q8=0;", frame_eqs_str: "a.t1=.25*a.q1;a.sample=1;a.n=6.283*a.sample;a.cubesize=a.q2;a.fix=.5*div(1,a.cubesize);a.tm=4*a.q1+4*a.sample;a.xp=Math.sin(a.tm)*Math.cos(3*a.tm)*.5+.5;a.yp=Math.sin(1.1*a.tm)*Math.sin(4.1*a.tm)*.5+.5;a.zp=Math.sin(2.9*a.tm)*Math.cos(1.77*a.tm)*.5+.5;a.xp=div(Math.floor(a.xp*a.cubesize),a.cubesize)-.5+a.fix;a.yp=div(Math.floor(a.yp*a.cubesize),a.cubesize)-.5+a.fix;a.zp=div(Math.floor(a.zp*a.cubesize),a.cubesize)-.5+a.fix;a.ang=a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);\na.xq=a.xp*a.sang+a.zp*a.cang;a.yq=a.yp;a.zq=a.xp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.ang=.75*a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sang+a.zp*a.cang;a.zq=a.yp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.zp+=2;a.x=div(a.xp,a.zp)+.5;a.y=1.333*div(a.yp,a.zp)+.5;a.a=Math.min(a.a+div(a.q8,2),1);a.r=Math.min(a.r*(1+a.q8),1);a.g=Math.min(a.g*(1+a.q8),1);a.r2=Math.min(div(a.q8,2),1);a.g2=Math.min(div(a.q8,4),1);a.rad*=1+div(a.q8,7);"}, {baseVals: {enabled: 1, sides: 36, rad: 0.284278, r: 0, a: 0, r2: 0.23, g2: 0.54, b2: 1, a2: 0.05, border_g: 0.8, border_b: 0.4, border_a: 0.45}, init_eqs_str: "a.cang=0;a.n=0;a.yq=0;a.xp=0;a.fix=0;a.yp=0;a.t1=0;a.q1=0;a.cubesize=0;a.xq=0;a.sang=0;a.zq=0;a.tm=0;a.zp=0;a.q2=0;a.sample=0;a.q8=0;", frame_eqs_str: "a.t1=.25*a.q1;a.sample=1;a.n=6.283*a.sample;a.cubesize=a.q2;a.fix=.5*div(1,a.cubesize);a.tm=4*a.q1+4*a.sample;a.xp=Math.sin(a.tm)*Math.cos(3*a.tm)*.5+.5;a.yp=Math.sin(1.1*a.tm)*Math.sin(4.1*a.tm)*.5+.5;a.zp=Math.sin(2.9*a.tm)*Math.cos(1.77*a.tm)*.5+.5;a.xp=div(Math.floor(a.xp*a.cubesize),a.cubesize)-.5+a.fix;a.yp=div(Math.floor(a.yp*a.cubesize),a.cubesize)-.5+a.fix;a.zp=div(Math.floor(a.zp*a.cubesize),a.cubesize)-.5+a.fix;a.ang=a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);\na.xq=a.xp*a.sang+a.zp*a.cang;a.yq=a.yp;a.zq=a.xp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.ang=.75*a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sang+a.zp*a.cang;a.zq=a.yp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.zp+=2;a.x=div(a.xp,a.zp)+.5;a.y=1.333*div(a.yp,a.zp)+.5;a.a2=Math.min(a.a2*(1+div(a.q8,2)),1);a.r2=Math.min(a.r2*(1+div(a.q8,4)),1);a.g2=Math.min(a.g2*(1+div(a.q8,3)),1);a.border_a=Math.min(a.border_a*(1+a.q8),1);"}, {baseVals: {enabled: 1, sides: 6, additive: 1, rad: 0.158045, r: 0.3, g: 0.6, b: 1, a: 0.140001, r2: 0.4, g2: 0.5, b2: 1, border_a: 0}, init_eqs_str: "a.cang=0;a.n=0;a.yq=0;a.xp=0;a.fix=0;a.yp=0;a.t1=0;a.q1=0;a.cubesize=0;a.xq=0;a.sang=0;a.zq=0;a.tm=0;a.zp=0;a.q2=0;a.sample=0;a.q8=0;", frame_eqs_str: "a.t1=.25*a.q1;a.sample=1;a.n=6.283*a.sample;a.cubesize=a.q2;a.fix=.5*div(1,a.cubesize);a.tm=4*a.q1+4*a.sample;a.xp=Math.sin(a.tm)*Math.cos(3*a.tm)*.5+.5;a.yp=Math.sin(1.1*a.tm)*Math.sin(4.1*a.tm)*.5+.5;a.zp=Math.sin(2.9*a.tm)*Math.cos(1.77*a.tm)*.5+.5;a.xp=div(Math.floor(a.xp*a.cubesize),a.cubesize)-.5+a.fix;a.yp=div(Math.floor(a.yp*a.cubesize),a.cubesize)-.5+a.fix;a.zp=div(Math.floor(a.zp*a.cubesize),a.cubesize)-.5+a.fix;a.ang=a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);\na.xq=a.xp*a.sang+a.zp*a.cang;a.yq=a.yp;a.zq=a.xp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.ang=.75*a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sang+a.zp*a.cang;a.zq=a.yp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.zp+=2;a.x=div(a.xp,a.zp)+.5;a.y=1.333*div(a.yp,a.zp)+.5;a.a=Math.min(a.a*a.q8,1);a.rad*=1+a.q8;"}], waves: [{baseVals: {enabled: 1, thick: 1, additive: 1, r: 0.05, g: 0.09}, init_eqs_str: "a.cang=0;a.n=0;a.yq=0;a.xp=0;a.fix=0;a.yp=0;a.t1=0;a.q1=0;a.cubesize=0;a.xq=0;a.sang=0;a.zq=0;a.ang=0;a.tm=0;a.zp=0;a.q2=0;", frame_eqs_str: "a.t1=.25*a.q1;", point_eqs_str: "a.n=6.283*a.sample;a.cubesize=a.q2;a.fix=.5*div(1,a.cubesize);a.tm=4*a.q1+4*a.sample;a.xp=Math.sin(a.tm)*Math.cos(3*a.tm)*.5+.5;a.yp=Math.sin(1.1*a.tm)*Math.sin(4.1*a.tm)*.5+.5;a.zp=Math.sin(2.9*a.tm)*Math.cos(1.77*a.tm)*.5+.5;a.xp=div(Math.floor(a.xp*a.cubesize),a.cubesize)-.5+a.fix;a.yp=div(Math.floor(a.yp*a.cubesize),a.cubesize)-.5+a.fix;a.zp=div(Math.floor(a.zp*a.cubesize),a.cubesize)-.5+a.fix;a.ang=a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp*a.sang+a.zp*\na.cang;a.yq=a.yp;a.zq=a.xp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.ang=.75*a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sang+a.zp*a.cang;a.zq=a.yp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.zp+=2;a.x=div(a.xp,a.zp)+.5;a.y=1.333*div(a.yp,a.zp)+.5;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 1, usedots: 1, thick: 1}, init_eqs_str: "a.cang=0;a.n=0;a.yq=0;a.xp=0;a.fix=0;a.yp=0;a.t1=0;a.q1=0;a.cubesize=0;a.xq=0;a.sang=0;a.zq=0;a.ang=0;a.zp=0;a.q2=0;", frame_eqs_str: "a.t1=.25*a.q1;", point_eqs_str: "a.n=6.283*a.sample;a.cubesize=a.q2;a.fix=.5*div(1,a.cubesize);a.xp=div(randint(a.cubesize),a.cubesize)-.5+a.fix;a.yp=div(randint(a.cubesize),a.cubesize)-.5+a.fix;a.zp=div(randint(a.cubesize),a.cubesize)-.5+a.fix;a.ang=a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp*a.sang+a.zp*a.cang;a.yq=a.yp;a.zq=a.xp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.ang=.75*a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sang+a.zp*a.cang;a.zq=a.yp*a.cang-\na.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.zp+=2;a.x=div(a.xp,a.zp)+.5;a.y=1.333*div(a.yp,a.zp)+.5;"}, {baseVals: {enabled: 0}}], init_eqs_str: "a.q1=0;a.beat=0;a.vol=0;a.bc=0;a.size=0;a.q2=0;a.trigger=0;a.q7=0;a.mtime=0;a.q8=0;a.mv_x=64;a.mv_y=48;a.nut=0;a.stp=0;a.stq=0;a.rtp=0;a.rtq=0;a.wvr=0;a.decay=0;a.dcsp=0;a.size=4;a.bc=0;", frame_eqs_str: "a.decay=.95;a.zoom=1.005;a.vol=.25*(a.bass+a.mid+a.treb);a.vol*=a.vol;a.q8=a.vol;a.mtime+=.01*a.vol*div(75,a.fps);a.q7=a.mtime;a.monitor=div(512,8);a.warp=0;a.q1=.9*a.mtime;a.beat=above(a.vol,1);a.bc=Math.max(a.bc,0);a.bc=.00001<Math.abs(equal(a.bc,0))?a.bc+a.beat:a.bc-div(div(1,a.fps),4);a.trigger=equal(a.bc,1);a.monitor=a.size;a.size+=a.trigger;a.size=.00001<Math.abs(above(a.size,10))?4:a.size;a.q2=Math.floor(a.size);", pixel_eqs_str: "", pixel_eqs: "", warp: "", comp: ""};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, decay: 0.95, echo_zoom: 1.006596, echo_orient: 1, wave_mode: 2, wave_dots: 1, wave_brighten: 0, wave_a: 0.019788, wave_scale: 0.011726, wave_smoothing: 0.9, warpanimspeed: 0.010284, warpscale: 0.01, fshader: 1, warp: 0.01, wave_r: 0.5, wave_g: 0.4, wave_b: 0.3, ob_size: 0, ob_r: 0.11, ob_b: 0.1, ib_size: 5e-3, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 1, mv_x: 31.999994, mv_y: 24.000004, mv_dx: 0.02, mv_dy: -0.02, mv_l: 1, mv_r: 0.49, mv_g: 0.48, mv_b: 0.300001, mv_a: 0}, shapes: [{baseVals: {enabled: 1, textured: 1, rad: 1.670888, tex_ang: 0.942478, tex_zoom: 0.534261, g: 1, b: 1, r2: 1, b2: 1, a2: 1, border_a: 0.17}, init_eqs_str: "a.flux=0;a.q5=0;a.fluxs=0;a.advflux=0;a.q3=0;a.adv=0;a.advs=0;", frame_eqs_str: "a.flux=9*a.q5;a.fluxs=Math.max(a.flux,0);a.fluxs=Math.min(a.fluxs,1);a.advflux=a.q3*a.fluxs+-a.q3*(1-a.fluxs);a.adv+=a.advflux;a.advs=div(a.adv,256);a.ang=a.advs;a.rad=1.671+div(a.q3,25);"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 1, sides: 3, x: 0.59, rad: 0.444842, r: 0, r2: 0.1, g2: 0.05, border_a: 0}, init_eqs_str: "a.rotator=0;a.dir=0;a.mover=0;a.dir=3;a.mover=0;a.rotator=.255;", frame_eqs_str: "a.ang=a.rotator;a.x=.00001<Math.abs(equal(a.dir,1))?1-a.mover:.00001<Math.abs(equal(a.dir,1.5))?.15:.00001<Math.abs(equal(a.dir,2))?0:.00001<Math.abs(equal(a.dir,2.5))?0:.00001<Math.abs(equal(a.dir,3))?0+a.mover:.00001<Math.abs(equal(a.dir,3.5))?1:(equal(a.dir,4),1);a.y=.00001<Math.abs(equal(a.dir,1))?1:.00001<Math.abs(equal(a.dir,1.5))?1:.00001<Math.abs(equal(a.dir,2))?1-a.mover:.00001<Math.abs(equal(a.dir,2.5))?0:.00001<Math.abs(equal(a.dir,3))?0:.00001<Math.abs(equal(a.dir,\n3.5))?0:.00001<Math.abs(equal(a.dir,4))?0+a.mover:1;a.mover=.00001<Math.abs(equal(a.dir,1))?a.mover+.005:.00001<Math.abs(equal(a.dir,1.5))?0:.00001<Math.abs(equal(a.dir,2))?a.mover+.005:.00001<Math.abs(equal(a.dir,2.5))?0:.00001<Math.abs(equal(a.dir,3))?a.mover+.005:.00001<Math.abs(equal(a.dir,3.5))?0:.00001<Math.abs(equal(a.dir,4))?a.mover+.005:0;a.dir=.00001<Math.abs(equal(a.dir,1))?.00001<Math.abs(above(a.mover,.995))?1.5:a.dir:.00001<Math.abs(equal(a.dir,1.5))?.00001<Math.abs(below(a.rotator,\n-1.29))?2:a.dir:.00001<Math.abs(equal(a.dir,2))?.00001<Math.abs(above(a.mover,.995))?2.5:a.dir:.00001<Math.abs(equal(a.dir,2.5))?.00001<Math.abs(below(a.rotator,-2.85))?3:a.dir:.00001<Math.abs(equal(a.dir,3))?.00001<Math.abs(above(a.mover,.995))?3.5:a.dir:.00001<Math.abs(equal(a.dir,3.5))?.00001<Math.abs(below(a.rotator,-4.44))?4:a.dir:.00001<Math.abs(equal(a.dir,4))?.00001<Math.abs(above(a.mover,.995))?4.5:a.dir:.00001<Math.abs(equal(a.dir,4.5))?.00001<Math.abs(below(a.rotator,-5.94))?1:a.dir:a.dir;\na.rotator=.00001<Math.abs(equal(a.dir,1.5))?.00001<Math.abs(above(a.rotator,-1.31))?a.rotator-.05:a.rotator:.00001<Math.abs(equal(a.dir,2))?-1.3:.00001<Math.abs(equal(a.dir,2.5))?.00001<Math.abs(above(a.rotator,-2.87))?a.rotator-.05:a.rotator:.00001<Math.abs(equal(a.dir,3))?-2.86:.00001<Math.abs(equal(a.dir,3.5))?.00001<Math.abs(above(a.rotator,-4.46))?a.rotator-.05:a.rotator:.00001<Math.abs(equal(a.dir,4))?-4.45:.00001<Math.abs(equal(a.dir,4.5))?.00001<Math.abs(above(a.rotator,-5.97))?a.rotator-\n.05:a.rotator:.00001<Math.abs(equal(a.dir,4))?-5.96:.26;a.b=above(a.mid,1.5);a.r2=above(a.mid,1.5);a.g2=above(a.mid,1.5);a.b2=above(a.mid,1.5);"}, {baseVals: {enabled: 1, sides: 3, additive: 1, x: 0.84, r: 0.98, g: 1, b: 0.98, a: 0.3, g2: 0.09, border_a: 0}, init_eqs_str: "a.q1=0;", frame_eqs_str: "a.x=.4*Math.sin(div(a.time,2))+.5;a.y=.4*Math.sin(a.time)+.5;a.rad=div(a.q1*a.q1,2);a.ang=4*a.q1;a.r=.7+.5*Math.sin(div(a.time,2));a.g=.7+.5*Math.sin(div(a.time,2)+2);a.b=.7+.5*Math.sin(div(a.time,2)+4);"}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.speedinv=0;a.q1=0;a.q5=0;a.flux=0;a.q4=0;a.q2=0;a.qb=0;a.speed=0;a.qc=0;a.q3=0;a.qa=0;a.mv_x=64;a.mv_y=48;a.nut=0;a.stp=0;a.stq=0;a.rtp=0;a.rtq=0;a.wvr=0;a.decay=0;a.dcsp=0;a.q1=0;a.q2=0;a.q3=0;", frame_eqs_str: "a.decay=1;a.zoom=1;a.speed=.8;a.speedinv=1-a.speed;a.q1=a.qa*a.speed+a.bass*a.speedinv;a.q2=a.qb*a.speed+a.mid*a.speedinv;a.q3=a.qc*a.speed+a.treb*a.speedinv;a.qa=a.q1;a.qb=a.q2;a.qc=a.q3;a.flux=Math.sin(div(a.time,2));a.q4=.5*a.flux+.5;a.q5=a.flux;", pixel_eqs_str: "", pixel_eqs: "", warp: "", comp: ""};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1.21, decay: 0.96, echo_zoom: 0.99663, echo_orient: 1, wave_mode: 2, wave_dots: 1, wave_brighten: 0, brighten: 1, invert: 1, wave_a: 1e-3, wave_scale: 0.011726, wave_smoothing: 0.9, warpanimspeed: 0.037492, warpscale: 0.014889, warp: 0.033004, wave_r: 0.5, wave_g: 0.4, wave_b: 0.3, ob_size: 0.055, ob_r: 1, ob_g: 1, ob_b: 1, ob_a: 1, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, mv_x: 0, mv_y: 43.199997, mv_l: 1, mv_g: 0.91, mv_b: 0.71, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, r: 0.1, b: 0.7}, init_eqs_str: "a.n=0;a.yq=0;a.xp=0;a.t5=0;a.xs=0;a.yp=0;a.t1=0;a.q1=0;a.cosang=0;a.r1=0;a.g2=0;a.xq=0;a.t3=0;a.flip=0;a.t6=0;a.ys=0;a.zq=0;a.phs=0;a.r2=0;a.ang=0;a.sinang=0;a.tm=0;a.b2=0;a.t2=0;a.zp=0;a.g1=0;a.t4=0;a.b1=0;a.q8=0;", frame_eqs_str: "a.t1=.5*Math.sin(a.time)+.5;a.t2=.5*Math.sin(a.time+2.1)+.5;a.t3=.5*Math.sin(a.time+4.2)+.5;a.t4=.5*Math.sin(a.time+1.1)+.5;a.t5=.5*Math.sin(a.time+3.1)+.5;a.t6=.5*Math.sin(a.time+5.2)+.5;", point_eqs_str: "a.n=6.283*a.sample;a.phs=.2*-a.sample;a.tm=a.q1+a.phs;a.flip+=1;a.flip*=below(a.flip,2);a.xp=0;a.yp=.1*a.flip+.2*(.5*Math.sin(a.tm)+.5);a.zp=0;a.ang=.5*Math.sin(2*a.tm)+.5;a.xq=a.xp;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.yq=a.yp;a.zq=a.zp;a.ang=8*a.tm;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.3;a.ang=3.14+1.5*\nMath.sin(2*a.tm-.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.ang=-1+Math.cos(3.1*a.tm+.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.35;a.ang=1.75*Math.cos(2.3*a.tm)-1.05;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp*a.sinang+a.zp*a.cosang;a.yq=a.yp;a.zq=a.xp*a.cosang-a.zp*a.sinang;a.ang=.5*Math.cos(a.tm)-.5;\na.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq;a.yp=a.yq*a.cosang-a.zq*a.sinang;a.zp=a.yq*a.sinang+a.zq*a.cosang;a.zp+=2;a.xs=div(a.xp,a.zp);a.ys=div(a.yp,a.zp);a.x=a.xs+.5;a.y=1.3*a.ys+.5;a.a=.00001<Math.abs(equal(a.q8,1))?1-a.sample:a.sample;a.a*=a.a;a.b+=.3*pow(1-a.sample,2);a.r1=a.t1;a.g1=a.t2;a.b1=a.t3;a.r2=a.t4;a.g2=a.t5;a.b2=a.t6;a.r=a.r1*a.flip+a.r2*(1-a.flip);a.g=a.g1*a.flip+a.g2*(1-a.flip);a.b=a.b1*a.flip+a.b2*(1-a.flip);"}, {baseVals: {enabled: 1, r: 0.2, b: 0.6}, init_eqs_str: "a.n=0;a.yq=0;a.xp=0;a.t5=0;a.xs=0;a.yp=0;a.t1=0;a.q1=0;a.cosang=0;a.r1=0;a.g2=0;a.xq=0;a.t3=0;a.flip=0;a.t6=0;a.ys=0;a.zq=0;a.phs=0;a.r2=0;a.ang=0;a.sinang=0;a.tm=0;a.b2=0;a.t2=0;a.zp=0;a.g1=0;a.t4=0;a.b1=0;a.q8=0;", frame_eqs_str: "a.t1=.5*Math.sin(a.time)+.5;a.t2=.5*Math.sin(a.time+2.1)+.5;a.t3=.5*Math.sin(a.time+4.2)+.5;a.t4=.5*Math.sin(a.time+1.1)+.5;a.t5=.5*Math.sin(a.time+3.1)+.5;a.t6=.5*Math.sin(a.time+5.2)+.5;", point_eqs_str: "a.n=6.283*a.sample;a.phs=.2*-a.sample;a.tm=a.q1+a.phs;a.flip+=1;a.flip*=below(a.flip,2);a.xp=0;a.yp=.1*a.flip+.2*(.5*Math.sin(a.tm)+.5)+.1;a.yp=-a.yp;a.zp=0;a.ang=.5*Math.sin(2*a.tm)+.5;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.yq=a.yp;a.zq=a.zp;a.ang=8*a.tm;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.3;\na.ang=3.14+1.5*Math.sin(2*a.tm-.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.ang=-1+Math.cos(3.1*a.tm+.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.35;a.ang=1.75*Math.cos(2.3*a.tm)-1.05;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp*a.sinang+a.zp*a.cosang;a.yq=a.yp;a.zq=a.xp*a.cosang-a.zp*a.sinang;a.ang=.5*Math.cos(a.tm)-\n.5;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq;a.yp=a.yq*a.cosang-a.zq*a.sinang;a.zp=a.yq*a.sinang+a.zq*a.cosang;a.zp+=2;a.xs=div(a.xp,a.zp);a.ys=div(a.yp,a.zp);a.x=a.xs+.5;a.y=1.3*a.ys+.5;a.a=.00001<Math.abs(equal(a.q8,1))?1-a.sample:a.sample;a.a*=a.a;a.b+=.3*pow(1-a.sample,2);a.r1=a.t1;a.g1=a.t2;a.b1=a.t3;a.r2=a.t4;a.g2=a.t5;a.b2=a.t6;a.r=a.r1*a.flip+a.r2*(1-a.flip);a.g=a.g1*a.flip+a.g2*(1-a.flip);a.b=a.b1*a.flip+a.b2*(1-a.flip);"}, {baseVals: {enabled: 1, usedots: 1, thick: 1, additive: 1, g: 0.6, b: 0.1}, init_eqs_str: "a.n=0;a.yq=0;a.xp=0;a.t5=0;a.xs=0;a.yp=0;a.t1=0;a.q1=0;a.cosang=0;a.t8=0;a.xq=0;a.t3=0;a.flip=0;a.t6=0;a.ys=0;a.zq=0;a.phs=0;a.ang=0;a.sinang=0;a.tm=0;a.t2=0;a.zp=0;a.t4=0;a.q8=0;", frame_eqs_str: "a.t1=.5*Math.sin(a.time)+.5;a.t2=.5*Math.sin(a.time+2.1)+.5;a.t3=.5*Math.sin(a.time+4.2)+.5;a.t4=.5*Math.sin(a.time+1.1)+.5;a.t5=.5*Math.sin(a.time+3.1)+.5;a.t6=.5*Math.sin(a.time+5.2)+.5;a.t8=Math.floor(2*Math.sin(2*a.time)+3);", point_eqs_str: "a.n=6.283*a.sample;a.phs=.2*-a.sample;a.tm=a.q1+a.phs;a.flip+=1;a.flip*=below(a.flip,2);a.xp=0;a.yp=.1*a.flip+.2*(.5*Math.sin(a.tm)+.5);a.zp=0;a.ang=.5*Math.sin(2*a.tm)+.5;a.xq=a.xp;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.yq=a.yp;a.zq=a.zp;a.ang=8*a.tm+1;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.3;a.ang=3.14+\n1.5*Math.sin(2*a.tm-.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.ang=-1+Math.cos(3.1*a.tm+.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.35;a.ang=1.75*Math.cos(2.3*a.tm)-1.05;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp*a.sinang+a.zp*a.cosang;a.yq=a.yp;a.zq=a.xp*a.cosang-a.zp*a.sinang;a.ang=.5*Math.cos(a.tm)-\n.5;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq;a.yp=a.yq*a.cosang-a.zq*a.sinang;a.zp=a.yq*a.sinang+a.zq*a.cosang;a.zp+=2;a.xs=div(a.xp,a.zp);a.ys=div(a.yp,a.zp);a.x=a.xs+.5;a.y=1.3*a.ys+.5;a.a=.00001<Math.abs(equal(a.q8,1))?1-a.sample:a.sample;a.a*=above(Math.sin(128*a.tm*a.t8),0);a.r=a.t4;a.g=a.t5;a.b=a.t6;"}, {baseVals: {enabled: 1, usedots: 1, thick: 1, additive: 1, g: 0.3, b: 0.1}, init_eqs_str: "a.n=0;a.yq=0;a.xp=0;a.t5=0;a.xs=0;a.yp=0;a.t1=0;a.q1=0;a.cosang=0;a.t8=0;a.xq=0;a.t3=0;a.flip=0;a.t6=0;a.ys=0;a.zq=0;a.phs=0;a.ang=0;a.sinang=0;a.tm=0;a.t2=0;a.zp=0;a.t4=0;a.q8=0;", frame_eqs_str: "a.t1=.5*Math.sin(a.time)+.5;a.t2=.5*Math.sin(a.time+2.1)+.5;a.t3=.5*Math.sin(a.time+4.2)+.5;a.t4=.5*Math.sin(a.time+1.1)+.5;a.t5=.5*Math.sin(a.time+3.1)+.5;a.t6=.5*Math.sin(a.time+5.2)+.5;a.t8=Math.floor(2*Math.sin(2*a.time)+3);", point_eqs_str: "a.n=6.283*a.sample;a.phs=.2*-a.sample;a.tm=a.q1+a.phs;a.flip+=1;a.flip*=below(a.flip,2);a.xp=0;a.yp=.1*a.flip+.2*(.5*Math.sin(a.tm)+.5)+.1;a.yp=-a.yp;a.zp=0;a.ang=.5*Math.sin(2*a.tm)+.5;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.yq=a.yp;a.zq=a.zp;a.ang=8*a.tm+1;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=\n.3;a.ang=3.14+1.5*Math.sin(2*a.tm-.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.ang=-1+Math.cos(3.1*a.tm+.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.35;a.ang=1.75*Math.cos(2.3*a.tm)-1.05;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp*a.sinang+a.zp*a.cosang;a.yq=a.yp;a.zq=a.xp*a.cosang-a.zp*a.sinang;a.ang=.5*\nMath.cos(a.tm)-.5;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq;a.yp=a.yq*a.cosang-a.zq*a.sinang;a.zp=a.yq*a.sinang+a.zq*a.cosang;a.zp+=2;a.xs=div(a.xp,a.zp);a.ys=div(a.yp,a.zp);a.x=a.xs+.5;a.y=1.3*a.ys+.5;a.a=.00001<Math.abs(equal(a.q8,1))?1-a.sample:a.sample;a.a*=a.a;a.a*=above(Math.sin(128*a.tm*a.t8),0);a.r=a.t4;a.g=a.t5;a.b=a.t6;"}], init_eqs_str: 'a.meanbass_att=0;a.q1=0;a["var"]=0;a.flip=0;a.lastbeat=0;a.beatrate=0;a.mode=0;a.peakbass_att=0;a.beatcounter=0;a.att=0;a.volume=0;a.beat=0;a.vol=0;a.mtime=0;a.q8=0;a.mv_x=64;a.mv_y=48;a.nut=0;a.stp=0;a.stq=0;a.rtp=0;a.rtq=0;a.wvr=0;a.decay=0;a.dcsp=0;a.warp=0;', frame_eqs_str: "a.volume=.3*(a.bass+a.mid+a.att);a.beatrate=equal(a.beatrate,0)+(1-equal(a.beatrate,0))*(below(a.volume,.01)+(1-below(a.volume,.01))*a.beatrate);a.lastbeat+=equal(a.lastbeat,0)*a.time;a.meanbass_att=.1*(9*a.meanbass_att+a.bass_att);a.peakbass_att=Math.max(a.bass_att,a.peakbass_att);a.beatrate=Math.max(.00001<Math.abs(a.beat)?.00001<Math.abs(below(a.time-a.lastbeat,2*a.beatrate))?.1*(9*a.beatrate+a.time-a.lastbeat):a.beatrate:a.beatrate,.1);a.peakbass_att=a.beat*a.bass_att+(1-\na.beat)*a.peakbass_att*(.95*above(a.time-a.lastbeat,2*a.beatrate)+.995*(1-above(a.time-a.lastbeat,2*a.beatrate)));a.lastbeat=a.beat*a.time+(1-a.beat)*a.lastbeat;a.peakbass_att=Math.max(a.peakbass_att,1.1*a.meanbass_att);a.beat=above(a.volume,.8)*below(a.peakbass_att-a.bass_att,.05*a.peakbass_att)*above(a.time-a.lastbeat,.1+.5*(a.beatrate-.1));a.beatcounter+=a.beat;a.mode=.00001<Math.abs(a.beat*equal(mod(a.beatcounter,2),0))?1-a.mode:a.mode;a.flip=2*a.mode-1;a.monitor=a.flip;a.q8=a.flip;a.decay=1;\na.zoom=1.002;a.vol=.25*(a.bass_att+a.mid_att+a.treb_att);a.vol*=a.vol;a.mtime+=.1*a.vol*a.flip*div(55,a.fps);a.q1=.4*a.mtime;a.warp=0;", pixel_eqs_str: 'a["var"]=Math.tan(a.time)*a.treb*a.treb;a.zoom=1+div(a.rad,40)+div(a["var"],40);', warp: "", comp: ""};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 0.999, echo_zoom: 1.006596, echo_alpha: 0.5, echo_orient: 3, wave_mode: 2, additivewave: 1, wave_dots: 1, wave_thick: 1, wave_a: 4.099998, wave_scale: 1.18647, wave_smoothing: 0.63, wave_mystery: -0.2, modwavealphastart: 0.71, modwavealphaend: 1.28, warpscale: 1.331, zoom: 0.999514, warp: 0.01, wave_r: 0.3, wave_g: 0.6, ob_size: 5e-3, ob_r: 0.4999, ob_b: 1, ob_a: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 0.2, mv_r: 0, mv_g: 0, mv_b: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}], init_eqs_str: "a.new_mid=0;a.q6=0;a.q1=0;a.q5=0;a.treb_c=0;a.vol_att=0;a.zoome=0;a.mid_c=0;a.new_treb=0;a.q4=0;a.rad_cycle=0;a.vol_c=0;a.bass_c=0;a.rote=0;a.vol=0;a.new_bass=0;a.q2=0;a.q3=0;a.q7=0;a.q8=0;", frame_eqs_str: "a.vol_att=.25*a.treb_att+.25*a.mid_att+div(.25*a.bass_att+.5*Math.sin(a.vol),a.vol);a.vol=a.bass+a.treb+a.mid;a.new_bass=.25*a.bass+.5*Math.sin(.25*a.bass_att);a.new_treb=.25*a.treb+.5*Math.sin(.25*a.treb_att);a.new_mid=.25*a.mid+.4*Math.sin(.25*a.mid_att);a.bass_c=a.q1-Math.sin(bitand(a.bass_att,.54*a.time));a.treb_c=a.q2-Math.sin(bitand(a.treb_att,.44*a.time));a.mid_c=a.q3-Math.sin(bitand(a.mid_att,.24*a.time));a.vol_c=a.q4-Math.sin(bitand(a.vol_att,.64*a.time));a.q1=Math.sin(bitand(a.bass-\na.new_bass,.63*a.time));a.q2=Math.sin(bitand(a.treb-a.new_treb,.43*a.time));a.q3=Math.sin(bitand(a.mid-a.new_mid,.23*a.time));a.q4=Math.sin(bitand(a.vol,.65*a.time));a.q5=a.bass_c;a.q6=a.treb_c;a.q7=a.mid_c;a.q8=a.vol_c;a.wave_mystery=a.bass_att-1;a.wave_r+=.2*Math.sin(.43*a.time);a.wave_b-=.2*Math.sin(.54*a.time);a.wave_g-=.4*Math.sin(.34*a.time);a.ob_a=0;", pixel_eqs_str: "a.rad_cycle=a.rad*a.rad*a.x*60*a.rad*Math.sin(a.q6);a.rote=a.rot+.1*Math.sin(a.rad_cycle*Math.sin(3.14*a.rad))+.01*Math.sin(a.q1)*Math.tan(a.rad);a.zoome=a.zoom+.1*Math.sin(3.14*a.rad*Math.sin(3.14*a.ang)*Math.sin(a.q2)-a.rote);a.zoom=a.zoome+.05*Math.sin(3.14*a.rad*a.q2)*Math.sin(a.q4);a.rot=a.rote*a.rad+div(div(a.ang,2)*Math.sin(a.q3)*Math.sin(3.14*a.ang*Math.sin(a.q3)*Math.sin(a.q4)),2)+.1*Math.sin(3.14*a.ang)*Math.sin(a.q1);", warp: "", comp: ""};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, decay: 1, echo_zoom: 1, wave_mode: 1, wave_brighten: 0, wave_a: 1, wave_scale: 0.504218, wave_mystery: 0.24, warpanimspeed: 9.8608, warpscale: 16.2174, zoomexp: 1.503744, zoom: 1.0201, warp: 0.819544, wave_r: 0.5, wave_g: 0.5, wave_b: 0.5, ob_size: 5e-3, ob_a: 0.2, ib_size: 5e-3, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 0.06, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}], init_eqs_str: "a.xpos=0;a.yamptarg=0;a.ydir=0;a.zoom_exp=0;a.yaccel=0;a.xamptarg=0;a.xamp=0;a.xspeed=0;a.ypos=0;a.xaccel=0;a.att=0;a.vol=0;a.yamp=0;a.xdir=0;a.yspeed=0;", frame_eqs_str: "a.dx=-.0005;a.dy=-.0005;a.vol=div(a.bass+a.mid+a.att,6);a.xamptarg=.00001<Math.abs(equal(mod(a.frame,15),0))?Math.min(.5*a.vol*a.bass_att,.5):a.xamptarg;a.xamp+=.5*(a.xamptarg-a.xamp);a.xdir=.00001<Math.abs(above(Math.abs(a.xpos),a.xamp))?-sign(a.xpos):.00001<Math.abs(below(Math.abs(a.xspeed),.1))?2*above(a.xpos,0)-1:a.xdir;a.xaccel=a.xdir*a.xamp-a.xpos-.055*a.xspeed*below(Math.abs(a.xpos),a.xamp);a.xspeed=a.xspeed+a.xdir*a.xamp-a.xpos-.055*a.xspeed*below(Math.abs(a.xpos),a.xamp);\na.xpos+=.001*a.xspeed;a.wave_x=a.xpos+.5;a.yamptarg=.00001<Math.abs(equal(mod(a.frame,15),0))?Math.min(.3*a.vol*a.treb_att,.5):a.yamptarg;a.yamp+=.5*(a.yamptarg-a.yamp);a.ydir=.00001<Math.abs(above(Math.abs(a.ypos),a.yamp))?-sign(a.ypos):.00001<Math.abs(below(Math.abs(a.yspeed),.1))?2*above(a.ypos,0)-1:a.ydir;a.yaccel=a.ydir*a.yamp-a.ypos-.055*a.yspeed*below(Math.abs(a.ypos),a.yamp);a.yspeed=a.yspeed+a.ydir*a.yamp-a.ypos-.055*a.yspeed*below(Math.abs(a.ypos),a.yamp);a.ypos+=.001*a.yspeed;a.wave_y=\na.ypos+.5;a.wave_r+=.35*(.6*Math.sin(.98*a.time)+.4*Math.sin(1.047*a.time));a.wave_g+=.35*(.6*Math.sin(.835*a.time)+.4*Math.sin(1.081*a.time));a.wave_b+=.35*(.6*Math.sin(.814*a.time)+.4*Math.sin(1.011*a.time));a.rot+=.03*(.6*Math.sin(.381*a.time)+.4*Math.sin(.479*a.time));a.cx+=.41*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.cy+=.41*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.wave_mystery+=.15*(.6*Math.sin(.629*a.time)+.4*Math.sin(1.826*a.time));a.warp*=a.vol;a.zoom-=.02*a.zoom*\na.bass_att;a.zoom_exp=1.5*(.6*Math.sin(.381*a.time)+.4*Math.sin(.479*a.time));a.ob_a=1-2*a.vol;a.monitor=a.zoom_exp;", pixel_eqs_str: "", pixel_eqs: "", warp: "", comp: ""};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 3, gammaadj: 1.98, decay: 0.5, echo_zoom: 1, echo_alpha: 0.5, echo_orient: 3, wave_brighten: 0, darken: 1, wave_a: 2e-3, wave_scale: 0.14, wave_smoothing: 0, wave_mystery: -0.84, modwavealphastart: 0.71, modwavealphaend: 1.3, warpanimspeed: 1.459, warpscale: 2.007, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_g: 0, wave_b: 0.6, ob_size: 0.015, ob_b: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 0, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 1, sides: 23, textured: 1, rad: 0.72143, tex_ang: 0.62832, tex_zoom: 0.0402, g: 1, b: 1, a: 0.9, r2: 0.9, b2: 1, a2: 0.3, border_a: 0}, init_eqs_str: "a.vis=0;a.q27=0;a.q22=0;", frame_eqs_str: "a.vis=div(bnot(mod(a.q27,8))*a.q22,2);a.vis=Math.min(a.vis,1);a.a=div(a.vis,2);a.a2=div(a.vis,2);a.tex_zoom=1;a.rad=.3*a.vis;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 1, sides: 5, additive: 1, num_inst: 4, x: 0.9, rad: 0.24732, tex_zoom: 0.40839, g: 0.6, a: 0.4, g2: 0, b2: 0.6, border_a: 0}, init_eqs_str: "a.blue=0;a.ampl=0;a.steps=0;a.k1=0;a.q24=0;a.green=0;a.red=0;a.trig=0;a.q27=0;a.q28=0;", frame_eqs_str: "a.steps=a.q28+1;a.steps=4;a.ampl=.2;a.x=.5+a.ampl*Math.cos(6.28*(div(a.q27,a.steps)+div(a.instance,4)));a.y=.5+a.ampl*Math.sin(6.28*(div(a.q27,a.steps)+div(a.instance,4)));a.a=.4;a.a2=0;a.trig=a.q24*bnot(mod(a.q27,4));a.red=bnot(a.trig)*a.red+div(randint(100),100)*a.trig;a.green=bnot(a.trig)*a.green+div(randint(100),100)*a.trig;a.blue=bnot(a.trig)*a.blue+div(randint(100),100)*a.trig;a.k1=div(a.instance,a.num_inst);a.r=a.red*a.k1;a.g=a.green*(1-a.k1);a.b=4*a.blue*a.k1*(1-a.k1);\na.r=a.red;a.g=a.green;a.b=a.blue;a.r2=a.r;a.b2=a.b;a.g2=a.g;"}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.px=0;a.index2=0;a.speed_=0;a.index=0;a.q12=0;a.q22=0;a.q21=0;a.q13=0;a.q15=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.py=0;a.movz=0;a.trel=0;a.q9=0;a.rott=0;a.vol__=0;a.is_beat=0;a.k1=0;a.q24=0;a.vx=0;a.dec_slow=0;a.q11=0;a.q10=0;a.vy=0;a.vz=0;a.q4=0;a.dir=0;a.q16=0;a.p2=0;a.avg=0;a.trig=0;a.beat=0;a.q17=0;a.vol=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.speed=0;a.q3=0;a.t0=0;a.vol_=0;a.q7=0;a.q28=0;a.q20=0;a.q8=0;a.ang0=0;a.speed_=1;a.vx=0;a.vy=0;a.vz=0;a.trel=0;a.p1=0;a.dir=0;a.ang0=\n0;", frame_eqs_str: "a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.96,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2+a.avg+a.peak)*above(a.time,a.t0+.5);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,16);a.index2=mod(a.index2+a.is_beat*bnot(a.index),8);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q24=a.is_beat;a.vol=a.bass_att+a.mid_att+\na.treb_att;a.vol_=a.dec_med*a.vol_+(1-a.dec_med)*a.vol;a.vol__=a.dec_med*a.vol__+(1-a.dec_med)*a.vol_;a.q27=a.index+1;a.q28=a.index2+1;a.k1=a.is_beat*equal(mod(a.index,4),0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.1416*a.p2,4);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.trig=a.q24*bnot(mod(a.index,8));a.vx=a.vx*bnot(a.trig)+a.trig*(div(randint(100),100)-.5);a.vy=a.vy*bnot(a.trig)+a.trig*(div(randint(100),100)-.5);a.vz=a.vz*bnot(a.trig)+\na.trig*(div(randint(100),100)-.5);a.q10=.2+a.vy*a.vy*4;a.q11=.5*Math.cos(div(a.time,9))+.3;a.speed=Math.min(a.vol_-a.vol__+.5,1);a.speed=Math.max(a.speed,-.5);a.speed_=bnot(a.trig)*a.speed_+a.trig*a.speed;a.movz+=div(1,a.fps)*a.speed_;a.q9=a.movz;a.q12=2*Math.min(a.q22,6);a.trig=bnot(mod(a.index,4))*a.q24;a.dir=bnot(a.trig)*a.dir+a.trig*(randint(10)-5);a.trel+=div(.2,a.fps)*a.dir;a.q5=Math.cos(a.trel);a.q6=Math.sin(a.trel+0*a.q27*mod(a.q28,2));a.q7=-a.q6;a.q8=a.q5;a.px=a.px*a.dec_med+(1-a.dec_med)*\na.vx;a.py=a.py*a.dec_med+(1-a.dec_med)*a.vy;a.q15=div(a.px,3);a.q16=div(a.py,3);a.q13=Math.min(2,1+Math.abs(8*a.px*a.py));a.ang0=a.ang0*a.dec_med+a.vz*(1-a.dec_med);a.q17=2*a.ang0;a.zoom=1.1;a.rot=.2*Math.sin(bnot(mod(a.q28,2))*a.q28);a.dx=0;a.monitor=a.q11;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec2 uv6_1;\n  vec2 uv1_2;\n  vec2 tmpvar_3;\n  tmpvar_3 = (uv - 0.5);\n  float x_4;\n  x_4 = (abs(tmpvar_3.x) - abs(tmpvar_3.y));\n  float tmpvar_5;\n  tmpvar_5 = (18.0 * sqrt((x_4 * x_4)));\n  uv1_2 = (tmpvar_3 - (clamp (\n    ((sin(tmpvar_5) / cos(tmpvar_5)) * normalize(tmpvar_3))\n  , vec2(-3.0, -3.0), vec2(3.0, 3.0)) / 60.0));\n  uv6_1 = (0.4 * cos((\n    (uv1_2 * 4.0)\n   * q28)));\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = (((texture (sampler_main, \n    ((uv1_2 * (q11 + (q10 * tmpvar_5))) + 0.5)\n  ).xyz + \n    (vec3((0.006 / sqrt(dot (uv6_1, uv6_1)))) * (1.0 + roam_cos).xyz)\n  ) * 0.99) - 0.025);\n  ret = tmpvar_6.xyz;\n }", comp: "float xlat_mutableang2;\nvec2 xlat_mutablers0;\nvec2 xlat_mutableuv2;\n shader_body { \n  vec2 uv_1;\n  vec3 ret1_3;\n  uv_1 = ((uv - 0.5) * aspect.xy);\n  vec2 tmpvar_4;\n  tmpvar_4.x = q15;\n  tmpvar_4.y = q16;\n  uv_1 = (uv_1 + tmpvar_4);\n  mat2 tmpvar_5;\n  tmpvar_5[uint(0)] = _qb.xy;\n  tmpvar_5[1u] = _qb.zw;\n  uv_1 = (uv_1 * tmpvar_5);\n  float tmpvar_6;\n  float tmpvar_7;\n  tmpvar_7 = (min (abs(\n    (uv_1.y / uv_1.x)\n  ), 1.0) / max (abs(\n    (uv_1.y / uv_1.x)\n  ), 1.0));\n  float tmpvar_8;\n  tmpvar_8 = (tmpvar_7 * tmpvar_7);\n  tmpvar_8 = (((\n    ((((\n      ((((-0.01213232 * tmpvar_8) + 0.05368138) * tmpvar_8) - 0.1173503)\n     * tmpvar_8) + 0.1938925) * tmpvar_8) - 0.3326756)\n   * tmpvar_8) + 0.9999793) * tmpvar_7);\n  tmpvar_8 = (tmpvar_8 + (float(\n    (abs((uv_1.y / uv_1.x)) > 1.0)\n  ) * (\n    (tmpvar_8 * -2.0)\n   + 1.570796)));\n  tmpvar_6 = (tmpvar_8 * sign((uv_1.y / uv_1.x)));\n  if ((abs(uv_1.x) > (1e-08 * abs(uv_1.y)))) {\n    if ((uv_1.x < 0.0)) {\n      if ((uv_1.y >= 0.0)) {\n        tmpvar_6 += 3.141593;\n      } else {\n        tmpvar_6 = (tmpvar_6 - 3.141593);\n      };\n    };\n  } else {\n    tmpvar_6 = (sign(uv_1.y) * 1.570796);\n  };\n  xlat_mutablers0.x = ((tmpvar_6 / 3.1416) * 2.0);\n  xlat_mutablers0.y = (0.03 / sqrt(dot (uv_1, uv_1)));\n  ret1_3 = vec3(0.0, 0.0, 0.0);\n  for (int n_2 = 0; n_2 <= 10; n_2++) {\n    float tmpvar_9;\n    tmpvar_9 = fract((-(q9) + (\n      float(n_2)\n     / 10.0)));\n    xlat_mutableang2 = (((q1 * 3.14) * float(n_2)) / 10.0);\n    float tmpvar_10;\n    tmpvar_10 = cos(xlat_mutableang2);\n    float tmpvar_11;\n    tmpvar_11 = sin(xlat_mutableang2);\n    mat2 tmpvar_12;\n    tmpvar_12[uint(0)].x = tmpvar_10;\n    tmpvar_12[uint(0)].y = -(tmpvar_11);\n    tmpvar_12[1u].x = tmpvar_11;\n    tmpvar_12[1u].y = tmpvar_10;\n    xlat_mutableuv2 = (uv_1 * ((q13 * tmpvar_9) * tmpvar_12));\n    ret1_3 = max (ret1_3, (texture (sampler_main, (xlat_mutableuv2 + 0.5)).xyz * (1.0 - tmpvar_9)));\n  };\n  vec4 tmpvar_13;\n  tmpvar_13.w = 1.0;\n  tmpvar_13.xyz = ((ret1_3 * 2.0) + ((\n    (bass_att * xlat_mutablers0.y)\n   * texture (sampler_main, \n    ((uv_1 * q12) + vec2(0.5, 0.0))\n  ).yzx) * clamp (\n    (1.0 - (ret1_3 * 32.0))\n  , 0.0, 1.0)));\n  ret = tmpvar_13.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 0.965, echo_zoom: 1.483827, echo_alpha: 0.5, echo_orient: 3, wave_mode: 7, additivewave: 1, wave_brighten: 0, wrap: 0, darken_center: 1, darken: 1, wave_a: 1e-3, wave_scale: 1.285751, wave_smoothing: 0.63, modwavealphastart: 0.71, modwavealphaend: 1.3, warpanimspeed: 0.01, warpscale: 1.470245, zoomexp: 4.778023, zoom: 0.998162, warp: 0.01, sx: 1.001828, wave_r: 0.65, wave_g: 0.65, wave_b: 0.65, ob_size: 5e-3, ob_r: 1, ob_g: 0.5, ob_b: 0.5, ob_a: 1, ib_size: 0.5, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 1, mv_x: 64, mv_y: 4.800001, mv_dx: 0.4, mv_l: 1, mv_r: 0, mv_g: 0.5, mv_a: 0.1}, shapes: [{baseVals: {enabled: 1, sides: 3, additive: 1, thickoutline: 1, textured: 1, x: 1, y: 0.59, rad: 0.559231, ang: 3.39292, tex_zoom: 100, r: 0, g: 1, b: 1, g2: 0, border_r: 0, border_g: 0, border_b: 0, border_a: 1}, init_eqs_str: "", frame_eqs_str: "a.x=.1*Math.sin(div(a.time,10))+.5+.1*a.treb_att;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 1, sides: 6, textured: 1, x: 0.3, y: 0.7, rad: 1.089252, ang: 0.816814, tex_ang: 3.141592, tex_zoom: 0.504215, g: 1, b: 1, r2: 1, b2: 1, border_a: 0}, init_eqs_str: "", frame_eqs_str: ""}, {baseVals: {enabled: 1, sides: 3, textured: 1, rad: 0.284278, ang: 3.141593, tex_ang: 4.900885, tex_zoom: 2.987755, g: 1, b: 1, r2: 0.95, b2: 1, a2: 1, border_r: 0, border_g: 0, border_b: 0, border_a: 1}, init_eqs_str: 'a["var"]=0;', frame_eqs_str: 'a.ang=div(a.time,10);a.tex_zoom=3.4+.03*a.bass;a["var"]=above(a.bass_att,.7);a.a=a["var"];a.a2=a["var"];a.border_a=a["var"];'}], waves: [{baseVals: {enabled: 1, usedots: 1, thick: 1, additive: 1, r: 0, a: 0.06}, init_eqs_str: "a.px=0;a.xoffset2=0;a.py=0;a.xoffset1=0;a.pheight=0;a.pphase=0;a.yspout=0;a.pphase2=0;a.xspout=0;a.lrorient=0;a.yheight=0;", frame_eqs_str: "", point_eqs_str: "a.xspout=.5;a.yspout=-.01;a.pphase=9999*a.sample*a.sample*.0001;a.pphase2=.1+.01*mod(3349*a.sample*a.sample,100);a.pheight=.002*mod(9893*a.sample,100);a.yheight=.01*mod(1231*a.sample*a.sample,100);a.r=.01*mod(5454*a.sample,100)*Math.abs(Math.sin(.25*a.time));a.g=.01*mod(9954*a.sample,100);a.xoffset1=Math.cos(a.time*a.pphase2+a.pphase)*a.pheight;a.xoffset2=-1*Math.cos(a.time*a.pphase2+a.pphase)*a.pheight;a.lrorient=.00001<Math.abs(below(Math.cos(a.time*a.pphase2+a.pphase),Math.cos((a.time-\n.1)*a.pphase2+a.pphase)))?0:1;a.px=.00001<Math.abs(equal(a.lrorient,0))?a.xspout-a.pheight+a.xoffset1:a.xspout+a.pheight-a.xoffset2;a.py=a.yspout+Math.abs(Math.sin(a.time*a.pphase2+a.pphase))*a.yheight;a.x=a.px;a.y=a.py;"}, {baseVals: {enabled: 1, usedots: 1, thick: 1, additive: 1, r: 0}, init_eqs_str: "a.pphase=0;a.pheight=0;a.xspout=0;a.yspout=0;a.px=0;a.py=0;", frame_eqs_str: "", point_eqs_str: "a.pphase=5671*a.sample*Math.cos(.0001*a.time);a.pheight=.005*mod(7654*a.sample,100)*Math.sin(.2*a.time);a.xspout=.00001<Math.abs(below(Math.abs(Math.sin(.2*a.time)),.005))?.3+.01*randint(40):a.xspout;a.yspout=.00001<Math.abs(below(Math.abs(Math.sin(.2*a.time)),.005))?.3+.01*randint(40):a.yspout;a.px=a.xspout+Math.cos(a.time+a.pphase)*a.pheight;a.py=a.yspout+Math.sin(a.time+a.pphase)*a.pheight;a.x=a.px;a.y=a.py;a.a=Math.abs(.3*Math.sin(.2*a.time)+.1*a.treb_att);a.r=2*a.treb;\n"}, {baseVals: {enabled: 1, thick: 1, additive: 1, b: 0}, init_eqs_str: "a.n=0;a.yq=0;a.xp=0;a.yr=0;a.xs=0;a.yp=0;a.xr=0;a.q1=0;a.xq=0;a.flip=0;a.ca=0;a.ys=0;a.sa=0;a.zq=0;a.phs=0;a.ang=0;a.tm=0;a.zp=0;a.zr=0;", frame_eqs_str: "", point_eqs_str: "a.n=6.283*a.sample;a.phs=.2*-a.sample;a.tm=a.q1+4*a.phs;a.flip+=1;a.flip*=below(a.flip,2);a.xp=0;a.yp=(.1*a.flip-.05)*a.sample;a.zp=0;a.ang=20*a.tm+.4*Math.sin(76*a.tm+4*a.time);a.sa=Math.sin(a.ang);a.ca=Math.cos(a.ang);a.xr=a.xp*a.sa+a.yp*a.ca;a.yr=a.xp*a.ca-a.yp*a.sa;a.zr=a.zp;a.xp=a.xr;a.yp=a.yr+.05+.2*(.5*Math.sin(a.tm)+.5)+.05;a.zp=a.zr;a.ang=Math.sin(2*a.tm);a.xq=a.xp;a.sa=Math.sin(a.ang);a.ca=Math.cos(a.ang);a.yq=a.yp*a.sa+a.zp*a.ca;a.zq=a.yp*a.ca-a.zp*a.sa;a.ang=8*a.tm;\na.sa=Math.sin(a.ang);a.ca=Math.cos(a.ang);a.xp=a.xq*a.sa+a.yq*a.ca;a.yp=a.xq*a.ca-a.yq*a.sa;a.zp=a.zq;a.zp-=.3;a.ang=3.14+2.5*Math.sin(2*a.tm-.5);a.xq=a.xp;a.sa=Math.sin(a.ang);a.ca=Math.cos(a.ang);a.yq=a.yp*a.sa+a.zp*a.ca;a.zq=a.yp*a.ca-a.zp*a.sa;a.ang=-1+Math.cos(3*a.tm+.5);a.xp=a.xq*a.sa+a.yq*a.ca;a.yp=a.xq*a.ca-a.yq*a.sa;a.zp=a.zq;a.zp-=.35;a.ang=1.75*Math.cos(1*a.tm)-1.05;a.sa=Math.sin(a.ang);a.ca=Math.cos(a.ang);a.xq=a.xp*a.sa+a.zp*a.ca;a.yq=a.yp;a.zq=a.xp*a.ca-a.zp*a.sa;a.ang=Math.cos(a.tm);\na.xp=a.xq;a.sa=Math.sin(a.ang);a.ca=Math.cos(a.ang);a.yp=a.yq*a.ca-a.zq*a.sa;a.zp=a.yq*a.sa+a.zq*a.ca;a.zp+=1.5;a.xs=div(a.xp,a.zp);a.ys=div(a.yp,a.zp);a.x=a.xs+.5;a.y=1.3*a.ys+.5;a.a=1-a.sample;"}, {baseVals: {enabled: 0}}], init_eqs_str: "a.vol=0;a.mtime=0;a.q1=0;", frame_eqs_str: "a.decay=.999;a.wrap=Math.sin(10*a.time);a.mv_dx=a.bass;a.ib_a=.005;a.vol=.25*(a.bass+a.mid+a.treb);a.vol*=a.vol;a.mtime+=.01*a.vol*div(55,a.fps);a.q1=.5*a.time;", pixel_eqs_str: "a.zoom=1.005-div(a.rad,100);a.rot=div(a.rad,600);a.sy=-1;", warp: "", comp: ""};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 1, echo_zoom: 1.006596, echo_alpha: 0.5, additivewave: 1, wave_thick: 1, wave_brighten: 0, wrap: 0, wave_a: 4.099998, wave_scale: 0.01, wave_smoothing: 0.63, wave_mystery: -0.4, modwavealphastart: 0.71, modwavealphaend: 1.3, warpscale: 1.331, zoom: 0.999513, warp: 0.01, wave_r: 0.65, wave_g: 0.65, wave_b: 0.65, ob_size: 5e-3, ob_r: 0.01, ob_a: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 0.5, mv_r: 0.35, mv_g: 0.35, mv_b: 0.35, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}], init_eqs_str: "a.q8=0;a.oldq8=0;", frame_eqs_str: "a.ob_r=.5+.5*Math.sin(2*a.time);a.ob_g=.5+.5*Math.sin(1.23*a.time);a.ob_b=.5+.5*Math.sin(1.321*a.time);a.wave_a=0;a.q8=a.oldq8+.003*div(pow(1.2*a.bass+.4*a.bass_att+.1*a.treb+.1*a.treb_att+.1*a.mid+.1*a.mid_att,6),a.fps);a.oldq8=a.q8;a.warp=0;", pixel_eqs_str: "a.rot=.1*(a.rad+Math.cos(5+5*Math.sin(1.211*a.q8)*a.x-.5)-Math.sin((5+5*Math.sin(.973*a.q8))*a.y-.5));a.dx=.005*(Math.cos(5+5*Math.sin(1.311*a.q8)*a.x-.5)-Math.sin((5+5*Math.sin(.9431*a.q8))*a.y-.5));a.dy=.005*(Math.cos(5+5*Math.sin(1.021*a.q8)*a.x-.5)-Math.sin((5+5*Math.sin(.987*a.q8))*a.y-.5));a.zoom=1-.005*(a.rad+Math.cos(5+5*Math.sin(.943*a.q8)*a.x-.5)-Math.sin((5+5*Math.sin(1.0961*a.q8))*a.y-.5));", warp: "", comp: ""};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1, decay: 1, echo_zoom: 1, wave_mode: 7, additivewave: 1, wave_thick: 1, wave_brighten: 0, darken: 1, wave_a: 100, wave_scale: 0.438649, wave_smoothing: 0.5, modwavealphastart: 0.5, modwavealphaend: 1, zoomexp: 0.999996, fshader: 1, dx: 1e-5, dy: 1e-5, warp: 0.01, wave_y: 0.976, ob_size: 5e-3, ob_r: 0.4, ob_g: 0.3, ob_a: 1, ib_r: 1, ib_g: 0.6, ib_b: 0, ib_a: 1, mv_x: 24.959999, mv_y: 19.199999, mv_l: 0.85, mv_r: 0.4999, mv_g: 0.4999, mv_b: 0.4999, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}], init_eqs_str: "a.q1=0;a.thresh=0;a.dx_r=0;a.dy_r=0;", frame_eqs_str: "a.warp=0;a.wave_r=.5+.5*Math.sin(.894*a.time);a.wave_g=.5+.5*Math.sin(1.14*a.time);a.wave_b=.5+.5*Math.sin(3-a.bass_att);a.thresh=2*above(a.bass_att,a.thresh)+(1-above(a.bass_att,a.thresh))*((a.thresh-1.3)*(.9+.1*Math.sin(2.8*a.time))+1.3);a.dx_r=.004*equal(a.thresh,2)*Math.sin(5*a.time)+(1-equal(a.thresh,2))*a.dx_r;a.dy_r=.004*equal(a.thresh,2)*Math.sin(6*a.time)+(1-equal(a.thresh,2))*a.dy_r;a.q1=a.thresh;a.dx=1.1*a.dx_r;a.dy=1.1*a.dy_r;a.dx+=.00001<Math.abs(above(a.bass,1.35))?\n31*a.dx_r:0;a.dy=.00001<Math.abs(above(a.bass,1.3))?0:a.dy;a.decay=.995+.004*Math.sin(.369*a.time)+.001*Math.sin(1.54*a.time);", pixel_eqs_str: "a.zoom-=.01*a.q1*a.rad;a.zoomexp=1+.2*(a.rad-.2*a.q1);a.sx-=Math.cos(a.y*(6.28+3.14*Math.sin(a.time)))*(.009+.003*Math.sin(2.18*a.time))*Math.sin(.3*a.time);a.rot=.001*Math.sin(3.14*a.x)*Math.sin(.67*a.time);", warp: "", comp: ""};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 0.94, echo_zoom: 0.9998, echo_alpha: 0.4999, echo_orient: 3, wave_mode: 1, additivewave: 1, wave_dots: 1, wave_brighten: 0, wave_a: 1.254574, wave_scale: 0.45029, wave_smoothing: 0, zoomexp: 1.008151, zoom: 0.659411, warp: 0.01, wave_r: 0.5, wave_g: 0.5, wave_b: 0.5, ob_size: 5e-3, ob_r: 1, ob_a: 1, ib_size: 5e-3, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 0.9, mv_x: 64, mv_y: 48, mv_l: 0, mv_r: 0, mv_g: 0.7, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.bblock=0;a.grid=0;a.q6=0;a.q1=0;a.q5=0;a.tth=0;a.tblock=0;a.bpulse=0;a.pulse=0;a.mblock=0;a.q4=0;a.mpulse=0;a.mod_state=0;a.bth=0;a.mres=0;a.tpulse=0;a.tres=0;a.le=0;a.ccl=0;a.q2=0;a.bres=0;a.q3=0;a.mth=0;a.q7=0;a.q8=0;", frame_eqs_str: "a.warp=0;a.le=1.5+2*Math.sin(a.bass_att);a.bpulse=band(above(a.le,a.bth),above(a.le-a.bth,a.bblock));a.bblock=a.le-a.bth;a.bth=.00001<Math.abs(above(a.le,a.bth))?a.le+div(114,a.le+10)-7.407:a.bth+div(.07*a.bth,a.bth-12)+.1*below(a.bth,2.7)*(2.7-a.bth);a.bth=.00001<Math.abs(above(a.bth,6))?6:a.bth;a.bres=a.bpulse*Math.sin(a.pulse+.5*a.le)+bnot(a.bpulse)*a.bres;a.le=1.5+2*Math.sin(a.treb_att);a.tpulse=band(above(a.le,a.tth),above(a.le-a.tth,a.tblock));a.tblock=a.le-a.tth;a.tth=\n.00001<Math.abs(above(a.le,a.tth))?a.le+div(114,a.le+10)-7.407:a.tth+div(.07*a.tth,a.tth-12)+.1*below(a.tth,2.7)*(2.7-a.tth);a.tth=.00001<Math.abs(above(a.tth,6))?6:a.tth;a.tres=a.tpulse*Math.sin(a.pulse+.5*a.le)+bnot(a.tpulse)*a.tres;a.le=1.5+2*Math.sin(a.mid_att);a.mpulse=band(above(a.le,a.mth),above(a.le-a.mth,a.mblock));a.mblock=a.le-a.mth;a.mth=.00001<Math.abs(above(a.le,a.mth))?a.le+div(114,a.le+10)-7.407:a.mth+div(.07*a.mth,a.mth-12)+.1*below(a.mth,2.7)*(2.7-a.mth);a.mth=.00001<Math.abs(above(a.mth,\n6))?6:a.mth;a.mres=a.mpulse*Math.sin(a.pulse+.5*a.le)+bnot(a.mpulse)*a.mres;a.pulse=.00001<Math.abs(above(Math.abs(a.pulse),3.14))?-3.14:a.pulse+.003*(a.bth+a.mth+a.tth);a.q1=a.bres;a.q2=a.tres;a.q3=a.mres;a.q4=Math.sin(a.pulse);a.mod_state=(above(a.q1,0)+above(a.q2,0)+above(a.q3,0))*(1+above(a.q4,0));a.ccl=a.ccl+a.tpulse+a.mpulse-a.bpulse;a.q5=Math.cos(a.pulse*(.5+.1*a.mod_state));a.q6=Math.sin(a.pulse*(.5+pow(.25,a.mod_state)));a.q7=a.mod_state;a.q8=a.ccl;a.ob_r=.5+.5*Math.cos(a.q1+a.q7);a.ob_g=\n.5+.5*Math.cos(3.14*a.q2+a.q7);a.ob_b=.5+.5*Math.cos(2*a.q3+Math.sin(.0816*a.time));a.ib_size=.025+.02*a.q2;a.ob_size=.03+.02*a.q3-.002*a.q7;a.wave_r=.5+.5*Math.sin(a.q1*a.q7+2.183*a.time);a.wave_g=.5+.5*Math.sin(3*a.q2+1.211*a.time);a.wave_b=.5+.5*Math.sin(a.q3+1.541*a.time);a.ob_a=.8+.2*a.q2;a.zoom+=.01*a.q4;", pixel_eqs_str: "a.grid=mod(pow(2*Math.sin(a.rad*a.q6*a.q2+a.x*a.y*a.q6*a.q3),1+mod(a.q7,5)),2);a.rot=bnot(a.grid)+a.grid*a.q4;a.sx+=.003*Math.sin((a.q2+.5)*a.x);a.sy+=.003*Math.sin((a.q1+3.4)*a.y);a.zoom+=.11*Math.cos(3.14*a.rad)*a.q4;", warp: "", comp: ""};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1, decay: 0.96, echo_zoom: 2.216266, echo_alpha: 0.78, wave_mode: 5, additivewave: 1, wave_dots: 1, wave_brighten: 0, brighten: 1, wave_a: 1.254574, wave_scale: 0.931011, wave_smoothing: 0, zoomexp: 1.0081, fshader: 0.4, zoom: 0.820774, cx: 0.4999, warp: 0.01, sx: 0.999998, wave_r: 0.5, wave_g: 0.5, wave_b: 0.5, ob_size: 5e-3, ob_r: 1, ob_a: 1, ib_size: 5e-3, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 0.9, mv_x: 0, mv_y: 0, mv_l: 0.85, mv_r: 0.4999, mv_g: 0.4999, mv_b: 0.4999, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}], init_eqs_str: "a.bblock=0;a.grid=0;a.q6=0;a.snee=0;a.q1=0;a.q5=0;a.tth=0;a.tblock=0;a.bpulse=0;a.pulse=0;a.mblock=0;a.q4=0;a.snur=0;a.mpulse=0;a.mod_state=0;a.bth=0;a.mres=0;a.tpulse=0;a.tres=0;a.le=0;a.ccl=0;a.q2=0;a.bres=0;a.q3=0;a.mth=0;a.q7=0;a.q8=0;", frame_eqs_str: "a.warp=0;a.le=1.5+2*Math.sin(a.bass_att);a.bpulse=band(above(a.le,a.bth),above(a.le-a.bth,a.bblock));a.bblock=a.le-a.bth;a.bth=.00001<Math.abs(above(a.le,a.bth))?a.le+div(114,a.le+10)-7.407:a.bth+div(.07*a.bth,a.bth-12)+.1*below(a.bth,2.7)*(2.7-a.bth);a.bth=.00001<Math.abs(above(a.bth,6))?6:a.bth;a.bres=a.bpulse*Math.sin(a.pulse+.5*a.le)+bnot(a.bpulse)*a.bres;a.le=1.5+2*Math.sin(a.treb_att);a.tpulse=band(above(a.le,a.tth),above(a.le-a.tth,a.tblock));a.tblock=a.le-a.tth;a.tth=\n.00001<Math.abs(above(a.le,a.tth))?a.le+div(114,a.le+10)-7.407:a.tth+div(.07*a.tth,a.tth-12)+.1*below(a.tth,2.7)*(2.7-a.tth);a.tth=.00001<Math.abs(above(a.tth,6))?6:a.tth;a.tres=a.tpulse*Math.sin(a.pulse+.5*a.le)+bnot(a.tpulse)*a.tres;a.le=1.5+2*Math.sin(a.mid_att);a.mpulse=band(above(a.le,a.mth),above(a.le-a.mth,a.mblock));a.mblock=a.le-a.mth;a.mth=.00001<Math.abs(above(a.le,a.mth))?a.le+div(114,a.le+10)-7.407:a.mth+div(.07*a.mth,a.mth-12)+.1*below(a.mth,2.7)*(2.7-a.mth);a.mth=.00001<Math.abs(above(a.mth,\n6))?6:a.mth;a.mres=a.mpulse*Math.sin(a.pulse+.5*a.le)+bnot(a.mpulse)*a.mres;a.pulse=.00001<Math.abs(above(Math.abs(a.pulse),3.14))?-3.14:a.pulse+.003*(a.bth+a.mth+a.tth);a.q1=a.bres;a.q2=a.tres;a.q3=a.mres;a.q4=Math.sin(a.pulse);a.mod_state=(above(a.q1,0)+above(a.q2,0)+above(a.q3,0))*(1+above(a.q4,0));a.ccl=a.ccl+a.tpulse+a.mpulse-a.bpulse;a.q5=Math.cos(a.pulse*(.5+.1*a.mod_state));a.q6=Math.sin(a.pulse*(.5+pow(.25,a.mod_state)));a.q7=a.mod_state;a.q8=a.ccl;a.ob_r=.5+.5*Math.cos(a.q1+a.q7);a.ob_g=\n.5+.5*Math.cos(3.14*a.q2+a.q7);a.ob_b=.5+.5*Math.cos(2*a.q3+Math.sin(.0816*a.time));a.ib_size=.025+.02*a.q2;a.ob_size=.03+.02*a.q3-.002*a.q7;a.wave_r=.5+.5*Math.sin(a.q1*a.q7+2.183*a.time);a.wave_g=.5+.5*Math.sin(3*a.q2+1.211*a.time);a.wave_b=.5+.5*Math.sin(a.q3+1.541*a.time);a.ob_a=.8+.2*a.q2;a.rot=1;a.cx+=.05*a.q4;a.cy+=.05*a.q5;a.zoom=.95+.05*a.q6;", pixel_eqs_str: "a.snee=bnot(above(Math.sin(a.ang)-a.x,.5)*above(a.q2,0)+above(a.y-Math.cos(a.ang),.5)*above(a.q1,0));a.snur=bnot(below(a.x,.5)*above(a.q3,0)+below(a.y,.5)*below(a.q7,4));a.grid=Math.sin(sigmoid(Math.sin(6.28*a.y*a.q2),Math.sin(6.28*a.x*a.q6))*(10+a.q7));a.zoom=a.zoom+.02*Math.cos(2*a.rad+a.rad*a.q2)*sign(a.snee)-.04*Math.sin(3.14*a.rad*a.q3-3.14*Math.cos(3.14*a.rad*a.snur-3.14*a.q6));a.sx=.00001<Math.abs(below(a.x,.5)*below(a.y,.5))?a.sx+.2*a.q4*a.snur:1+.1*a.q2*a.grid;a.sy=\n.00001<Math.abs(below(a.x,.5)*below(a.y,.5))?a.sy+.2*a.q5*a.snee:1+.1*a.q2*a.grid;", warp: "", comp: ""};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 4.990001, decay: 1, echo_zoom: 10.784553, wave_mode: 7, additivewave: 1, wave_dots: 1, wave_brighten: 0, wrap: 0, wave_a: 0.997938, wave_scale: 1.990516, wave_smoothing: 0, wave_mystery: -1, modwavealphastart: 0.5, modwavealphaend: 1, warpscale: 0.999998, zoomexp: 0.999985, fshader: 1, zoom: 0.9999, dy: 1e-5, warp: 0.01, wave_r: 0.400001, wave_g: 0.4, wave_y: 1, ob_size: 0, ob_r: 0.300001, ob_g: 1, ob_b: 0.3, ob_a: 0.100001, ib_size: 5e-3, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 0.5, mv_x: 8.960042, mv_y: 12.960033, mv_dx: -0.26, mv_dy: 0.44, mv_l: 5, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}, {baseVals: {}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: ""}], init_eqs_str: "a.maxdbass=0;a.f=0;a.ttan1=0;a.avgbass=0;a.dbass=0;a.q1=0;a.prevavgbass=0;a.amt=0;a.cheat=0;a.totx=0;a.flip=0;a.lastbeat=0;a.ttan2=0;a.bpm=0;a.pctg=0;a.prevrot=0;a.interval=0;a.q4=0;a.pbass=0;a.toty=0;a.beat=0;a.vol=0;a.q2=0;a.dist=0;a.lastflip=0;a.prevvol=0;a.q3=0;a.isleftytonosy=0;a.sure=0;a.flip=-1;", frame_eqs_str: "a.warp=0;a.decay=1;a.vol=div(.75*(a.bass_att+a.mid_att+a.treb_att),3)+.25*a.prevvol;a.prevavgbass=a.avgbass;a.avgbass+=.01*(a.bass-a.avgbass);a.q4=Math.max(1.001*a.avgbass-.999*a.prevavgbass,0);a.q4=Math.min(a.q4,.006);a.sure=.00001<Math.abs(equal(a.sure,0))?.6:a.sure;a.interval=.00001<Math.abs(equal(a.interval,0))?40:a.interval;a.lastbeat=.00001<Math.abs(equal(a.lastbeat,0))?a.frame-a.fps:a.lastbeat;a.dbass=div(a.bass-a.pbass,a.fps);a.beat=above(a.dbass,.6*a.maxdbass)*above(a.frame-\na.lastbeat,div(a.fps,3));a.sure=.00001<Math.abs(a.beat*below(Math.abs(a.frame-(a.interval+a.lastbeat)),div(a.fps,5)))?Math.min(.095+a.sure,1):a.beat*(a.sure-.095)+(1-a.beat)*a.sure*.9996;a.sure=Math.max(.5,a.sure);a.cheat=.00001<Math.abs(above(a.frame,a.lastbeat+a.interval+Math.floor(div(a.fps,10)))*above(a.sure,.91))?1:a.cheat;a.beat=.00001<Math.abs(a.cheat)?1:a.beat;a.sure=.00001<Math.abs(a.cheat)?.95*a.sure:a.sure;a.maxdbass=Math.max(.999*a.maxdbass,a.dbass);a.maxdbass=Math.max(.012,a.maxdbass);\na.maxdbass=Math.min(.02,a.maxdbass);a.interval=.00001<Math.abs(a.beat)?a.frame-a.lastbeat:a.interval;a.lastbeat=.00001<Math.abs(a.beat)?a.frame-a.cheat*Math.floor(div(a.fps,10)):a.lastbeat;a.cheat=0;a.pbass=a.bass;a.lastflip=.00001<Math.abs(above(div(a.bass,a.avgbass),2)*above(a.frame-a.lastflip,100)*a.beat)?a.frame:a.lastflip;a.flip=.00001<Math.abs(equal(a.frame,a.lastflip))?Math.abs(a.flip)-1:a.flip;a.wave_mystery=a.flip;a.ob_size=div(.08*below(a.frame-a.lastbeat,div(a.fps,8))*(a.frame-a.lastbeat),\na.fps);a.f=Math.abs(Math.cos(div(a.time,8)+.54+Math.sin(div(a.time,3)+1.075)));a.ob_r=1*a.f+(1-a.f);a.ob_g=.3*a.f+(1-a.f);a.ob_b=.3*a.f+.3*(1-a.f);a.f=div(a.frame-a.lastbeat,a.interval);a.f*=above(a.f,.8)*below(a.f,1);a.f=Math.max(0,a.f);a.f=Math.min(a.f,1);a.wave_g=.4+.6*a.f;a.wave_b=.4+.6*(1-a.f);a.q1=div(3.1416*(a.wave_mystery+1),2);a.q2=.25*Math.cos(a.time+Math.abs(2*Math.sin(2*a.time+2.311)*(a.vol-a.amt))*Math.sin(7.45*a.time+.876));a.q3=-a.q2;a.amt+=.05*(a.vol-a.amt);a.prevvol=a.vol;a.bpm+=\n.01*(div(60*a.fps,a.interval)-a.bpm);a.monitor=0*a.pctg+1*a.bpm;", pixel_eqs_str: "a.x-=.5;a.y=-(a.y-.5);a.ttan1=Math.tan(a.q1+1.5708)*(a.x-a.q3)-a.y+a.q2;a.ttan2=Math.tan(a.q1+1.5708);a.isleftytonosy=above(a.ttan1*sign(3.1416-a.q1),0);a.dist=div(Math.abs(a.ttan1),sqrt(a.ttan2*a.ttan2+1));a.totx=div(.5*Math.cos(a.q1)*sign(a.isleftytonosy-.5)*sqr(a.dist),.5-a.q2);a.toty=div(-.5*Math.sin(a.q1)*sign(a.isleftytonosy-.5)*sqr(a.dist),.5-a.q2);a.dx+=a.totx;a.dy+=a.toty;a.prevrot=a.q1;a.zoom=1-div(25*a.q4*sqrt(pow(.5-a.dist,3)),Math.abs(.5-a.q2));", warp: "", comp: ""};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1, decay: 0.997, echo_zoom: 0.996629, echo_orient: 1, wave_thick: 1, wave_brighten: 0, darken: 1, wave_a: 1185e-6, wave_scale: 0.01, wave_smoothing: 0.27, wave_mystery: -0.38, modwavealphastart: 0.71, modwavealphaend: 1.3, warpscale: 1.331, zoom: 0.999514, warp: 0.01, ob_size: 0, ob_r: 0.01, ob_a: 1, ib_size: 0, ib_r: 1, ib_g: 1, ib_b: 1, ib_a: 1, mv_x: 64, mv_y: 48, mv_l: 0.85, mv_r: 0.4999, mv_g: 0.4999, mv_b: 0.4999, mv_a: 0}, shapes: [{baseVals: {enabled: 1, sides: 3, rad: 0.34, ang: 0.53, r: 0.56, g: 0.36, r2: 0.9, a2: 0.5, border_a: 0}, init_eqs_str: "a.angle=0;a.bassspin=0;a.q1=0;a.q2=0;a.bassspin=0;a.angle=0;", frame_eqs_str: "a.ang=a.angle;a.bassspin=.00001<Math.abs(above(.05*a.bass,a.bassspin))?a.bassspin+.001:a.bassspin-.001;a.bassspin*=above(a.bassspin,0);a.angle+=a.bassspin;a.r=.3*a.bass;a.g=.3*a.treb;a.b=.3*a.mid;a.r2=.8+.2*Math.sin(1.2*a.time);a.g2=.8+.2*Math.sin(.9777*a.time);a.b2=.8+.2*Math.sin(.7005*a.time);a.border_a=1*above(a.bass+a.treb+a.mid,5);a.x=.5+a.q1;a.y=.5+a.q2;"}, {baseVals: {enabled: 1, sides: 100, additive: 1, textured: 1, rad: 0.108073, g: 1, b: 1, r2: 1, b2: 1, a2: 1, border_a: 0}, init_eqs_str: "a.bassspin=0;a.xpos=0;a.ypos=0;a.q1=0;a.q2=0;a.bassspin=0;a.xpos=.25;a.ypos=.25;", frame_eqs_str: "a.bassspin=.00001<Math.abs(above(.05*a.bass,a.bassspin))?a.bassspin+.001:a.bassspin-.001;a.bassspin*=above(a.bassspin,0);a.xpos+=a.bassspin;a.ypos+=a.bassspin;a.x=.5+a.q1+.13*Math.sin(a.xpos);a.y=.5+a.q2+.18*Math.cos(a.ypos);"}, {baseVals: {enabled: 1, sides: 29, additive: 1, textured: 1, rad: 0.105693, g: 1, b: 1, r2: 1, b2: 1, a2: 1, border_a: 0}, init_eqs_str: "a.bassspin=0;a.xpos=0;a.ypos=0;a.q1=0;a.q2=0;a.bassspin=0;a.xpos=2.3;a.ypos=2.3;", frame_eqs_str: "a.bassspin=.00001<Math.abs(above(.05*a.bass,a.bassspin))?a.bassspin+.001:a.bassspin-.001;a.bassspin*=above(a.bassspin,0);a.xpos+=a.bassspin;a.ypos+=a.bassspin;a.x=.5+a.q1+.13*Math.sin(a.xpos);a.y=.5+a.q2+.18*Math.cos(a.ypos);"}, {baseVals: {enabled: 1, sides: 100, additive: 1, textured: 1, rad: 0.091434, g: 1, b: 1, r2: 1, b2: 1, a2: 1, border_a: 0}, init_eqs_str: "a.bassspin=0;a.xpos=0;a.ypos=0;a.q1=0;a.q2=0;a.bassspin=0;a.xpos=4.5;a.ypos=4.5;", frame_eqs_str: "a.bassspin=.00001<Math.abs(above(.05*a.bass,a.bassspin))?a.bassspin+.001:a.bassspin-.001;a.bassspin*=above(a.bassspin,0);a.xpos+=a.bassspin;a.ypos+=a.bassspin;a.x=.5+a.q1+.13*Math.sin(a.xpos);a.y=.5+a.q2+.18*Math.cos(a.ypos);"}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.xpos=0;a.yamptarg=0;a.ydir=0;a.q1=0;a.yaccel=0;a.xamptarg=0;a.xamp=0;a.xspeed=0;a.ypos=0;a.xaccel=0;a.att=0;a.vol=0;a.q2=0;a.yamp=0;a.xdir=0;a.yspeed=0;", frame_eqs_str: "a.warp=0;a.decay=.92;a.vol=div(a.bass+a.mid+a.att,6);a.xamptarg=.00001<Math.abs(equal(mod(a.frame,15),0))?Math.min(.5*a.vol*a.bass_att,.5):a.xamptarg;a.xamp+=.5*(a.xamptarg-a.xamp);a.xdir=.00001<Math.abs(above(Math.abs(a.xpos),a.xamp))?-sign(a.xpos):.00001<Math.abs(below(Math.abs(a.xspeed),.1))?2*above(a.xpos,0)-1:a.xdir;a.xaccel=a.xdir*a.xamp-a.xpos-.055*a.xspeed*below(Math.abs(a.xpos),a.xamp);a.xspeed=a.xspeed+a.xdir*a.xamp-a.xpos-.055*a.xspeed*below(Math.abs(a.xpos),a.xamp);\na.xpos+=.001*a.xspeed;a.yamptarg=.00001<Math.abs(equal(mod(a.frame,15),0))?Math.min(.3*a.vol*a.treb_att,.5):a.yamptarg;a.yamp+=.5*(a.yamptarg-a.yamp);a.ydir=.00001<Math.abs(above(Math.abs(a.ypos),a.yamp))?-sign(a.ypos):.00001<Math.abs(below(Math.abs(a.yspeed),.1))?2*above(a.ypos,0)-1:a.ydir;a.yaccel=a.ydir*a.yamp-a.ypos-.055*a.yspeed*below(Math.abs(a.ypos),a.yamp);a.yspeed=a.yspeed+a.ydir*a.yamp-a.ypos-.055*a.yspeed*below(Math.abs(a.ypos),a.yamp);a.ypos+=.001*a.yspeed;a.q1=a.ypos;a.q2=a.xpos;", pixel_eqs_str: "a.zoom+=a.q1*a.q2*2;a.rot=10+a.rad*a.treb*.1;", warp: "", comp: ""};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 3, decay: 0.5, echo_zoom: 1, echo_alpha: 0.5, echo_orient: 3, wrap: 0, darken_center: 1, solarize: 1, wave_a: 1e-3, zoom: 0.97, rot: -6.27999, warp: 52e-5, wave_r: 0, wave_g: 0, wave_b: 0, ob_r: 1, ob_g: 1, ob_b: 1, mv_r: 0.8, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 1, textured: 1, x: 0.25, y: 0.75, rad: 4.44708, tex_zoom: 0.22746, r: 0, a: 0.1, g2: 0, a2: 0.2, border_r: 0, border_g: 0, border_a: 0}, init_eqs_str: "a.q1=0;a.tex_capture=0;a.q3=0;a.tex_saw=.4;", frame_eqs_str: "a.ang=.2*a.q1;a.tex_capture=above(a.q3,1);a.tex_zoom=.6;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, thick: 1, smoothing: 0}, init_eqs_str: "a.q1=0;a.speed=0;a.v=0;a.xs=0;a.ys=0;", frame_eqs_str: "", point_eqs_str: "a.q1=0;a.speed=.8*a.bass_att;a.v=1E6*a.sample+a.value2*a.bass*.1;a.xs+=Math.sin(a.v)*a.speed*Math.atan(1.51*a.v);a.ys+=Math.sin(a.v)*a.speed*Math.atan(10*a.v);a.x=.5+.5*Math.sin(.1*a.xs)*Math.cos(.2*a.time+a.xs);a.y=.5+.5*Math.sin(.12*a.ys)*Math.cos(.1*a.time+a.xs);a.x=.8*a.x+.1;a.y=.8*a.y+.1;a.r=.5*Math.sin(1.22*a.time)+.6;a.g=.4+.4*Math.sin(1.307*a.time+2*a.y);a.b=.4+.4*Math.sin(1.959*a.time+2*a.x);a.xs=.00001<Math.abs(above(a.xs,1E3))?0:a.xs;a.ys=.00001<Math.abs(above(a.ys,\n1E3))?0:a.ys;"}, {baseVals: {enabled: 1, thick: 1, smoothing: 0}, init_eqs_str: "a.q1=0;a.speed=0;a.v=0;a.xs=0;a.ys=0;", frame_eqs_str: "", point_eqs_str: "a.q1=0;a.speed=.8*a.bass_att;a.v=1E6*a.sample+a.value2*a.bass*.1;a.xs+=Math.sin(a.v)*a.speed*Math.atan(1.51*a.v);a.ys+=Math.sin(a.v)*a.speed*Math.atan(10*a.v);a.x=.5+.5*Math.sin(.1*a.xs)*Math.cos(.2*a.time+a.xs);a.y=.5+.5*Math.sin(.14*a.ys)*Math.cos(.1*a.time+a.xs);a.x=.8*a.x+.1;a.y=.8*a.y+.1;a.x=.6*a.x+.2;a.y=.6*a.y+.2;a.r=.5*Math.sin(1.322*a.time)+.6;a.g=.4+.4*Math.sin(1.5407*a.time+2*a.y);a.b=.4+.4*Math.sin(1.759*a.time+2*a.x);a.xs=.00001<Math.abs(above(a.xs,1E3))?0:a.xs;\na.ys=.00001<Math.abs(above(a.ys,1E3))?0:a.ys;"}, {baseVals: {enabled: 1, thick: 1, smoothing: 0}, init_eqs_str: "a.q1=0;a.speed=0;a.v=0;a.xs=0;a.ys=0;", frame_eqs_str: "", point_eqs_str: "a.q1=0;a.speed=.8*a.bass_att;a.v=1E6*a.sample+a.value2*a.bass*.1;a.xs+=Math.sin(a.v)*a.speed*Math.atan(1.51*a.v);a.ys+=Math.sin(a.v)*a.speed*Math.atan(10*a.v);a.x=.5+.5*Math.sin(.1*a.xs)*Math.cos(.2*a.time+a.xs);a.y=.5+.5*Math.sin(.14*a.ys)*Math.cos(.1*a.time+a.xs);a.x=.8*a.x+.1;a.y=.8*a.y+.1;a.x=.25*a.x+.375;a.y=.25*a.y+.375;a.r=.5*Math.sin(1.622*a.time)+.6;a.g=.4+.4*Math.sin(1.2407*a.time+2*a.y);a.b=.4+.4*Math.sin(1.359*a.time+2*a.x);a.xs=.00001<Math.abs(above(a.xs,1E3))?\n0:a.xs;a.ys=.00001<Math.abs(above(a.ys,1E3))?0:a.ys;"}, {baseVals: {enabled: 0}}], init_eqs_str: "a.basstime=0;a.stickybit=0;a.volavg2=0;a.q1=0;a.decay_r=0;a.sample1=0;a.difftime=0;a.diff=0;a.decay_b=0;a.edge=0;a.volavg=0;a.bit2=0;a.vol=0;a.q2=0;a.q3=0;a.basssum=0;a.decay_g=0;a.sample2=0;", frame_eqs_str: "a.basstime+=.03*a.bass;a.q1=4*a.basstime;a.basstime=.00001<Math.abs(below(a.basstime,1E3))?1E3:a.basstime;a.basstime+=.03*a.bass_att;a.vol=pow(a.bass+a.mid+a.treb,2);a.basssum=a.vol;a.stickybit=mod(a.time,2);a.volavg+=a.vol*equal(a.stickybit,1);a.sample1+=equal(a.stickybit,1);a.volavg2+=a.vol*equal(a.stickybit,0);a.sample2+=equal(a.stickybit,0);a.edge=bnot(equal(a.bit2,a.stickybit));a.volavg-=a.volavg*a.edge*a.stickybit;a.volavg2-=a.volavg2*a.edge*equal(a.stickybit,0);a.sample1-=\na.sample1*a.edge*a.stickybit;a.sample2-=a.sample2*a.edge*equal(a.stickybit,0);a.diff=.00001<Math.abs(equal(a.stickybit,1))?div(a.basssum,div(a.volavg2,a.sample2)):0;a.diff=.00001<Math.abs(equal(a.stickybit,0))?div(a.basssum,div(a.volavg,a.sample1)):a.diff;a.q3=a.diff;a.bit2=mod(a.time,2);a.difftime+=.03*a.diff;a.q2=a.difftime;a.difftime=.00001<Math.abs(above(a.difftime,2E3))?0:a.difftime;a.monitor=3.14*Math.abs(Math.cos(a.time));a.mv_a=above(a.diff,10);", pixel_eqs_str: "a.zoom=1+.05*a.q3*a.rad;a.decay_r=.2*a.rad*Math.sin(.35*a.q2)+.85+.1*Math.sin(a.q2);a.decay_g=.2*a.rad*Math.sin(.5*a.q2)+.85+.1*Math.sin(.7*a.q2);a.decay_b=.2*a.rad*Math.sin(.4*a.q2)+.85+.1*Math.sin(.8*a.q2);a.rot=0;", warp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (vec2(1.0, 0.0) * texsize.z);\n  vec2 tmpvar_3;\n  tmpvar_3 = (vec2(0.0, 1.0) * texsize.z);\n  ret_1 = (((\n    (texture (sampler_main, (uv + tmpvar_2)).xyz + texture (sampler_main, (uv + tmpvar_2)).xyz)\n   * 0.5) + (\n    (texture (sampler_main, (uv + tmpvar_3)).xyz + texture (sampler_main, (uv + tmpvar_3)).xyz)\n   * 0.5)) - texture (sampler_main, ((\n    (uv - 0.5)\n   * 0.9) + 0.5)).xyz);\n  ret_1 = (ret_1 - 0.4);\n  vec4 tmpvar_4;\n  tmpvar_4.w = 1.0;\n  tmpvar_4.xyz = ret_1;\n  ret = tmpvar_4.xyz;\n }", comp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = ((0.5 - uv) + 0.5);\n  ret_1 = (mix (texture (sampler_main, uv).xyz, texture (sampler_main, tmpvar_2).xyz, vec3(0.5, 0.5, 0.5)) * 2.0);\n  ret_1 = (((\n    ((texture (sampler_blur3, uv).xyz * scale3) + bias3)\n   * 2.0) + (\n    ((texture (sampler_blur3, tmpvar_2).xyz * scale3) + bias3)\n   * 2.0)) + ret_1);\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = ret_1;\n  ret = tmpvar_3.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 3, gammaadj: 1.07, decay: 0.95, echo_zoom: 1, echo_alpha: 0.5, echo_orient: 1, wave_mode: 7, additivewave: 1, modwavealphabyvolume: 1, wave_brighten: 0, wrap: 0, brighten: 1, darken: 1, invert: 1, wave_a: 4.1, wave_scale: 1.286, wave_smoothing: 0.63, modwavealphastart: 0.71, modwavealphaend: 1.3, warpscale: 1.331, zoom: 0.99951, warp: 0.01, wave_r: 0.65, wave_g: 0.65, wave_b: 0.65, ob_size: 0.5, ob_r: 0.01, ib_size: 0.26, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, spectrum: 1, thick: 1}, init_eqs_str: "a.xang=0;a.fov=0;a.yang=0;a.my=0;a.oz=0;a.ayang=0;a.mz=0;a.oy=0;a.mod=0;a.azang=0;a.mx=0;a.vol=0;a.sp=0;a.zang=0;a.axang=0;a.ox=0;", frame_eqs_str: "", point_eqs_str: "a.sp=1607.68*a.sample;a.vol=.33*(a.bass_att+a.mid_att+a.treb_att);a.vol=.2+.5*(a.value1+a.value2);a.vol=.2;a.mod=.00001<Math.abs(below(a.mid_att,1.8))?a.mid_att+.2:2;a.ox=.5*Math.sin(a.sp)*Math.sin(3.14*a.sample)*a.vol;a.oy=(a.sample-0)*a.mod;a.oz=.5*Math.cos(a.sp)*Math.sin(3.14*a.sample)*a.vol;a.xang=.672*a.time;a.axang=0;a.yang=-1.351*a.time;a.ayang=0;a.zang=-.401*a.time;a.azang=0;a.fov=.6+.2*Math.sin(a.time);a.fov=.5;a.mx=a.ox*Math.cos(a.zang)-a.oy*Math.sin(a.zang);a.my=\na.ox*Math.sin(a.zang)+a.oy*Math.cos(a.zang);a.ox=a.mx;a.oy=a.my;a.mx=a.ox*Math.cos(a.yang)+a.oz*Math.sin(a.yang);a.mz=-a.ox*Math.sin(a.yang)+a.oz*Math.cos(a.yang);a.ox=a.mx;a.oz=a.mz;a.my=a.oy*Math.cos(a.xang)-a.oz*Math.sin(a.xang);a.mz=a.oy*Math.sin(a.xang)+a.oz*Math.cos(a.xang);a.oy=a.my;a.oz=a.mz;a.oz=Math.abs(a.oz)-2;a.x=div(a.ox*a.fov,a.oz)+.5;a.x=.75*(a.x-.5)+.5;a.y=div(a.oy*a.fov,a.oz)+.5;a.r=1+Math.sin(a.sp);a.b=.5+.5*Math.sin(1.57*a.sample);a.g=.5+.5*Math.cos(1.57*a.sample);a.a=.5+.25*(a.oz+\n2);"}, {baseVals: {enabled: 1, spectrum: 1, thick: 1}, init_eqs_str: "a.xang=0;a.fov=0;a.yang=0;a.my=0;a.oz=0;a.ayang=0;a.mz=0;a.oy=0;a.mod=0;a.azang=0;a.mx=0;a.vol=0;a.sp=0;a.zang=0;a.axang=0;a.ox=0;", frame_eqs_str: "", point_eqs_str: "a.sp=1607.68*a.sample;a.vol=.33*(a.bass_att+a.mid_att+a.treb_att);a.vol=.2+.5*(a.value1+a.value2);a.vol=.2;a.mod=.00001<Math.abs(below(a.bass_att,1.8))?a.bass_att+.2:2;a.ox=.5*Math.sin(a.sp)*Math.sin(3.14*a.sample)*a.vol;a.oy=(a.sample-0)*a.mod;a.oz=.5*Math.cos(a.sp)*Math.sin(3.14*a.sample)*a.vol;a.xang=-.321*a.time;a.axang=0;a.yang=1.531*a.time;a.ayang=0;a.zang=-.101*a.time;a.azang=0;a.fov=.6+.2*Math.sin(a.time);a.fov=.5;a.mx=a.ox*Math.cos(a.zang)-a.oy*Math.sin(a.zang);a.my=\na.ox*Math.sin(a.zang)+a.oy*Math.cos(a.zang);a.ox=a.mx;a.oy=a.my;a.mx=a.ox*Math.cos(a.yang)+a.oz*Math.sin(a.yang);a.mz=-a.ox*Math.sin(a.yang)+a.oz*Math.cos(a.yang);a.ox=a.mx;a.oz=a.mz;a.my=a.oy*Math.cos(a.xang)-a.oz*Math.sin(a.xang);a.mz=a.oy*Math.sin(a.xang)+a.oz*Math.cos(a.xang);a.oy=a.my;a.oz=a.mz;a.oz=Math.abs(a.oz)-2;a.x=div(a.ox*a.fov,a.oz)+.5;a.x=.75*(a.x-.5)+.5;a.y=div(a.oy*a.fov,a.oz)+.5;a.g=1+Math.sin(a.sp);a.r=.5+.5*Math.sin(1.57*a.sample);a.b=.5+.5*Math.cos(1.57*a.sample);a.a=.5+.25*(a.oz+\n2);"}, {baseVals: {enabled: 1, spectrum: 1, thick: 1}, init_eqs_str: "a.xang=0;a.fov=0;a.yang=0;a.my=0;a.oz=0;a.ayang=0;a.mz=0;a.oy=0;a.mod=0;a.azang=0;a.mx=0;a.vol=0;a.sp=0;a.zang=0;a.axang=0;a.ox=0;", frame_eqs_str: "", point_eqs_str: "a.sp=1607.68*a.sample;a.vol=.33*(a.bass_att+a.mid_att+a.treb_att);a.vol=.2+.5*(a.value1+a.value2);a.vol=.2;a.mod=.00001<Math.abs(below(a.treb_att,1.8))?a.treb_att+.2:2;a.ox=.5*Math.sin(a.sp)*Math.sin(3.14*a.sample)*a.vol;a.oy=(a.sample-0)*a.mod;a.oz=.5*Math.cos(a.sp)*Math.sin(3.14*a.sample)*a.vol;a.xang=.221*a.time;a.axang=0;a.yang=-.411*a.time;a.ayang=0;a.zang=1.201*a.time;a.azang=0;a.fov=.6+.2*Math.sin(a.time);a.fov=.5;a.mx=a.ox*Math.cos(a.zang)-a.oy*Math.sin(a.zang);a.my=\na.ox*Math.sin(a.zang)+a.oy*Math.cos(a.zang);a.ox=a.mx;a.oy=a.my;a.mx=a.ox*Math.cos(a.yang)+a.oz*Math.sin(a.yang);a.mz=-a.ox*Math.sin(a.yang)+a.oz*Math.cos(a.yang);a.ox=a.mx;a.oz=a.mz;a.my=a.oy*Math.cos(a.xang)-a.oz*Math.sin(a.xang);a.mz=a.oy*Math.sin(a.xang)+a.oz*Math.cos(a.xang);a.oy=a.my;a.oz=a.mz;a.oz=Math.abs(a.oz)-2;a.x=div(a.ox*a.fov,a.oz)+.5;a.x=.75*(a.x-.5)+.5;a.y=div(a.oy*a.fov,a.oz)+.5;a.b=1+Math.sin(a.sp);a.g=.5+.5*Math.sin(1.57*a.sample);a.r=.5+.5*Math.cos(1.57*a.sample);a.a=.5+.25*(a.oz+\n2);"}, {baseVals: {enabled: 0}}], init_eqs_str: "a.it=0;a.radm=0;a.mod=0;", frame_eqs_str: "a.wave_a=0;", pixel_eqs_str: "a.it=.3*Math.sin(.2*a.time);a.radm=.5*a.rad;a.rot=.02*Math.sin(20*(a.radm+a.it));a.mod=Math.sin(5*a.ang);a.mod*=a.mod*a.mod*a.mod*a.mod;a.zoom=1+Math.abs(.01*a.mod);a.zoom*=Math.min(1.05,Math.max(1,Math.max(a.bass,a.treb)));", warp: " shader_body { \n  vec3 xfer_1;\n  vec3 ret_2;\n  vec4 tmpvar_3;\n  vec2 tmpvar_4;\n  tmpvar_4 = (uv - 0.5);\n  tmpvar_3 = texture (sampler_main, (tmpvar_4 + 0.5));\n  ret_2 = (tmpvar_3.xyz / ((tmpvar_3.x + tmpvar_3.y) + tmpvar_3.z));\n  ret_2 = texture (sampler_main, ((tmpvar_4 * dot (ret_2, vec3(1.0, 0.975, 0.95))) + 0.5)).xyz;\n  vec3 tmpvar_5;\n  tmpvar_5 = clamp (((ret_2 - 0.05) * 99.0), 0.0, 1.0);\n  xfer_1.x = tmpvar_5.x;\n  xfer_1.yz = (tmpvar_5.yz * clamp ((\n    (0.1 - ret_2.xy)\n   * 99.0), 0.0, 1.0));\n  ret_2 = (ret_2 + (vec3(-0.014, 0.014, 0.0) * tmpvar_5.xxx));\n  ret_2 = (ret_2 + (vec3(0.0, -0.08, 0.08) * xfer_1.yyy));\n  ret_2 = (ret_2 + (vec3(0.0, 0.0, -0.02) * xfer_1.zzz));\n  ret_2 = (ret_2 + (vec3(5.0, 15.0, 40.0) * (\n    (texture (sampler_noise_lq, (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy)).xyz - 0.5)\n   / 256.0)));\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = ret_2;\n  ret = tmpvar_6.xyz;\n }", comp: ""};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 2, gammaadj: 1, wave_mode: 7, additivewave: 1, wave_thick: 1, modwavealphabyvolume: 1, wave_brighten: 0, wave_a: 1e-3, wave_scale: 0.958, wave_smoothing: 0.45, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 30.965, warpscale: 2.572, zoom: 1.00901, warp: 54e-5, wave_r: 0, wave_g: 0, wave_b: 0, mv_x: 25.6, mv_y: 9.6, mv_l: 0, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.dx_residual=0;a.dy_residual=0;a.bass_thresh=0;a.rg=0;a.q9=0;", frame_eqs_str: "a.wave_r=.85+.25*Math.sin(.437*a.time+1);a.wave_g=.85+.25*Math.sin(.544*a.time+2);a.wave_b=.85+.25*Math.sin(.751*a.time+3);a.rot+=.01*(.6*Math.sin(.381*a.time)+.4*Math.sin(.579*a.time));a.cx+=.21*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.cy+=.21*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.dx+=.003*(.6*Math.sin(.234*a.time)+.4*Math.sin(.277*a.time));a.dy+=.003*(.6*Math.sin(.284*a.time)+.4*Math.sin(.247*a.time));a.decay-=.01*equal(mod(a.frame,6),0);a.dx+=\na.dx_residual;a.dy+=a.dy_residual;a.bass_thresh=2*above(a.bass_att,a.bass_thresh)+(1-above(a.bass_att,a.bass_thresh))*(.96*(a.bass_thresh-1.3)+1.3);a.dx_residual=.016*equal(a.bass_thresh,2.13)*Math.sin(7*a.time)+(1-equal(a.bass_thresh,2.13))*a.dx_residual;a.dy_residual=.012*equal(a.bass_thresh,2.13)*Math.sin(9*a.time)+(1-equal(a.bass_thresh,2.13))*a.dy_residual;a.wave_x-=7*a.dx_residual;a.wave_y-=7*a.dy_residual;a.wave_mystery=.03*a.time;a.rg=Math.max(.77*a.rg,.02+.5*Math.min(2,1.3*Math.max(0,a.mid_att-\n1)));a.q9=a.rg;a.zoom+=.1*a.q9;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec3 ret_1;\n  ret_1 = texture (sampler_main, uv).xyz;\n  ret_1 = (ret_1 + ((ret_1 - \n    ((((\n      (texture (sampler_blur1, uv).xyz * scale1)\n     + bias1) * 0.3) + ((\n      (texture (sampler_blur2, uv).xyz * scale2)\n     + bias2) * 0.4)) + (((texture (sampler_blur3, uv).xyz * scale3) + bias3) * 0.3))\n  ) * 0.3));\n  ret_1 = (ret_1 * 0.9);\n  ret_1 = (ret_1 + ((\n    ((texture (sampler_noise_lq, ((\n      (uv_orig * texsize.xy)\n     * \n      (texsize_noise_lq.zw * 0.4)\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\n   * 122.0) * (\n    (clamp ((treb_att - 1.0), 0.0, 1.0) * 0.4)\n   + 0.3)));\n  ret_1 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));\n  vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = ret_1;\n  ret = tmpvar_2.xyz;\n }", comp: "vec2 xlat_mutabledz;\nvec3 xlat_mutableret1;\nvec2 xlat_mutableuv3;\n shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1.y = 0.0;\n  tmpvar_1.x = texsize.z;\n  vec2 tmpvar_2;\n  tmpvar_2.x = 0.0;\n  tmpvar_2.y = texsize.w;\n  vec2 uv_3;\n  float inten_4;\n  float dist_5;\n  vec2 uv1_6;\n  vec3 ret_7;\n  vec2 tmpvar_8;\n  tmpvar_8 = ((uv - 0.5) * aspect.xy);\n  float tmpvar_9;\n  tmpvar_9 = (time / 18.0);\n  dist_5 = (1.0 - fract((0.25 + tmpvar_9)));\n  inten_4 = ((sqrt(dist_5) * (1.0 - dist_5)) * 4.0);\n  uv_3 = (tmpvar_8 * aspect.yx);\n  xlat_mutableuv3 = (vec2(0.51, 0.55) + (uv_3 * dist_5));\n  xlat_mutabledz.x = (inten_4 * ((2.0 * \n    dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29))\n  ) - (2.0 * \n    dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29))\n  )));\n  xlat_mutabledz.y = (inten_4 * ((2.0 * \n    dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29))\n  ) - (2.0 * \n    dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29))\n  )));\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (texture (sampler_main, xlat_mutableuv3).xyz * inten_4));\n  dist_5 = (1.0 - fract((0.5 + tmpvar_9)));\n  inten_4 = ((sqrt(dist_5) * (1.0 - dist_5)) * 4.0);\n  uv_3 = (tmpvar_8 * aspect.yx);\n  xlat_mutableuv3 = (vec2(0.49, 0.55) + (uv_3 * dist_5));\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_4 * (\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\n   - \n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\n  )));\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_4 * (\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\n   - \n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\n  )));\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_4));\n  dist_5 = (1.0 - fract((0.75 + tmpvar_9)));\n  inten_4 = ((sqrt(dist_5) * (1.0 - dist_5)) * 4.0);\n  uv_3 = (tmpvar_8 * aspect.yx);\n  xlat_mutableuv3 = (vec2(0.51, 0.55) + (uv_3 * dist_5));\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_4 * (\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\n   - \n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\n  )));\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_4 * (\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\n   - \n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\n  )));\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_4));\n  dist_5 = (1.0 - fract((1.0 + tmpvar_9)));\n  inten_4 = ((sqrt(dist_5) * (1.0 - dist_5)) * 4.0);\n  uv_3 = (tmpvar_8 * aspect.yx);\n  xlat_mutableuv3 = (vec2(0.49, 0.55) + (uv_3 * dist_5));\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_4 * (\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\n   - \n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\n  )));\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_4 * (\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\n   - \n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\n  )));\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_4));\n  xlat_mutabledz = (xlat_mutabledz * (0.5 + rand_preset.z));\n  vec2 tmpvar_10;\n  tmpvar_10 = (2.0 * (rand_preset.xy - 0.5));\n  uv1_6 = (4.0 * tmpvar_8);\n  vec2 tmpvar_11;\n  tmpvar_11 = sin(((uv1_6 + xlat_mutabledz) + tmpvar_10));\n  vec2 tmpvar_12;\n  tmpvar_12 = sin(((uv1_6 + \n    (xlat_mutabledz * 1.4)\n  ) + tmpvar_10));\n  vec2 tmpvar_13;\n  tmpvar_13 = sin(((uv1_6 + \n    (xlat_mutabledz * 1.8)\n  ) + tmpvar_10));\n  vec3 tmpvar_14;\n  tmpvar_14.x = inversesqrt(dot (tmpvar_11, tmpvar_11));\n  tmpvar_14.y = inversesqrt(dot (tmpvar_12, tmpvar_12));\n  tmpvar_14.z = inversesqrt(dot (tmpvar_13, tmpvar_13));\n  ret_7 = (((\n    (tmpvar_14 * ((vec3(0.01, 0.01, 0.01) * (1.0 + \n      (rand_preset.xyz / 2.0)\n    )) * (0.5 + rand_preset.y)))\n   * \n    ((((rand_preset.x - 0.5) * 4.0) * xlat_mutableret1) + (8.0 * (1.0 + rand_preset)).xyz)\n  ) - (xlat_mutableret1.x * 0.5)) + ((xlat_mutableret1.y + xlat_mutableret1.z) / 3.0));\n  ret_7 = (ret_7 - ((slow_roam_sin.wzy * roam_cos.zxy) * 0.4));\n  ret_7 = (ret_7 * (1.0 + ret_7));\n  vec4 tmpvar_15;\n  tmpvar_15.w = 1.0;\n  tmpvar_15.xyz = ret_7;\n  ret = tmpvar_15.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 0.995, echo_zoom: 1, echo_orient: 1, wave_mode: 5, wave_brighten: 0, wrap: 0, wave_a: 100, wave_scale: 0.721, wave_smoothing: 0.5, modwavealphastart: 0.5, modwavealphaend: 1, fshader: 1, dx: 1e-5, dy: 1e-5, warp: 0.01, wave_r: 0.5, wave_g: 0.5, wave_b: 0.5, ob_size: 0, ob_a: 1, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, mv_x: 0, mv_y: 0, mv_l: 1, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.thresh=0;a.dx_r=0;a.dy_r=0;a.xs=0;", frame_eqs_str: "a.wave_r=.5+.5*Math.sin(6*a.time);a.wave_g=.5+.5*Math.sin(4.1*a.time);a.wave_b=-1+(1-a.wave_r+1-a.wave_g);a.warp=0;", pixel_eqs_str: "a.thresh=2*above(a.bass_att,a.thresh)+(1-above(a.bass_att,a.thresh))*(.96*(a.thresh-1.3)+1.3);a.dx_r=.015*equal(a.thresh,2)*Math.sin(5*a.time)+(1-equal(a.thresh,2))*a.dx_r;a.dy_r=.015*equal(a.thresh,2)*Math.sin(6*a.time)+(1-equal(a.thresh,2))*a.dy_r;a.xs=above(Math.sin(12*a.dx_r*a.bass),0)*a.dy_r*Math.sin(2*a.rad)+below(Math.sin(12*a.dx_r*a.bass),0)*Math.cos(a.time)*a.dx_r*Math.sin(.6*a.rad);a.zoom+=Math.abs(12*a.xs);a.rot+=5*a.xs*Math.cos(1-a.xs*a.rad*12*a.dx_r);a.dx+=a.dx_r;\na.dy+=a.dy_r;", warp: " shader_body { \n  vec2 my_uv_1;\n  vec3 ret_2;\n  vec2 tmpvar_3;\n  tmpvar_3 = (vec2(1280.0, 1024.0) * texsize.zw);\n  float tmpvar_4;\n  vec2 tmpvar_5;\n  tmpvar_5 = (uv + vec2(0.005, 0.0));\n  vec2 tmpvar_6;\n  tmpvar_6 = (uv - vec2(0.005, 0.0));\n  tmpvar_4 = (((\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\n   + bias2)).x * tmpvar_3.x);\n  float tmpvar_7;\n  vec2 tmpvar_8;\n  tmpvar_8 = (uv + vec2(0.0, 0.005));\n  vec2 tmpvar_9;\n  tmpvar_9 = (uv - vec2(0.0, 0.005));\n  tmpvar_7 = (((\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\n   + bias2)).x * tmpvar_3.y);\n  vec2 tmpvar_10;\n  tmpvar_10.x = tmpvar_4;\n  tmpvar_10.y = tmpvar_7;\n  vec2 tmpvar_11;\n  tmpvar_11.x = (((\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\n   + bias2)).x * tmpvar_3.x);\n  tmpvar_11.y = (((\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\n   + bias2)).x * tmpvar_3.y);\n  ret_2.x = texture (sampler_fw_main, ((uv - (tmpvar_10 * 0.01)) + (tmpvar_11 * 0.003))).x;\n  vec4 tmpvar_12;\n  tmpvar_12 = texture (sampler_blur3, uv);\n  ret_2.x = (ret_2.x + ((ret_2.x - \n    ((tmpvar_12.xyz * scale3) + bias3)\n  .x) * 0.1));\n  ret_2.x = (ret_2.x + 0.004);\n  vec2 tmpvar_13;\n  tmpvar_13.x = tmpvar_7;\n  tmpvar_13.y = -(tmpvar_4);\n  my_uv_1 = (uv + ((tmpvar_13 * 0.05) * (1.2 - \n    ((tmpvar_12.xyz * scale3) + bias3)\n  .y)));\n  ret_2.z = texture (sampler_fw_main, my_uv_1).z;\n  vec2 x_14;\n  x_14 = (my_uv_1 - uv);\n  ret_2.z = (ret_2.z + ((\n    ((ret_2.z - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z) * sqrt(dot (x_14, x_14)))\n   * 180.0) / sqrt(\n    dot (tmpvar_3, tmpvar_3)\n  )));\n  ret_2.z = (ret_2.z * 0.8);\n  ret_2.z = (ret_2.z + 0.004);\n  vec2 tmpvar_15;\n  tmpvar_15.x = -(tmpvar_7);\n  tmpvar_15.y = tmpvar_4;\n  my_uv_1 = (tmpvar_15 * 0.045);\n  vec2 tmpvar_16;\n  tmpvar_16.x = (((\n    (texture (sampler_blur2, (uv + vec2(0.01, 0.0))).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, (uv - vec2(0.01, 0.0))).xyz * scale2)\n   + bias2)).y * tmpvar_3.x);\n  tmpvar_16.y = (((\n    (texture (sampler_blur2, (uv + vec2(0.0, 0.01))).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, (uv - vec2(0.0, 0.01))).xyz * scale2)\n   + bias2)).y * tmpvar_3.y);\n  my_uv_1 = (my_uv_1 + (uv - (tmpvar_16 * 0.03)));\n  ret_2.y = texture (sampler_fw_main, my_uv_1).y;\n  ret_2.y = (ret_2.y + ((\n    (ret_2.y - ((texture (sampler_blur3, my_uv_1).xyz * scale3) + bias3).y)\n   * 0.1) + 0.01));\n  vec4 tmpvar_17;\n  tmpvar_17.w = 1.0;\n  tmpvar_17.xyz = ret_2;\n  ret = tmpvar_17.xyz;\n }", comp: " shader_body { \n  vec3 ret_1;\n  ret_1 = texture (sampler_main, uv).xyz;\n  ret_1 = (ret_1 * hue_shader);\n  vec3 tmpvar_2;\n  tmpvar_2 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.5, 1.0, 0.1));\n  ret_1 = tmpvar_2;\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = tmpvar_2;\n  ret = tmpvar_3.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.998, echo_zoom: 1.421, wave_mode: 7, additivewave: 1, modwavealphabyvolume: 1, darken_center: 1, wave_a: 1.193, wave_scale: 1.489, wave_smoothing: 0, modwavealphastart: 0.87, modwavealphaend: 1.09, warpscale: 3.138, zoom: 1.003, warp: 0.09218, wave_r: 0.5, wave_g: 0.5, wave_b: 0.5, wave_x: 0.6, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.t2=0;", frame_eqs_str: "a.wave_r+=.365*(.6*Math.sin(4.437*a.time)+.4*Math.sin(3.97*a.time));a.wave_g+=.365*(.6*Math.sin(4.344*a.time)+.4*Math.sin(3.841*a.time));a.wave_b+=.365*(.6*Math.sin(4.251*a.time)+.4*Math.sin(3.055*a.time));a.rot+=.02*(.6*Math.sin(.181*a.time)+.09*Math.sin(-.279*a.time));a.zoom+=.025*(.6*Math.sin(.3131*a.time+2)+.4*Math.sin(-.479*a.time+4));a.decay-=.01*equal(mod(a.frame,6),0);a.t2=6*a.time;a.wave_x=.5+.2*(.6*Math.sin(.374*a.t2)+.4*Math.sin(.294*a.t2));a.wave_y=.5+.2*(.6*Math.sin(.393*\na.t2)+.4*Math.sin(.223*a.t2));", pixel_eqs_str: "a.dx=0;a.dy=0;a.dx+=2*div(Math.cos(29.37*a.y-1.9*a.time),a.pixelsx);a.dy+=2*div(Math.cos(33.21*a.x-1.7*a.time),a.pixelsy);a.dx+=1.5*div(Math.cos(77.55*a.y-2.1*a.time),a.pixelsx);a.dy+=1.5*div(Math.cos(78.32*a.x-2.4*a.time),a.pixelsy);", warp: " shader_body { \n  vec2 dxy_1;\n  dxy_1.x = cos(((154.56 * uv_orig.y) - time));\n  dxy_1.y = cos(((154.56 * uv_orig.x) - time));\n  float tmpvar_2;\n  tmpvar_2 = (time * 5.0);\n  dxy_1.x = (dxy_1.x + cos((\n    (412.16 * uv_orig.y)\n   - tmpvar_2)));\n  dxy_1.y = (dxy_1.y + cos((\n    (412.16 * uv_orig.x)\n   - tmpvar_2)));\n  dxy_1.y = (dxy_1.y + 0.15);\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = (max (texture (sampler_fw_main, (uv + \n    (dxy_1 * texsize.zw)\n  )).xyz, (texture (sampler_main, uv_orig).xyz * 0.8)) - 0.004);\n  ret = tmpvar_3.xyz;\n }", comp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = ((texture (sampler_main, uv).xyz * 0.8) + ((\n    (texture (sampler_blur1, uv).xyz * scale1)\n   + bias1) * 0.7));\n  ret = tmpvar_1.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.9, echo_zoom: 1.169, wave_mode: 2, additivewave: 1, wave_dots: 1, wave_thick: 1, wave_a: 0.274, wave_scale: 2.827, wave_smoothing: 0.09, modwavealphastart: 0.83, modwavealphaend: 1.31, warpscale: 3.138, zoom: 0.993, warp: 54e-5, wave_r: 0.5, wave_g: 0.5, wave_b: 0.5, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.dx_residual=0;a.dy_residual=0;a.bass_thresh=0;", frame_eqs_str: "a.wave_r=.85+.25*Math.sin(.437*a.time+1);a.wave_g=.85+.25*Math.sin(.544*a.time+2);a.wave_b=.85+.25*Math.sin(.751*a.time+3);a.rot+=.01*(.6*Math.sin(.381*a.time)+.4*Math.sin(.579*a.time));a.cx+=.21*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.cy+=.21*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.dx+=.003*(.6*Math.sin(.234*a.time)+.4*Math.sin(.277*a.time));a.dy+=.003*(.6*Math.sin(.284*a.time)+.4*Math.sin(.247*a.time));a.decay-=.01*equal(mod(a.frame,6),0);a.dx+=\na.dx_residual;a.dy+=a.dy_residual;a.bass_thresh=2*above(a.bass_att,a.bass_thresh)+(1-above(a.bass_att,a.bass_thresh))*(.96*(a.bass_thresh-1.3)+1.3);a.dx_residual=.016*equal(a.bass_thresh,2.13)*Math.sin(7*a.time)+(1-equal(a.bass_thresh,2.13))*a.dx_residual;a.dy_residual=.012*equal(a.bass_thresh,2.13)*Math.sin(9*a.time)+(1-equal(a.bass_thresh,2.13))*a.dy_residual;a.wave_x-=7*a.dx_residual;a.wave_y-=7*a.dy_residual;a.wave_mystery=.03*a.time;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec3 ret_1;\n  vec4 tmpvar_2;\n  tmpvar_2 = texture (sampler_main, uv);\n  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - \n    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)\n  ) * 0.2));\n  ret_1 = (ret_1 - 0.02);\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = ret_1;\n  ret = tmpvar_3.xyz;\n }", comp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = (texture (sampler_main, uv).xyz * 1.15);\n  ret = tmpvar_1.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 1, additivewave: 1, wave_brighten: 0, wave_a: 1e-3, wave_scale: 0.01, wave_smoothing: 0.63, wave_mystery: -1, modwavealphastart: 0.71, modwavealphaend: 1.3, warpanimspeed: 30.965, warpscale: 2.572, zoom: 1.00901, warp: 54e-5, wave_r: 0.65, wave_g: 0.65, wave_b: 0.65, mv_x: 12.8, mv_y: 9.6, mv_l: 1, mv_g: 0.91, mv_b: 0.71, mv_a: 0}, shapes: [{baseVals: {enabled: 1, sides: 100, additive: 1, rad: 0.49138, r: 0, g: 1, b: 1, border_a: 0}, init_eqs_str: "a.q4=0;a.q5=0;", frame_eqs_str: "a.x=.5+a.q4;a.y=.5+a.q5;a.a=a.bass_att+a.mid_att+a.treb_att;a.a*=.25;a.a=a.a*a.a*1.5;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.dx_residual=0;a.dy_residual=0;a.bass_thresh=0;", frame_eqs_str: "a.wave_r=.85+.25*Math.sin(.437*a.time+1);a.wave_g=.85+.25*Math.sin(.544*a.time+2);a.wave_b=.85+.25*Math.sin(.751*a.time+3);a.rot+=.01*(.6*Math.sin(.381*a.time)+.4*Math.sin(.579*a.time));a.cx+=.21*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.cy+=.21*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.dx+=.003*(.6*Math.sin(.234*a.time)+.4*Math.sin(.277*a.time));a.dy+=.003*(.6*Math.sin(.284*a.time)+.4*Math.sin(.247*a.time));a.decay-=.01*equal(mod(a.frame,6),0);a.dx+=\na.dx_residual;a.dy+=a.dy_residual;a.bass_thresh=2*above(a.bass_att,a.bass_thresh)+(1-above(a.bass_att,a.bass_thresh))*(.96*(a.bass_thresh-1.3)+1.3);a.dx_residual=.016*equal(a.bass_thresh,2.13)*Math.sin(7*a.time)+(1-equal(a.bass_thresh,2.13))*a.dx_residual;a.dy_residual=.012*equal(a.bass_thresh,2.13)*Math.sin(9*a.time)+(1-equal(a.bass_thresh,2.13))*a.dy_residual;a.wave_x-=7*a.dx_residual;a.wave_y-=7*a.dy_residual;a.wave_mystery=.03*a.time;a.zoom+=.005*(.6*Math.sin(.1934*a.time+3)+.4*Math.sin(.307*\na.time+9));a.zoom+=.2*Math.max(0,a.bass_att-1.1);a.warp+=.5*Math.max(0,a.treb-1.1);", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec3 ret_1;\n  vec4 tmpvar_2;\n  tmpvar_2 = texture (sampler_main, uv);\n  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - \n    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)\n  ) * 0.6));\n  ret_1 = (ret_1 * 0.9);\n  ret_1 = (ret_1 + ((\n    ((texture (sampler_noise_lq, ((\n      (uv_orig * texsize.xy)\n     * \n      (texsize_noise_lq.zw * 0.4)\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\n   * 12.0) * clamp (\n    (treb_att - 1.0)\n  , 0.0, 1.0)));\n  vec3 tmpvar_3;\n  tmpvar_3 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.04, 0.04, 0.04));\n  ret_1 = tmpvar_3;\n  vec4 tmpvar_4;\n  tmpvar_4.w = 1.0;\n  tmpvar_4.xyz = tmpvar_3;\n  ret = tmpvar_4.xyz;\n }", comp: " shader_body { \n  vec3 N_1;\n  vec3 ret_2;\n  vec2 tmpvar_3;\n  tmpvar_3 = (vec2(1.0, 0.0) * texsize.zw);\n  N_1.x = ((texture (sampler_main, (uv_orig + tmpvar_3)).xyz - texture (sampler_main, (uv_orig - tmpvar_3)).xyz).x * 0.8);\n  vec2 tmpvar_4;\n  tmpvar_4 = (vec2(0.0, 1.0) * texsize.zw);\n  N_1.y = ((texture (sampler_main, (uv_orig + tmpvar_4)).xyz - texture (sampler_main, (uv_orig - tmpvar_4)).xyz).x * 0.8);\n  N_1.x = (N_1.x + ((\n    ((texture (sampler_blur1, (uv_orig + tmpvar_3)).xyz * scale1) + bias1)\n   - \n    ((texture (sampler_blur1, (uv_orig - tmpvar_3)).xyz * scale1) + bias1)\n  ).x * 0.2));\n  N_1.y = (N_1.y + ((\n    ((texture (sampler_blur1, (uv_orig + tmpvar_4)).xyz * scale1) + bias1)\n   - \n    ((texture (sampler_blur1, (uv_orig - tmpvar_4)).xyz * scale1) + bias1)\n  ).x * 0.2));\n  N_1.z = -0.077;\n  vec3 tmpvar_5;\n  tmpvar_5 = normalize(N_1);\n  N_1 = tmpvar_5;\n  vec3 tmpvar_6;\n  tmpvar_6.z = -0.8;\n  tmpvar_6.x = q9;\n  tmpvar_6.y = q10;\n  vec3 tmpvar_7;\n  tmpvar_7.z = 0.0;\n  tmpvar_7.xy = ((uv_orig * 2.0) - 1.0);\n  vec3 tmpvar_8;\n  tmpvar_8 = normalize((tmpvar_6 - tmpvar_7));\n  vec3 tmpvar_9;\n  tmpvar_9 = normalize((tmpvar_7 - vec3(0.0, 0.0, 1.0)));\n  ret_2 = (vec3(clamp (dot (tmpvar_5, tmpvar_8), 0.0, 1.0)) * vec3(1.2, 0.9, 0.7));\n  ret_2 = (ret_2 * normalize((\n    (texture (sampler_blur3, uv_orig).xyz * scale3)\n   + bias3).yzx));\n  ret_2 = (ret_2 + (pow (\n    clamp (dot (normalize((tmpvar_9 + \n      ((2.0 * tmpvar_5) * dot (tmpvar_9, tmpvar_5))\n    )), tmpvar_8), 0.0, 1.0)\n  , 32.0) * 0.5));\n  vec4 tmpvar_10;\n  tmpvar_10.w = 1.0;\n  tmpvar_10.xyz = ret_2;\n  ret = tmpvar_10.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1, decay: 1, echo_zoom: 1, wave_brighten: 0, darken: 1, wave_a: 1e-3, wave_scale: 0.535239, wave_smoothing: 0, wave_mystery: -0.48, modwavealphastart: 1, modwavealphaend: 1.1, warpscale: 3.138, fshader: 1, zoom: 1.023, warp: 0.122616, wave_g: 0.65, wave_b: 0, mv_x: 6.4, mv_y: 48, mv_dx: 0.5, mv_dy: 0.5, mv_l: 5, mv_r: 0.013716, mv_g: 0.872347, mv_b: 0.522466, mv_a: 0}, shapes: [{baseVals: {enabled: 1, thickoutline: 1, textured: 1, rad: 0.746302, tex_zoom: 0.942039, g: 1, b: 1, r2: 1, b2: 1, a2: 1, border_r: 0, border_g: 0, border_b: 0, border_a: 0}, init_eqs_str: "a.val=0;", frame_eqs_str: "a.ang=.5*Math.sin(a.time)+.5;a.val=3;a.a2=.33*a.val;a.a=.33*a.val;a.rad=.4*Math.cos(.3*a.time)+.65;a.x=.25*Math.sin(.25*a.time)+.5;a.y=.25*Math.cos(.45*a.time)+.5;"}, {baseVals: {enabled: 1, thickoutline: 1, textured: 1, rad: 0.746302, tex_zoom: 0.942039, g: 1, b: 1, r2: 1, b2: 1, a2: 1, border_r: 0, border_g: 0, border_b: 0, border_a: 0}, init_eqs_str: "a.val=0;", frame_eqs_str: "a.ang=.5*Math.cos(.3*a.time)+.5;a.val=3;a.a2=.33*a.val;a.a=.33*a.val;a.rad=.4*Math.sin(.3*a.time)+.65;a.x=.25*Math.cos(.25*a.time)+.5;a.y=.25*Math.sin(.45*a.time)+.5;"}, {baseVals: {enabled: 1, thickoutline: 1, rad: 0.364564, r: 0, g2: 0, a2: 1, border_r: 0, border_g: 0, border_b: 0, border_a: 0}, init_eqs_str: "a.h2=0;a.vr=0;a.vg=0;a.vb=0;a.dist=0;a.maat=0;", frame_eqs_str: "a.h2+=.8*above(a.treb,1.32)*.9;a.vr=.5*Math.sin(.8*a.h2)+.5;a.vg=.5*Math.sin(.5*a.h2)+.5;a.vb=.5*Math.sin(.1*a.h2)+.5;a.g=a.vg;a.r=a.vr;a.b=a.vb;a.g2=a.g;a.r2=a.r;a.b2=a.b;a.dist=.01*mod(a.frame,100);a.maat+=above(a.bass_att,1.5);a.maat*=below(a.maat,16);a.x=.00001<Math.abs(below(a.maat,8))?.00001<Math.abs(below(a.maat,4))?a.dist:1-a.dist:a.x;a.y=.00001<Math.abs(above(a.maat,8))?.00001<Math.abs(above(a.maat,4))?a.dist:1-a.dist:a.y;"}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.dx_residual=0;a.dy_residual=0;a.bass_thresh=0;", frame_eqs_str: "a.wave_r=1;a.wave_g=0;a.wave_b=0;a.wave_r=sqrt(a.wave_r);a.wave_g=sqrt(a.wave_g);a.wave_b=sqrt(a.wave_b);a.rot+=.01*(.6*Math.sin(.381*a.time)+.4*Math.sin(.579*a.time));a.cx+=.21*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.cy+=.21*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.dx+=.003*(.6*Math.sin(.234*a.time)+.4*Math.sin(.277*a.time));a.dy+=.003*(.6*Math.sin(.284*a.time)+.4*Math.sin(.247*a.time));a.decay-=.01*equal(mod(a.frame,6),0);a.dx+=a.dx_residual;a.dy+=\na.dy_residual;a.bass_thresh=2*above(a.bass_att,a.bass_thresh)+(1-above(a.bass_att,a.bass_thresh))*(.96*(a.bass_thresh-1.3)+1.3);a.dx_residual=.016*equal(a.bass_thresh,2.13)*Math.sin(7*a.time)+(1-equal(a.bass_thresh,2.13))*a.dx_residual;a.dy_residual=.012*equal(a.bass_thresh,2.13)*Math.sin(9*a.time)+(1-equal(a.bass_thresh,2.13))*a.dy_residual;a.wave_x-=7*a.dx_residual;a.wave_y-=7*a.dy_residual;a.wave_mystery=.03*a.time;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = (texture (sampler_main, (uv + (\n    (texture (sampler_main, (uv + texsize.zw)).xy - 0.37)\n   * 0.03))).xyz - 0.004);\n  ret = tmpvar_1.xyz;\n }", comp: " shader_body { \n  vec2 uv_1;\n  vec3 ret_2;\n  uv_1 = (0.05 + (0.9 * uv));\n  ret_2 = (abs((\n    ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)\n   - texture (sampler_main, uv_1).xyz)) * 6.0);\n  ret_2 = (ret_2 * 1.333);\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = ret_2;\n  ret = tmpvar_3.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.7, echo_zoom: 1.16936, wave_mode: 2, wave_dots: 1, wave_brighten: 0, wave_a: 1e-3, wave_scale: 0.011726, wave_smoothing: 0.9, zoom: 0.999902, warp: 0.01, wave_r: 0.5, wave_g: 0.4, wave_b: 0.3, ob_size: 65e-4, ib_size: 0.26, mv_x: 0, mv_y: 43.199997, mv_l: 1, mv_g: 0.91, mv_b: 0.71, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, r: 0.1, b: 0.7}, init_eqs_str: "a.n=0;a.yq=0;a.xp=0;a.t5=0;a.xs=0;a.yp=0;a.t1=0;a.q1=0;a.cosang=0;a.r1=0;a.g2=0;a.xq=0;a.t3=0;a.flip=0;a.t6=0;a.ys=0;a.zq=0;a.phs=0;a.r2=0;a.ang=0;a.sinang=0;a.tm=0;a.b2=0;a.t2=0;a.zp=0;a.g1=0;a.t4=0;a.b1=0;a.q8=0;", frame_eqs_str: "a.t1=.5*Math.sin(a.time)+.5;a.t2=.5*Math.sin(a.time+2.1)+.5;a.t3=.5*Math.sin(a.time+4.2)+.5;a.t4=.5*Math.sin(a.time+1.1)+.5;a.t5=.5*Math.sin(a.time+3.1)+.5;a.t6=.5*Math.sin(a.time+5.2)+.5;", point_eqs_str: "a.n=6.283*a.sample;a.phs=.2*-a.sample;a.tm=a.q1+a.phs;a.flip+=1;a.flip*=below(a.flip,2);a.xp=0;a.yp=.1*a.flip+.2*(.5*Math.sin(a.tm)+.5);a.zp=0;a.ang=.5*Math.sin(2*a.tm)+.5;a.xq=a.xp;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.yq=a.yp;a.zq=a.zp;a.ang=8*a.tm;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.3;a.ang=3.14+1.5*\nMath.sin(2*a.tm-.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.ang=-1+Math.cos(3.1*a.tm+.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.35;a.ang=1.75*Math.cos(2.3*a.tm)-1.05;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp*a.sinang+a.zp*a.cosang;a.yq=a.yp;a.zq=a.xp*a.cosang-a.zp*a.sinang;a.ang=.5*Math.cos(a.tm)-.5;\na.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq;a.yp=a.yq*a.cosang-a.zq*a.sinang;a.zp=a.yq*a.sinang+a.zq*a.cosang;a.zp+=2;a.xs=div(a.xp,a.zp);a.ys=div(a.yp,a.zp);a.x=a.xs+.5;a.y=1.3*a.ys+.5;a.a=.00001<Math.abs(equal(a.q8,1))?1-a.sample:a.sample;a.a*=a.a;a.b+=.3*pow(1-a.sample,2);a.r1=a.t1;a.g1=a.t2;a.b1=a.t3;a.r2=a.t4;a.g2=a.t5;a.b2=a.t6;a.r=a.r1*a.flip+a.r2*(1-a.flip);a.g=a.g1*a.flip+a.g2*(1-a.flip);a.b=a.b1*a.flip+a.b2*(1-a.flip);"}, {baseVals: {enabled: 1, r: 0.2, b: 0.6}, init_eqs_str: "a.n=0;a.yq=0;a.xp=0;a.t5=0;a.xs=0;a.yp=0;a.t1=0;a.q1=0;a.cosang=0;a.r1=0;a.g2=0;a.xq=0;a.t3=0;a.flip=0;a.t6=0;a.ys=0;a.zq=0;a.phs=0;a.r2=0;a.ang=0;a.sinang=0;a.tm=0;a.b2=0;a.t2=0;a.zp=0;a.g1=0;a.t4=0;a.b1=0;a.q8=0;", frame_eqs_str: "a.t1=.5*Math.sin(a.time)+.5;a.t2=.5*Math.sin(a.time+2.1)+.5;a.t3=.5*Math.sin(a.time+4.2)+.5;a.t4=.5*Math.sin(a.time+1.1)+.5;a.t5=.5*Math.sin(a.time+3.1)+.5;a.t6=.5*Math.sin(a.time+5.2)+.5;", point_eqs_str: "a.n=6.283*a.sample;a.phs=.2*-a.sample;a.tm=a.q1+a.phs;a.flip+=1;a.flip*=below(a.flip,2);a.xp=0;a.yp=.1*a.flip+.2*(.5*Math.sin(a.tm)+.5)+.1;a.yp=-a.yp;a.zp=0;a.ang=.5*Math.sin(2*a.tm)+.5;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.yq=a.yp;a.zq=a.zp;a.ang=8*a.tm;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.3;\na.ang=3.14+1.5*Math.sin(2*a.tm-.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.ang=-1+Math.cos(3.1*a.tm+.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.35;a.ang=1.75*Math.cos(2.3*a.tm)-1.05;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp*a.sinang+a.zp*a.cosang;a.yq=a.yp;a.zq=a.xp*a.cosang-a.zp*a.sinang;a.ang=.5*Math.cos(a.tm)-\n.5;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq;a.yp=a.yq*a.cosang-a.zq*a.sinang;a.zp=a.yq*a.sinang+a.zq*a.cosang;a.zp+=2;a.xs=div(a.xp,a.zp);a.ys=div(a.yp,a.zp);a.x=a.xs+.5;a.y=1.3*a.ys+.5;a.a=.00001<Math.abs(equal(a.q8,1))?1-a.sample:a.sample;a.a*=a.a;a.b+=.3*pow(1-a.sample,2);a.r1=a.t1;a.g1=a.t2;a.b1=a.t3;a.r2=a.t4;a.g2=a.t5;a.b2=a.t6;a.r=a.r1*a.flip+a.r2*(1-a.flip);a.g=a.g1*a.flip+a.g2*(1-a.flip);a.b=a.b1*a.flip+a.b2*(1-a.flip);"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.movement=0;a.q1=0;", frame_eqs_str: "a.movement=a.movement+.01*(a.bass+a.bass_att)+.001*pow(a.bass+1,3);a.q1=a.movement;a.monitor=a.q1;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec3 ret_1;\n  ret_1 = texture (sampler_main, uv).xyz;\n  vec2 tmpvar_2;\n  tmpvar_2 = (normalize((uv - uv_orig)) * texsize.zw);\n  vec4 tmpvar_3;\n  tmpvar_3.w = 0.0;\n  tmpvar_3.xyz = ret_1;\n  vec4 tmpvar_4;\n  tmpvar_4.w = 0.0;\n  tmpvar_4.xyz = max (tmpvar_3, (texture (sampler_main, (uv - tmpvar_2)) * 0.9)).xyz;\n  vec4 tmpvar_5;\n  tmpvar_5.w = 0.0;\n  tmpvar_5.xyz = max (tmpvar_4, (texture (sampler_main, (uv + tmpvar_2)) * 0.97)).xyz;\n  vec4 tmpvar_6;\n  tmpvar_6.w = 0.0;\n  tmpvar_6.xyz = max (tmpvar_5, (texture (sampler_main, (uv + \n    (tmpvar_2 * 2.0)\n  )) * 0.97)).xyz;\n  ret_1 = (max (tmpvar_6, (texture (sampler_main, \n    (uv + (tmpvar_2 * 3.0))\n  ) * 0.9)).xyz * 0.92);\n  vec4 tmpvar_7;\n  tmpvar_7.w = 1.0;\n  tmpvar_7.xyz = ret_1;\n  ret = tmpvar_7.xyz;\n }", comp: " shader_body { \n  vec2 uv_1;\n  vec3 ret_2;\n  uv_1 = (0.05 + (0.9 * uv));\n  ret_2 = (abs((\n    ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)\n   - texture (sampler_main, uv_1).xyz)) * 6.0);\n  ret_2 = (ret_2 * 1.333);\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = ret_2;\n  ret = tmpvar_3.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 1, echo_zoom: 1, echo_orient: 3, wave_mode: 1, wave_thick: 1, wrap: 0, darken_center: 1, wave_a: 0.3, wave_scale: 0.881, wave_smoothing: 0.5, wave_mystery: -1, warpscale: 2.853, zoomexp: 3.6, zoom: 1.02109, rot: -0.16, warp: 0.309, wave_r: 0.6, wave_g: 0.6, wave_b: 0.6, wave_y: 0.47, mv_l: 1.75}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.q8=0;a.oldq8=0;", frame_eqs_str: "a.wave_r+=.4*(.6*Math.sin(.933*a.time)+.4*Math.sin(1.045*a.time));a.wave_g+=.4*(.6*Math.sin(.9*a.time)+.4*Math.sin(.956*a.time));a.wave_b+=.4*(.6*Math.sin(.91*a.time)+.4*Math.sin(.92*a.time));a.q8=a.oldq8+(.00001<Math.abs(above(a.bass+a.bass_att,1.8))?a.q8+.0005*pow(a.bass+a.bass_att-1,9):0);a.oldq8=a.q8;a.monitor=a.q8;a.zoom+=.023*(.6*Math.sin(.339*a.q8)+.4*Math.sin(.276*a.q8));a.rot+=.03*(.6*Math.sin(.381*a.q8)+.4*Math.sin(.579*a.q8));a.mv_r=a.wave_r;a.mv_b=a.wave_b;a.mv_g=\na.wave_g;a.mv_x=1.25;a.mv_y=1.25;a.mv_dx=.1*Math.sin(1.1*a.time);a.mv_dy=.1*Math.cos(1.112*a.time);", pixel_eqs_str: "a.rot+=div(1,10*(a.rad+.2+.1*Math.sin(a.q8)));", warp: "", comp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1 = texture (sampler_main, uv);\n  vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = (tmpvar_1.xyz * (1.0 + (\n    (abs((fract(\n      (tmpvar_1.xyz * 8.0)\n    ) - 0.5)) - 0.25)\n   * 0.4)));\n  ret = tmpvar_2.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 2.001, decay: 0.95, echo_zoom: 0.9996, wave_mode: 1, wrap: 0, wave_a: 3.072644, wave_scale: 1.285746, wave_smoothing: 0, modwavealphastart: 0.71, modwavealphaend: 1.3, warpscale: 1.331, zoom: 0.999513, warp: 0.0101, wave_r: 0.65, wave_g: 0.65, wave_b: 0.65, ob_size: 5e-3, ob_a: 0.8, ib_size: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "", frame_eqs_str: "a.wave_r+=.5*Math.sin(1.13*a.time);a.wave_g+=.5*Math.sin(1.23*a.time);a.wave_b+=.5*Math.sin(1.33*a.time);", pixel_eqs_str: "a.zoom+=.05*(Math.sin(6*a.ang)+.3*Math.sin(Math.sin(2*a.time*Math.sin(a.time)*a.rad))-.1*Math.cos(a.rad));a.rot+=.5*Math.sin(.5-a.rad)*Math.cos(.02*(.5-a.rad)+a.time);a.sx+=.01*(.99-a.rad)*Math.sin(.733*a.time)*below(Math.sin(a.time),0);a.sy+=.01*(.99-a.rad)*Math.cos(.953*a.time)*above(Math.sin(a.time),0);a.zoom-=.05*(1-a.rad)*below(a.rad,.5);", warp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = (texture (sampler_main, (uv + (\n    (texture (sampler_main, (uv + texsize.zw)).xy - 0.37)\n   * 0.03))).xyz - 0.004);\n  ret = tmpvar_1.xyz;\n }", comp: " shader_body { \n  vec2 uv_1;\n  vec3 ret_2;\n  uv_1 = (0.03 + (0.94 * uv));\n  vec2 tmpvar_3;\n  tmpvar_3 = (texsize.zw * 0.7);\n  ret_2 = (texture (sampler_main, (uv_1 + (tmpvar_3 * vec2(3.5, 0.0)))).xyz * 3.0);\n  ret_2 = (ret_2 + (texture (sampler_main, (uv_1 + \n    (tmpvar_3 * vec2(0.0, 3.5))\n  )).xyz * 3.0));\n  ret_2 = (ret_2 + (texture (sampler_main, (uv_1 + \n    (tmpvar_3 * vec2(0.0, -3.5))\n  )).xyz * -2.0));\n  ret_2 = (ret_2 + (texture (sampler_main, (uv_1 + \n    (tmpvar_3 * vec2(-3.5, 0.0))\n  )).xyz * -2.0));\n  ret_2 = (ret_2 / 2.0);\n  ret_2 = (ret_2 * (1.0 + (0.15 * \n    ((texture (sampler_noise_lq, (rand_frame.xy + (\n      (uv_1 * texsize.xy)\n     * texsize_noise_lq.zw))).xxx * 2.0) - 1.0)\n  )));\n  vec3 tmpvar_4;\n  tmpvar_4 = pow (ret_2, vec3(0.5, 0.8, 1.0));\n  ret_2 = tmpvar_4;\n  vec4 tmpvar_5;\n  tmpvar_5.w = 1.0;\n  tmpvar_5.xyz = tmpvar_4;\n  ret = tmpvar_5.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1, decay: 0.97, echo_zoom: 1, echo_alpha: 0.5, echo_orient: 3, wave_mode: 2, wave_brighten: 0, wrap: 0, wave_a: 100, wave_scale: 0.797, wave_smoothing: 0.5, modwavealphastart: 0.5, modwavealphaend: 1, dx: 1e-5, dy: 1e-5, warp: 0.01, wave_r: 0.5, wave_g: 0.5, wave_b: 0.5, ob_size: 5e-3, ob_a: 1, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 0.1, mv_x: 0, mv_y: 0, mv_l: 1, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.thresh=0;a.dx_r=0;a.dy_r=0;", frame_eqs_str: "a.warp=0;a.ob_r=a.ob_r+.8*Math.sin(1.1*a.time)+1.1*Math.cos(2*a.time);a.ob_b=a.ob_b+.9*Math.sin(1.2*a.time)+Math.cos(1.5*a.time);a.ob_g=a.ob_g+.7*Math.sin(a.time)+Math.sin(.4*a.time);a.wave_r=Math.abs(a.ob_r+.2);a.wave_g=Math.abs(a.ob_g+.2);a.wave_b=Math.abs(a.ob_b+.2);a.ib_b=a.ib_b+.44*Math.cos(1.5*a.time)+.7*Math.tan(a.time);a.ib_g+=2*Math.sin(a.time*a.bass_att);a.ib_r=a.ib_r+.8*Math.sin(1.2*a.time)+1.3*Math.cos(1.8*a.time);", pixel_eqs_str: "a.thresh=2*above(a.bass_att,a.thresh)+(1-above(a.bass_att,a.thresh))*(.96*(a.thresh-1.3)+1.3);a.dx_r=.015*equal(a.thresh,2)*Math.sin(5*a.time)+(1-equal(a.thresh,2))*a.dx_r;a.dy_r=.015*equal(a.thresh,2)*Math.sin(6*a.time)+(1-equal(a.thresh,2))*a.dy_r;a.zoom+=.07*a.treb*Math.abs(Math.sin(a.time*a.rad))*(.3-a.rad);a.dy+=a.dy_r*below(a.rad,.5-.2*a.time);a.dx+=a.dx_r*below(a.rad,.5-.2*a.time);a.rot+=.7*a.bass_att*Math.sin(Math.abs(a.dx_r*(1-a.rad)*2*a.time+Math.cos(12*a.rad)))*.2;\n", warp: " shader_body { \n  vec3 ret_1;\n  vec4 tmpvar_2;\n  tmpvar_2 = texture (sampler_main, uv);\n  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - \n    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)\n  ) * 0.3));\n  ret_1 = (ret_1 * 0.9);\n  ret_1 = (ret_1 + ((\n    (texture (sampler_noise_lq, ((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 0.1))).xyz - 0.5)\n   / 256.0) * 28.0));\n  vec3 tmpvar_3;\n  tmpvar_3 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.04, 0.04, 0.04));\n  ret_1 = tmpvar_3;\n  vec4 tmpvar_4;\n  tmpvar_4.w = 1.0;\n  tmpvar_4.xyz = tmpvar_3;\n  ret = tmpvar_4.xyz;\n }", comp: ""};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 4, gammaadj: 1, decay: 1, echo_zoom: 1, echo_alpha: 0.5, additivewave: 1, modwavealphabyvolume: 1, wave_a: 9e-3, wave_scale: 2.713, wave_smoothing: 0, modwavealphastart: 1.2, modwavealphaend: 1.2, warpanimspeed: 1.459, warpscale: 2.007, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0.44, wave_g: 0.4, ob_size: 0.015, ob_b: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 0.85, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 1, sides: 3, additive: 1, num_inst: 175, rad: 0.20065, ang: 0.75398, tex_ang: 3.14159, tex_zoom: 0.99979, r: 0, g2: 0, border_r: 0.01, border_g: 0, border_a: 1}, init_eqs_str: "a.my_z=0;a.d=0;a.y3=0;a.z2=0;a.y1=0;a.w=0;a.q12=0;a.w2=0;a.x1=0;a.q13=0;a.q15=0;a.dy1=0;a.zoom=0;a.p=0;a.q5=0;a.dz1=0;a.z3=0;a.w3=0;a.my_x=0;a.x3=0;a.my_y=0;a.q11=0;a.dd=0;a.q4=0;a.yy1=0;a.q16=0;a.w1=0;a.x2=0;a.q17=0;a.l=0;a.y2=0;a.dx1=0;a.zz1=0;a.q14=0;a.z1=0;a.q3=0;a.q32=0;a.xx1=0;", frame_eqs_str: "a.xx1=.00001<Math.abs(equal(a.instance,0))?a.q11:a.xx1;a.yy1=.00001<Math.abs(equal(a.instance,0))?a.q12:a.yy1;a.zz1=.00001<Math.abs(equal(a.instance,0))?a.q13:a.zz1;a.dx1=a.q14*(a.yy1-a.xx1);a.dy1=a.xx1*(a.q15-a.zz1)-a.yy1;a.dz1=a.xx1*a.yy1-a.q16*a.zz1;a.dd=sqrt(a.dx1*a.dx1+a.dy1*a.dy1+a.dz1*a.dz1);a.xx1+=div(a.q17*a.dx1,a.dd);a.yy1+=div(a.q17*a.dy1,a.dd);a.zz1+=div(a.q17*a.dz1,a.dd);a.my_x=.1*a.xx1;a.my_y=.1*a.yy1;a.my_z=.1*a.zz1-3;a.d=4.75;a.zoom=.55+.25*Math.sin(.5*a.q32);\na.w1=a.q3;a.w2=a.q4;a.w3=a.q5;a.x1=Math.cos(a.w1)*a.my_x+Math.sin(a.w1)*a.my_y;a.y1=-Math.sin(a.w1)*a.my_x+Math.cos(a.w1)*a.my_y;a.z1=a.my_z;a.x2=Math.cos(a.w2)*a.x1+Math.sin(a.w2)*a.z1;a.z2=-Math.sin(a.w2)*a.x1+Math.cos(a.w2)*a.z1;a.y2=a.y1;a.y3=Math.cos(a.w3)*a.y2+Math.sin(a.w3)*a.z2;a.z3=-Math.sin(a.w3)*a.y2+Math.cos(a.w3)*a.z2;a.x3=a.x2;a.l=sqrt(a.x3*a.x3+a.y3*a.y3);a.w=Math.atan2(a.x3,a.y3);a.p=Math.tan(Math.asin(1)+Math.atan2(a.d+a.z3,a.l));a.d=sqrt(a.x3*a.x3+a.y3*a.y3+(a.z3+a.d)*(a.z3+a.d));\na.my_x=a.zoom*Math.sin(a.w)*a.p;a.my_y=a.zoom*Math.cos(a.w)*a.p;a.x=.5+a.my_x;a.y=.5+a.my_y;a.rad=div(a.rad,a.d);a.ang-=div(a.instance,a.num_inst)*Math.asin(1)*8;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.index2=0;a.index=0;a.q12=0;a.q22=0;a.q21=0;a.q13=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.movz=0;a.trel=0;a.q9=0;a.rott=0;a.vol__=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.trel_=0;a.vx=0;a.dec_slow=0;a.q11=0;a.q10=0;a.vy=0;a.q4=0;a.dir=0;a.dir_=0;a.p2=0;a.avg=0;a.trig=0;a.beat=0;a.vol=0;a.p1=0;a.peak=0;a.dec_fast=0;a.q2=0;a.q27=0;a.q3=0;a.t0=0;a.vol_=0;a.q7=0;a.q28=0;a.q20=0;a.q8=0;a.step=0;", frame_eqs_str: "a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.96,div(30,a.fps));a.dec_fast=pow(.6,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,0+a.avg+a.peak)*above(a.time,a.t0+.1);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,16);a.index2=mod(a.index2+a.is_beat*bnot(a.index),8);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q24=a.is_beat;\na.vol=a.bass_att+a.mid_att+a.treb_att;a.vol_=a.dec_med*a.vol_+(1-a.dec_med)*a.vol;a.vol__=a.dec_med*a.vol__+(1-a.dec_med)*a.vol_;a.q27=a.index+1;a.q28=a.index2+1;a.q23=a.q22-div(.1,a.q22);a.q23=Math.max(a.q23,1);a.k1=a.is_beat*equal(mod(a.index,8),0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_fast*a.p2+(1-a.dec_fast)*a.p1;a.rott=div(3.1416*a.p2,4);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.trig=a.q24*bnot(mod(a.index,2));a.vx=a.vx*bnot(a.trig)+a.trig*(div(Math.floor(randint(100)),\n100)-.5);a.vy=a.vy*bnot(a.trig)+a.trig*(div(Math.floor(randint(100)),100)-.5);a.q10=.2+a.vy*a.vy*2;a.q11=div(Math.sin(div(a.time,9)),2)+.4;a.movz-=div(1,a.fps)*(.3+a.vx);a.q9=a.movz;a.q12=2*Math.min(a.q22,6);a.q13=Math.min(2,1+Math.abs(8*a.vy*a.vx));a.dir_=a.bass-1;a.trig=bnot(mod(a.index,4))*a.q24;a.dir=bnot(a.trig)*a.dir+a.trig*(Math.floor(randint(10))-5);a.trel+=div(.1,a.fps)*a.dir;a.trel_=a.dec_med*a.trel_+(1-a.dec_med)*a.trel;a.q5=Math.cos(a.trel_);a.q6=Math.sin(a.trel_+0*a.q27*mod(a.q28,2));\na.q7=-a.q6;a.q8=a.q5;a.zoom=1.02;a.rot=.5*Math.sin(bnot(mod(a.q28,2))*a.q28);a.rot=0*Math.sin(div(a.time,3));a.dx=0;a.monitor=a.q11;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1 = ((uv * texsize.xy) * 0.08);\n  vec3 tmpvar_2;\n  tmpvar_2 = (texture (sampler_main, (uv - (\n    ((sin(tmpvar_1) / cos(tmpvar_1)) * texsize.zw)\n   * 3.0))).xyz + (vec3(dot (texture (sampler_noise_lq, \n    ((((texsize.xy * texsize_noise_lq.zw).x * uv) * 0.02) + (0.1 * rand_frame).xy)\n  ), vec4(0.32, 0.49, 0.29, 0.0))) / 30.0));\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = ((mix (tmpvar_2, \n    (1.0 - tmpvar_2.zyx)\n  , vec3(0.01, 0.01, 0.01)) - 0.03) - (0.2 * pow (\n    (1.0 - rad)\n  , 18.0)));\n  ret = tmpvar_3.xyz;\n }", comp: "vec3 xlat_mutableneu;\nvec2 xlat_mutablers0;\nvec2 xlat_mutablerss;\nvec2 xlat_mutableuv2;\n shader_body { \n  vec2 uv_1;\n  vec2 ofs_2;\n  vec3 ret1_3;\n  uv_1 = ((uv - 0.5) * aspect.xy);\n  vec2 tmpvar_4;\n  tmpvar_4.x = q5;\n  tmpvar_4.y = q6;\n  uv_1 = (uv_1 + (tmpvar_4 / 4.0));\n  mat2 tmpvar_5;\n  tmpvar_5[uint(0)] = _qb.xy;\n  tmpvar_5[1u] = _qb.zw;\n  uv_1 = (uv_1 * tmpvar_5);\n  float tmpvar_6;\n  float tmpvar_7;\n  tmpvar_7 = (min (abs(\n    (uv_1.y / uv_1.x)\n  ), 1.0) / max (abs(\n    (uv_1.y / uv_1.x)\n  ), 1.0));\n  float tmpvar_8;\n  tmpvar_8 = (tmpvar_7 * tmpvar_7);\n  tmpvar_8 = (((\n    ((((\n      ((((-0.01213232 * tmpvar_8) + 0.05368138) * tmpvar_8) - 0.1173503)\n     * tmpvar_8) + 0.1938925) * tmpvar_8) - 0.3326756)\n   * tmpvar_8) + 0.9999793) * tmpvar_7);\n  tmpvar_8 = (tmpvar_8 + (float(\n    (abs((uv_1.y / uv_1.x)) > 1.0)\n  ) * (\n    (tmpvar_8 * -2.0)\n   + 1.570796)));\n  tmpvar_6 = (tmpvar_8 * sign((uv_1.y / uv_1.x)));\n  if ((abs(uv_1.x) > (1e-08 * abs(uv_1.y)))) {\n    if ((uv_1.x < 0.0)) {\n      if ((uv_1.y >= 0.0)) {\n        tmpvar_6 += 3.141593;\n      } else {\n        tmpvar_6 = (tmpvar_6 - 3.141593);\n      };\n    };\n  } else {\n    tmpvar_6 = (sign(uv_1.y) * 1.570796);\n  };\n  xlat_mutablers0.x = (((tmpvar_6 / 3.1416) * 6.0) * q28);\n  xlat_mutablers0.y = inversesqrt(dot (uv_1, uv_1));\n  vec2 tmpvar_9;\n  tmpvar_9.x = (xlat_mutablers0.x + (q9 * 8.0));\n  tmpvar_9.y = (xlat_mutablers0.y + ((q9 * q28) * 4.0));\n  xlat_mutablerss = (tmpvar_9 / 12.0);\n  vec2 tmpvar_10;\n  tmpvar_10.x = q5;\n  tmpvar_10.y = q6;\n  ofs_2 = (0.1 * tmpvar_10.yx);\n  float tmpvar_11;\n  float tmpvar_12;\n  tmpvar_12 = -(q9);\n  tmpvar_11 = fract(tmpvar_12);\n  mat2 tmpvar_13;\n  tmpvar_13[uint(0)].x = 1.0;\n  tmpvar_13[uint(0)].y = -0.0;\n  tmpvar_13[1u].x = 0.0;\n  tmpvar_13[1u].y = 1.0;\n  xlat_mutableuv2 = ((uv_1 * (\n    (q13 * tmpvar_11)\n   * tmpvar_13)) * aspect.yx);\n  vec2 tmpvar_14;\n  tmpvar_14 = fract(((xlat_mutableuv2 + 0.5) + ofs_2));\n  xlat_mutableneu = (texture (sampler_main, tmpvar_14).xyz + ((texture (sampler_blur1, tmpvar_14).xyz * scale1) + bias1));\n  ret1_3 = max (vec3(0.0, 0.0, 0.0), ((xlat_mutableneu * \n    (1.0 - (tmpvar_11 * tmpvar_11))\n  ) * 2.0));\n  float tmpvar_15;\n  tmpvar_15 = fract((tmpvar_12 + 0.3333333));\n  mat2 tmpvar_16;\n  tmpvar_16[uint(0)].x = -0.4990803;\n  tmpvar_16[uint(0)].y = -0.8665558;\n  tmpvar_16[1u].x = 0.8665558;\n  tmpvar_16[1u].y = -0.4990803;\n  xlat_mutableuv2 = ((uv_1 * (\n    (q13 * tmpvar_15)\n   * tmpvar_16)) * aspect.yx);\n  vec2 tmpvar_17;\n  tmpvar_17 = fract(((xlat_mutableuv2 + 0.5) + ofs_2));\n  xlat_mutableneu = (texture (sampler_main, tmpvar_17).xyz + ((texture (sampler_blur1, tmpvar_17).xyz * scale1) + bias1));\n  ret1_3 = max (ret1_3, ((xlat_mutableneu * \n    (1.0 - (tmpvar_15 * tmpvar_15))\n  ) * 2.0));\n  float tmpvar_18;\n  tmpvar_18 = fract((tmpvar_12 + 0.6666667));\n  mat2 tmpvar_19;\n  tmpvar_19[uint(0)].x = -0.5018377;\n  tmpvar_19[uint(0)].y = 0.8649619;\n  tmpvar_19[1u].x = -0.8649619;\n  tmpvar_19[1u].y = -0.5018377;\n  xlat_mutableuv2 = ((uv_1 * (\n    (q13 * tmpvar_18)\n   * tmpvar_19)) * aspect.yx);\n  vec2 tmpvar_20;\n  tmpvar_20 = fract(((xlat_mutableuv2 + 0.5) + ofs_2));\n  xlat_mutableneu = (texture (sampler_main, tmpvar_20).xyz + ((texture (sampler_blur1, tmpvar_20).xyz * scale1) + bias1));\n  ret1_3 = max (ret1_3, ((xlat_mutableneu * \n    (1.0 - (tmpvar_18 * tmpvar_18))\n  ) * 2.0));\n  float tmpvar_21;\n  tmpvar_21 = fract((tmpvar_12 + 1.0));\n  mat2 tmpvar_22;\n  tmpvar_22[uint(0)].x = 0.9999949;\n  tmpvar_22[uint(0)].y = 0.003185092;\n  tmpvar_22[1u].x = -0.003185092;\n  tmpvar_22[1u].y = 0.9999949;\n  xlat_mutableuv2 = ((uv_1 * (\n    (q13 * tmpvar_21)\n   * tmpvar_22)) * aspect.yx);\n  vec2 tmpvar_23;\n  tmpvar_23 = fract(((xlat_mutableuv2 + 0.5) + ofs_2));\n  xlat_mutableneu = (texture (sampler_main, tmpvar_23).xyz + ((texture (sampler_blur1, tmpvar_23).xyz * scale1) + bias1));\n  ret1_3 = max (ret1_3, ((xlat_mutableneu * \n    (1.0 - (tmpvar_21 * tmpvar_21))\n  ) * 2.0));\n  vec2 tmpvar_24;\n  tmpvar_24.x = (ret1_3.x + ret1_3.z);\n  tmpvar_24.y = (ret1_3.x - ret1_3.y);\n  vec4 tmpvar_25;\n  tmpvar_25.w = 1.0;\n  tmpvar_25.xyz = ((ret1_3 + (\n    ((bass_att * 0.004) / sqrt(dot (uv_1, uv_1)))\n   * roam_sin).xyz) + ((2.0 * \n    (bass_att * ((texture (sampler_blur1, fract(\n      (xlat_mutablerss + (tmpvar_24 / 2.0))\n    )).xyz * scale1) + bias1).zxy)\n  ) * clamp (\n    (1.0 - (ret1_3 * 4.0))\n  , 0.0, 1.0)));\n  ret = tmpvar_25.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1.14, decay: 1, echo_zoom: 1, wave_mode: 6, wave_thick: 1, wave_brighten: 0, wrap: 0, darken: 1, wave_a: 1.17, wave_scale: 0.797, wave_smoothing: 0, modwavealphastart: 0.71, modwavealphaend: 1.3, warpscale: 1.331, zoomexp: 0.9995, zoom: 0.9998, rot: 0.02, dy: -8e-3, warp: 0.01, sx: 1.0098, wave_r: 0.5, wave_g: 0.5, wave_b: 0.5, wave_x: 0.9, ob_size: 5e-3, ob_a: 0.8, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 1, mv_x: 44.8, mv_y: 38.4, mv_l: 5, mv_g: 0.91, mv_b: 0.71, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.q12=0;a.q18=0;a.q6=0;a.bass_thresh=0;a.wg=0;a.q11=0;a.q10=0;a.wb=0;a.q17=0;a.vol=0;a.q2=0;a.q3=0;a.wr=0;a.q7=0;a.q8=0;", frame_eqs_str: "a.wave_r+=.3*Math.sin(50*a.vol);a.wave_b+=.3*Math.sin(20*a.vol);a.wave_g+=.5*Math.sin(35*a.vol);a.q8=a.wave_r;a.q7=a.wave_b;a.q6=a.wave_g;a.wr=.5+.4*(.6*Math.sin(1.1*a.time)+.4*Math.sin(.8*a.time));a.wb=.5+.4*(.6*Math.sin(1.6*a.time)+.4*Math.sin(.5*a.time));a.wg=.5+.4*(.6*Math.sin(1.34*a.time)+.4*Math.sin(.4*a.time));a.monitor=a.wg;a.q10=a.wr;a.q11=a.wb;a.q12=a.wg;a.q18=.007*Math.sin(.1*a.time);a.q17=-.007*Math.sin(.254*a.time);a.q2=a.bass_thresh;a.vol=.25*(a.bass+a.mid+a.treb);\na.vol*=a.vol;a.q3=a.vol;a.warp=0;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec3 noise3_1;\n  vec3 tmpvar_2;\n  tmpvar_2 = (texture (sampler_main, uv).xyz + ((texture (sampler_blur1, uv).xyz * scale1) + bias1));\n  vec2 tmpvar_3;\n  tmpvar_3 = (0.5 + ((\n    (uv - vec2(0.0, 1.0))\n   - 0.5) * (1.0 + \n    (tmpvar_2.y * 0.03)\n  )));\n  vec2 tmpvar_4;\n  tmpvar_4.x = (tmpvar_3.x + pow (tmpvar_2.x, 0.0));\n  tmpvar_4.y = (tmpvar_3.y + pow (tmpvar_2.x, 0.005));\n  noise3_1 = (texture (sampler_noise_lq, ((\n    (uv_orig * texsize.xy)\n   * texsize_noise_lq.zw) + rand_frame.xy)).xyz * fract(q15));\n  vec3 tmpvar_5;\n  tmpvar_5 = (noise3_1 * (vec3(1.0, 1.0, 1.0) - vec3(fract(\n    (q3 * 0.5)\n  ))));\n  noise3_1 = tmpvar_5;\n  vec4 tmpvar_6;\n  tmpvar_6 = texture (sampler_main, fract(tmpvar_4));\n  vec3 tmpvar_7;\n  tmpvar_7.x = q10;\n  tmpvar_7.y = q11;\n  tmpvar_7.z = q12;\n  vec3 tmpvar_8;\n  tmpvar_8 = mix (tmpvar_5, tmpvar_7, tmpvar_6.xxx);\n  vec4 tmpvar_9;\n  tmpvar_9.w = 1.0;\n  tmpvar_9.xyz = (tmpvar_6.xyz + clamp ((\n    (tmpvar_6.yzx * tmpvar_8.zxy)\n   - \n    (tmpvar_6.zxy * tmpvar_8.yzx)\n  ), 0.0, 1.0));\n  ret = tmpvar_9.xyz;\n }", comp: " shader_body { \n  vec2 uv1_1;\n  vec2 tmpvar_2;\n  tmpvar_2.y = 0.0;\n  tmpvar_2.x = texsize.z;\n  vec2 tmpvar_3;\n  tmpvar_3.x = 0.0;\n  tmpvar_3.y = texsize.w;\n  vec2 tmpvar_4;\n  tmpvar_4.x = (texture (sampler_main, (uv - tmpvar_2)).xyz - texture (sampler_main, (uv + tmpvar_2)).xyz).x;\n  tmpvar_4.y = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;\n  uv1_1 = ((0.3 * cos(\n    ((uv - 0.5) * 2.0)\n  )) - tmpvar_4);\n  float tmpvar_5;\n  tmpvar_5 = clamp ((0.04 / sqrt(\n    dot (uv1_1, uv1_1)\n  )), 0.0, 1.0);\n  uv1_1 = ((0.3 * cos(\n    (uv1_1 * 12.0)\n  )) - (9.0 * tmpvar_4));\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = (tmpvar_5 + ((texture (sampler_main, uv).xyz * 12.0) * vec3(clamp (\n    (0.04 / sqrt(dot (uv1_1, uv1_1)))\n  , 0.0, 1.0))));\n  ret = tmpvar_6.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1.14, decay: 1, echo_zoom: 1, wave_mode: 1, wave_thick: 1, modwavealphabyvolume: 1, wave_brighten: 0, wrap: 0, darken: 1, wave_a: 1e-3, wave_scale: 0.179, wave_smoothing: 0, wave_mystery: 0.3, modwavealphastart: 0.71, modwavealphaend: 1.3, warpscale: 1.331, zoomexp: 0.8195, zoom: 1.0697, dy: 6e-3, warp: 0.01, sx: 0.9996, wave_g: 0, wave_b: 0, ob_a: 0.8, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 1, mv_x: 0, mv_y: 0, mv_l: 1, mv_g: 0.91, mv_b: 0.71, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.q12=0;a.q18=0;a.q6=0;a.q5=0;a.bass_thresh=0;a.wg=0;a.q11=0;a.q10=0;a.wb=0;a.q17=0;a.vol=0;a.q2=0;a.q3=0;a.wr=0;a.q7=0;a.mtime=0;a.q8=0;", frame_eqs_str: "a.bass_thresh=2*above(a.bass_att,a.bass_thresh)+(1-above(a.bass_att,a.bass_thresh))*(.91*(a.bass_thresh-1.3)+1.3);a.wave_r=.5+.5*(.6*Math.sin(1.3*a.time)+.4*Math.sin(.98*a.time));a.wave_b=.5+.5*(.6*Math.sin(1.1*a.time)+.4*Math.sin(.78*a.time));a.wave_g=.5+.5*(.6*Math.sin(1.2*a.time)+.4*Math.sin(.6*a.time));a.q8=a.wave_r;a.q7=a.wave_b;a.q6=a.wave_g;a.wr=.5+.4*(.6*Math.sin(.2*a.time)+.4*Math.sin(.8*a.time));a.wb=.5+.4*(.6*Math.sin(.377*a.time)+.4*Math.sin(.5*a.time));a.wg=.5+\n.4*(.6*Math.sin(.7*a.time)+.4*Math.sin(.4*a.time));a.q10=a.wr;a.q11=a.wb;a.q12=a.wg;a.q10=.8;a.q11=.2;a.q12=.1;a.q18=.01*Math.sin(.1*a.mtime);a.q17=-.01*Math.sin(.254*a.mtime);a.q2=a.bass_thresh;a.vol=.25*(a.bass+a.mid+a.treb);a.vol*=a.vol;a.q3=a.vol;a.q5=.5*a.vol;a.mtime+=.01*a.vol;a.q2=.25*a.mtime;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec3 noise2_1;\n  vec3 ret_2;\n  vec3 tmpvar_3;\n  tmpvar_3 = (((texture (sampler_blur1, uv).xyz * scale1) + bias1) + texture (sampler_main, uv).xyz);\n  vec2 tmpvar_4;\n  tmpvar_4 = (0.5 + ((uv - 0.5) * (1.0 + \n    (tmpvar_3.y * 0.05)\n  )));\n  vec2 tmpvar_5;\n  tmpvar_5.x = (tmpvar_4.x + pow (tmpvar_3.x, q17));\n  tmpvar_5.y = (tmpvar_4.y + pow (tmpvar_3.x, q18));\n  vec4 tmpvar_6;\n  tmpvar_6 = texture (sampler_fc_main, fract(tmpvar_5));\n  vec3 tmpvar_7;\n  tmpvar_7.x = q10;\n  tmpvar_7.y = q11;\n  tmpvar_7.z = q12;\n  noise2_1 = (texture (sampler_noise_lq, ((\n    (uv_orig * texsize.xy)\n   * texsize_noise_lq.zw) + rand_frame.xy)).xyz + ((tmpvar_7 * vec3(rad)) * vol));\n  vec3 a_8;\n  a_8 = (1.0 - tmpvar_6.xyz);\n  ret_2 = (tmpvar_6.xyz + (0.3 * clamp (\n    ((a_8.yzx * noise2_1.zxy) - (a_8.zxy * noise2_1.yzx))\n  , 0.0, 1.0)));\n  ret_2 = (ret_2 * 0.97);\n  vec4 tmpvar_9;\n  tmpvar_9.w = 1.0;\n  tmpvar_9.xyz = ret_2;\n  ret = tmpvar_9.xyz;\n }", comp: " shader_body { \n  vec3 ret_1;\n  ret_1 = (texture (sampler_main, uv).xyz * vec3(0.9, 0.3, 0.5));\n  ret_1 = (ret_1 * 1.34);\n  ret_1 = (ret_1 * ret_1);\n  vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = ret_1;\n  ret = tmpvar_2.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.28, decay: 0.8, echo_zoom: 1, echo_orient: 3, wave_mode: 7, additivewave: 1, modwavealphabyvolume: 1, wave_brighten: 0, brighten: 1, wave_a: 1e-3, wave_scale: 1.286, wave_smoothing: 0.63, modwavealphastart: 0.71, modwavealphaend: 1.3, zoomexp: 3.04777, zoom: 1.0173, warp: 0.01605, wave_g: 0.65, wave_b: 0.65, ob_size: 0, ob_a: 1, mv_x: 64, mv_y: 48, mv_l: 0, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, thick: 1, additive: 1, g: 0, b: 0}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;", frame_eqs_str: "", point_eqs_str: "a.ma+=3.1415*above(a.bass,1)*.01*a.bass;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0002*Math.cos(a.ma);a.my+=.0002*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.8);"}, {baseVals: {enabled: 1, thick: 1, additive: 1, r: 0, g: 0}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;", frame_eqs_str: "", point_eqs_str: "a.ma+=3.1415*above(a.bass,1)*.05*a.bass;a.ma-=3.1415*above(a.mid,1)*.05*a.mid;a.mx+=.0001*Math.cos(a.ma);a.my+=.0001*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.1);"}, {baseVals: {enabled: 1, thick: 1, additive: 1, r: 0, b: 0}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;", frame_eqs_str: "", point_eqs_str: "a.ma+=3.1415*above(a.mid,1)*.01*a.mid;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0004*Math.cos(a.ma);a.my+=.0004*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.3);"}, {baseVals: {enabled: 1, thick: 1, additive: 1, g: 0}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;", frame_eqs_str: "", point_eqs_str: "a.ma+=3.1415*above(a.bass,.5)*.02*a.bass;a.ma-=3.1415*above(a.treb,.5)*.02*a.treb;a.mx+=.0008*Math.cos(a.ma);a.my+=.0008*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.2);"}], init_eqs_str: "a.z=0;a.w=0;a.d_x=0;a.q25=0;a.index=0;a.q12=0;a.q18=0;a.q13=0;a.q15=0;a.q29=0;a.dt=0;a.q1=0;a.dec_med=0;a.dm=0;a.mm=0;a.tt=0;a.is_beat=0;a.q31=0;a.q23=0;a.q24=0;a.dec_slow=0;a.q11=0;a.q16=0;a.q26=0;a.avg=0;a.r=0;a.db=0;a.beat=0;a.q17=0;a.d_y=0;a.peak=0;a.bb=0;a.q27=0;a.q14=0;a.t0=0;a.q32=0;a.q28=0;a.q30=0;", frame_eqs_str: "a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.5+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,2);a.d_x=.00001<Math.abs(a.is_beat)?.001*(randint(2E3)-1E3):a.d_x;a.d_y=.00001<Math.abs(a.is_beat)?.001*(randint(2E3)-1E3):a.d_y;a.r=\n.00001<Math.abs(a.is_beat)?.001*(randint(2E3)-1E3):a.r;a.z=.00001<Math.abs(a.is_beat)?.001*randint(1E3):a.z;a.zoom=1.03+.06*a.z;a.rot=.06*a.r;a.dx=.01*a.d_x;a.dy=.01*a.d_y;a.q1=1;a.q23=div(randint(1E3),1E3);a.q24=div(randint(1E3),1E3);a.q25=6.28*div(randint(1E3),1E3);a.q26=a.q25-3.14;a.q27=div(randint(1E3),12E3)+.04;a.q28=div(randint(1E3),1E3);a.q29=div(randint(1E3),1E3);a.q30=6.28*div(randint(1E3),1E3);a.q31=a.q30-3.14;a.q32=div(randint(1E3),14E3)+.04;a.db=.98*a.db+.2*a.bass;a.bb+=.1*a.db;a.dt=.98*\na.dt+.2*a.treb;a.tt+=.1*a.dt;a.dm=.98*a.dm+.2*a.mid;a.mm+=.1*a.dm;a.w=.1*(a.bb-a.tt);a.q11=Math.sin(a.w);a.q12=Math.cos(a.w);a.q13=.5+.25*Math.sin(.1*(a.bb-a.mm));a.q14=.5+.25*Math.sin(.1*(a.tt-a.mm));a.q15=4;a.q16=.06;a.q17=Math.sin(-a.w);a.q18=Math.cos(-a.w);", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (texsize.zw * 8.0);\n  vec3 tmpvar_3;\n  tmpvar_3 = (((texture (sampler_blur1, \n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_4;\n  tmpvar_4 = (((texture (sampler_blur1, \n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec2 tmpvar_5;\n  tmpvar_5.x = tmpvar_3.x;\n  tmpvar_5.y = tmpvar_4.x;\n  vec2 tmpvar_6;\n  vec2 tmpvar_7;\n  tmpvar_7 = mix (uv_orig, uv, vec2(0.1, 0.1));\n  tmpvar_6 = (tmpvar_7 + ((tmpvar_5 * texsize.zw) * 2.0));\n  vec2 tmpvar_8;\n  tmpvar_8.x = tmpvar_3.y;\n  tmpvar_8.y = tmpvar_4.y;\n  vec2 tmpvar_9;\n  tmpvar_9 = (mix (uv_orig, uv, vec2(0.3, 0.3)) + ((tmpvar_8 * texsize.zw) * 2.0));\n  vec2 tmpvar_10;\n  tmpvar_10.x = tmpvar_3.z;\n  tmpvar_10.y = tmpvar_4.z;\n  vec2 tmpvar_11;\n  tmpvar_11 = (tmpvar_7 + ((tmpvar_10 * texsize.zw) * 2.0));\n  ret_1.x = (texture (sampler_main, tmpvar_6).x - ((texture (sampler_main, tmpvar_6).xyz - \n    ((texture (sampler_blur3, tmpvar_6).xyz * scale3) + bias3)\n  ).x * 0.01));\n  ret_1.y = (texture (sampler_main, tmpvar_9).y - ((texture (sampler_main, tmpvar_9).xyz - \n    ((texture (sampler_blur3, tmpvar_9).xyz * scale3) + bias3)\n  ).y * 0.01));\n  ret_1.z = (texture (sampler_main, tmpvar_11).z - ((texture (sampler_main, tmpvar_11).xyz - \n    ((texture (sampler_blur3, tmpvar_11).xyz * scale3) + bias3)\n  ).z * 0.01));\n  ret_1 = (ret_1 + (-0.004 + (\n    (texture (sampler_noise_lq, (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.2)) + rand_frame.xy)).xyz - 0.5)\n   * 0.1)));\n  vec4 tmpvar_12;\n  tmpvar_12.w = 1.0;\n  tmpvar_12.xyz = ret_1;\n  ret = tmpvar_12.xyz;\n }", comp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (texsize.zw * 8.0);\n  vec3 tmpvar_3;\n  tmpvar_3 = (((texture (sampler_blur1, \n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_4;\n  tmpvar_4 = (((texture (sampler_blur1, \n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec2 tmpvar_5;\n  tmpvar_5.x = tmpvar_3.z;\n  tmpvar_5.y = tmpvar_4.z;\n  vec2 tmpvar_6;\n  tmpvar_6.x = tmpvar_3.y;\n  tmpvar_6.y = tmpvar_4.y;\n  ret_1 = (mix (vec3(0.2, 0.0, 0.1), vec3(0.8, 0.6, 0.0), texture (sampler_main, (uv - \n    (tmpvar_5 * 0.2)\n  )).yyy) * ((\n    (-(tmpvar_3.y) + tmpvar_4.y)\n   + 1.0) + (\n    (-(tmpvar_3.z) + tmpvar_4.z)\n   * 2.0)));\n  vec3 tmpvar_7;\n  tmpvar_7 = mix (mix (ret_1, vec3(0.3, 0.0, 0.8), vec3((\n    ((texture (sampler_blur1, (uv - (tmpvar_6 * 0.04))).xyz * scale1) + bias1)\n  .x * 1.4))), vec3(1.0, 0.9, 0.4), texture (sampler_main, uv).zzz);\n  ret_1 = tmpvar_7;\n  vec4 tmpvar_8;\n  tmpvar_8.w = 1.0;\n  tmpvar_8.xyz = tmpvar_7;\n  ret = tmpvar_8.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 1, gammaadj: 1, decay: 1, echo_zoom: 1, wrap: 0, darken_center: 1, brighten: 1, darken: 1, wave_a: 1e-3, warpanimspeed: 0.141, warpscale: 14.497, zoom: 0.99951, warp: 0.75055, wave_r: 0, wave_g: 0, wave_b: 0, ob_size: 0.5, ob_r: 0.01, ib_size: 0.26, mv_a: 0}, shapes: [{baseVals: {enabled: 1, sides: 6, rad: 0.17809, ang: 0.26, tex_zoom: 0.39711, g: 0.7, b: 0.6, r2: 0.4, g2: 0, a2: 1, border_a: 0}, init_eqs_str: "a.q3=0;", frame_eqs_str: "a.x=.11+.22*randint(5);a.y=.1+.16*mod(2*a.time,6);a.b=.6+.3*a.q3;a.g=.7+.2*a.q3;a.r=.7;a.g2=.3*a.g;a.r2=.3*a.r;a.b2=.3*a.b;"}, {baseVals: {enabled: 1, sides: 6, additive: 1, rad: 0.17809, ang: 0.26, tex_zoom: 0.99999, g: 1, b: 0.4, a: 0.5, r2: 0.2, g2: 0, b2: 0.3, a2: 0.6, border_r: 0, border_g: 0, border_b: 0, border_a: 0}, init_eqs_str: "a.q3=0;", frame_eqs_str: "a.x=.11+.22*randint(5);a.y=.1+.16*mod(2*a.time,6);a.b=.6+.3*a.q3;a.g=.7+.2*a.q3;a.r=.7;a.g2=.3*a.g;a.r2=.3*a.r;a.b2=.3*a.b;"}, {baseVals: {enabled: 1, sides: 6, textured: 1, rad: 0.17633, ang: 0.26, tex_zoom: 1.19615, r2: 1, b2: 1, a2: 0.2, border_r: 0, border_g: 0, border_b: 0, border_a: 0.2}, init_eqs_str: "a.q3=0;a.q4=0;a.q5=0;a.q1=0;", frame_eqs_str: "a.x=.22*randint(6);a.y=.18+.16*mod(2*a.time,5);a.g=1.5*a.q3;a.r=1.3*a.q4;a.b=1.7*a.q5;a.tex_ang=-a.q1;a.tex_zoom=2+Math.sin(a.q1);"}, {baseVals: {enabled: 1, sides: 6, textured: 1, rad: 0.16284, ang: 0.26, r2: 0.8, g2: 0.8, b2: 0.8, a2: 0.2, border_r: 0, border_g: 0, border_b: 0, border_a: 0.2}, init_eqs_str: "a.q3=0;a.q2=0;a.q1=0;", frame_eqs_str: "a.x=.11+.22*randint(5);a.y=.1+.16*mod(2*a.time,6);a.r=.3*a.q3;a.b=.2*a.q2;a.g=.1*a.q1;a.tex_ang=a.q1;a.tex_zoom=2+1.2*Math.sin(1.5*a.q1);"}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.y3=0;a.y1=0;a.q12=0;a.w2=0;a.ref_ang=0;a.x1=0;a.vx3=0;a.q13=0;a.q6=0;a.q1=0;a.q5=0;a.q9=0;a.vx1=0;a.vx4=0;a.x3=0;a.q11=0;a.q10=0;a.q4=0;a.vy4=0;a.bounce=0;a.x4=0;a.w1=0;a.r=0;a.x2=0;a.vy2=0;a.y2=0;a.vy1=0;a.q2=0;a.q14=0;a.v1=0;a.vx2=0;a.q3=0;a.y4=0;a.q7=0;a.vy3=0;a.v2=0;a.q8=0;a.x1=.5;a.x2=.51;a.y2=1;a.y1=.7;a.x3=.8;a.y3=.5;a.x4=.2;a.y4=.5;a.ax1=0;a.ay1=0;a.ax2=0;a.ay2=0;a.ax3=0;a.ay3=0;a.vx1=0;a.vx2=0;", frame_eqs_str: "a.sx=1+.01*mod(8*a.bass,8)*equal(mod(a.time,Math.floor(24-2*a.bass)),0);a.sy=1+.01*mod(8*a.mid,8)*equal(mod(a.time,12+Math.floor(24-2*a.bass)),0);a.zoom=.99;a.wave_a=0;a.r=.12+.004*Math.max(a.bass_att,a.treb_att);a.bounce=below(a.y1,a.r);a.y1+=a.vy1;a.vy1=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vy1)+.1*(a.r-a.y1):a.vy1-div(.0036,a.fps);a.bounce=below(a.x1,a.r);a.x1+=a.vx1;a.vx1=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vx1)+.1*(a.r-a.x1):a.vx1;a.bounce=above(a.x1,1-a.r);a.vx1=\n.00001<Math.abs(a.bounce)?.94*-Math.abs(a.vx1)+.04*(1-a.r-a.x1):a.vx1;a.bounce=below(a.y2,a.r);a.y2+=a.vy2;a.vy2=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vy2)+.1*(a.r-a.y2):a.vy2-div(.0036,a.fps);a.bounce=below(a.x2,a.r);a.x2+=a.vx2;a.vx2=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vx2)+.1*(a.r-a.x2):a.vx2;a.bounce=above(a.x2,1-a.r);a.vx2=.00001<Math.abs(a.bounce)?.94*-Math.abs(a.vx2)+.1*(1-a.r-a.x2):a.vx2;a.bounce=below(a.y3,a.r);a.y3+=a.vy3;a.vy3=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vy3)+.1*(a.r-\na.y3):a.vy3-div(.0036,a.fps);a.bounce=below(a.x3,a.r);a.x3+=a.vx3;a.vx3=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vx3)+.1*(a.r-a.x3):a.vx3;a.bounce=above(a.x3,1-a.r);a.vx3=.00001<Math.abs(a.bounce)?.94*-Math.abs(a.vx3)+.1*(1-a.r-a.x3):a.vx3;a.bounce=below(a.y4,a.r);a.y4+=a.vy4;a.vy4=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vy4)+.1*(a.r-a.y4):a.vy4-div(.0036,a.fps);a.bounce=below(a.x4,a.r);a.x4+=a.vx4;a.vx4=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vx4)+.1*(a.r-a.x4):a.vx4;a.bounce=above(a.x4,1-a.r);\na.vx4=.00001<Math.abs(a.bounce)?.94*-Math.abs(a.vx4)+.1*(1-a.r-a.x4):a.vx4;a.bounce=below(sqrt(sqr(a.x1+a.vx1-a.x2-a.vx2)+sqr(a.y1+a.vy1-a.y2-a.vy2)),2*a.r);a.ref_ang=Math.atan2(a.x2-a.x1,a.y2-a.y1)+Math.asin(1);a.v1=sqrt(a.vx1*a.vx1+a.vy1*a.vy1);a.v2=sqrt(a.vx2*a.vx2+a.vy2*a.vy2);a.w1=Math.atan2(a.vx1,a.vy1);a.w2=Math.atan2(a.vx2,a.vy2);a.vx1=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx1;\na.vy1=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy1;a.vx2=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy2;a.bounce=\nbelow(sqrt(sqr(a.x1+a.vx1-a.x3-a.vx3)+sqr(a.y1+a.vy1-a.y3-a.vy3)),2*a.r);a.ref_ang=Math.atan2(a.x3-a.x1,a.y3-a.y1)+Math.asin(1);a.v1=sqrt(a.vx1*a.vx1+a.vy1*a.vy1);a.v2=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);a.w1=Math.atan2(a.vx1,a.vy1);a.w2=Math.atan2(a.vx3,a.vy3);a.vx1=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+\nMath.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy1;a.vx3=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx3;a.vy3=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy3;a.bounce=below(sqrt(sqr(a.x2+a.vx2-a.x3-a.vx3)+sqr(a.y2+a.vy2-a.y3-a.vy3)),2*a.r);a.ref_ang=\nMath.atan2(a.x3-a.x2,a.y3-a.y2)+Math.asin(1);a.v1=sqrt(a.vx2*a.vx2+a.vy2*a.vy2);a.v2=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);a.w1=Math.atan2(a.vx2,a.vy2);a.w2=Math.atan2(a.vx3,a.vy3);a.vx2=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy2;\na.vx3=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx3;a.vy3=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy3;a.bounce=below(sqrt(sqr(a.x1+a.vx1-a.x4-a.vx4)+sqr(a.y1+a.vy1-a.y4-a.vy4)),2*a.r);a.ref_ang=Math.atan2(a.x4-a.x1,a.y4-a.y1)+Math.asin(1);a.v1=sqrt(a.vx1*a.vx1+a.vy1*a.vy1);a.v2=\nsqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.w1=Math.atan2(a.vx1,a.vy1);a.w2=Math.atan2(a.vx4,a.vy4);a.vx1=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy1;a.vx4=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+\nMath.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx4;a.vy4=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy4;a.bounce=below(sqrt(sqr(a.x2+a.vx2-a.x4-a.vx4)+sqr(a.y2+a.vy2-a.y4-a.vy4)),2*a.r);a.ref_ang=Math.atan2(a.x4-a.x2,a.y4-a.y2)+Math.asin(1);a.v1=sqrt(a.vx2*a.vx2+a.vy2*a.vy2);a.v2=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.w1=Math.atan2(a.vx2,a.vy2);a.w2=Math.atan2(a.vx4,a.vy4);a.vx2=.00001<\nMath.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy2;a.vx4=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx4;a.vy4=.00001<Math.abs(a.bounce)?\nMath.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy4;a.bounce=below(sqrt(sqr(a.x3+a.vx3-a.x4-a.vx4)+sqr(a.y3+a.vy3-a.y4-a.vy4)),2*a.r);a.ref_ang=Math.atan2(a.x4-a.x3,a.y4-a.y3)+Math.asin(1);a.v1=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);a.v2=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.w1=Math.atan2(a.vx3,a.vy3);a.w2=Math.atan2(a.vx4,a.vy4);a.vx3=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*\na.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx3;a.vy3=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy3;a.vx4=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx4;a.vy4=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-\na.ref_ang-Math.asin(1)):a.vy4;a.q1=a.aspectx;a.q2=a.aspecty;a.q3=a.x1;a.q4=a.y1;a.q5=a.r;a.q6=a.x2;a.q7=a.y2;a.q8=a.r;a.q9=a.x3;a.q10=a.y3;a.q11=a.r;a.q12=a.x4;a.q13=a.y4;a.q14=a.r;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec3 ret_1;\n  ret_1.z = (texture (sampler_main, uv).z * 0.5);\n  vec2 tmpvar_2;\n  tmpvar_2 = ((uv_orig * texsize.xy) * texsize_noise_lq.zw);\n  vec2 tmpvar_3;\n  tmpvar_3 = (texsize.zw * 4.0);\n  vec2 tmpvar_4;\n  tmpvar_4.x = (((2.0 * \n    ((texture (sampler_blur1, (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\n  )).y * 0.5);\n  tmpvar_4.y = (((2.0 * \n    ((texture (sampler_blur1, (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\n  )).y * 0.5);\n  ret_1.y = texture (sampler_fw_main, clamp ((uv_orig + (\n    (tmpvar_4 * texsize.zw)\n   * 4.0)), 0.0, 1.0)).y;\n  ret_1.y = (ret_1.y + ((\n    (ret_1 - ((texture (sampler_blur1, uv_orig).xyz * scale1) + bias1))\n  .y * 0.025) + -0.014));\n  ret_1.y = (ret_1.y + ((texture (sampler_noise_lq, tmpvar_2).y - 0.5) * 0.02));\n  vec2 tmpvar_5;\n  tmpvar_5.x = (((2.0 * \n    ((texture (sampler_blur1, (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\n  )).x * 0.5);\n  tmpvar_5.y = (((2.0 * \n    ((texture (sampler_blur1, (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\n  )).x * 0.5);\n  ret_1.x = ((texture (sampler_main, (uv - \n    ((tmpvar_5 * texsize.zw) * 4.0)\n  )).x - (ret_1.y * 0.01)) + 0.004);\n  ret_1.x = (ret_1.x + ((\n    (texture (sampler_noise_lq, tmpvar_2).x - 0.5)\n   * 0.01) + (ret_1.z * 0.14)));\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = ret_1;\n  ret = tmpvar_6.xyz;\n }", comp: " shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1.x = q3;\n  tmpvar_1.y = q4;\n  vec2 tmpvar_2;\n  tmpvar_2.x = q6;\n  tmpvar_2.y = q7;\n  vec2 tmpvar_3;\n  tmpvar_3.x = q9;\n  tmpvar_3.y = q10;\n  vec2 tmpvar_4;\n  tmpvar_4.x = q12;\n  tmpvar_4.y = q13;\n  vec2 tmpvar_5;\n  tmpvar_5 = (texsize.zw * 1.2);\n  vec3 tmpvar_6;\n  tmpvar_6 = (texture (sampler_main, (uv + (vec2(1.0, 0.0) * tmpvar_5))).xyz - texture (sampler_main, (uv - (vec2(1.0, 0.0) * tmpvar_5))).xyz);\n  vec3 tmpvar_7;\n  tmpvar_7 = (texture (sampler_main, (uv + (vec2(0.0, 1.0) * tmpvar_5))).xyz - texture (sampler_main, (uv - (vec2(0.0, 1.0) * tmpvar_5))).xyz);\n  vec2 tmpvar_8;\n  tmpvar_8.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\n  tmpvar_8.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\n  vec2 x_9;\n  x_9 = ((uv - (tmpvar_8 * 8.0)) - (1.0 - tmpvar_1));\n  vec2 tmpvar_10;\n  tmpvar_10.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\n  tmpvar_10.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\n  vec2 x_11;\n  x_11 = ((uv - (tmpvar_10 * 8.0)) - (1.0 - tmpvar_2));\n  vec2 tmpvar_12;\n  tmpvar_12.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\n  tmpvar_12.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\n  vec2 x_13;\n  x_13 = ((uv - (tmpvar_12 * 8.0)) - (1.0 - tmpvar_3));\n  vec2 tmpvar_14;\n  tmpvar_14.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\n  tmpvar_14.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\n  vec2 x_15;\n  x_15 = ((uv - (tmpvar_14 * 8.0)) - (1.0 - tmpvar_4));\n  vec4 tmpvar_16;\n  tmpvar_16.w = 1.0;\n  tmpvar_16.xyz = (mix (texture (sampler_main, uv).xyz, max (\n    max ((vec3((1.0 - pow (\n      sqrt(dot (x_9, x_9))\n    , 0.2))) * vec3(2.0, 1.0, -1.0)), (vec3((1.0 - pow (\n      sqrt(dot (x_11, x_11))\n    , 0.2))) * vec3(2.0, -1.0, 1.0)))\n  , \n    max ((vec3((1.0 - pow (\n      sqrt(dot (x_13, x_13))\n    , 0.2))) * vec3(-1.0, 1.0, 2.0)), (vec3((1.0 - pow (\n      sqrt(dot (x_15, x_15))\n    , 0.2))) * vec3(1.0, -1.0, 2.0)))\n  ), vec3(0.5, 0.5, 0.5)) * 1.25);\n  ret = tmpvar_16.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 0.995, echo_zoom: 1.007, echo_orient: 3, wave_mode: 7, additivewave: 1, wave_thick: 1, modwavealphabyvolume: 1, wave_brighten: 0, wrap: 0, wave_a: 1e-3, wave_scale: 0.958, wave_smoothing: 0.45, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 1.459, warpscale: 2.007, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0, wave_g: 0, wave_b: 0, ob_size: 0.05, ob_g: 0.1, ob_b: 1, ob_a: 1, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, mv_x: 25.6, mv_y: 9.6, mv_l: 0, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.look=0;a.n=0;a.reg26=0;a.w=0;a.uvx0=0;a.reg34=0;a.reg28=0;a.reg23=0;a.q25=0;a.angchg=0;a.reg20=0;a.reg15=0;a.reg10=0;a.h3=0;a.q12=0;a.v3=0;a.q18=0;a.q22=0;a.q21=0;a.diry=0;a.q13=0;a.q6=0;a.posx=0;a.fps_=0;a.reg25=0;a.bt=0;a.uvx=0;a.q1=0;a.travel=0;a.posz=0;a.q5=0;a.q9=0;a.dirz=0;a.dec_s=0;a.reg16=0;a.v=0;a.slow=0;a.reg36=0;a.mm=0;a.h2=0;a.reg22=0;a.tt=0;a.uvy=0;a.rotz=0;a.bm=0;a.ly=0;a.dist_=0;a.q23=0;a.q24=0;a.reg24=0;a.cran0=0;a.ran2=0;a.q11=0;a.q10=0;a.reg14=0;a.posy=0;\na.reg31=0;a.dirx=0;a.q4=0;a.start=0;a.reg12=0;a.reg13=0;a.c2=0;a.reg37=0;a.s3=0;a.yslope=0;a.lampy=0;a.q16=0;a.xslope=0;a.q26=0;a.reg38=0;a.reg35=0;a.reg11=0;a.mt=0;a.tx=0;a.avg=0;a.uvz=0;a.c3=0;a.uvy0=0;a.mx=0;a.reg27=0;a.mn=0;a.q19=0;a.beat=0;a.q17=0;a.reg32=0;a.lx=0;a.reg21=0;a.uvz0=0;a.len=0;a.reg18=0;a.reg30=0;a.bb=0;a.q2=0;a.q27=0;a.slen=0;a.q14=0;a.dist=0;a.h1=0;a.reg17=0;a.v1=0;a.speed=0;a.q3=0;a.s1=0;a.t0=0;a.s2=0;a.ran1=0;a.reg33=0;a.q7=0;a.ds=0;a.q28=0;a.lampx=0;a.ty=0;a.c1=0;a.v2=0;a.q20=\n0;a.q8=0;a.avg=.01;a.q7=.25;a.q8=randint(2)-1;a.q16=1+randint(2);a.q18=randint(.8)+.1;a.q30=1;a.q31=128;a.start=1;a.travel=0;a.rotz=0;a.look=0;a.slow=0;a.t0=a.time+3;a.lampx=.5;a.lampy=.5;a.cran0=randint(1);for(var b=a.n=0;1E4>b;b++)a.gmegabuf[Math.floor(a.n)]=0,a.n+=1;for(b=a.n=0;1E4>b;b++)a.megabuf[Math.floor(a.n)]=0,a.n+=1;a.trelx=0;a.trely=0;a.trelz=0;a.reg20=1;a.reg21=0;a.reg22=0;a.reg23=0;a.reg24=1;a.reg25=0;a.reg26=0;a.reg27=0;a.reg28=1;b=0;do{b+=1;var c;a.ran1=div(randint(800),100);a.ran2=\ndiv(randint(800),100);a.ran3=div(randint(800),100);a.posx=randint(5)-2;a.posy=randint(5)-2;a.posz=randint(5)-2;a.c1=Math.cos(a.ran1);a.c2=Math.cos(a.ran2);a.c3=Math.cos(a.ran3);a.s1=Math.sin(a.ran1);a.s2=Math.sin(a.ran2);a.s3=Math.sin(a.ran3);a.reg20=a.c2*a.c1;a.reg21=a.c2*a.s1;a.reg22=-a.s2;a.reg23=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg24=a.s3*a.s2*a.s1+a.c3*a.c1;a.reg25=a.s3*a.c2;a.reg26=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg27=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg28=a.c3*a.c2;a.dist=.001;var d=0;do{d+=1;a.uvx=div(a.reg26*\na.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=a.posy;a.uvz+=a.posz;a.uvx=8*(div(a.uvx,8)+30.5-Math.floor(div(a.uvx,8)+30.5)-.5);a.uvy=8*(div(a.uvy,8)+30.5-Math.floor(div(a.uvy,8)+30.5)-.5);a.uvz=8*(div(a.uvz,8)+30.5-Math.floor(div(a.uvz,8)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:\n.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>a.uvz?1:0)?-2-a.uvz:a.uvz,a.slen=a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)+a.uvx0,a.uvy=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)+a.uvy0,a.uvz=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):\na.uvz)+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.05;c=(.6>a.dist?1:0)*(30<a.len?1:0)}while(.00001<Math.abs(c)&&1048576>d);d=.06>a.dist?1:0}while(.00001<Math.abs(d)&&1048576>b);", frame_eqs_str: "a.fps_=0*a.fps_+1*(.00001<Math.abs(25>=a.fps?1:0)?a.fps:25+.5*(a.fps-25));a.dec_s=1-div(.06*30,a.fps_);a.beat=a.time>a.t0+3?1:0;a.t0=.00001<Math.abs(a.beat)?a.time:a.t0;a.speed=div(Math.min(.2,a.dist_-.02)*(1+2*a.avg)*(1-0*a.slow)*.7,a.q7);a.ds=a.ds*a.dec_s+div((1-a.dec_s)*a.speed*.25,a.fps_);a.rotz=.00001<Math.abs(.00001>Math.abs(a.rotz-0)?1:0)?a.beat*(randint(100)<20*a.travel?1:0)*(div(randint(10),10)-.3):bnot(a.beat*(30>randint(100)?1:0))*a.rotz;a.slow=.00001<Math.abs(bnot(a.slow))?\na.beat*(6>randint(1E3*a.avg)?1:0):bnot(a.beat*(50>randint(100)?1:0));a.look=.00001<Math.abs(bnot(a.look))?a.beat*(12>randint(1E3*a.speed)?1:0):bnot(a.beat*(50>randint(100)?1:0));a.lx=.00001<Math.abs(a.beat)?div(randint(150),200)+.15:a.lx;a.ly=.00001<Math.abs(a.beat)?div(randint(150),200)+.15:a.ly;a.lampx=a.lampx*a.dec_s+(1-a.dec_s)*(.00001<Math.abs(a.look)?a.lx:.5);a.lampy=a.lampy*a.dec_s+(1-a.dec_s)*(.00001<Math.abs(a.look)?a.ly:.5);a.q1=a.lampx;a.q2=a.lampy;a.dirx=a.reg26;a.diry=a.reg27;a.dirz=\na.reg28;a.posx+=a.ds*a.dirx;a.posy+=a.ds*a.diry;a.posz+=a.ds*a.dirz;a.q4=a.posx;a.q5=a.posy;a.q6=a.posz;a.angchg=(.2-a.dist_)*(.2>a.dist_?1:0)*2;a.travel=.00001<Math.abs(0<a.angchg?1:0)?0:a.travel+a.ds;a.v1=a.v1*a.dec_s+(1-a.dec_s)*a.rotz*a.ds;a.v2=a.v2*a.dec_s+div((1-a.dec_s)*a.angchg*a.xslope,a.fps_);a.v3=a.v3*a.dec_s+(1-a.dec_s)*(div(a.angchg*a.yslope,a.fps_)+2*a.v1*Math.sin(.1*a.time));a.reg30=a.reg20;a.reg31=a.reg21;a.reg32=a.reg22;a.reg33=a.reg23;a.reg34=a.reg24;a.reg35=a.reg25;a.reg36=a.reg26;\na.reg37=a.reg27;a.reg38=a.reg28;a.n=0;for(var b=a.avg=0;5>b;b++){a.n+=1;a.ran1=div(randint(100),100);a.ran2=div(randint(100),200)-.25;a.tx=Math.cos(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.ty=Math.sin(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.c1=Math.cos(a.v1);a.c2=Math.cos(a.v2+a.ty);a.c3=Math.cos(a.v3+a.tx);a.s1=Math.sin(a.v1);a.s2=Math.sin(a.v2+a.ty);a.s3=Math.sin(a.v3+a.tx);a.reg10=a.c2*a.c1;a.reg11=a.c2*a.s1;a.reg12=-a.s2;a.reg13=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg14=a.s3*a.s2*a.s1+a.c3*a.c1;a.reg15=a.s3*\na.c2;a.reg16=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg17=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg18=a.c3*a.c2;a.reg20=a.reg30;a.reg21=a.reg31;a.reg22=a.reg32;a.reg23=a.reg33;a.reg24=a.reg34;a.reg25=a.reg35;a.reg26=a.reg36;a.reg27=a.reg37;a.reg28=a.reg38;a.q20=a.reg10*a.reg20+a.reg11*a.reg23+a.reg12*a.reg26;a.q21=a.reg10*a.reg21+a.reg11*a.reg24+a.reg12*a.reg27;a.q22=a.reg10*a.reg22+a.reg11*a.reg25+a.reg12*a.reg28;a.q23=a.reg13*a.reg20+a.reg14*a.reg23+a.reg15*a.reg26;a.q24=a.reg13*a.reg21+a.reg14*a.reg24+a.reg15*a.reg27;\na.q25=a.reg13*a.reg22+a.reg14*a.reg25+a.reg15*a.reg28;a.q26=a.reg16*a.reg20+a.reg17*a.reg23+a.reg18*a.reg26;a.q27=a.reg16*a.reg21+a.reg17*a.reg24+a.reg18*a.reg27;a.q28=a.reg16*a.reg22+a.reg17*a.reg25+a.reg18*a.reg28;a.reg20=a.q20;a.reg21=a.q21;a.reg22=a.q22;a.reg23=a.q23;a.reg24=a.q24;a.reg25=a.q25;a.reg26=a.q26;a.reg27=a.q27;a.reg28=a.q28;a.dist=.002;var c,d=0;do{d+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=a.posy;a.uvz+=a.posz;\na.uvx=8*(div(a.uvx,8)+30.5-Math.floor(div(a.uvx,8)+30.5)-.5);a.uvy=8*(div(a.uvy,8)+30.5-Math.floor(div(a.uvy,8)+30.5)-.5);a.uvz=8*(div(a.uvz,8)+30.5-Math.floor(div(a.uvz,8)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>a.uvz?1:0)?\n-2-a.uvz:a.uvz,a.slen=a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)+a.uvx0,a.uvy=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)+a.uvy0,a.uvz=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.1;c=(.6>a.dist?1:0)*(30<a.len?1:0)}while(.00001<\nMath.abs(c)&&1048576>d);a.megabuf[Math.floor(a.n)]=a.megabuf[Math.floor(a.n)]*a.dec_s+(1-a.dec_s)*a.dist;a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5))}a.n=0;for(b=a.avg=0;5>b;b++)a.n+=1,a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5));a.xslope=Math.min(Math.max(div(2,a.avg)*(a.megabuf[1]-a.megabuf[3]),-3),3);a.yslope=Math.min(Math.max(div(2,a.avg)*(a.megabuf[4]-a.megabuf[2]),-3),3);a.monitor=a.avg;a.dist_=a.dist_*a.dec_s+(1-a.dec_s)*a.dist;a.q10=a.ds*a.q7;a.q14=Math.abs(a.ds)+2*(Math.abs(a.v1)+\nMath.abs(a.v2)+Math.abs(a.v3))+div(1,255)+.05*a.start;a.q19=.6+.4*Math.sin(.02*a.time+6*a.cran0);a.start*=.9;a.q11=a.v1;a.q12=a.v2;a.q13=a.v3;a.monitor=a.q16;a.bb=.99*a.bb+.02*a.bass;a.mm=.99*a.mm+.02*a.mid;a.tt=.99*a.tt+.02*a.treb;a.mx=Math.max(Math.max(a.bb,a.mm),a.tt);a.mn=Math.min(Math.min(a.bb,a.mm),a.tt);a.h1=div(a.bb-a.mn,a.mx-a.mn);a.h2=div(a.mm-a.mn,a.mx-a.mn);a.h3=div(a.tt-a.mn,a.mx-a.mn);a.v=div(.1333,a.fps);a.bm+=(a.h1-a.h2)*a.v;a.mt+=(a.h2-a.h3)*a.v;a.bt+=(a.h1-a.h3)*a.v;a.w=2*a.bm;a.q3=\nMath.sin(a.w);a.q9=Math.cos(a.w);a.q17=a.bm;a.q18=a.mt;a.q19=a.bt;", pixel_eqs_str: "a.warp=0;a.zoom=1;a.dx=div(-a.q12,a.q16)*(1+0*pow(a.x-.5,2));a.dy=div(a.q13,a.q16)*(1+0*pow(a.y-.5,2));a.rot=a.q11;", warp: "float sustain;\nfloat xlat_mutabledist;\nfloat xlat_mutablestruc;\nvec2 xlat_mutableuv1;\nvec3 xlat_mutableuv2;\n shader_body { \n  mat3 tmpvar_1;\n  tmpvar_1[uint(0)].x = q20;\n  tmpvar_1[uint(0)].y = q23;\n  tmpvar_1[uint(0)].z = q26;\n  tmpvar_1[1u].x = q21;\n  tmpvar_1[1u].y = q24;\n  tmpvar_1[1u].z = q27;\n  tmpvar_1[2u].x = q22;\n  tmpvar_1[2u].y = q25;\n  tmpvar_1[2u].z = q28;\n  vec3 tmpvar_2;\n  tmpvar_2.x = q4;\n  tmpvar_2.y = q5;\n  tmpvar_2.z = q6;\n  sustain = (1.0123 - q14);\n  vec2 uv_3;\n  vec3 ret_4;\n  vec2 tmpvar_5;\n  tmpvar_5 = (uv - 0.5);\n  xlat_mutableuv1 = ((tmpvar_5 * aspect.xy) * q16);\n  vec4 tmpvar_6;\n  tmpvar_6 = texture (sampler_pc_main, uv);\n  uv_3 = ((tmpvar_5 * (1.0 - \n    (q10 / (1.0 - ((tmpvar_6.z + \n      (0.003921569 * tmpvar_6.y)\n    ) + (q10 * 0.7))))\n  )) + 0.5);\n  vec4 tmpvar_7;\n  tmpvar_7 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));\n  xlat_mutabledist = tmpvar_7.x;\n  if ((tmpvar_7.y > 0.2)) {\n    vec3 tmpvar_8;\n    tmpvar_8 = (tmpvar_7.xyz - vec3(0.4, 0.5, 0.5));\n    vec2 uvi_9;\n    uvi_9 = ((tmpvar_8.zy * 0.003) + uv_3);\n    vec2 pix_10;\n    vec4 nb2_11;\n    vec4 nb_12;\n    vec2 x_13;\n    x_13 = (uvi_9 - 0.5);\n    pix_10 = (texsize.zw * (1.0 + (\n      sqrt(dot (x_13, x_13))\n     * 8.0)));\n    float tmpvar_14;\n    tmpvar_14 = (q10 * 0.7);\n    vec4 tmpvar_15;\n    tmpvar_15 = texture (sampler_pc_main, (uvi_9 - pix_10));\n    nb_12.x = (1.0 - ((tmpvar_15.z + \n      (0.003921569 * tmpvar_15.y)\n    ) + tmpvar_14));\n    vec4 tmpvar_16;\n    tmpvar_16 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(1.0, -1.0))));\n    nb_12.y = (1.0 - ((tmpvar_16.z + \n      (0.003921569 * tmpvar_16.y)\n    ) + tmpvar_14));\n    vec4 tmpvar_17;\n    tmpvar_17 = texture (sampler_pc_main, (uvi_9 + pix_10));\n    nb_12.z = (1.0 - ((tmpvar_17.z + \n      (0.003921569 * tmpvar_17.y)\n    ) + tmpvar_14));\n    vec4 tmpvar_18;\n    tmpvar_18 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(-1.0, 1.0))));\n    nb_12.w = (1.0 - ((tmpvar_18.z + \n      (0.003921569 * tmpvar_18.y)\n    ) + tmpvar_14));\n    vec4 tmpvar_19;\n    tmpvar_19 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(0.0, -1.0))));\n    nb2_11.x = (1.0 - ((tmpvar_19.z + \n      (0.003921569 * tmpvar_19.y)\n    ) + tmpvar_14));\n    vec4 tmpvar_20;\n    tmpvar_20 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(1.0, 0.0))));\n    nb2_11.y = (1.0 - ((tmpvar_20.z + \n      (0.003921569 * tmpvar_20.y)\n    ) + tmpvar_14));\n    vec4 tmpvar_21;\n    tmpvar_21 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(0.0, 1.0))));\n    nb2_11.z = (1.0 - ((tmpvar_21.z + \n      (0.003921569 * tmpvar_21.y)\n    ) + tmpvar_14));\n    vec4 tmpvar_22;\n    tmpvar_22 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(-1.0, 0.0))));\n    nb2_11.w = (1.0 - ((tmpvar_22.z + \n      (0.003921569 * tmpvar_22.y)\n    ) + tmpvar_14));\n    vec4 tmpvar_23;\n    tmpvar_23 = min (nb_12, nb2_11);\n    nb_12.zw = tmpvar_23.zw;\n    nb_12.xy = min (tmpvar_23.xy, tmpvar_23.zw);\n    xlat_mutabledist = (min (nb_12.x, nb_12.y) + ((0.008 * tmpvar_8.x) * abs(tmpvar_8.y)));\n  };\n  vec4 tmpvar_24;\n  tmpvar_24 = texture (sampler_pc_main, uv_3);\n  float tmpvar_25;\n  tmpvar_25 = min (xlat_mutabledist, (1.0 - (\n    (tmpvar_24.z + (0.003921569 * tmpvar_24.y))\n   + \n    (q10 * 0.7)\n  )));\n  xlat_mutabledist = tmpvar_25;\n  float tmpvar_26;\n  tmpvar_26 = (tmpvar_25 + pow (tmpvar_25, 3.0));\n  vec3 tmpvar_27;\n  tmpvar_27.xy = (xlat_mutableuv1 * tmpvar_26);\n  tmpvar_27.z = tmpvar_26;\n  xlat_mutableuv2 = (((tmpvar_27 / q7) * tmpvar_1) + tmpvar_2);\n  xlat_mutableuv2 = ((fract(\n    ((xlat_mutableuv2 / 8.0) + 0.5)\n  ) - 0.5) * 8.0);\n  float li_28;\n  vec3 zz0_29;\n  vec3 zz_30;\n  zz0_29 = (xlat_mutableuv2 + q8);\n  li_28 = 0.0;\n  zz_30 = ((2.0 * clamp (xlat_mutableuv2, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - xlat_mutableuv2);\n  float tmpvar_31;\n  tmpvar_31 = dot (zz_30, zz_30);\n  if ((tmpvar_31 <= 0.25)) {\n    zz_30 = (zz_30 * 4.0);\n    li_28 = 24.0;\n  } else {\n    if ((tmpvar_31 <= 1.0)) {\n      zz_30 = (zz_30 / tmpvar_31);\n    };\n  };\n  zz_30 = ((2.6 * zz_30) + zz0_29);\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\n  float tmpvar_32;\n  tmpvar_32 = dot (zz_30, zz_30);\n  if ((tmpvar_32 <= 0.25)) {\n    zz_30 = (zz_30 * 4.0);\n    li_28 = 24.0;\n  } else {\n    if ((tmpvar_32 <= 1.0)) {\n      zz_30 = (zz_30 / tmpvar_32);\n    };\n  };\n  zz_30 = ((2.6 * zz_30) + zz0_29);\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\n  float tmpvar_33;\n  tmpvar_33 = dot (zz_30, zz_30);\n  if ((tmpvar_33 <= 0.25)) {\n    zz_30 = (zz_30 * 4.0);\n    li_28 = 24.0;\n  } else {\n    if ((tmpvar_33 <= 1.0)) {\n      zz_30 = (zz_30 / tmpvar_33);\n    };\n  };\n  zz_30 = ((2.6 * zz_30) + zz0_29);\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\n  float tmpvar_34;\n  tmpvar_34 = dot (zz_30, zz_30);\n  if ((tmpvar_34 <= 0.25)) {\n    zz_30 = (zz_30 * 4.0);\n    li_28 = 24.0;\n  } else {\n    if ((tmpvar_34 <= 1.0)) {\n      zz_30 = (zz_30 / tmpvar_34);\n    };\n  };\n  zz_30 = ((2.6 * zz_30) + zz0_29);\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\n  float tmpvar_35;\n  tmpvar_35 = dot (zz_30, zz_30);\n  if ((tmpvar_35 <= 0.25)) {\n    zz_30 = (zz_30 * 4.0);\n    li_28 = 24.0;\n  } else {\n    if ((tmpvar_35 <= 1.0)) {\n      zz_30 = (zz_30 / tmpvar_35);\n    };\n  };\n  zz_30 = ((2.6 * zz_30) + zz0_29);\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\n  float tmpvar_36;\n  tmpvar_36 = dot (zz_30, zz_30);\n  if ((tmpvar_36 <= 0.25)) {\n    zz_30 = (zz_30 * 4.0);\n    li_28 = 24.0;\n  } else {\n    if ((tmpvar_36 <= 1.0)) {\n      zz_30 = (zz_30 / tmpvar_36);\n    };\n  };\n  zz_30 = ((2.6 * zz_30) + zz0_29);\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\n  float tmpvar_37;\n  tmpvar_37 = dot (zz_30, zz_30);\n  if ((tmpvar_37 <= 0.25)) {\n    zz_30 = (zz_30 * 4.0);\n    li_28 = 24.0;\n  } else {\n    if ((tmpvar_37 <= 1.0)) {\n      zz_30 = (zz_30 / tmpvar_37);\n    };\n  };\n  zz_30 = ((2.6 * zz_30) + zz0_29);\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\n  float tmpvar_38;\n  tmpvar_38 = dot (zz_30, zz_30);\n  if ((tmpvar_38 <= 0.25)) {\n    zz_30 = (zz_30 * 4.0);\n    li_28 = 24.0;\n  } else {\n    if ((tmpvar_38 <= 1.0)) {\n      zz_30 = (zz_30 / tmpvar_38);\n    };\n  };\n  zz_30 = ((2.6 * zz_30) + zz0_29);\n  vec4 tmpvar_39;\n  tmpvar_39.xyz = zz_30;\n  tmpvar_39.w = li_28;\n  float tmpvar_40;\n  tmpvar_40 = sqrt(dot (zz_30, zz_30));\n  xlat_mutablestruc = (sqrt(dot (tmpvar_39.xyw, tmpvar_39.xyw)) / 24.0);\n  vec4 tmpvar_41;\n  tmpvar_41 = texture (sampler_pc_main, uv_3);\n  float tmpvar_42;\n  float tmpvar_43;\n  tmpvar_43 = (q10 * 0.7);\n  tmpvar_42 = ((log(\n    (1.0 + (tmpvar_40 / 24.0))\n  ) * 0.02) * (1.0 - (1.0 - \n    ((tmpvar_41.z + (0.003921569 * tmpvar_41.y)) + tmpvar_43)\n  )));\n  float tmpvar_44;\n  vec4 tmpvar_45;\n  tmpvar_45 = texture (sampler_pc_main, uv_3);\n  tmpvar_44 = (1.0 - ((tmpvar_45.z + \n    (0.003921569 * tmpvar_45.y)\n  ) + tmpvar_43));\n  if ((((tmpvar_25 <= tmpvar_44) && (tmpvar_40 < 24.0)) && (tmpvar_25 > 0.005))) {\n    ret_4.x = (((1.0 - sustain) * xlat_mutablestruc) + (sustain * mix (texture (sampler_main, uv_3).xyz, \n      ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1)\n    , vec3(\n      (q14 * 4.0)\n    )).x));\n    float x_46;\n    x_46 = ((1.0 - tmpvar_25) * 255.0);\n    float ip_47;\n    ip_47 = float(int(x_46));\n    vec2 tmpvar_48;\n    tmpvar_48.x = (x_46 - ip_47);\n    tmpvar_48.y = (ip_47 / 255.0);\n    ret_4.yz = tmpvar_48;\n  } else {\n    vec3 tmpvar_49;\n    tmpvar_49.y = 0.0;\n    tmpvar_49.x = sustain;\n    tmpvar_49.z = (1.0 - tmpvar_42);\n    vec3 tmpvar_50;\n    tmpvar_50.xy = vec2(0.003921569, 0.0);\n    tmpvar_50.z = (q14 / 6.0);\n    ret_4 = ((texture (sampler_fc_main, uv_3).xyz * tmpvar_49) - tmpvar_50);\n  };\n  vec4 tmpvar_51;\n  tmpvar_51.w = 1.0;\n  tmpvar_51.xyz = ret_4;\n  ret = tmpvar_51.xyz;\n }", comp: "vec2 xlat_mutabled;\nvec3 xlat_mutabledx;\nvec3 xlat_mutabledy;\n shader_body { \n  vec3 ret_1;\n  xlat_mutabled = (texsize.zw * 1.5);\n  xlat_mutabledx = (texture (sampler_main, (uv_orig + (vec2(1.0, 0.0) * xlat_mutabled))).xyz - texture (sampler_main, (uv_orig - (vec2(1.0, 0.0) * xlat_mutabled))).xyz);\n  xlat_mutabledy = (texture (sampler_main, (uv_orig + (vec2(0.0, 1.0) * xlat_mutabled))).xyz - texture (sampler_main, (uv_orig - (vec2(0.0, 1.0) * xlat_mutabled))).xyz);\n  vec2 tmpvar_2;\n  tmpvar_2.x = xlat_mutabledx.y;\n  tmpvar_2.y = xlat_mutabledy.y;\n  vec2 x_3;\n  x_3 = (tmpvar_2 * 8.0);\n  ret_1 = (((texture (sampler_main, uv).x * \n    (1.0 - sqrt(dot (x_3, x_3)))\n  ) * pow (hue_shader, vec3(6.0, 6.0, 6.0))) * 1.4);\n  vec2 tmpvar_4;\n  tmpvar_4.x = xlat_mutabledx.z;\n  tmpvar_4.y = xlat_mutabledy.z;\n  vec2 x_5;\n  x_5 = (tmpvar_4 * 4.0);\n  vec3 tmpvar_6;\n  tmpvar_6 = mix (ret_1, vec3(1.0, 1.0, 1.0), vec3(sqrt(dot (x_5, x_5))));\n  ret_1 = tmpvar_6;\n  vec4 tmpvar_7;\n  tmpvar_7.w = 1.0;\n  tmpvar_7.xyz = tmpvar_6;\n  ret = tmpvar_7.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 4, gammaadj: 1.9, echo_zoom: 1.169, echo_orient: 1, wave_mode: 5, additivewave: 1, wave_a: 0, wave_scale: 0.9, wave_smoothing: 0.63, wave_mystery: 1, modwavealphastart: 2, modwavealphaend: 2, warpscale: 2.853, rot: 6e-3, warp: 0, wave_r: 0.65, wave_g: 0.65, wave_b: 0.65, ob_size: 5e-3, mv_x: 0, mv_y: 48, mv_dx: -0.941, mv_dy: 0.426, mv_l: 5, mv_r: 0.316, mv_g: 0.078, mv_b: 0.942, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 1, sides: 100, textured: 1, rad: 0.78903, ang: 0.62832, tex_zoom: 1.02009, r: 0, g: 1, b: 1, r2: 0.7, b2: 1, border_a: 0}, init_eqs_str: "a.vx=0;a.vy=0;", frame_eqs_str: ""}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.d=0;a.y3=0;a.y1=0;a.xx=0;a.res=0;a.q12=0;a.x1=0;a.vx3=0;a.q13=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.c_x=0;a.c_y=0;a.q9=0;a.d1=0;a.v=0;a.si1=0;a.vx4=0;a.diff=0;a.x3=0;a.q23=0;a.q24=0;a.d2=0;a.q11=0;a.q10=0;a.xx2=0;a.q4=0;a.yy1=0;a.vy4=0;a.dir=0;a.x4=0;a.r=0;a.x2=0;a.beat=0;a.vol=0;a.vy2=0;a.y2=0;a.size=0;a.q2=0;a.q14=0;a.si2=0;a.vx2=0;a.q3=0;a.yy=0;a.y4=0;a.q7=0;a.vy3=0;a.strength=0;a.xx1=0;a.velocity=0;a.q8=0;a.c_x=.5;a.c_y=.5;", frame_eqs_str: "a.sx=1+.01*mod(8*a.bass,8)*equal(mod(a.time,Math.floor(24-2*a.bass)),0);a.sy=1+.01*mod(8*a.mid,8)*equal(mod(a.time,12+Math.floor(24-2*a.bass)),0);a.q1=a.aspectx;a.q2=a.aspecty;a.rot=0;a.zoom=1;a.warp=0;a.vol=8*a.bass+4*a.mid+2*a.treb;a.vol*=above(a.vol,17);a.monitor=a.vol;a.beat=above(a.vol,a.res);a.diff=(1-a.beat)*a.diff+a.beat*(a.vol-a.res);a.res=a.beat*(a.vol+2*a.diff)+(1-a.beat)*(a.res-div(60*(.04*a.diff+.12),a.fps));a.res=Math.max(0,a.res);a.monitor=a.res;a.r=.00001<Math.abs(a.beat)?\n.0001*(randint(200)-100):a.r;a.rot=a.r;a.c_x=.00001<Math.abs(a.beat)?.5+.005*(randint(200)-100):a.c_x;a.c_y=.00001<Math.abs(a.beat)?.5+.005*(randint(200)-100):a.c_y;a.q23=a.c_x;a.q24=a.c_y;a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+2*(a.xx1-a.xx2);a.y1=.4+1.5*a.yy1;a.dt=div(.03,a.fps);a.vx2=a.vx2*(1-2*a.dt)+10*a.dt*(a.x1+a.x3-2*a.x2);a.vy2=a.vy2*(1-2*a.dt)+a.dt*(10*(a.y1+a.y3-2*a.y2)-.5);a.vx3=a.vx3*(1-2*a.dt)+10*a.dt*(a.x2+a.x4-2*a.x3);a.vy3=\na.vy3*(1-2*a.dt)+a.dt*(10*(a.y2+a.y4-2*a.y3)-.5);a.vx4=a.vx4*(1-2*a.dt)+10*a.dt*(a.x3-a.x4);a.vy4=a.vy4*(1-2*a.dt)+a.dt*(10*(a.y3-a.y4)-.5);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:.5*Math.abs(a.vx2);a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:.5*-Math.abs(a.vx2);a.vx3=.00001<Math.abs(above(a.x3,0))?a.vx3:.5*Math.abs(a.vx3);a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:.5*-Math.abs(a.vx3);a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:\n.5*Math.abs(a.vx4);a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:.5*-Math.abs(a.vx4);a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:.5*Math.abs(a.vy2);a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:.5*-Math.abs(a.vy2);a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:.5*Math.abs(a.vy3);a.vy3=.00001<Math.abs(below(a.y3,1))?a.vy3:.5*-Math.abs(a.vy3);a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:.5*Math.abs(a.vy4);a.vy4=.00001<Math.abs(below(a.y4,1))?a.vy4:.5*-Math.abs(a.vy4);a.q1=a.x1;a.q2=a.x2;a.q3=a.x3;a.q4=a.x4;a.q5=\na.y1;a.q6=a.y2;a.q7=a.y3;a.q8=a.y4;a.q9=div(1,a.aspectx);a.q10=div(1,a.aspecty);a.q11=a.aspectx;a.q12=a.aspecty;a.q13=.8*sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.q14=Math.atan2(a.vx4,a.vy4);", pixel_eqs_str: "a.d=pow(sqrt(sqr(a.x-a.q3)+sqr(a.y-a.q4)),2)-0;a.v=.03;a.dx=a.v*(a.x-a.q23)*a.d;a.dy=a.v*(a.y-a.q24)*a.d;a.x=.5+(a.x-.5)*a.q11;a.y=.5+(a.y-.5)*a.q12;a.dir=-a.q14+Math.asin(1);a.velocity=a.q13;a.strength=100;a.size=.07;a.xx=a.q4;a.yy=1-a.q8;a.x1=a.xx+Math.cos(a.dir+1.5708)*a.size;a.y1=a.yy-Math.sin(a.dir+1.5708)*a.size;a.x2=a.xx-Math.cos(a.dir+1.5708)*a.size;a.y2=a.yy+Math.sin(a.dir+1.5708)*a.size;a.d1=sqrt((a.x1-a.x)*(a.x1-a.x)+(a.y1-a.y)*(a.y1-a.y))-2*a.size;a.si1=1-div(1,\n1+pow(2,100*-a.d1));a.d2=sqrt((a.x2-a.x)*(a.x2-a.x)+(a.y2-a.y)*(a.y2-a.y))-2*a.size;a.si2=1-div(1,1+pow(2,100*-a.d2));a.dx+=(a.si1*Math.sin(a.y1-a.y)*a.d1-a.si2*Math.sin(a.y2-a.y)*a.d2)*a.strength*a.velocity;a.dy+=(-a.si1*Math.sin(a.x1-a.x)*a.d1+a.si2*Math.sin(a.x2-a.x)*a.d2)*a.strength*a.velocity;", warp: "vec2 xlat_mutabled;\nvec3 xlat_mutabledx;\nvec3 xlat_mutabledy;\n shader_body { \n  vec3 ret_1;\n  vec3 tmpvar_2;\n  tmpvar_2 = (texture (sampler_noise_lq, ((\n    (uv_orig * texsize.xy)\n   * texsize_noise_lq.zw) + rand_frame.xy)).xyz - 0.5);\n  xlat_mutabled = (texsize.zw * 4.0);\n  xlat_mutabledx = (((texture (sampler_blur1, \n    (uv_orig + (vec2(1.0, 0.0) * xlat_mutabled))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv_orig - (vec2(1.0, 0.0) * xlat_mutabled))\n  ).xyz * scale1) + bias1));\n  xlat_mutabledy = (((texture (sampler_blur1, \n    (uv_orig + (vec2(0.0, 1.0) * xlat_mutabled))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv_orig - (vec2(0.0, 1.0) * xlat_mutabled))\n  ).xyz * scale1) + bias1));\n  xlat_mutabled = uv;\n  vec2 tmpvar_3;\n  tmpvar_3.x = xlat_mutabledx.y;\n  tmpvar_3.y = xlat_mutabledy.y;\n  vec2 tmpvar_4;\n  tmpvar_4.x = xlat_mutabledx.z;\n  tmpvar_4.y = xlat_mutabledy.z;\n  vec4 tmpvar_5;\n  tmpvar_5 = texture (sampler_main, uv_orig);\n  ret_1.y = ((texture (sampler_main, (uv - \n    ((tmpvar_3 * texsize.zw) * 6.0)\n  )).y - 0.008) + ((1.0 - tmpvar_5.x) * 0.018));\n  ret_1.z = ((texture (sampler_main, (uv - \n    ((tmpvar_4 * texsize.zw) * 6.0)\n  )).z - 0.008) + (tmpvar_5.x * 0.018));\n  ret_1.x = texture (sampler_fc_main, (uv + ((tmpvar_2.xy * texsize.zw) * 0.5))).x;\n  ret_1.x = (ret_1.x + ((\n    (ret_1.x - ((texture (sampler_blur3, uv).xyz * scale3) + bias3).x)\n   * 0.15) + (tmpvar_2 * 0.0042)).x);\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = ret_1;\n  ret = tmpvar_6.xyz;\n }", comp: " shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1.x = q3;\n  tmpvar_1.y = q4;\n  vec2 tmpvar_2;\n  tmpvar_2.x = q6;\n  tmpvar_2.y = q7;\n  vec2 tmpvar_3;\n  tmpvar_3.x = q9;\n  tmpvar_3.y = q10;\n  vec2 tmpvar_4;\n  tmpvar_4.x = q12;\n  tmpvar_4.y = q13;\n  vec2 tmpvar_5;\n  tmpvar_5 = (texsize.zw * 1.25);\n  vec3 tmpvar_6;\n  tmpvar_6 = (texture (sampler_main, (uv + (vec2(1.0, 0.0) * tmpvar_5))).xyz - texture (sampler_main, (uv - (vec2(1.0, 0.0) * tmpvar_5))).xyz);\n  vec3 tmpvar_7;\n  tmpvar_7 = (texture (sampler_main, (uv + (vec2(0.0, 1.0) * tmpvar_5))).xyz - texture (sampler_main, (uv - (vec2(0.0, 1.0) * tmpvar_5))).xyz);\n  vec2 tmpvar_8;\n  tmpvar_8.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\n  tmpvar_8.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\n  vec2 x_9;\n  x_9 = ((uv - (tmpvar_8 * 8.0)) - tmpvar_1);\n  vec2 tmpvar_10;\n  tmpvar_10.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\n  tmpvar_10.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\n  vec2 x_11;\n  x_11 = ((uv - (tmpvar_10 * 8.0)) - tmpvar_2);\n  vec2 tmpvar_12;\n  tmpvar_12.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\n  tmpvar_12.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\n  vec2 x_13;\n  x_13 = ((uv - (tmpvar_12 * 8.0)) - tmpvar_3);\n  vec2 tmpvar_14;\n  tmpvar_14.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\n  tmpvar_14.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\n  vec2 x_15;\n  x_15 = ((uv - (tmpvar_14 * 8.0)) - tmpvar_4);\n  vec4 tmpvar_16;\n  tmpvar_16.w = 1.0;\n  tmpvar_16.xyz = mix (texture (sampler_main, uv).xyz, max (max (\n    (vec3((1.0 - pow (sqrt(\n      dot (x_9, x_9)\n    ), 0.2))) * vec3(2.0, 1.0, -1.0))\n  , \n    (vec3((1.0 - pow (sqrt(\n      dot (x_11, x_11)\n    ), 0.2))) * vec3(2.0, -1.0, 1.0))\n  ), max (\n    (vec3((1.0 - pow (sqrt(\n      dot (x_13, x_13)\n    ), 0.2))) * vec3(-1.0, 1.0, 2.0))\n  , \n    (vec3((1.0 - pow (sqrt(\n      dot (x_15, x_15)\n    ), 0.2))) * vec3(1.0, -1.0, 2.0))\n  )), vec3(0.5, 0.5, 0.5));\n  ret = tmpvar_16.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 0.955, echo_zoom: 0.997, echo_alpha: 0.5, wave_mode: 7, additivewave: 1, modwavealphabyvolume: 1, wave_brighten: 0, wave_a: 1e-3, wave_scale: 0.49, wave_smoothing: 0, modwavealphastart: 0.71, modwavealphaend: 1.3, warpscale: 16.016, zoomexp: 11.56276, fshader: 1, zoom: 1.05971, warp: 0.13126, wave_r: 0.65, wave_g: 0.65, wave_b: 0.65, ob_size: 0, ob_a: 1, ib_size: 0, mv_x: 64, mv_y: 48, mv_l: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 1, sides: 14, additive: 1, num_inst: 126, rad: 0.0303, tex_ang: 0.62832, r: 0, b: 1, g2: 0, b2: 1, a2: 1, border_a: 0}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;", frame_eqs_str: "a.ma+=3.1415*above(a.bass,1)*.01*a.bass;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0002*Math.cos(a.ma);a.my+=.0002*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.8);"}, {baseVals: {enabled: 1, sides: 14, additive: 1, num_inst: 128, rad: 0.03, tex_ang: 0.62832, r: 0, b: 1, g2: 0, b2: 1, a2: 1, border_a: 0}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;", frame_eqs_str: "a.ma+=3.1415*above(a.bass,1)*.05*a.bass;a.ma-=3.1415*above(a.mid,1)*.05*a.mid;a.mx+=.0001*Math.cos(a.ma);a.my+=.0001*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.1);"}, {baseVals: {enabled: 1, sides: 14, additive: 1, num_inst: 32, rad: 0.0297, tex_ang: 0.62832, r: 0, b: 1, g2: 0, b2: 1, a2: 1, border_a: 0}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;", frame_eqs_str: "a.ma+=3.1415*above(a.mid,1)*.01*a.mid;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0004*Math.cos(a.ma);a.my+=.0004*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.3);"}, {baseVals: {enabled: 1, sides: 14, additive: 1, num_inst: 16, rad: 0.0303, tex_ang: 0.62832, r: 0, b: 1, g2: 0, b2: 1, a2: 1, border_a: 0}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;", frame_eqs_str: "a.ma+=3.1415*above(a.bass,.5)*.02*a.bass;a.ma-=3.1415*above(a.treb,.5)*.02*a.treb;a.mx+=.0008*Math.cos(a.ma);a.my+=.0008*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.2);"}], waves: [{baseVals: {enabled: 1, thick: 1, additive: 1, scaling: 2.0231, smoothing: 0, r: 0, b: 0}, init_eqs_str: "a.d=0;a.tt2=0;a.res=0;a.tt1=0;a.diff=0;a.tt3=0;a.beat=0;a.vol=0;a.m=0;a.monitor=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;", frame_eqs_str: "a.vol=8*a.bass+5*a.mid+3*a.treb;a.m=.97*a.m+.08*a.vol;a.monitor=a.vol;a.beat=above(a.vol,a.res)*above(a.vol,a.m)*above(a.vol,16);a.diff=(1-a.beat)*a.diff+a.beat*(a.vol-a.res);a.res=a.beat*(a.vol+.04*a.m)+(1-a.beat)*(a.res-div(60*(.1+.02*a.diff),a.fps));a.res=Math.max(0,a.res);a.a=a.beat;", point_eqs_str: "a.tt3=.6*a.tt3+1*a.value1;a.tt2=.7*a.tt2+.2*a.tt3;a.tt1=.8*a.tt1+.1*a.tt2;a.d=.9*a.d+.2*a.tt1;a.y=.5+a.d*a.sample*(1-a.sample)*4;a.x=-.05+1.1*a.sample;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.y3=0;a.y1=0;a.xx=0;a.si3=0;a.q12=0;a.t1=0;a.x1=0;a.vx3=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.q9=0;a.d1=0;a.si1=0;a.vx4=0;a.grav=0;a.x3=0;a.d2=0;a.q11=0;a.q10=0;a.xx2=0;a.q4=0;a.yy1=0;a.vy4=0;a.dir=0;a.bounce=0;a.x4=0;a.r=0;a.x2=0;a.vy2=0;a.y2=0;a.q2=0;a.m1=0;a.spring=0;a.si2=0;a.vx2=0;a.q3=0;a.resist=0;a.yy=0;a.y4=0;a.q7=0;a.vy3=0;a.xx1=0;a.b1=0;a.q8=0;", frame_eqs_str: "a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+2*(a.xx1-a.xx2);a.y1=.4+a.yy1;a.x1=Math.max(0,Math.min(1,a.x1));a.y1=Math.max(0,Math.min(1,a.y1));a.spring=10;a.grav=.5;a.resist=1;a.bounce=.75;a.dt=.0005*div(60,a.fps);a.vx2=a.vx2*(1-a.resist*a.dt)+a.dt*(a.x1+a.x3-2*a.x2)*a.spring;a.vy2=a.vy2*(1-a.resist*a.dt)+a.dt*((a.y1+a.y3-2*a.y2)*a.spring-a.grav);a.vx3=a.vx3*(1-a.resist*a.dt)+a.dt*(a.x2+a.x4-2*a.x3)*a.spring;a.vy3=a.vy3*(1-\na.resist*a.dt)+a.dt*((a.y2+a.y4-2*a.y3)*a.spring-a.grav);a.vx4=a.vx4*(1-a.resist*a.dt)+a.dt*(a.x3-a.x4)*a.spring;a.vy4=a.vy4*(1-a.resist*a.dt)+a.dt*((a.y3-a.y4)*a.spring-a.grav);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:Math.abs(a.vx2)*a.bounce;a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:-Math.abs(a.vx2)*a.bounce;a.vx3=.00001<Math.abs(above(a.x3,0))?a.vx3:Math.abs(a.vx3)*a.bounce;a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:-Math.abs(a.vx3)*\na.bounce;a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:Math.abs(a.vx4)*a.bounce;a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:-Math.abs(a.vx4)*a.bounce;a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:Math.abs(a.vy2)*a.bounce;a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:-Math.abs(a.vy2)*a.bounce;a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:Math.abs(a.vy3)*a.bounce;a.vy3=.00001<Math.abs(below(a.y3,1))?a.vy3:-Math.abs(a.vy3)*a.bounce;a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:Math.abs(a.vy4)*a.bounce;a.vy4=.00001<\nMath.abs(below(a.y4,1))?a.vy4:-Math.abs(a.vy4)*a.bounce;a.q1=a.x1;a.q2=a.x2;a.q3=a.x3;a.q4=a.x4;a.q5=a.y1;a.q6=a.y2;a.q7=a.y3;a.q8=a.y4;a.q9=div(1,a.aspectx);a.q10=div(1,a.aspecty);a.zoom=1;a.r=.96*a.r+(a.x1-.5);a.rot=.1*a.r;a.q12=Math.atan2(a.vx4,a.vy4);a.q11=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.zoom=1.001;a.rot=0;a.warp=.2;a.wave_a=0;", pixel_eqs_str: "a.dir=-a.q12+Math.asin(1);a.b1=.1;a.m1=25*a.q11;a.t1=.05;a.xx=a.q4;a.yy=1-a.q8;a.x1=a.xx+Math.cos(a.dir+1.5708)*a.b1;a.y1=a.yy-Math.sin(a.dir+1.5708)*a.b1;a.x2=a.xx-Math.cos(a.dir+1.5708)*a.b1;a.y2=a.yy+Math.sin(a.dir+1.5708)*a.b1;a.d1=sqrt((a.x1-a.x)*(a.x1-a.x)+(a.y1-a.y)*(a.y1-a.y))-2*a.b1;a.si1=1-div(1,1+pow(2,1E3*-a.d1));a.d2=sqrt((a.x2-a.x)*(a.x2-a.x)+(a.y2-a.y)*(a.y2-a.y))-2*a.b1;a.si2=1-div(1,1+pow(2,1E3*-a.d2));a.si3=0*-pow(a.q5,3);a.dx=2*(a.si1*Math.sin(a.y1-a.y)*a.m1*\na.d1-a.si2*Math.sin(a.y2-a.y)*a.m1*a.d2+a.si3*Math.cos(a.dir)*a.t1);a.dy=2*(-a.si1*Math.sin(a.x1-a.x)*a.m1*a.d1+a.si2*Math.sin(a.x2-a.x)*a.m1*a.d2-a.si3*Math.sin(a.dir)*a.t1);", warp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (texsize.zw * 8.0);\n  vec3 tmpvar_3;\n  tmpvar_3 = (((texture (sampler_blur1, \n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_4;\n  tmpvar_4 = (((texture (sampler_blur1, \n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec2 tmpvar_5;\n  tmpvar_5.x = tmpvar_3.z;\n  tmpvar_5.y = tmpvar_4.z;\n  vec2 tmpvar_6;\n  tmpvar_6 = (uv + ((tmpvar_5 * texsize.zw) * 4.0));\n  ret_1.z = (((texture (sampler_main, tmpvar_6).z - \n    ((texture (sampler_main, tmpvar_6).z - ((texture (sampler_blur3, tmpvar_6).xyz * scale3) + bias3).z) * 0.02)\n  ) - 0.008) + ((texture (sampler_noise_lq, \n    (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy)\n  ).xyz - 0.5) * 0.1)).x;\n  vec2 tmpvar_7;\n  tmpvar_7.x = tmpvar_3.x;\n  tmpvar_7.y = tmpvar_4.x;\n  vec2 tmpvar_8;\n  tmpvar_8 = ((0.5 + (uv - 0.5)) - (tmpvar_7 * texsize.zw));\n  ret_1.x = texture (sampler_main, tmpvar_8).x;\n  ret_1.x = (ret_1.x + ((\n    (ret_1.x - ((texture (sampler_blur3, tmpvar_8).xyz * scale3) + bias3))\n  .x * 0.4) + 0.006));\n  vec2 tmpvar_9;\n  tmpvar_9.x = tmpvar_3.x;\n  tmpvar_9.y = tmpvar_4.x;\n  vec2 tmpvar_10;\n  tmpvar_10.x = tmpvar_3.y;\n  tmpvar_10.y = tmpvar_4.y;\n  vec2 tmpvar_11;\n  tmpvar_11.x = tmpvar_3.z;\n  tmpvar_11.y = tmpvar_4.z;\n  ret_1.y = texture (sampler_fc_main, (((uv - \n    ((tmpvar_9 * texsize.zw) * 8.0)\n  ) + (\n    (tmpvar_10 * texsize.zw)\n   * 4.0)) + ((tmpvar_11 * texsize.zw) * 8.0))).y;\n  ret_1.y = (ret_1.y * (1.0 + (ret_1.x * 0.1)));\n  ret_1.y = (ret_1.y - (0.004 + (\n    clamp (ret_1.z, 0.0, 1.0)\n   * 0.012)));\n  vec4 tmpvar_12;\n  tmpvar_12.w = 1.0;\n  tmpvar_12.xyz = ret_1;\n  ret = tmpvar_12.xyz;\n }", comp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (texsize.zw * 4.0);\n  vec3 tmpvar_3;\n  tmpvar_3 = (((texture (sampler_blur1, \n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_4;\n  tmpvar_4 = (((texture (sampler_blur1, \n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec2 tmpvar_5;\n  tmpvar_5.x = tmpvar_3.z;\n  tmpvar_5.y = tmpvar_4.z;\n  vec2 tmpvar_6;\n  tmpvar_6.x = tmpvar_3.y;\n  tmpvar_6.y = tmpvar_4.y;\n  vec2 tmpvar_7;\n  tmpvar_7 = ((uv - (tmpvar_5 * 0.1)) + (tmpvar_6 * 0.06));\n  vec4 tmpvar_8;\n  tmpvar_8 = texture (sampler_main, uv);\n  ret_1 = (((\n    ((texture (sampler_blur2, tmpvar_7).xyz * scale2) + bias2)\n  .x * \n    clamp ((1.0 - tmpvar_8.z), 0.0, 1.0)\n  ) * pow (hue_shader.yxz, vec3(8.0, 8.0, 8.0))) * 3.0);\n  ret_1 = (mix (ret_1, (\n    pow (hue_shader.yzx, vec3(8.0, 8.0, 8.0))\n   * 1.4), vec3((\n    (texture (sampler_main, tmpvar_7).x * 0.8)\n   + \n    ((texture (sampler_blur1, tmpvar_7).xyz * scale1) + bias1)\n  .x))) * clamp ((1.0 - \n    (((texture (sampler_blur1, uv).xyz * scale1) + bias1).y * 4.0)\n  ), 0.0, 1.0));\n  vec2 tmpvar_9;\n  tmpvar_9.x = tmpvar_3.y;\n  tmpvar_9.y = tmpvar_4.y;\n  vec3 tmpvar_10;\n  vec3 tmpvar_11;\n  tmpvar_11 = pow (hue_shader, vec3(8.0, 8.0, 8.0));\n  tmpvar_10 = mix (mix (ret_1, vec3(1.0, 1.0, 1.0), (\n    (tmpvar_11 * texture (sampler_main, clamp ((uv - (tmpvar_9 * 2.0)), 0.0, 1.0)).z)\n   * 1.2)), (tmpvar_11.zxy * 1.8), tmpvar_8.yyy);\n  ret_1 = tmpvar_10;\n  vec4 tmpvar_12;\n  tmpvar_12.w = 1.0;\n  tmpvar_12.xyz = tmpvar_10;\n  ret = tmpvar_12.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.9, echo_zoom: 1.169, additivewave: 1, modwavealphabyvolume: 1, wave_brighten: 0, wrap: 0, wave_a: 1.413, wave_scale: 0.418, wave_smoothing: 0, wave_mystery: -0.66, modwavealphastart: 2, modwavealphaend: 2, warpanimspeed: 0.626, warpscale: 1.331, zoomexp: 1.00001, zoom: 0.99951, warp: 0.08925, wave_r: 0, wave_g: 0, wave_x: 0.24, wave_y: 0.44, ob_size: 0.5, ob_r: 0.01, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 1, additive: 1, rad: 0.0277, ang: 6.03186, tex_ang: 6.03186, tex_zoom: 0.6839, g: 1, r2: 1, a2: 1, border_r: 0, border_g: 0, border_b: 0, border_a: 1}, init_eqs_str: "a.an=0;a.q6=0;a.q4=0;a.q5=0;a.q3=0;a.q2=0;a.q1=0;", frame_eqs_str: "a.an+=a.q6;a.ang=.5*a.an;a.x=a.q4;a.y=a.q5;a.rad=a.q3*sqrt(2);a.x=.5+div(a.x-.5,a.q2);a.y=.5+div(a.y-.5,a.q1);"}, {baseVals: {enabled: 1, additive: 1, rad: 0.0277, ang: 6.03186, tex_ang: 6.03186, tex_zoom: 0.6839, g: 1, r2: 1, a2: 1, border_r: 0, border_g: 0, border_b: 0, border_a: 1}, init_eqs_str: "a.an=0;a.q9=0;a.q7=0;a.q8=0;a.q3=0;a.q2=0;a.q1=0;", frame_eqs_str: "a.an+=a.q9;a.ang=.5*a.an;a.x=a.q7;a.y=a.q8;a.rad=a.q3*sqrt(2);a.x=.5+div(a.x-.5,a.q2);a.y=.5+div(a.y-.5,a.q1);"}, {baseVals: {enabled: 1, additive: 1, rad: 0.0277, ang: 6.03186, tex_ang: 6.03186, tex_zoom: 0.6839, b: 1, r2: 1, g2: 0, b2: 1, a2: 1, border_r: 0, border_g: 0, border_b: 0, border_a: 1}, init_eqs_str: "a.an=0;a.q12=0;a.q10=0;a.q11=0;a.q3=0;a.q2=0;a.q1=0;", frame_eqs_str: "a.an+=a.q12;a.ang=.5*a.an;a.x=a.q10;a.y=a.q11;a.rad=a.q3*sqrt(2);a.x=.5+div(a.x-.5,a.q2);a.y=.5+div(a.y-.5,a.q1);"}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, thick: 1, additive: 1, scaling: 2.0231, smoothing: 0, r: 0}, init_eqs_str: "a.d=0;a.tt2=0;a.res=0;a.tt1=0;a.diff=0;a.tt3=0;a.beat=0;a.vol=0;a.m=0;a.monitor=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;", frame_eqs_str: "a.vol=8*a.bass+5*a.mid+3*a.treb;a.m=.97*a.m+.08*a.vol;a.monitor=a.vol;a.beat=above(a.vol,a.res)*above(a.vol,a.m)*above(a.vol,16);a.diff=(1-a.beat)*a.diff+a.beat*(a.vol-a.res);a.res=a.beat*(a.vol+.04*a.m)+(1-a.beat)*(a.res-div(60*(.1+.02*a.diff),a.fps));a.res=Math.max(0,a.res);a.a=a.beat;", point_eqs_str: "a.tt3=.6*a.tt3+1*a.value1;a.tt2=.7*a.tt2+.2*a.tt3;a.tt1=.8*a.tt1+.1*a.tt2;a.d=.9*a.d+.2*a.tt1;a.y=.5+a.d*a.sample*(1-a.sample)*2;a.x=-.05+1.1*a.sample;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.y3=0;a.y1=0;a.q12=0;a.w2=0;a.ref_ang=0;a.du=0;a.x1=0;a.vx3=0;a.q13=0;a.q6=0;a.q1=0;a.q5=0;a.q9=0;a.vx1=0;a.mult=0;a.x3=0;a.q11=0;a.q10=0;a.ang2=0;a.dv=0;a.vr3=0;a.vr2=0;a.q4=0;a.bounce=0;a.vr=0;a.v2r=0;a.w1=0;a.r=0;a.x2=0;a.vy2=0;a.y2=0;a.vy1=0;a.q2=0;a.q14=0;a.dist=0;a.vr1=0;a.v1=0;a.vx2=0;a.q3=0;a.q7=0;a.vy3=0;a.v2=0;a.q8=0;a.x1=.5;a.y1=.6;a.x2=.5;a.y2=.4;a.x3=.5;a.y3=.2;a.vr1=.0001;a.vr2=0;a.vr3=0;a.vx1=0;a.vx2=0;a.vx3=0;", frame_eqs_str: "a.zoom=1;a.warp=0;a.wave_a=0;a.r=.03+.004*(a.bass_att+a.treb_att);a.monitor=a.aspecty;a.vr=Math.sin(a.vr1)*a.r;a.bounce=below(a.y1,a.r-.5*(a.aspectx-1));a.y1+=a.vy1;a.vy1=.00001<Math.abs(a.bounce)?.96*Math.abs(a.vy1)+.1*(a.r-a.y1-.5*(a.aspectx-1)):a.vy1-div(.018,a.fps);a.vx1=.00001<Math.abs(a.bounce)?a.vx1+.15*(a.vr-a.vx1):a.vx1;a.vr=.00001<Math.abs(a.bounce)?a.vr+.85*(a.vx1-a.vr):a.vr;a.vr1=Math.asin(div(a.vr,a.r));a.bounce=above(a.x1,1-a.r+.5*(a.aspecty-1));a.vx1=.00001<Math.abs(a.bounce)?\n.96*-Math.abs(a.vx1)+.1*(1-a.r-a.x1+.5*(a.aspecty-1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?a.vy1+.15*(a.vr-a.vy1):a.vy1;a.vr=.00001<Math.abs(a.bounce)?a.vr+.85*(a.vy1-a.vr):a.vr;a.vr1=Math.asin(div(a.vr,a.r));a.bounce=below(a.x1,a.r-.5*(a.aspecty-1));a.x1+=a.vx1;a.vx1=.00001<Math.abs(a.bounce)?.96*Math.abs(a.vx1)+.1*(a.r-a.x1-.5*(a.aspecty-1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?a.vy1+.15*(-a.vr-a.vy1):a.vy1;a.vr=.00001<Math.abs(a.bounce)?a.vr-.85*(a.vy1+a.vr):a.vr;a.vr1=Math.asin(div(a.vr,a.r));\na.vr=Math.sin(a.vr2)*a.r;a.bounce=below(a.y2,a.r-.5*(a.aspectx-1));a.y2+=a.vy2;a.vy2=.00001<Math.abs(a.bounce)?.96*Math.abs(a.vy2)+.1*(a.r-a.y2-.5*(a.aspectx-1)):a.vy2-div(.018,a.fps);a.vx2=.00001<Math.abs(a.bounce)?a.vx2+.15*(a.vr-a.vx2):a.vx2;a.vr=.00001<Math.abs(a.bounce)?a.vr+.85*(a.vx2-a.vr):a.vr;a.vr2=Math.asin(div(a.vr,a.r));a.bounce=above(a.x2,1-a.r+.5*(a.aspecty-1));a.vx2=.00001<Math.abs(a.bounce)?.96*-Math.abs(a.vx2)+.1*(1-a.r-a.x2+.5*(a.aspecty-1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?\na.vy2+.15*(a.vr-a.vy2):a.vy2;a.vr=.00001<Math.abs(a.bounce)?a.vr+.85*(a.vy2-a.vr):a.vr;a.vr2=Math.asin(div(a.vr,a.r));a.bounce=below(a.x2,a.r-.5*(a.aspecty-1));a.x2+=a.vx2;a.vx2=.00001<Math.abs(a.bounce)?.96*Math.abs(a.vx2)+.1*(a.r-a.x2-.5*(a.aspecty-1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?a.vy2+.15*(-a.vr-a.vy2):a.vy2;a.vr=.00001<Math.abs(a.bounce)?a.vr-.85*(a.vy2+a.vr):a.vr;a.vr2=Math.asin(div(a.vr,a.r));a.vr=Math.sin(a.vr3)*a.r;a.bounce=below(a.y3,a.r-.5*(a.aspectx-1));a.y3+=a.vy3;a.vy3=.00001<\nMath.abs(a.bounce)?.96*Math.abs(a.vy3)+.1*(a.r-a.y3-.5*(a.aspectx-1)):a.vy3-div(.018,a.fps);a.vx3=.00001<Math.abs(a.bounce)?a.vx3+.15*(a.vr-a.vx3):a.vx3;a.vr=.00001<Math.abs(a.bounce)?a.vr+.85*(a.vx3-a.vr):a.vr;a.vr3=Math.asin(div(a.vr,a.r));a.bounce=above(a.x3,1-a.r+.5*(a.aspecty-1));a.vx3=.00001<Math.abs(a.bounce)?.96*-Math.abs(a.vx3)+.1*(1-a.r-a.x3+.5*(a.aspecty-1)):a.vx3;a.vy3=.00001<Math.abs(a.bounce)?a.vy3+.15*(a.vr-a.vy3):a.vy3;a.vr=.00001<Math.abs(a.bounce)?a.vr+.85*(a.vy3-a.vr):a.vr;a.vr3=\nMath.asin(div(a.vr,a.r));a.bounce=below(a.x3,a.r-.5*(a.aspecty-1));a.x3+=a.vx3;a.vx3=.00001<Math.abs(a.bounce)?.96*Math.abs(a.vx3)+.1*(a.r-a.x3-.5*(a.aspecty-1)):a.vx3;a.vy3=.00001<Math.abs(a.bounce)?a.vy3+.15*(-a.vr-a.vy3):a.vy3;a.vr=.00001<Math.abs(a.bounce)?a.vr-.85*(a.vy3+a.vr):a.vr;a.vr3=Math.asin(div(a.vr,a.r));a.bounce=below(sqrt(sqr(a.x1+a.vx1-a.x2-a.vx2)+sqr(a.y1+a.vy1-a.y2-a.vy2)),2*a.r);a.bounce*=below(sqrt(sqr(a.x1+a.vx1-a.x2-a.vx2)+sqr(a.y1+a.vy1-a.y2-a.vy2)),sqrt(sqr(a.x1-a.x2)+sqr(a.y1-\na.y2)));a.ref_ang=Math.atan2(a.x2-a.x1,a.y2-a.y1)+Math.asin(1);a.v1=sqrt(a.vx1*a.vx1+a.vy1*a.vy1);a.v2=sqrt(a.vx2*a.vx2+a.vy2*a.vy2);a.w1=Math.atan2(a.vx1,a.vy1);a.w2=Math.atan2(a.vx2,a.vy2);a.vr=Math.sin(a.vr1)*a.r;a.v2r=Math.sin(a.vr2)*a.r;a.vx1=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+.1*(a.vr-a.v2r-Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang))+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?\nMath.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+.1*(a.vr-a.v2r-Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang))+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy1;a.vx2=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+.1*(a.v2r-a.vr-Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang))+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+\n.1*(a.v2r-a.vr-Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang))+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy2;a.vr=.00001<Math.abs(a.bounce)?a.vr+.9*(Math.cos(a.w1-a.ref_ang)*(a.v1-a.v2)-a.vr):a.vr;a.vr1=Math.asin(div(a.vr,a.r));a.v2r=.00001<Math.abs(a.bounce)?a.v2r+.9*(Math.cos(a.w2-a.ref_ang)*(a.v2-a.v1)-a.v2r):a.v2r;a.vr2=Math.asin(div(a.v2r,a.r));a.bounce=below(sqrt(sqr(a.x1+a.vx1-a.x3-a.vx3)+sqr(a.y1+a.vy1-a.y3-a.vy3)),2*a.r);a.bounce*=below(sqrt(sqr(a.x1+\na.vx1-a.x3-a.vx3)+sqr(a.y1+a.vy1-a.y3-a.vy3)),sqrt(sqr(a.x1-a.x3)+sqr(a.y1-a.y3)));a.ref_ang=Math.atan2(a.x3-a.x1,a.y3-a.y1)+Math.asin(1);a.v1=sqrt(a.vx1*a.vx1+a.vy1*a.vy1);a.v2=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);a.w1=Math.atan2(a.vx1,a.vy1);a.w2=Math.atan2(a.vx3,a.vy3);a.vr=Math.sin(a.vr1)*a.r;a.v2r=Math.sin(a.vr3)*a.r;a.vx1=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+.1*(a.vr-a.v2r-Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang))+Math.sin(a.ref_ang+Math.asin(1))*a.v2*\nMath.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+.1*(a.vr-a.v2r-Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang))+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy1;a.vx3=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+.1*(a.v2r-a.vr-Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang))+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx3;\na.vy3=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+.1*(a.v2r-a.vr-Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang))+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy3;a.vr=.00001<Math.abs(a.bounce)?a.vr+.9*(Math.cos(a.w1-a.ref_ang)*(a.v1-a.v2)-a.vr):a.vr;a.vr1=Math.asin(div(a.vr,a.r));a.v2r=.00001<Math.abs(a.bounce)?a.v2r+.9*(Math.cos(a.w2-a.ref_ang)*(a.v2-a.v1)-a.v2r):a.v2r;a.vr3=Math.asin(div(a.v2r,a.r));a.bounce=below(sqrt(sqr(a.x3+\na.vx3-a.x2-a.vx2)+sqr(a.y3+a.vy3-a.y2-a.vy2)),2*a.r);a.bounce*=below(sqrt(sqr(a.x2+a.vx2-a.x3-a.vx3)+sqr(a.y2+a.vy2-a.y3-a.vy3)),sqrt(sqr(a.x2-a.x3)+sqr(a.y2-a.y3)));a.ref_ang=Math.atan2(a.x2-a.x3,a.y2-a.y3)+Math.asin(1);a.v1=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);a.v2=sqrt(a.vx2*a.vx2+a.vy2*a.vy2);a.w1=Math.atan2(a.vx3,a.vy3);a.w2=Math.atan2(a.vx2,a.vy2);a.vr=Math.sin(a.vr3)*a.r;a.v2r=Math.sin(a.vr2)*a.r;a.vx3=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+.1*(a.vr-a.v2r-Math.sin(a.ref_ang)*\na.v1*Math.cos(a.w1-a.ref_ang))+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx3;a.vy3=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+.1*(a.vr-a.v2r-Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang))+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy3;a.vx2=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+.1*(a.v2r-a.vr-Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang))+Math.sin(a.ref_ang+\nMath.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+.1*(a.v2r-a.vr-Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang))+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy2;a.vr=.00001<Math.abs(a.bounce)?a.vr+.9*(Math.cos(a.w1-a.ref_ang)*(a.v1-a.v2)-a.vr):a.vr;a.vr3=Math.asin(div(a.vr,a.r));a.v2r=.00001<Math.abs(a.bounce)?a.v2r+.9*(Math.cos(a.w2-a.ref_ang)*(a.v2-a.v1)-a.v2r):a.v2r;\na.vr2=Math.asin(div(a.v2r,a.r));a.q1=a.aspectx;a.q2=a.aspecty;a.q3=2*a.r;a.q4=a.x1;a.q5=a.y1;a.q6=a.vr1;a.q7=a.x2;a.q8=a.y2;a.q9=a.vr2;a.q10=a.x3;a.q11=a.y3;a.q12=a.vr3;a.q13=Math.atan2(div(a.x1+a.x2+a.x3,3)-.5,div(a.y1+a.y2+a.y3,3)-.5);a.q14=.2*sigmoid(sqrt(sqr(div(a.x1+a.x2+a.x3,3)-.5)+sqr(div(a.y1+a.y2+a.y3,3)-.5)),2);", pixel_eqs_str: "a.du=2*a.x-1-div(2*(a.q4+a.q7+a.q10-1.5),3);a.dv=2*a.y-1+div(2*(a.q5+a.q8+a.q11-1.5),3);a.dist=sqrt(a.du*a.du+a.dv*a.dv);a.ang2=Math.atan2(a.du,a.dv);a.mult=.4*Math.sin(.05*a.dist)*a.q14;a.dx=a.mult*Math.sin(2*a.ang2+a.q13)*a.aspectx;a.dy=a.mult*Math.cos(2*a.ang2+a.q13)*a.aspecty;", warp: " shader_body { \n  float n_1;\n  vec3 ret_2;\n  vec4 tmpvar_3;\n  tmpvar_3 = texture (sampler_pw_main, uv);\n  ret_2 = tmpvar_3.xyz;\n  n_1 = (clamp ((texture (sampler_pw_main, \n    (uv + texsize.zw)\n  ).x * 999.0), 0.0, 1.0) + clamp ((texture (sampler_pw_main, \n    (uv + (texsize.zw * vec2(1.0, 0.0)))\n  ).x * 999.0), 0.0, 1.0));\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \n    (uv + (texsize.zw * vec2(1.0, -1.0)))\n  ).x * 999.0), 0.0, 1.0));\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \n    (uv + (texsize.zw * vec2(0.0, 1.0)))\n  ).x * 999.0), 0.0, 1.0));\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \n    (uv + (texsize.zw * vec2(0.0, -1.0)))\n  ).x * 999.0), 0.0, 1.0));\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \n    (uv + (texsize.zw * vec2(-1.0, 1.0)))\n  ).x * 999.0), 0.0, 1.0));\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \n    (uv + (texsize.zw * vec2(-1.0, 0.0)))\n  ).x * 999.0), 0.0, 1.0));\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \n    (uv - texsize.zw)\n  ).x * 999.0), 0.0, 1.0));\n  if ((n_1 < 1.9)) {\n    ret_2 = (tmpvar_3.xyz - 0.4);\n  };\n  if ((n_1 > 3.1)) {\n    ret_2 = (ret_2 - 0.4);\n  };\n  bool tmpvar_4;\n  if ((ret_2.x < 0.1)) {\n    tmpvar_4 = (abs((n_1 - 3.0)) < 0.5);\n  } else {\n    tmpvar_4 = bool(0);\n  };\n  if (tmpvar_4) {\n    ret_2 = (ret_2 + 0.4);\n  };\n  vec4 tmpvar_5;\n  tmpvar_5.w = 1.0;\n  tmpvar_5.xyz = ret_2;\n  ret = tmpvar_5.xyz;\n }", comp: " shader_body { \n  vec3 ret2_1;\n  vec3 ret_2;\n  vec2 tmpvar_3;\n  tmpvar_3 = (texsize.zw * 8.0);\n  vec2 tmpvar_4;\n  tmpvar_4.x = (((texture (sampler_blur1, \n    (uv + (vec2(1.0, 0.0) * tmpvar_3))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(1.0, 0.0) * tmpvar_3))\n  ).xyz * scale1) + bias1)).y;\n  tmpvar_4.y = (((texture (sampler_blur1, \n    (uv + (vec2(0.0, 1.0) * tmpvar_3))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(0.0, 1.0) * tmpvar_3))\n  ).xyz * scale1) + bias1)).y;\n  vec2 tmpvar_5;\n  tmpvar_5 = (uv + (tmpvar_4 * 0.55));\n  vec4 tmpvar_6;\n  tmpvar_6 = texture (sampler_blur3, uv);\n  ret_2 = (vec3((0.25 * dot (\n    clamp ((2.0 * ((tmpvar_6.xyz * scale3) + bias3)), 0.0, 1.0)\n  , vec3(0.32, 0.49, 0.29)))) - (0.8 * dot (\n    clamp (((20.0 * (\n      (0.6 * ((texture (sampler_blur2, uv).xyz * scale2) + bias2))\n     - 0.01)) - 2.0), 0.0, 1.0)\n  , vec3(0.32, 0.49, 0.29))));\n  vec4 tmpvar_7;\n  tmpvar_7 = texture (sampler_blur1, uv);\n  ret_2 = (ret_2 + dot (clamp (\n    ((30.0 * ((texture (sampler_main, uv).xyz + \n      (((tmpvar_7.xyz * scale1) + bias1) * 0.15)\n    ) - 0.01)) - 2.0)\n  , 0.0, 1.0), vec3(0.32, 0.49, 0.29)));\n  ret_2 = (ret_2 + 1.0);\n  vec3 tmpvar_8;\n  tmpvar_8 = mix (ret_2, (ret_2 * (\n    ((texture (sampler_blur3, tmpvar_5).xyz * scale3) + bias3)\n   - \n    ((texture (sampler_blur1, tmpvar_5).xyz * scale1) + bias1)\n  )), pow (hue_shader, ret_2));\n  ret2_1 = (vec3((-0.5 * dot (\n    ((texture (sampler_blur3, tmpvar_5).xyz * scale3) + bias3)\n  , vec3(0.32, 0.49, 0.29)))) + (0.8 * (\n    (texture (sampler_blur1, tmpvar_5).xyz * scale1)\n   + bias1)));\n  ret2_1 = (ret2_1 - (0.9 * texture (sampler_main, tmpvar_5).xyz));\n  ret2_1 = (ret2_1 - 1.5);\n  vec3 tmpvar_9;\n  tmpvar_9 = mix (ret2_1, (ret2_1 * (\n    ((tmpvar_6.xyz * scale3) + bias3)\n   - \n    ((tmpvar_7.xyz * scale1) + bias1)\n  )), pow (hue_shader.zxy, tmpvar_8));\n  ret2_1 = tmpvar_9;\n  vec3 tmpvar_10;\n  tmpvar_10 = abs((tmpvar_8 - tmpvar_9));\n  ret_2 = (tmpvar_10 * tmpvar_10);\n  ret_2 = (ret_2 * 1.15);\n  vec4 tmpvar_11;\n  tmpvar_11.w = 1.0;\n  tmpvar_11.xyz = ret_2;\n  ret = tmpvar_11.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 4, gammaadj: 1, decay: 0.9, echo_zoom: 1, wave_brighten: 0, wrap: 0, wave_a: 1e-3, wave_scale: 5.715, wave_smoothing: 0.9, modwavealphastart: 1, modwavealphaend: 1, warpanimspeed: 0.162, warpscale: 5.582, zoomexp: 0.32104, zoom: 0.9901, warp: 0.11563, wave_r: 0, wave_g: 0, wave_b: 0, ob_size: 0, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 1, mv_x: 64, mv_y: 48, mv_l: 0, mv_b: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 1, sides: 100, thickoutline: 1, textured: 1, rad: 0.05343, tex_zoom: 12.77228, g: 1, b: 1, a: 0, r2: 1, b2: 1, a2: 1, border_g: 0, border_a: 0}, init_eqs_str: "a.vx=0;a.vy=0;", frame_eqs_str: ""}, {baseVals: {enabled: 1, sides: 100, textured: 1, y: 0.75, rad: 0.46753, g: 1, b: 1, r2: 1, b2: 1, border_a: 0}, init_eqs_str: "a.w=0;a.q1=0;", frame_eqs_str: "a.w=4*-Math.atan2(.5,a.q1)+4*Math.asin(1);a.ang=a.w;a.x=.5+.19*Math.sin(a.w);a.y=.5+.26*Math.cos(a.w);"}, {baseVals: {enabled: 1, sides: 100, textured: 1, y: 0.75, rad: 0.46753, g: 1, b: 1, r2: 1, b2: 1, border_a: 0}, init_eqs_str: "a.w=0;a.q1=0;", frame_eqs_str: "a.w=4*-Math.atan2(.5,a.q1)+4*Math.asin(1)+div(2*Math.asin(1),3);a.ang=a.w;a.x=.5+.19*Math.sin(a.w);a.y=.5+.26*Math.cos(a.w);"}, {baseVals: {enabled: 1, sides: 100, textured: 1, y: 0.75, rad: 0.46753, g: 1, b: 1, r2: 1, b2: 1, border_a: 0}, init_eqs_str: "a.w=0;a.q1=0;", frame_eqs_str: "a.w=4*-Math.atan2(.5,a.q1)+4*Math.asin(1)-div(2*Math.asin(1),3);a.ang=a.w;a.x=.5+.19*Math.sin(a.w);a.y=.5+.26*Math.cos(a.w);"}], waves: [{baseVals: {enabled: 1, usedots: 1, thick: 1, additive: 1, scaling: 2.44415, smoothing: 0}, init_eqs_str: "a.d=0;a.n=0;a.y1=0;a.xx=0;a.z=0;a.w=0;a.t5=0;a.t1=0;a.x1=0;a.cl3=0;a.j3=0;a.cl2=0;a.zoom=0;a.j=0;a.cl1=0;a.t8=0;a.v=0;a.t3=0;a.t6=0;a.pi3=0;a.t7=0;a.c2=0;a.j2=0;a.s3=0;a.t=0;a.k=0;a.zz=0;a.c3=0;a.t2=0;a.bb=0;a.s1=0;a.s2=0;a.t4=0;a.yy=0;a.c=0;a.c1=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;", frame_eqs_str: "a.t1=0;a.v=.01;a.j+=.01*a.bass;a.j2+=.01*a.mid_att;a.j3+=.01*a.treb_att;a.t2=a.j;a.t3=a.j2;a.t4=a.j3;a.k=.99*a.k+div(10*a.mid,a.fps);a.t5=-a.k;a.cl1=a.cl1-.0005-.003*a.bass;a.cl1=.00001<Math.abs(above(a.cl1,1))?0:a.cl1;a.cl1=.00001<Math.abs(below(a.cl1,0))?1:a.cl1;a.t8=a.cl1;a.cl2=a.cl2+.0001+.001*a.mid-.0005*a.bass-.0005*a.treb;a.cl2=.00001<Math.abs(above(a.cl2,1))?0:a.cl2;a.cl2=.00001<Math.abs(below(a.cl2,0))?1:a.cl2;a.t7=a.cl2;a.cl3=a.cl3+.0001+.001*a.treb-.0005*a.bass-.0005*\na.mid;a.cl3=.00001<Math.abs(above(a.cl3,1))?0:a.cl3;a.cl3=.00001<Math.abs(below(a.cl3,0))?1:a.cl3;a.t6=a.cl3;", point_eqs_str: "a.xx=div(mod(983624912364*a.sample,1E7)+100,1E7);a.yy=div(mod(1896575575*a.xx,1E7)+100,1E7);a.zz=div(mod(58652340875*a.yy,1E7)+100,1E7);a.d=sqrt(sqr(a.xx)+sqr(a.yy)+sqr(a.zz));a.zz=a.zz+a.t8-(.00001<Math.abs(above(a.zz+a.t8,1))?1:0)-.5;a.xx=a.xx+a.t7-(.00001<Math.abs(above(a.xx+a.t7,1))?1:0)-.5;a.yy=a.yy+a.t6-(.00001<Math.abs(above(a.yy+a.t6,1))?1:0)-.5;a.v=.001;a.w=1;a.bb=a.d*a.d*.5;a.n=.3;a.s1=Math.sin(Math.sin(a.t2*a.w+a.bb)*a.n);a.s2=Math.sin(Math.sin(a.t3*a.w+a.bb)*a.n);\na.s3=Math.sin(Math.sin(a.t4*a.w+a.bb)*a.n);a.c1=Math.cos(Math.sin(a.t2*a.w+a.bb)*a.n);a.c2=Math.cos(Math.sin(a.t3*a.w+a.bb)*a.n);a.c3=Math.cos(Math.sin(a.t4*a.w+a.bb)*a.n);a.z=(a.c3*a.s1*a.c2+a.s3*a.s2)*a.xx-(a.c3*a.s1*a.s2-a.s3*a.c2)*a.yy+a.c3*a.c1*a.zz;a.x1=a.c1*a.c2*a.xx+a.c1*a.s2*a.yy-a.s1*a.zz;a.y1=(a.s3*a.s1*a.c2-a.c3*a.s2)*a.xx+(a.s3*a.s1*a.s2+a.c3*a.c2)*a.yy+a.s3*a.c1*a.zz;a.zoom=.5*div(1,a.z+.5);a.x=.5+a.zoom*a.x1+0*Math.sin(.1*a.time);a.y=.5+a.zoom*a.y1+0*Math.cos(.16801*a.time);a.pi3=2.0941239;\na.t=2*a.z+1*a.t2;a.c=3;a.r=Math.sin(a.t)*a.c;a.g=Math.sin(a.t+a.pi3)*a.c;a.b=Math.sin(a.t-a.pi3)*a.c;a.r=.00001<Math.abs(above(a.r,1))?1:a.r;a.r=.00001<Math.abs(below(a.r,0))?0:a.r;a.g=.00001<Math.abs(above(a.g,1))?1:a.g;a.g=.00001<Math.abs(below(a.g,0))?0:a.g;a.b=.00001<Math.abs(above(a.b,1))?1:a.b;a.b=.00001<Math.abs(below(a.b,0))?0:a.b;a.a=-a.z+.7;"}, {baseVals: {enabled: 1, thick: 1, scaling: 2.44415, smoothing: 0, a: 0.05}, init_eqs_str: "a.t8=0;a.q1=0;a.pi3=0;a.t=0;a.q4=0;a.q6=0;a.c=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;", frame_eqs_str: "a.t8=1;", point_eqs_str: "a.t8=-a.t8;a.y=.48*a.sample;a.x=.5+.04*a.t8-a.t8*a.sample*.02+(sqr(2*a.sample-1)-1)*a.q1*.5;a.pi3=2.0941239;a.t=10*-(a.q4-a.q6)+a.sample*Math.asin(1)*4.01;a.c=9;a.r=Math.sin(a.t)*a.c;a.g=Math.sin(a.t+a.pi3)*a.c;a.b=Math.sin(a.t-a.pi3)*a.c;a.r=.00001<Math.abs(above(a.r,1))?1:a.r;a.r=.00001<Math.abs(below(a.r,0))?0:a.r;a.g=.00001<Math.abs(above(a.g,1))?1:a.g;a.g=.00001<Math.abs(below(a.g,0))?0:a.g;a.b=.00001<Math.abs(above(a.b,1))?1:a.b;a.b=.00001<Math.abs(below(a.b,0))?0:a.b;\n"}, {baseVals: {enabled: 1, samples: 49, scaling: 2.44415, smoothing: 0, r: 0, g: 0, b: 0}, init_eqs_str: "a.t8=0;a.q1=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;", frame_eqs_str: "a.t8=1;", point_eqs_str: "a.t8=-1;a.y=.48*a.sample;a.x=.5+.04*a.t8-a.t8*a.sample*.02+(sqr(2*a.sample-1)-1)*a.q1*.5;"}, {baseVals: {enabled: 1, samples: 49, scaling: 2.44415, smoothing: 0, r: 0, g: 0, b: 0}, init_eqs_str: "a.t8=0;a.q1=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;", frame_eqs_str: "a.t8=1;", point_eqs_str: "a.t8=1;a.y=.48*a.sample;a.x=.5+.04*a.t8-a.t8*a.sample*.02+(sqr(2*a.sample-1)-1)*a.q1*.5;"}], init_eqs_str: "a.d=0;a.vt=0;a.q6=0;a.q1=0;a.q5=0;a.vb=0;a.q9=0;a.v=0;a.mm=0;a.tt=0;a.q4=0;a.bb=0;a.q2=0;a.q3=0;a.vvm=0;a.vvb=0;a.vm=0;a.vvt=0;a.x1=0;a.y1=0;", frame_eqs_str: "a.zoom=1;a.q1=.1*(a.bass-a.treb);a.vvb=.00001<Math.abs(below(a.vvb,0))?0:a.vvb;a.vvm=.00001<Math.abs(below(a.vvm,0))?0:a.vvm;a.vvt=.00001<Math.abs(below(a.vvt,0))?0:a.vvt;a.vb=.85*a.vb+(1-a.vb)*pow(a.bass,2)*.001;a.vvb=.95*a.vvb+(1-a.vvb)*a.vb*.2;a.vm=.85*a.vm+(1-a.vm)*pow(a.mid,2)*.01;a.vvm=.95*a.vvm+(1-a.vvm)*a.vm*.2;a.vt=.85*a.vt+(1-a.vt)*pow(a.treb,2)*.001;a.vvt=.95*a.vvt+(1-a.vvt)*a.vt*.2;a.q1=(a.vvb-a.vvt)*a.vvm;a.q2=a.vvm;a.q3=a.vvt;a.v=.2;a.d=0;a.bb=a.bb+a.vvb*a.v-a.d;\na.mm=a.mm+a.vvm*a.v-a.d;a.tt=a.tt+a.vvt*a.v-a.d;a.q4=a.bb;a.q5=a.mm;a.q6=a.tt;a.q4=.00001<Math.abs(above(Math.abs(a.q1),.02))?.99:1;a.q9=.5+.5*Math.sin(.14*a.time);", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = (texture (sampler_fc_main, uv) * q4).xyz;\n  ret = tmpvar_1.xyz;\n }", comp: " shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1.x = 0.5;\n  tmpvar_1.y = (1.0 - q9);\n  vec2 tmpvar_2;\n  tmpvar_2 = (uv_orig - tmpvar_1);\n  float tmpvar_3;\n  tmpvar_3 = (3.0 / tmpvar_2.y);\n  vec2 tmpvar_4;\n  tmpvar_4.x = ((tmpvar_2.x * tmpvar_3) * q9);\n  tmpvar_4.y = (tmpvar_3 * q9);\n  vec4 tmpvar_5;\n  tmpvar_5 = texture (sampler_main, fract(((1.0 - \n    abs(((fract(\n      ((tmpvar_2 + vec2(0.5, 1.0)) * 0.5)\n    ) * 2.0) - 1.0))\n  ) - (\n    ((texture (sampler_noise_hq, ((tmpvar_4 * 0.05) + (vec2(0.1, -0.05) * time))) - 0.5) * float(int((tmpvar_2.y > 0.0))))\n  .xy * 0.025))));\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = (((tmpvar_5.xyz * tmpvar_5.xyz) * 1.4) - 0.04);\n  ret = tmpvar_6.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.56, decay: 1, echo_zoom: 0.362, echo_orient: 1, wave_thick: 1, wave_brighten: 0, darken: 1, wave_a: 1e-3, wave_scale: 1.599, wave_smoothing: 0, wave_mystery: -0.5, modwavealphastart: 2, modwavealphaend: 2, warpscale: 0.107, zoomexp: 0.1584, fshader: 1, warp: 0.01, wave_r: 0.51, wave_g: 0.5, ob_size: 0, ob_a: 1, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 1, mv_x: 64, mv_y: 48, mv_l: 0.5, mv_r: 0, mv_g: 0, mv_b: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.d=0;a.y3=0;a.y1=0;a.xx=0;a.s=0;a.t1=0;a.x1=0;a.vx3=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.v=0;a.vx4=0;a.mm=0;a.tt=0;a.grav=0;a.x3=0;a.xx2=0;a.q4=0;a.a=0;a.yy1=0;a.vy4=0;a.dir=0;a.bounce=0;a.x4=0;a.r=0;a.x2=0;a.mx=0;a.mn=0;a.vy2=0;a.y2=0;a.bb=0;a.q2=0;a.m1=0;a.spring=0;a.vx2=0;a.q3=0;a.resist=0;a.yy=0;a.y4=0;a.vy3=0;a.xx1=0;a.b1=0;a.q8=0;", frame_eqs_str: "a.ib_r=.3*Math.sin(5*a.time)+.7;a.ib_g=.3*Math.sin(4*a.time)+.3;a.ib_b=.5*Math.sin(4*div(a.time,3))+.5;a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+2*(a.xx1-a.xx2);a.y1=.4+a.yy1;a.x1=Math.max(0,Math.min(1,a.x1));a.y1=Math.max(0,Math.min(1,a.y1));a.spring=10;a.grav=.5;a.resist=1;a.bounce=.75;a.dt=.0002*div(60,a.fps);a.vx2=a.vx2*(1-a.resist*a.dt)+a.dt*(a.x1+a.x3-2*a.x2)*a.spring;a.vy2=a.vy2*(1-a.resist*a.dt)+a.dt*((a.y1+a.y3-\n2*a.y2)*a.spring-a.grav);a.vx3=a.vx3*(1-a.resist*a.dt)+a.dt*(a.x2+a.x4-2*a.x3)*a.spring;a.vy3=a.vy3*(1-a.resist*a.dt)+a.dt*((a.y2+a.y4-2*a.y3)*a.spring-a.grav);a.vx4=a.vx4*(1-a.resist*a.dt)+a.dt*(a.x3-a.x4)*a.spring;a.vy4=a.vy4*(1-a.resist*a.dt)+a.dt*((a.y3-a.y4)*a.spring-a.grav);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:Math.abs(a.vx2)*a.bounce;a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:-Math.abs(a.vx2)*a.bounce;a.vx3=.00001<\nMath.abs(above(a.x3,0))?a.vx3:Math.abs(a.vx3)*a.bounce;a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:-Math.abs(a.vx3)*a.bounce;a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:Math.abs(a.vx4)*a.bounce;a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:-Math.abs(a.vx4)*a.bounce;a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:Math.abs(a.vy2)*a.bounce;a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:-Math.abs(a.vy2)*a.bounce;a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:Math.abs(a.vy3)*a.bounce;a.vy3=.00001<Math.abs(below(a.y3,1))?\na.vy3:-Math.abs(a.vy3)*a.bounce;a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:Math.abs(a.vy4)*a.bounce;a.vy4=.00001<Math.abs(below(a.y4,1))?a.vy4:-Math.abs(a.vy4)*a.bounce;a.q4=a.x4;a.q8=a.y4;a.q1=a.aspectx;a.q2=a.aspecty;a.zoom=1;a.warp=0;a.bb=.99*a.bb+.02*a.bass;a.mm=.99*a.mm+.02*a.mid;a.tt=.99*a.tt+.02*a.treb;a.mx=Math.max(Math.max(a.bb,a.mm),a.tt);a.mn=Math.min(Math.min(a.bb,a.mm),a.tt);a.ob_r=div(a.bb-a.mn,a.mx-a.mn);a.ob_b=div(a.mm-a.mn,a.mx-a.mn);a.ob_g=div(a.tt-a.mn,a.mx-a.mn);a.q6=Math.atan2(a.vx4,\na.vy4);a.q5=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.a=.95*a.a+a.q5;a.s=.9*a.s+a.a;a.q3=.1*a.s;a.monitor=a.s;a.wave_a=0;", pixel_eqs_str: "a.x=.5+(a.x-.5)*a.q1;a.y=.5+(a.y-.5)*a.q2;a.dir=-a.q6+0*Math.asin(1);a.b1=.1;a.m1=25*a.q5;a.t1=.05;a.xx=a.q4;a.yy=1-a.q8;a.dx=0;a.dy=0;a.d=sqrt((a.x-a.xx)*(a.x-a.xx)+(a.y-a.yy)*(a.y-a.yy));a.r=.05;a.v=-35*a.q5;a.dx=a.v*Math.sin(a.dir)*(a.r-a.d)*(1-sigmoid(a.d-a.r,200))*a.q2;a.dy=a.v*Math.cos(a.dir)*(a.r-a.d)*(1-sigmoid(a.d-a.r,200))*a.q1;", warp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  vec4 tmpvar_2;\n  tmpvar_2 = texture (sampler_main, uv);\n  tmpvar_1.xyz = ((texture (sampler_main, clamp (\n    (uv - (((vec2(0.0, 32.0) * texsize.zw) * dot (\n      (tmpvar_2.xyz - 0.35)\n    , vec3(0.32, 0.49, 0.29))) * (dot (tmpvar_2.xyz, vec3(0.32, 0.49, 0.29)) - 0.4)))\n  , 0.0, 1.0)).xyz - 0.0011) + ((texture (sampler_noise_lq, \n    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.5)) + rand_frame.xy)\n  ) - 0.5) * 0.0038).xyz);\n  ret = tmpvar_1.xyz;\n }", comp: " shader_body { \n  vec2 uv1_1;\n  vec2 tmpvar_2;\n  tmpvar_2.y = 0.0;\n  tmpvar_2.x = texsize.z;\n  vec2 tmpvar_3;\n  tmpvar_3.x = 0.0;\n  tmpvar_3.y = texsize.w;\n  vec2 tmpvar_4;\n  tmpvar_4.x = (texture (sampler_main, (uv - tmpvar_2)).xyz - texture (sampler_main, (uv + tmpvar_2)).xyz).x;\n  tmpvar_4.y = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;\n  uv1_1 = ((0.3 * cos(\n    ((uv - 0.5) * 2.0)\n  )) - tmpvar_4);\n  float tmpvar_5;\n  tmpvar_5 = clamp ((0.04 / sqrt(\n    dot (uv1_1, uv1_1)\n  )), 0.0, 1.0);\n  uv1_1 = ((0.3 * cos(\n    (uv1_1 * 12.0)\n  )) - (9.0 * tmpvar_4));\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = (tmpvar_5 + ((texture (sampler_main, uv).xyz * 12.0) * vec3(clamp (\n    (0.04 / sqrt(dot (uv1_1, uv1_1)))\n  , 0.0, 1.0))));\n  ret = tmpvar_6.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 1, modwavealphabyvolume: 1, wave_a: 0.207, wave_scale: 0.397, wave_smoothing: 0, wave_mystery: 0.24, modwavealphaend: 1.17, warpscale: 16.016, zoomexp: 11.56276, zoom: 1.05971, warp: 0.13126, ob_size: 5e-3, ob_a: 1, ib_size: 0, mv_x: 64, mv_y: 48, mv_l: 0, mv_r: 0.35, mv_g: 0.35, mv_b: 0.35, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.d=0;a.cx1=0;a.y3=0;a.y1=0;a.cy1=0;a.x1=0;a.vx3=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.v=0;a.vx4=0;a.grav=0;a.x3=0;a.xx2=0;a.q4=0;a.yy1=0;a.vy4=0;a.dir=0;a.bounce=0;a.x4=0;a.r=0;a.x2=0;a.vy2=0;a.y2=0;a.q2=0;a.spring=0;a.vx2=0;a.q3=0;a.resist=0;a.y4=0;a.q7=0;a.vy3=0;a.xx1=0;a.q8=0;", frame_eqs_str: "a.decay=1;a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+1.5*(a.xx1-a.xx2);a.y1=.5+a.yy1;a.spring=18;a.grav=1;a.resist=5;a.bounce=.9;a.dt=.0003;a.vx2=a.vx2*(1-a.resist*a.dt)+a.dt*(a.x1+a.x3-2*a.x2)*a.spring;a.vy2=a.vy2*(1-a.resist*a.dt)+a.dt*((a.y1+a.y3-2*a.y2)*a.spring-a.grav);a.vx3=a.vx3*(1-a.resist*a.dt)+a.dt*(a.x2+a.x4-2*a.x3)*a.spring;a.vy3=a.vy3*(1-a.resist*a.dt)+a.dt*((a.y2+a.y4-2*a.y3)*a.spring-a.grav);a.vx4=a.vx4*(1-\na.resist*a.dt)+a.dt*(a.x3-a.x4)*a.spring;a.vy4=a.vy4*(1-a.resist*a.dt)+a.dt*((a.y3-a.y4)*a.spring-a.grav);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:Math.abs(a.vx2)*a.bounce;a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:-Math.abs(a.vx2)*a.bounce;a.vx3=.00001<Math.abs(above(a.x3,0))?a.vx3:Math.abs(a.vx3)*a.bounce;a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:-Math.abs(a.vx3)*a.bounce;a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:Math.abs(a.vx4)*\na.bounce;a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:-Math.abs(a.vx4)*a.bounce;a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:Math.abs(a.vy2)*a.bounce;a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:-Math.abs(a.vy2)*a.bounce;a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:Math.abs(a.vy3)*a.bounce;a.vy3=.00001<Math.abs(below(a.y3,1))?a.vy3:-Math.abs(a.vy3)*a.bounce;a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:Math.abs(a.vy4)*a.bounce;a.vy4=.00001<Math.abs(below(a.y4,1))?a.vy4:-Math.abs(a.vy4)*a.bounce;a.q1=a.x1;a.q2=\na.x2;a.q3=a.x3;a.q4=a.x4;a.q5=a.y1;a.q6=a.y2;a.q7=a.y3;a.q8=a.y4;a.q6=Math.atan2(a.vx4,a.vy4);a.q5=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.zoom=1.001;a.rot=0;a.warp=.2;a.wave_a=0;", pixel_eqs_str: "a.r=.2;a.cx1=a.q4;a.cy1=a.q5;a.d=sqrt((a.x-a.cx1)*(a.x-a.cx1)+(a.y-a.cy1)*(a.y-a.cy1));a.dir=-(a.r*a.r-a.d*a.d)*a.q3;a.x1=.00001<Math.abs(above(a.d,a.r))?0:Math.sin(a.y-a.cy1)*a.dir;a.y1=.00001<Math.abs(above(a.d,a.r))?0:-Math.sin(a.x-a.cx1)*a.dir;a.v=1;a.dx=a.x1*a.v;a.dy=a.y1*a.v;", warp: " shader_body { \n  vec2 uv_1;\n  vec3 ret_2;\n  uv_1 = (0.5 + ((uv - 0.5) * 1.002));\n  vec2 tmpvar_3;\n  tmpvar_3 = (texsize.zw * 8.0);\n  vec3 tmpvar_4;\n  tmpvar_4 = (((texture (sampler_blur1, \n    (uv_1 + (vec2(1.0, 0.0) * tmpvar_3))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv_1 - (vec2(1.0, 0.0) * tmpvar_3))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_5;\n  tmpvar_5 = (((texture (sampler_blur1, \n    (uv_1 + (vec2(0.0, 1.0) * tmpvar_3))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv_1 - (vec2(0.0, 1.0) * tmpvar_3))\n  ).xyz * scale1) + bias1));\n  vec2 tmpvar_6;\n  tmpvar_6.x = tmpvar_4.x;\n  tmpvar_6.y = tmpvar_5.x;\n  vec2 tmpvar_7;\n  tmpvar_7 = fract(((0.5 + \n    (uv_1 - 0.5)\n  ) - (tmpvar_6 * texsize.zw)));\n  ret_2.x = texture (sampler_main, tmpvar_7).x;\n  ret_2.x = (ret_2.x + ((\n    (ret_2.x - ((texture (sampler_blur2, tmpvar_7).xyz * scale2) + bias2))\n  .x * 0.4) + 0.006));\n  vec2 tmpvar_8;\n  tmpvar_8.x = tmpvar_5.x;\n  tmpvar_8.y = -(tmpvar_4.x);\n  vec2 tmpvar_9;\n  tmpvar_9.x = tmpvar_4.z;\n  tmpvar_9.y = tmpvar_5.z;\n  ret_2.z = max ((clamp (\n    (((texture (sampler_blur1, uv_1).xyz * scale1) + bias1).x - 0.3)\n  , 0.0, 1.0) * 2.0), (texture (sampler_fc_main, (\n    (uv_1 - ((tmpvar_8 * texsize.zw) * 8.0))\n   + \n    ((tmpvar_9 * texsize.zw) * 4.0)\n  )).z - 0.008));\n  vec2 tmpvar_10;\n  tmpvar_10.x = tmpvar_4.y;\n  tmpvar_10.y = tmpvar_5.y;\n  ret_2.y = max (ret_2.x, (texture (sampler_fc_main, (uv_1 + \n    (tmpvar_10 * texsize.zw)\n  )).y - 0.016));\n  vec4 tmpvar_11;\n  tmpvar_11.w = 1.0;\n  tmpvar_11.xyz = ret_2;\n  ret = tmpvar_11.xyz;\n }", comp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (texsize.zw * 6.0);\n  vec3 tmpvar_3;\n  tmpvar_3 = (((texture (sampler_blur1, \n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_4;\n  tmpvar_4 = (((texture (sampler_blur1, \n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec2 tmpvar_5;\n  tmpvar_5.x = dot (tmpvar_3, vec3(0.32, 0.49, 0.29));\n  tmpvar_5.y = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));\n  vec2 tmpvar_6;\n  tmpvar_6 = (uv - (0.25 * tmpvar_5));\n  vec2 tmpvar_7;\n  tmpvar_7.x = dot (tmpvar_3, vec3(0.32, 0.49, 0.29));\n  tmpvar_7.y = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));\n  vec2 tmpvar_8;\n  tmpvar_8 = (uv + (0.25 * tmpvar_7));\n  ret_1 = ((0.8 * (\n    (texture (sampler_blur3, tmpvar_6).xyz * scale3)\n   + bias3)) - ((texture (sampler_blur1, tmpvar_6).xyz * scale1) + bias1));\n  ret_1 = (ret_1 + (0.6 * (\n    (texture (sampler_blur1, uv).xyz * scale1)\n   + bias1)));\n  ret_1 = (ret_1 - ((\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur1, tmpvar_8).xyz * scale1)\n   + bias1)));\n  ret_1 = (ret_1 + ((1.2 * texture (sampler_main, tmpvar_8).xyz) + (0.15 * \n    ((texture (sampler_blur1, tmpvar_8).xyz * scale1) + bias1)\n  )));\n  ret_1 = (ret_1 + 1.0);\n  float tmpvar_9;\n  tmpvar_9 = dot (ret_1, vec3(0.32, 0.49, 0.29));\n  ret_1 = (mix (vec3(tmpvar_9), (\n    (0.75 * vec3(tmpvar_9))\n   * \n    dot ((((0.6 * \n      ((texture (sampler_blur3, tmpvar_6).xyz * scale3) + bias3)\n    ) - (0.7 * texture (sampler_main, uv).xyz)) - (0.3 * (\n      (texture (sampler_blur1, tmpvar_8).xyz * scale1)\n     + bias1))), vec3(0.32, 0.49, 0.29))\n  ), pow (hue_shader, vec3(tmpvar_9))) * 0.9);\n  ret_1 = (ret_1 * ret_1);\n  vec3 tmpvar_10;\n  tmpvar_10 = sqrt(ret_1);\n  ret_1 = tmpvar_10;\n  vec4 tmpvar_11;\n  tmpvar_11.w = 1.0;\n  tmpvar_11.xyz = tmpvar_10;\n  ret = tmpvar_11.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 4, gammaadj: 1, wave_thick: 1, wrap: 0, wave_a: 4e-3, wave_scale: 9.731, wave_smoothing: 0, wave_mystery: 1, modwavealphastart: 1, modwavealphaend: 1, warpanimspeed: 0.442, warpscale: 7.315, zoomexp: 1.50374, warp: 0.08563, wave_y: 0.04, ob_size: 0, ob_g: 1, ob_a: 1, ib_size: 0, ib_r: 1, ib_g: 0, ib_b: 0.75, ib_a: 1, mv_x: 64, mv_y: 48, mv_l: 0, mv_b: 0, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 1, sides: 3, additive: 1, num_inst: 400, rad: 0.16283, tex_zoom: 0.73458, g: 1, b: 1, a: 0.5, g2: 0, border_a: 0}, init_eqs_str: "a.bending=0;a.ppo=0;a.index=0;a.i3=0;a.dir=0;a.i4=0;a.size=0;a.q2=0;a.q32=0;a.sample=0;a.i3=0;a.i4=0;", frame_eqs_str: "a.i3=.00001<Math.abs(equal(a.instance,0))?0:a.i3;a.i4=.00001<Math.abs(equal(a.instance,0))?0:a.i4;a.ppo=8;a.index=a.i4*a.q32;a.sample=mod(a.i3,a.ppo);a.size=40*a.gmegabuf[Math.floor(a.index+4)];a.x=a.gmegabuf[Math.floor(a.index)];a.y=a.gmegabuf[Math.floor(a.index+1)];a.ang=a.gmegabuf[Math.floor(a.index+9)];a.rad=.05*a.size;a.r=a.gmegabuf[Math.floor(a.index+5)];a.g=a.gmegabuf[Math.floor(a.index+6)];a.b=a.gmegabuf[Math.floor(a.index+7)];a.sample=div(a.sample,a.ppo);a.bending=\n5*a.gmegabuf[Math.floor(a.index+12)]+5*a.gmegabuf[Math.floor(a.index+10)];a.dir=-a.ang+(a.sample-.4)*a.bending;a.ang=1.5*Math.asin(1)-a.dir+.05*a.bending;a.x+=.06*(a.sample-.3)*Math.cos(a.dir)*a.size+Math.sin(a.dir)*a.size*a.bending*.01;a.y+=.06*(a.sample-.3)*Math.sin(a.dir)*a.size-Math.cos(a.dir)*a.size*a.bending*.01;a.x=.5+div(a.x-.5,a.q2);a.rad=1.5*a.rad-.05*a.sample*a.size;a.i3+=1;a.i4=.00001<Math.abs(equal(mod(a.i3,a.ppo),0))?a.i4+1:a.i4;"}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 1, samples: 65, spectrum: 1, usedots: 1, thick: 1, additive: 1, scaling: 0.33408, smoothing: 0, a: 0}, init_eqs_str: "a.d=0;a.q32=0;a.t8=0;a.t1=0;a.t2=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;", frame_eqs_str: "a.t8=1;a.t1=.5;a.t2=.9;", point_eqs_str: "a.d=0;a.y=.2+a.value1+a.value2;a.x=.9-.8*a.sample;a.gmegabuf[Math.floor((64*a.sample-1)*a.q32+14)]=a.value1+a.value2;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.fric=0;a.d=0;a.nliststart=0;a.w=0;a.random=0;a.index2=0;a.index=0;a.w2=0;a.rotatefactor=0;a.ref_ang=0;a.smaller=0;a.dt=0;a.q1=0;a.j=0;a.v=0;a.count=0;a.shock=0;a.nn=0;a.vrr=0;a.check=0;a.gravity=0;a.vr2=0;a.direction=0;a.bouncefactor=0;a.smallestfind=0;a.distance=0;a.bounce=0;a.vr=0;a.vv1=0;a.vv2=0;a.vrr2=0;a.w1=0;a.attributes=0;a.i=0;a.m2=0;a.hit=0;a.q2=0;a.m1=0;a.h=0;a.v1=0;a.acceleration=0;a.findindex=0;a.friction=0;a.pi2=0;a.sample=0;a.v2=0;a.dampening=0;for(var b=a.i=\n0;1048576>b;b++)a.gmegabuf[Math.floor(a.i)]=0,a.i+=1;a.count=50;a.attributes=32;a.nliststart=24;a.minradius=.004;a.maxradius=.04;a.v=0;for(b=a.index=0;b<a.count;b++)a.gmegabuf[Math.floor(a.index*a.attributes)]=div(randint(1E3),1E3),a.gmegabuf[Math.floor(a.index*a.attributes+1)]=div(randint(1E3),1E3),a.gmegabuf[Math.floor(a.index*a.attributes+2)]=a.v*(div(randint(1E3),1E3)-.5),a.gmegabuf[Math.floor(a.index*a.attributes+3)]=a.v*(div(randint(1E3),1E3)-.5),a.gmegabuf[Math.floor(a.index*a.attributes+4)]=\na.minradius+div((a.maxradius-a.minradius)*(a.index+1),a.count),a.gmegabuf[Math.floor(a.index*a.attributes+5)]=0,a.gmegabuf[Math.floor(a.index*a.attributes+6)]=1,a.gmegabuf[Math.floor(a.index*a.attributes+7)]=1,a.gmegabuf[Math.floor(a.index*a.attributes+8)]=pow(a.gmegabuf[Math.floor(a.index*a.attributes+4)],3),a.gmegabuf[Math.floor(a.index*a.attributes+9)]=div(4*Math.asin(1)*randint(1E3),1E3),a.gmegabuf[Math.floor(a.index*a.attributes+10)]=0,a.gmegabuf[Math.floor(a.index*a.attributes+13)]=div(a.index,\na.count-1),a.gmegabuf[Math.floor(a.index*a.attributes+14)]=0,a.index+=1;a.q30=a.nliststart;a.q31=a.count;a.q32=a.attributes;", frame_eqs_str: "a.dt=div(1,a.fps);a.warp=0;a.zoom=1;a.wave_a=0;a.gravity=0*a.dt;a.dampening=0;a.friction=2048*a.dt;a.shock=.002;a.pi2=Math.asin(1);a.nn=3;a.check=2;a.bouncefactor=.1;a.rotatefactor=0;a.h=.5*(a.aspecty-1);a.w=.5*(a.aspectx-1);a.index=0;for(var c=a.index2=0;c<a.count;c++){a.random=div(randint(1E3),1E3);a.sample=a.gmegabuf[Math.floor(a.index+13)];a.gmegabuf[Math.floor(a.index+11)]=.92*a.gmegabuf[Math.floor(a.index+11)]-4*a.gmegabuf[Math.floor(a.index+12)]*a.dt+2*(a.random-.5)*\na.dt*a.gmegabuf[Math.floor(a.index+14)];a.gmegabuf[Math.floor(a.index+12)]+=60*a.gmegabuf[Math.floor(a.index+11)]*a.dt;a.v=sqrt(sqr(a.gmegabuf[Math.floor(a.index+2)])+sqr(a.gmegabuf[Math.floor(a.index+3)]));a.fric=Math.max(0,1-sqr(a.v*a.friction)-2*a.v);a.gmegabuf[Math.floor(a.index+2)]*=a.fric;a.gmegabuf[Math.floor(a.index+3)]*=a.fric;a.gmegabuf[Math.floor(a.index+10)]=a.gmegabuf[Math.floor(a.index+10)]*a.fric+a.v*a.gmegabuf[Math.floor(a.index+12)]*0;a.acceleration=0*a.random+.003*Math.abs(a.gmegabuf[Math.floor(a.index+\n11)]);a.direction=a.gmegabuf[Math.floor(a.index+9)]-a.pi2;a.gmegabuf[Math.floor(a.index+2)]+=Math.sin(a.direction)*a.acceleration;a.gmegabuf[Math.floor(a.index+3)]+=Math.cos(a.direction)*a.acceleration;a.gmegabuf[Math.floor(a.index)]+=60*a.gmegabuf[Math.floor(a.index+2)]*a.dt;a.gmegabuf[Math.floor(a.index+1)]+=60*a.gmegabuf[Math.floor(a.index+3)]*a.dt;a.gmegabuf[Math.floor(a.index+9)]+=.5*a.gmegabuf[Math.floor(a.index+10)];a.gmegabuf[Math.floor(a.index+3)]-=a.gravity;a.vr=Math.sin(a.gmegabuf[Math.floor(a.index+\n10)])*a.gmegabuf[Math.floor(a.index+4)];a.bounce=above(a.gmegabuf[Math.floor(a.index+1)],1-a.gmegabuf[Math.floor(a.index+4)]+a.w);a.gmegabuf[Math.floor(a.index+2)]=.00001<Math.abs(a.bounce)?a.gmegabuf[Math.floor(a.index+2)]+(a.vr+a.gmegabuf[Math.floor(a.index+2)])*a.rotatefactor:a.gmegabuf[Math.floor(a.index+2)];a.gmegabuf[Math.floor(a.index+3)]=.00001<Math.abs(a.bounce)?-Math.abs(a.gmegabuf[Math.floor(a.index+3)])*a.dampening-a.shock:a.gmegabuf[Math.floor(a.index+3)];a.vr=.00001<Math.abs(a.bounce)?\na.vr-(a.gmegabuf[Math.floor(a.index+2)]+a.vr)*(1-a.rotatefactor):a.vr;a.bounce=below(a.gmegabuf[Math.floor(a.index+1)],a.gmegabuf[Math.floor(a.index+4)]-a.w);a.gmegabuf[Math.floor(a.index+2)]=.00001<Math.abs(a.bounce)?a.gmegabuf[Math.floor(a.index+2)]+(a.vr-a.gmegabuf[Math.floor(a.index+2)])*a.rotatefactor:a.gmegabuf[Math.floor(a.index+2)];a.gmegabuf[Math.floor(a.index+3)]=.00001<Math.abs(a.bounce)?Math.abs(a.gmegabuf[Math.floor(a.index+3)])*a.dampening+a.shock:a.gmegabuf[Math.floor(a.index+3)];a.vr=\n.00001<Math.abs(a.bounce)?a.vr+(a.gmegabuf[Math.floor(a.index+2)]-a.vr)*(1-a.rotatefactor):a.vr;a.bounce=above(a.gmegabuf[Math.floor(a.index)],1-a.gmegabuf[Math.floor(a.index+4)]+a.h);a.gmegabuf[Math.floor(a.index+2)]=.00001<Math.abs(a.bounce)?-Math.abs(a.gmegabuf[Math.floor(a.index+2)])*a.dampening-a.shock:a.gmegabuf[Math.floor(a.index+2)];a.gmegabuf[Math.floor(a.index+3)]=.00001<Math.abs(a.bounce)?a.gmegabuf[Math.floor(a.index+3)]+(a.vr-a.gmegabuf[Math.floor(a.index+3)])*a.rotatefactor:a.gmegabuf[Math.floor(a.index+\n3)];a.vr=.00001<Math.abs(a.bounce)?a.vr+(a.gmegabuf[Math.floor(a.index+3)]-a.vr)*(1-a.rotatefactor):a.vr;a.bounce=below(a.gmegabuf[Math.floor(a.index)],a.gmegabuf[Math.floor(a.index+4)]-a.h);a.gmegabuf[Math.floor(a.index+2)]=.00001<Math.abs(a.bounce)?Math.abs(a.gmegabuf[Math.floor(a.index+2)])*a.dampening+a.shock:a.gmegabuf[Math.floor(a.index+2)];a.gmegabuf[Math.floor(a.index+3)]=.00001<Math.abs(a.bounce)?a.gmegabuf[Math.floor(a.index+3)]-(a.vr+a.gmegabuf[Math.floor(a.index+3)])*a.rotatefactor:a.gmegabuf[Math.floor(a.index+\n3)];a.vr=.00001<Math.abs(a.bounce)?a.vr-(a.gmegabuf[Math.floor(a.index+3)]+a.vr)*(1-a.rotatefactor):a.vr;a.gmegabuf[Math.floor(a.index+10)]=Math.asin(div(a.vr,a.gmegabuf[Math.floor(a.index+4)]));a.i=0;for(var b=a.j=0;b<a.count;b++)a.d=sqrt(sqr(a.gmegabuf[Math.floor(a.index)]-a.gmegabuf[Math.floor(a.i)])+sqr(a.gmegabuf[Math.floor(a.index+1)]-a.gmegabuf[Math.floor(a.i+1)])),a.d=.00001<Math.abs(equal(a.d,0))?10:a.d,a.d-=.5*(a.gmegabuf[Math.floor(a.index+4)]+a.gmegabuf[Math.floor(a.i+4)]),a.megabuf[Math.floor(a.j)]=\na.i,a.megabuf[Math.floor(a.j+1)]=a.d,a.j+=2,a.i+=a.attributes;for(b=a.i=0;b<a.nn;b++){a.j=a.i;a.smallestfind=10;a.findindex=-1;for(var d=0;d<a.count-a.j;d++)a.distance=a.megabuf[Math.floor(2*a.j+1)],a.smaller=above(a.smallestfind,a.distance),a.smallestfind=.00001<Math.abs(a.smaller)?a.distance:a.smallestfind,a.findindex=.00001<Math.abs(a.smaller)?2*a.j:a.findindex,a.j+=1;a.j=a.megabuf[Math.floor(2*a.i)];a.d=a.megabuf[Math.floor(2*a.i+1)];a.megabuf[Math.floor(2*a.i)]=a.megabuf[Math.floor(a.findindex)];\na.megabuf[Math.floor(2*a.i+1)]=a.megabuf[Math.floor(a.findindex+1)];a.megabuf[Math.floor(a.findindex)]=a.j;a.megabuf[Math.floor(a.findindex+1)]=a.d;a.i+=1}for(b=a.i=0;b<a.nn;b++)a.gmegabuf[Math.floor(a.index+a.nliststart+a.i)]=a.megabuf[Math.floor(2*a.i)],a.i+=1;for(b=a.i=0;b<a.check;b++)a.index2=a.megabuf[Math.floor(a.i)],a.hit=below(sqrt(sqr(a.gmegabuf[Math.floor(a.index)]-a.gmegabuf[Math.floor(a.index2)])+sqr(a.gmegabuf[Math.floor(a.index+1)]-a.gmegabuf[Math.floor(a.index2+1)])),a.gmegabuf[Math.floor(a.index+\n4)]+a.gmegabuf[Math.floor(a.index2+4)])*above(sqrt(sqr(a.gmegabuf[Math.floor(a.index)]-a.gmegabuf[Math.floor(a.index2)])+sqr(a.gmegabuf[Math.floor(a.index+1)]-a.gmegabuf[Math.floor(a.index2+1)])),sqrt(sqr(a.gmegabuf[Math.floor(a.index+0)]-a.gmegabuf[Math.floor(a.index2+0)]+a.gmegabuf[Math.floor(a.index+2)]-a.gmegabuf[Math.floor(a.index2+2)])+sqr(a.gmegabuf[Math.floor(a.index+1)]-a.gmegabuf[Math.floor(a.index2+1)]+a.gmegabuf[Math.floor(a.index+3)]-a.gmegabuf[Math.floor(a.index2+3)]))),a.ref_ang=Math.atan2(a.gmegabuf[Math.floor(a.index2)]-\na.gmegabuf[Math.floor(a.index)],a.gmegabuf[Math.floor(a.index2+1)]-a.gmegabuf[Math.floor(a.index+1)])+a.pi2,a.v1=sqrt(sqr(a.gmegabuf[Math.floor(a.index+2)])+sqr(a.gmegabuf[Math.floor(a.index+3)])),a.v2=sqrt(sqr(a.gmegabuf[Math.floor(a.index2+2)])+sqr(a.gmegabuf[Math.floor(a.index2+3)])),a.w1=Math.atan2(a.gmegabuf[Math.floor(a.index+2)],a.gmegabuf[Math.floor(a.index+3)]),a.w2=Math.atan2(a.gmegabuf[Math.floor(a.index2+2)],a.gmegabuf[Math.floor(a.index2+3)]),a.vr2=Math.sin(a.gmegabuf[Math.floor(a.index2+\n10)])*a.gmegabuf[Math.floor(a.index2+4)],a.m1=a.gmegabuf[Math.floor(a.index+8)],a.m2=a.gmegabuf[Math.floor(a.index2+8)],a.vv1=div((a.m1-a.m2)*a.v1+2*a.m2*a.v2,a.m1+a.m2),a.vv2=div((a.m2-a.m1)*a.v2+2*a.m1*a.v1,a.m1+a.m2),a.vrr=div((a.m1-a.m2)*a.vr+2*a.m2*a.vr2,a.m1+a.m2),a.vrr2=div((a.m2-a.m1)*a.vr2+2*a.m1*a.vr,a.m1+a.m2),a.gmegabuf[Math.floor(a.index+2)]=.00001<Math.abs(a.hit)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+.1*(a.vr-a.vr2-Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang))+Math.cos(a.ref_ang)*\na.vv1*Math.sin(a.w2-a.ref_ang):a.gmegabuf[Math.floor(a.index+2)],a.gmegabuf[Math.floor(a.index+3)]=.00001<Math.abs(a.hit)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+.1*(a.vr-a.vr2-Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang))-Math.sin(a.ref_ang)*a.vv1*Math.sin(a.w2-a.ref_ang):a.gmegabuf[Math.floor(a.index+3)],a.gmegabuf[Math.floor(a.index2+2)]=.00001<Math.abs(a.hit)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+.1*(a.vr2-a.vr-Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang))+Math.cos(a.ref_ang)*\na.vv2*Math.sin(a.w1-a.ref_ang):a.gmegabuf[Math.floor(a.index2+2)],a.gmegabuf[Math.floor(a.index2+3)]=.00001<Math.abs(a.hit)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+.1*(a.vr2-a.vr-Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang))-Math.sin(a.ref_ang)*a.vv2*Math.sin(a.w1-a.ref_ang):a.gmegabuf[Math.floor(a.index2+3)],a.vr=.00001<Math.abs(a.hit)?a.vr+(Math.cos(a.w1-a.ref_ang)*(a.v1-a.v2)-a.vr):a.vr,a.gmegabuf[Math.floor(a.index+10)]=Math.asin(div(a.vr,a.gmegabuf[Math.floor(a.index+4)])),a.vr2=\n.00001<Math.abs(a.hit)?a.vr2+(Math.cos(a.w2-a.ref_ang)*(a.v2-a.v1)-a.vr2):a.vr2,a.gmegabuf[Math.floor(a.index2+10)]=Math.asin(div(a.vr2,a.gmegabuf[Math.floor(a.index2+4)])),a.i+=2;a.index+=a.attributes}a.q1=a.aspectx;a.q2=a.aspecty;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec3 ret_1;\n  ret_1.z = (texture (sampler_main, uv).z * 0.5);\n  vec2 tmpvar_2;\n  tmpvar_2 = ((uv_orig * texsize.xy) * texsize_noise_lq.zw);\n  vec2 tmpvar_3;\n  tmpvar_3 = (texsize.zw * 4.0);\n  vec2 tmpvar_4;\n  tmpvar_4.x = (((2.0 * \n    ((texture (sampler_blur1, (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\n  )).y * 0.5);\n  tmpvar_4.y = (((2.0 * \n    ((texture (sampler_blur1, (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\n  )).y * 0.5);\n  ret_1.y = texture (sampler_fw_main, clamp ((uv_orig + (\n    (tmpvar_4 * texsize.zw)\n   * 4.0)), 0.0, 1.0)).y;\n  ret_1.y = (ret_1.y + ((\n    (ret_1 - ((texture (sampler_blur1, uv_orig).xyz * scale1) + bias1))\n  .y * 0.025) + -0.014));\n  ret_1.y = (ret_1.y + ((texture (sampler_noise_lq, tmpvar_2).y - 0.5) * 0.02));\n  vec2 tmpvar_5;\n  tmpvar_5.x = (((2.0 * \n    ((texture (sampler_blur1, (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\n  )).x * 0.5);\n  tmpvar_5.y = (((2.0 * \n    ((texture (sampler_blur1, (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\n  )).x * 0.5);\n  ret_1.x = ((texture (sampler_main, (uv - \n    ((tmpvar_5 * texsize.zw) * 4.0)\n  )).x - (ret_1.y * 0.01)) + 0.004);\n  ret_1.x = (ret_1.x + ((\n    (texture (sampler_noise_lq, tmpvar_2).x - 0.5)\n   * 0.01) + (ret_1.z * 0.14)));\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = ret_1;\n  ret = tmpvar_6.xyz;\n }", comp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (texsize.zw * 4.0);\n  vec2 tmpvar_3;\n  tmpvar_3.x = (((2.0 * \n    ((texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1) + bias1)\n  )) * 0.5).y;\n  tmpvar_3.y = (((2.0 * \n    ((texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1) + bias1)\n  )) * 0.5).y;\n  vec2 tmpvar_4;\n  tmpvar_4 = (uv - ((tmpvar_3 * texsize.zw) * 128.0));\n  vec4 tmpvar_5;\n  tmpvar_5 = texture (sampler_main, uv);\n  ret_1 = (((\n    ((texture (sampler_blur2, tmpvar_4).xyz * scale2) + bias2)\n  .x * \n    clamp ((1.0 - tmpvar_5.y), 0.0, 1.0)\n  ) * pow (hue_shader.yxz, vec3(8.0, 8.0, 8.0))) * 3.0);\n  ret_1 = (mix (mix (ret_1, \n    (pow (hue_shader.yzx, vec3(8.0, 8.0, 8.0)) * 1.4)\n  , vec3(\n    ((texture (sampler_main, tmpvar_4).x * 0.8) + ((texture (sampler_blur1, tmpvar_4).xyz * scale1) + bias1).x)\n  )), vec3(1.0, 1.0, 1.0), (\n    (pow (hue_shader, vec3(8.0, 8.0, 8.0)) * texture (sampler_main, clamp (uv, 0.0, 1.0)).y)\n   * 1.2)) * clamp ((1.0 - tmpvar_5.z), 0.0, 1.0));\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = ret_1;\n  ret = tmpvar_6.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 0.995, echo_zoom: 1.007, echo_orient: 3, wave_thick: 1, modwavealphabyvolume: 1, wave_a: 0.9, wave_scale: 2.997, wave_smoothing: 0, wave_mystery: -0.5, modwavealphastart: 1, modwavealphaend: 1, warpanimspeed: 0.274, warpscale: 7.98, zoom: 0.99951, warp: 0.20929, wave_r: 0.02, wave_g: 0.02, wave_b: 0, ob_size: 0.5, ob_r: 1, ob_g: 0.12, ob_b: 1, ob_a: 0.37, ib_size: 0, ib_a: 1, mv_x: 0, mv_y: 0, mv_l: 5, mv_a: 0, b1ed: 0.2}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.d=0;a.w=0;a.h3=0;a.q12=0;a.q6=0;a.bt=0;a.q1=0;a.q5=0;a.startx=0;a.v=0;a.mm=0;a.h2=0;a.tt=0;a.bm=0;a.q11=0;a.q10=0;a.q4=0;a.a=0;a.mt=0;a.b=0;a.mx=0;a.mn=0;a.bb=0;a.q2=0;a.starty=0;a.h1=0;a.q3=0;a.q7=0;a.x1=0;a.y1=.001;a.z1=0;", frame_eqs_str: "a.zoom=1;a.wave_a=0;a.startx=.3;a.starty=.3;a.a=.55;a.b=.05;a.d=.09;a.q1=a.aspectx;a.q2=a.aspecty;a.q5=a.a;a.q6=a.b;a.q7=a.d;a.bb=.99*a.bb+.02*a.bass;a.mm=.99*a.mm+.02*a.mid;a.tt=.99*a.tt+.02*a.treb;a.mx=Math.max(Math.max(a.bb,a.mm),a.tt);a.mn=Math.min(Math.min(a.bb,a.mm),a.tt);a.h1=div(a.bb-a.mn,a.mx-a.mn);a.h2=div(a.mm-a.mn,a.mx-a.mn);a.h3=div(a.tt-a.mn,a.mx-a.mn);a.v=div(.1333,a.fps);a.bm+=(a.h1-a.h2)*a.v;a.mt+=(a.h2-a.h3)*a.v;a.bt+=(a.h1-a.h3)*a.v;a.w=2*a.bm;a.q3=Math.sin(a.w);\na.q4=Math.cos(a.w);a.q10=a.bm;a.q11=a.mt;a.q12=a.bt;", pixel_eqs_str: "a.x=.5+(a.x-.51)*a.q1;a.y=.5-(a.y-.5)*a.q2;a.dx=a.x*(1-a.x)-div(a.q5*a.x*a.y,a.x+a.q6);a.dy=-a.q7*a.y*(1-div(a.y,a.x));a.dx=div(.02*-a.dx,a.q1);a.dy=div(.02*-a.dy,a.q2);", warp: " shader_body { \n  vec2 my_uv2_1;\n  vec2 dz_2;\n  vec3 ret_3;\n  vec2 tmpvar_4;\n  tmpvar_4 = (texsize.zw * 4.0);\n  vec3 tmpvar_5;\n  tmpvar_5 = ((2.0 * (\n    (texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale1)\n   + bias1)) - (2.0 * (\n    (texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale1)\n   + bias1)));\n  vec3 tmpvar_6;\n  tmpvar_6 = ((2.0 * (\n    (texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale1)\n   + bias1)) - (2.0 * (\n    (texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale1)\n   + bias1)));\n  vec2 tmpvar_7;\n  tmpvar_7.x = tmpvar_5.x;\n  tmpvar_7.y = tmpvar_6.x;\n  vec2 tmpvar_8;\n  tmpvar_8 = (tmpvar_7 * texsize.zw);\n  ret_3.x = (texture (sampler_fw_main, (uv - tmpvar_8)).x - ((\n    (texture (sampler_blur3, uv).xyz * scale3)\n   + bias3).x - (\n    (texture (sampler_blur1, (uv + tmpvar_8)).xyz * scale1)\n   + bias1).x));\n  vec2 tmpvar_9;\n  tmpvar_9.x = tmpvar_5.y;\n  tmpvar_9.y = tmpvar_6.y;\n  dz_2 = (-(tmpvar_9) * texsize.zw);\n  ret_3.y = ((texture (sampler_fw_main, (uv - dz_2)).y - 0.06) - ((\n    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)\n  .y - \n    ((texture (sampler_blur1, (uv + dz_2)).xyz * scale1) + bias1)\n  .y) * 1.3));\n  vec2 tmpvar_10;\n  tmpvar_10 = ((uv_orig - 0.5) * (1.8 - (\n    (bass_att - treb_att)\n   * 0.015)));\n  vec2 tmpvar_11;\n  tmpvar_11.x = ((tmpvar_10.x * tmpvar_10.x) - (tmpvar_10.y * tmpvar_10.y));\n  tmpvar_11.y = ((2.0 * tmpvar_10.x) * tmpvar_10.y);\n  my_uv2_1 = (tmpvar_11 + vec2(0.28, 0.4));\n  vec2 tmpvar_12;\n  tmpvar_12.x = ((2.0 * (\n    (texture (sampler_blur1, (my_uv2_1 + (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale1)\n   + bias1)) - (2.0 * (\n    (texture (sampler_blur1, (my_uv2_1 - (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale1)\n   + bias1))).z;\n  tmpvar_12.y = ((2.0 * (\n    (texture (sampler_blur1, (my_uv2_1 + (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale1)\n   + bias1)) - (2.0 * (\n    (texture (sampler_blur1, (my_uv2_1 - (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale1)\n   + bias1))).z;\n  dz_2 = (tmpvar_12 * texsize.zw);\n  ret_3.z = (texture (sampler_main, clamp ((my_uv2_1 + dz_2), 0.0, 1.0)).z - 0.014);\n  vec4 tmpvar_13;\n  tmpvar_13.w = 1.0;\n  tmpvar_13.xyz = ret_3;\n  ret = tmpvar_13.xyz;\n }", comp: " shader_body { \n  vec3 dy_1;\n  vec3 dx_2;\n  vec2 mirror_uv_3;\n  vec3 ret_4;\n  vec2 tmpvar_5;\n  tmpvar_5 = ((uv - 0.5) * aspect.xy);\n  vec2 tmpvar_6;\n  tmpvar_6.x = ((q4 * tmpvar_5.x) - (q3 * tmpvar_5.y));\n  tmpvar_6.y = ((q3 * tmpvar_5.x) + (q4 * tmpvar_5.y));\n  vec2 tmpvar_7;\n  tmpvar_7 = (0.5 - (tmpvar_6 * 2.0));\n  vec2 numerator_8;\n  numerator_8 = (tmpvar_7 - vec2(0.0, 0.5));\n  vec2 denominator_9;\n  denominator_9 = (tmpvar_7 - vec2(1.0, 0.5));\n  vec2 tmpvar_10;\n  tmpvar_10.x = ((numerator_8.x * denominator_9.x) + (numerator_8.y * denominator_9.y));\n  tmpvar_10.y = ((numerator_8.y * denominator_9.x) - (numerator_8.x * denominator_9.y));\n  vec2 tmpvar_11;\n  tmpvar_11 = (((tmpvar_10 / \n    ((denominator_9.x * denominator_9.x) + (denominator_9.y * denominator_9.y))\n  ) + 0.5) - vec2(0.5, 0.5));\n  float tmpvar_12;\n  tmpvar_12 = sqrt(dot (tmpvar_11, tmpvar_11));\n  float tmpvar_13;\n  float tmpvar_14;\n  tmpvar_14 = (min (abs(\n    (tmpvar_11.x / tmpvar_11.y)\n  ), 1.0) / max (abs(\n    (tmpvar_11.x / tmpvar_11.y)\n  ), 1.0));\n  float tmpvar_15;\n  tmpvar_15 = (tmpvar_14 * tmpvar_14);\n  tmpvar_15 = (((\n    ((((\n      ((((-0.01213232 * tmpvar_15) + 0.05368138) * tmpvar_15) - 0.1173503)\n     * tmpvar_15) + 0.1938925) * tmpvar_15) - 0.3326756)\n   * tmpvar_15) + 0.9999793) * tmpvar_14);\n  tmpvar_15 = (tmpvar_15 + (float(\n    (abs((tmpvar_11.x / tmpvar_11.y)) > 1.0)\n  ) * (\n    (tmpvar_15 * -2.0)\n   + 1.570796)));\n  tmpvar_13 = (tmpvar_15 * sign((tmpvar_11.x / tmpvar_11.y)));\n  if ((abs(tmpvar_11.y) > (1e-08 * abs(tmpvar_11.x)))) {\n    if ((tmpvar_11.y < 0.0)) {\n      if ((tmpvar_11.x >= 0.0)) {\n        tmpvar_13 += 3.141593;\n      } else {\n        tmpvar_13 = (tmpvar_13 - 3.141593);\n      };\n    };\n  } else {\n    tmpvar_13 = (sign(tmpvar_11.x) * 1.570796);\n  };\n  vec2 tmpvar_16;\n  tmpvar_16.x = (tmpvar_13 * 0.1591549);\n  tmpvar_16.y = tmpvar_12;\n  vec2 tmpvar_17;\n  tmpvar_17.x = ((tmpvar_16.x * 2.0) + q11);\n  tmpvar_17.y = ((0.3 * log(tmpvar_12)) + q12);\n  vec2 tmpvar_18;\n  tmpvar_18 = (0.5 + (0.5 - abs(\n    ((fract((tmpvar_17 * 0.5)) * 2.0) - 1.0)\n  )));\n  vec2 tmpvar_19;\n  tmpvar_19 = (texsize.zw * 3.0);\n  vec3 tmpvar_20;\n  tmpvar_20 = ((2.0 * (\n    (texture (sampler_blur1, (tmpvar_18 + (vec2(1.0, 0.0) * tmpvar_19))).xyz * scale1)\n   + bias1)) - (2.0 * (\n    (texture (sampler_blur1, (tmpvar_18 - (vec2(1.0, 0.0) * tmpvar_19))).xyz * scale1)\n   + bias1)));\n  vec3 tmpvar_21;\n  tmpvar_21 = ((2.0 * (\n    (texture (sampler_blur1, (tmpvar_18 + (vec2(0.0, 1.0) * tmpvar_19))).xyz * scale1)\n   + bias1)) - (2.0 * (\n    (texture (sampler_blur1, (tmpvar_18 - (vec2(0.0, 1.0) * tmpvar_19))).xyz * scale1)\n   + bias1)));\n  vec2 tmpvar_22;\n  tmpvar_22.x = tmpvar_20.x;\n  tmpvar_22.y = tmpvar_21.x;\n  mirror_uv_3 = (tmpvar_18 + ((tmpvar_22 * texsize.zw) * 4.0));\n  ret_4 = ((mix (ret_4, vec3(1.0, 1.0, 1.0), \n    ((((texture (sampler_blur1, mirror_uv_3).xyz * scale1) + bias1).x * (1.0 - (\n      (texture (sampler_blur2, mirror_uv_3).xyz * scale2)\n     + bias2).x)) * (pow (hue_shader, vec3(4.0, 4.0, 4.0)) * 1.4))\n  ) * texture (sampler_main, mirror_uv_3).xxx) + ((\n    (1.0 - texture (sampler_main, mirror_uv_3).x)\n   * \n    ((texture (sampler_blur1, mirror_uv_3).xyz * scale1) + bias1)\n  .x) * vec3(3.0, 3.0, 3.0)));\n  vec2 tmpvar_23;\n  tmpvar_23.x = tmpvar_20.x;\n  tmpvar_23.y = tmpvar_21.x;\n  mirror_uv_3 = (mirror_uv_3 - ((tmpvar_23 * texsize.zw) * 24.0));\n  dx_2 = ((2.0 * (\n    (texture (sampler_blur1, (mirror_uv_3 + (vec2(1.0, 0.0) * tmpvar_19))).xyz * scale1)\n   + bias1)) - (2.0 * (\n    (texture (sampler_blur1, (mirror_uv_3 - (vec2(1.0, 0.0) * tmpvar_19))).xyz * scale1)\n   + bias1)));\n  dy_1 = ((2.0 * (\n    (texture (sampler_blur1, (mirror_uv_3 + (vec2(0.0, 1.0) * tmpvar_19))).xyz * scale1)\n   + bias1)) - (2.0 * (\n    (texture (sampler_blur1, (mirror_uv_3 - (vec2(0.0, 1.0) * tmpvar_19))).xyz * scale1)\n   + bias1)));\n  vec2 tmpvar_24;\n  tmpvar_24.x = -(dx_2.y);\n  tmpvar_24.y = dy_1.y;\n  vec2 tmpvar_25;\n  tmpvar_25 = (tmpvar_24 * 0.25);\n  vec3 tmpvar_26;\n  tmpvar_26 = mix (ret_4, vec3(1.0, 1.0, 1.0), (mix (vec3(1.0, 0.7, 0.2), vec3(0.15, 0.0, 0.5), vec3(\n    ((((\n      ((mirror_uv_3.x * 0.8) - mirror_uv_3.y)\n     + 0.75) + tmpvar_25.x) + tmpvar_25.y) - 0.1)\n  )) * texture (sampler_main, mirror_uv_3).y));\n  vec2 tmpvar_27;\n  vec2 tmpvar_28;\n  tmpvar_28 = ((0.5 + (\n    (uv - 0.5)\n   * aspect.wz)) - vec2(0.5, 0.5));\n  vec2 tmpvar_29;\n  tmpvar_29.x = ((q4 * tmpvar_28.x) - (q3 * tmpvar_28.y));\n  tmpvar_29.y = ((q3 * tmpvar_28.x) + (q4 * tmpvar_28.y));\n  tmpvar_27 = (vec2(0.5, 0.5) + tmpvar_29);\n  mirror_uv_3 = tmpvar_27.yx;\n  vec2 tmpvar_30;\n  tmpvar_30 = (vec2(1.0, 0.0) * texsize.zw);\n  dx_2 = ((2.0 * texture (sampler_main, (tmpvar_27.yx + tmpvar_30)).xyz) - (2.0 * texture (sampler_main, (tmpvar_27.yx - tmpvar_30)).xyz));\n  vec2 tmpvar_31;\n  tmpvar_31 = (vec2(0.0, 1.0) * texsize.zw);\n  dy_1 = ((2.0 * texture (sampler_main, (tmpvar_27.yx + tmpvar_31)).xyz) - (2.0 * texture (sampler_main, (tmpvar_27.yx - tmpvar_31)).xyz));\n  vec2 tmpvar_32;\n  tmpvar_32.x = dx_2.z;\n  tmpvar_32.y = dy_1.z;\n  vec3 tmpvar_33;\n  tmpvar_33 = mix (tmpvar_26, vec3(0.9, 0.9, 1.0), vec3((1.0 - texture (sampler_main, (tmpvar_27.yx - tmpvar_32)).z)));\n  ret_4 = tmpvar_33;\n  vec4 tmpvar_34;\n  tmpvar_34.w = 1.0;\n  tmpvar_34.xyz = tmpvar_33;\n  ret = tmpvar_34.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 0.995, echo_zoom: 1.007, echo_orient: 3, additivewave: 1, modwavealphabyvolume: 1, wave_brighten: 0, wrap: 0, wave_a: 1.413, wave_scale: 0.418, wave_smoothing: 0, wave_mystery: -0.66, modwavealphastart: 2, modwavealphaend: 2, warpanimspeed: 0.626, warpscale: 8.642, zoomexp: 7.10084, zoom: 0.99951, warp: 0.09014, wave_r: 0, wave_g: 0, wave_x: 0.24, wave_y: 0.44, ob_size: 0, ob_a: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 1, sides: 48, additive: 1, rad: 0.0277, ang: 6.03186, tex_ang: 6.03186, tex_zoom: 0.6839, r: 0, g: 1, a2: 1, border_r: 0, border_g: 0, border_b: 0, border_a: 0}, init_eqs_str: "a.q3=0;a.q4=0;a.q5=0;a.q2=0;a.q1=0;", frame_eqs_str: "a.x=a.q3;a.y=a.q4;a.rad=a.q5;a.x=.5+div(a.x-.5,a.q2);a.y=.5+div(a.y-.5,a.q1);"}, {baseVals: {enabled: 1, sides: 48, additive: 1, rad: 0.0277, ang: 6.03186, tex_ang: 6.03186, tex_zoom: 0.6839, r: 0, b: 1, g2: 0, b2: 1, a2: 1, border_r: 0, border_g: 0, border_b: 0, border_a: 0}, init_eqs_str: "a.q6=0;a.q7=0;a.q8=0;a.q2=0;a.q1=0;", frame_eqs_str: "a.x=a.q6;a.y=a.q7;a.rad=a.q8;a.x=.5+div(a.x-.5,a.q2);a.y=.5+div(a.y-.5,a.q1);"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, thick: 1, additive: 1, scaling: 2.0231, smoothing: 0, g: 0, b: 0}, init_eqs_str: "a.d=0;a.tt2=0;a.res=0;a.tt1=0;a.diff=0;a.tt3=0;a.beat=0;a.vol=0;a.m=0;a.monitor=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;", frame_eqs_str: "a.vol=8*a.bass+5*a.mid+3*a.treb;a.m=.97*a.m+.08*a.vol;a.monitor=a.vol;a.beat=above(a.vol,a.res)*above(a.vol,a.m)*above(a.vol,16);a.diff=(1-a.beat)*a.diff+a.beat*(a.vol-a.res);a.res=a.beat*(a.vol+.04*a.m)+(1-a.beat)*(a.res-div(60*(.1+.02*a.diff),a.fps));a.res=Math.max(0,a.res);a.a=a.beat;", point_eqs_str: "a.tt3=.6*a.tt3+1*a.value1;a.tt2=.7*a.tt2+.2*a.tt3;a.tt1=.8*a.tt1+.1*a.tt2;a.d=.9*a.d+.2*a.tt1;a.y=.5+a.d*a.sample*(1-a.sample)*2;a.x=-.05+1.1*a.sample;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.y3=0;a.y1=0;a.xx=0;a.q12=0;a.w2=0;a.ref_ang=0;a.q18=0;a.x1=0;a.vx3=0;a.q13=0;a.q15=0;a.q6=0;a.q1=0;a.q5=0;a.q9=0;a.d1=0;a.si1=0;a.vx1=0;a.vx4=0;a.x3=0;a.d2=0;a.q11=0;a.q10=0;a.q4=0;a.vy4=0;a.dir=0;a.bounce=0;a.q16=0;a.x4=0;a.w1=0;a.r=0;a.x2=0;a.q17=0;a.vy2=0;a.y2=0;a.vy1=0;a.q2=0;a.m1=0;a.q14=0;a.si2=0;a.v1=0;a.vx2=0;a.q3=0;a.yy=0;a.y4=0;a.q7=0;a.vy3=0;a.v2=0;a.b1=0;a.q8=0;a.x1=.5;a.x2=.51;a.y2=.9;a.y1=.7;a.x3=.8;a.y3=.5;a.x4=.2;a.y4=.5;a.ax1=0;a.ay1=0;a.ax2=0;a.ay2=0;a.ax3=\n0;a.ay3=0;a.vx1=0;a.vx2=0;", frame_eqs_str: "a.zoom=1.002;a.warp=.2;a.wave_a=0;a.r=.04+.008*Math.max(a.bass_att,a.treb_att);a.bounce=below(a.y1,a.r);a.y1+=a.vy1;a.vy1=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vy1)+.1*(a.r-a.y1):a.vy1-div(.018,a.fps);a.bounce=below(a.x1,a.r);a.x1+=a.vx1;a.vx1=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vx1)+.1*(a.r-a.x1):a.vx1;a.bounce=above(a.x1,1-a.r);a.vx1=.00001<Math.abs(a.bounce)?.94*-Math.abs(a.vx1)+.04*(1-a.r-a.x1):a.vx1;a.bounce=below(a.y2,a.r);a.y2+=a.vy2;a.vy2=.00001<Math.abs(a.bounce)?\n.94*Math.abs(a.vy2)+.1*(a.r-a.y2):a.vy2-div(.018,a.fps);a.bounce=below(a.x2,a.r);a.x2+=a.vx2;a.vx2=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vx2)+.1*(a.r-a.x2):a.vx2;a.bounce=above(a.x2,1-a.r);a.vx2=.00001<Math.abs(a.bounce)?.94*-Math.abs(a.vx2)+.1*(1-a.r-a.x2):a.vx2;a.bounce=below(a.y3,a.r);a.y3+=a.vy3;a.vy3=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vy3)+.1*(a.r-a.y3):a.vy3-div(.018,a.fps);a.bounce=below(a.x3,a.r);a.x3+=a.vx3;a.vx3=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vx3)+.1*(a.r-a.x3):a.vx3;\na.bounce=above(a.x3,1-a.r);a.vx3=.00001<Math.abs(a.bounce)?.94*-Math.abs(a.vx3)+.1*(1-a.r-a.x3):a.vx3;a.bounce=below(a.y4,a.r);a.y4+=a.vy4;a.vy4=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vy4)+.1*(a.r-a.y4):a.vy4-div(.018,a.fps);a.bounce=below(a.x4,a.r);a.x4+=a.vx4;a.vx4=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vx4)+.1*(a.r-a.x4):a.vx4;a.bounce=above(a.x4,1-a.r);a.vx4=.00001<Math.abs(a.bounce)?.94*-Math.abs(a.vx4)+.1*(1-a.r-a.x4):a.vx4;a.bounce=below(sqrt(sqr(a.x1+a.vx1-a.x2-a.vx2)+sqr(a.y1+a.vy1-a.y2-\na.vy2)),2*a.r);a.ref_ang=Math.atan2(a.x2-a.x1,a.y2-a.y1)+Math.asin(1);a.v1=sqrt(a.vx1*a.vx1+a.vy1*a.vy1);a.v2=sqrt(a.vx2*a.vx2+a.vy2*a.vy2);a.w1=Math.atan2(a.vx1,a.vy1);a.w2=Math.atan2(a.vx2,a.vy2);a.vx1=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-\nMath.asin(1)):a.vy1;a.vx2=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy2;a.bounce=below(sqrt(sqr(a.x1+a.vx1-a.x3-a.vx3)+sqr(a.y1+a.vy1-a.y3-a.vy3)),2*a.r);a.ref_ang=Math.atan2(a.x3-a.x1,a.y3-a.y1)+Math.asin(1);a.v1=sqrt(a.vx1*\na.vx1+a.vy1*a.vy1);a.v2=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);a.w1=Math.atan2(a.vx1,a.vy1);a.w2=Math.atan2(a.vx3,a.vy3);a.vx1=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy1;a.vx3=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-\na.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx3;a.vy3=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy3;a.bounce=below(sqrt(sqr(a.x2+a.vx2-a.x3-a.vx3)+sqr(a.y2+a.vy2-a.y3-a.vy3)),2*a.r);a.ref_ang=Math.atan2(a.x3-a.x2,a.y3-a.y2)+Math.asin(1);a.v1=sqrt(a.vx2*a.vx2+a.vy2*a.vy2);a.v2=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);a.w1=Math.atan2(a.vx2,a.vy2);a.w2=Math.atan2(a.vx3,\na.vy3);a.vx2=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy2;a.vx3=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx3;a.vy3=\n.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy3;a.bounce=below(sqrt(sqr(a.x1+a.vx1-a.x4-a.vx4)+sqr(a.y1+a.vy1-a.y4-a.vy4)),2*a.r);a.ref_ang=Math.atan2(a.x4-a.x1,a.y4-a.y1)+Math.asin(1);a.v1=sqrt(a.vx1*a.vx1+a.vy1*a.vy1);a.v2=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.w1=Math.atan2(a.vx1,a.vy1);a.w2=Math.atan2(a.vx4,a.vy4);a.vx1=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+\nMath.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy1;a.vx4=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx4;a.vy4=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+\nMath.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy4;a.bounce=below(sqrt(sqr(a.x2+a.vx2-a.x4-a.vx4)+sqr(a.y2+a.vy2-a.y4-a.vy4)),2*a.r);a.ref_ang=Math.atan2(a.x4-a.x2,a.y4-a.y2)+Math.asin(1);a.v1=sqrt(a.vx2*a.vx2+a.vy2*a.vy2);a.v2=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.w1=Math.atan2(a.vx2,a.vy2);a.w2=Math.atan2(a.vx4,a.vy4);a.vx2=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx2;a.vy2=.00001<\nMath.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy2;a.vx4=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx4;a.vy4=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy4;a.bounce=below(sqrt(sqr(a.x3+\na.vx3-a.x4-a.vx4)+sqr(a.y3+a.vy3-a.y4-a.vy4)),2*a.r);a.ref_ang=Math.atan2(a.x4-a.x3,a.y4-a.y3)+Math.asin(1);a.v1=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);a.v2=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.w1=Math.atan2(a.vx3,a.vy3);a.w2=Math.atan2(a.vx4,a.vy4);a.vx3=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx3;a.vy3=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+\nMath.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy3;a.vx4=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx4;a.vy4=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy4;a.q1=a.aspectx;a.q2=a.aspecty;a.q3=a.x1;a.q4=a.y1;a.q5=2*a.r;a.q6=a.x2;a.q7=a.y2;a.q8=2*a.r;a.q9=a.x3;a.q10=a.y3;\na.q11=2*a.r;a.q12=a.x4;a.q13=a.y4;a.q14=2*a.r;a.q15=Math.atan2(a.vx4,a.vy4);a.q16=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.q17=Math.atan2(a.vx3,a.vy3);a.q18=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);", pixel_eqs_str: "a.x=.5+(a.x-.5)*a.q2;a.y=.5+(a.y-.5)*a.q1;a.dir=-a.q15+Math.asin(1);a.b1=.075;a.m1=25*a.q16;a.xx=a.q12;a.yy=1-a.q13;a.x1=a.xx-Math.sin(a.dir)*a.b1;a.y1=a.yy-Math.cos(a.dir)*a.b1;a.x2=a.xx+Math.sin(a.dir)*a.b1;a.y2=a.yy+Math.cos(a.dir)*a.b1;a.d1=sqrt((a.x1-a.x)*(a.x1-a.x)+(a.y1-a.y)*(a.y1-a.y))-2*a.b1;a.d2=sqrt((a.x2-a.x)*(a.x2-a.x)+(a.y2-a.y)*(a.y2-a.y))-2*a.b1;a.si1=sigmoid(-a.d1,1E3);a.si2=sigmoid(-a.d2,1E3);a.dx=3*(a.si1*Math.sin(a.y1-a.y)*a.m1*a.d1-a.si2*Math.sin(a.y2-a.y)*\na.m1*a.d2)*a.q1;a.dy=3*(-a.si1*Math.sin(a.x1-a.x)*a.m1*a.d1+a.si2*Math.sin(a.x2-a.x)*a.m1*a.d2)*a.q2;a.dir=-a.q17+Math.asin(1);a.m1=25*a.q18;a.xx=a.q9;a.yy=1-a.q10;a.x1=a.xx-Math.sin(a.dir)*a.b1;a.y1=a.yy-Math.cos(a.dir)*a.b1;a.x2=a.xx+Math.sin(a.dir)*a.b1;a.y2=a.yy+Math.cos(a.dir)*a.b1;a.d1=sqrt((a.x1-a.x)*(a.x1-a.x)+(a.y1-a.y)*(a.y1-a.y))-2*a.b1;a.d2=sqrt((a.x2-a.x)*(a.x2-a.x)+(a.y2-a.y)*(a.y2-a.y))-2*a.b1;a.si1=sigmoid(-a.d1,1E3);a.si2=sigmoid(-a.d2,1E3);a.dx+=3*(a.si1*Math.sin(a.y1-a.y)*a.m1*\na.d1-a.si2*Math.sin(a.y2-a.y)*a.m1*a.d2)*a.q1;a.dy+=3*(-a.si1*Math.sin(a.x1-a.x)*a.m1*a.d1+a.si2*Math.sin(a.x2-a.x)*a.m1*a.d2)*a.q2;", warp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (texsize.zw * 8.0);\n  vec3 tmpvar_3;\n  tmpvar_3 = (((texture (sampler_blur1, \n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_4;\n  tmpvar_4 = (((texture (sampler_blur1, \n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec2 tmpvar_5;\n  tmpvar_5.x = tmpvar_3.z;\n  tmpvar_5.y = tmpvar_4.z;\n  vec2 tmpvar_6;\n  tmpvar_6 = (uv + ((tmpvar_5 * texsize.zw) * 4.0));\n  ret_1.z = (((texture (sampler_main, tmpvar_6).z - \n    ((texture (sampler_main, tmpvar_6).z - ((texture (sampler_blur3, tmpvar_6).xyz * scale3) + bias3).z) * 0.02)\n  ) - 0.008) + ((texture (sampler_noise_lq, \n    (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy)\n  ).xyz - 0.5) * 0.1)).x;\n  vec2 tmpvar_7;\n  tmpvar_7.x = tmpvar_3.x;\n  tmpvar_7.y = tmpvar_4.x;\n  vec2 tmpvar_8;\n  tmpvar_8 = ((0.5 + (uv - 0.5)) - (tmpvar_7 * texsize.zw));\n  ret_1.x = texture (sampler_main, tmpvar_8).x;\n  ret_1.x = (ret_1.x + ((\n    (ret_1.x - ((texture (sampler_blur3, tmpvar_8).xyz * scale3) + bias3))\n  .x * 0.4) + 0.006));\n  vec2 tmpvar_9;\n  tmpvar_9.x = tmpvar_3.x;\n  tmpvar_9.y = tmpvar_4.x;\n  vec2 tmpvar_10;\n  tmpvar_10.x = tmpvar_3.y;\n  tmpvar_10.y = tmpvar_4.y;\n  vec2 tmpvar_11;\n  tmpvar_11.x = tmpvar_3.z;\n  tmpvar_11.y = tmpvar_4.z;\n  ret_1.y = texture (sampler_fc_main, (((uv - \n    ((tmpvar_9 * texsize.zw) * 8.0)\n  ) + (\n    (tmpvar_10 * texsize.zw)\n   * 4.0)) + ((tmpvar_11 * texsize.zw) * 8.0))).y;\n  ret_1.y = (ret_1.y * (1.0 + (ret_1.x * 0.1)));\n  ret_1.y = (ret_1.y - (0.004 + (\n    clamp (ret_1.z, 0.0, 1.0)\n   * 0.04)));\n  vec4 tmpvar_12;\n  tmpvar_12.w = 1.0;\n  tmpvar_12.xyz = ret_1;\n  ret = tmpvar_12.xyz;\n }", comp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (texsize.zw * 4.0);\n  vec3 tmpvar_3;\n  tmpvar_3 = (((texture (sampler_blur1, \n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_4;\n  tmpvar_4 = (((texture (sampler_blur1, \n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec2 tmpvar_5;\n  tmpvar_5.x = tmpvar_3.z;\n  tmpvar_5.y = tmpvar_4.z;\n  vec2 tmpvar_6;\n  tmpvar_6.x = tmpvar_3.y;\n  tmpvar_6.y = tmpvar_4.y;\n  vec2 tmpvar_7;\n  tmpvar_7 = ((uv - (tmpvar_5 * 0.1)) + (tmpvar_6 * 0.06));\n  vec4 tmpvar_8;\n  tmpvar_8 = texture (sampler_main, uv);\n  ret_1 = (((\n    ((texture (sampler_blur2, tmpvar_7).xyz * scale2) + bias2)\n  .x * \n    clamp ((1.0 - tmpvar_8.z), 0.0, 1.0)\n  ) * pow (hue_shader.yxz, vec3(8.0, 8.0, 8.0))) * 3.0);\n  ret_1 = (mix (ret_1, (\n    pow (hue_shader.yzx, vec3(8.0, 8.0, 8.0))\n   * 1.4), vec3((\n    (texture (sampler_main, tmpvar_7).x * 0.8)\n   + \n    ((texture (sampler_blur1, tmpvar_7).xyz * scale1) + bias1)\n  .x))) * clamp ((1.0 - \n    (((texture (sampler_blur1, uv).xyz * scale1) + bias1).y * 4.0)\n  ), 0.0, 1.0));\n  vec2 tmpvar_9;\n  tmpvar_9.x = tmpvar_3.y;\n  tmpvar_9.y = tmpvar_4.y;\n  vec3 tmpvar_10;\n  vec3 tmpvar_11;\n  tmpvar_11 = pow (hue_shader, vec3(8.0, 8.0, 8.0));\n  tmpvar_10 = mix (mix (ret_1, vec3(1.0, 1.0, 1.0), (\n    (tmpvar_11 * texture (sampler_main, clamp ((uv - (tmpvar_9 * 2.0)), 0.0, 1.0)).z)\n   * 1.2)), (tmpvar_11.zxy * 1.8), tmpvar_8.yyy);\n  ret_1 = tmpvar_10;\n  vec4 tmpvar_12;\n  tmpvar_12.w = 1.0;\n  tmpvar_12.xyz = tmpvar_10;\n  ret = tmpvar_12.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 0.5, echo_zoom: 1.03, wave_brighten: 0, wrap: 0, wave_a: 1e-3, wave_scale: 0.01, wave_smoothing: 0, modwavealphastart: 1, modwavealphaend: 1, warpscale: 0.107, zoomexp: 4.28632, fshader: 1, warp: 0.01743, wave_r: 0, wave_g: 0, wave_b: 0, ob_size: 0, ob_g: 1, ob_a: 1, ib_size: 0, ib_r: 1, ib_g: 1, ib_b: 1, ib_a: 1, mv_x: 64, mv_y: 48, mv_l: 5, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 1, sides: 100, textured: 1, rad: 0.789, ang: 0.6283, tex_zoom: 1.17257, r: 0, g: 1, border_a: 0}, init_eqs_str: "a.an=0;a.vx=0;a.vy=0;", frame_eqs_str: "a.rad=.65+.1*a.bass;a.an=.99*a.an+.1*(a.bass-a.treb);a.ang=.1*a.an+.6;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, samples: 495, sep: 4, spectrum: 1, thick: 1, additive: 1, scaling: 100, smoothing: 1, r: 0, g: 0.04, b: 0, a: 0.99}, init_eqs_str: "a.my_z=0;a.d=0;a.n=0;a.y3=0;a.z2=0;a.y1=0;a.w=0;a.t5=0;a.w2=0;a.t1=0;a.x1=0;a.q6=0;a.zoom=0;a.p=0;a.q1=0;a.q5=0;a.t8=0;a.z3=0;a.w3=0;a.t3=0;a.my_x=0;a.x3=0;a.t6=0;a.my_y=0;a.pi=0;a.q4=0;a.t7=0;a.rd=0;a.w1=0;a.x2=0;a.t2=0;a.l=0;a.y2=0;a.q2=0;a.z1=0;a.q3=0;a.t4=0;a.t2=0;a.t3=0;a.t4=0;a.ab=1;", frame_eqs_str: "a.t1=a.q1;a.t2=a.q2;a.t3=a.q3;a.t4=a.q4;a.t5=a.q5;a.t6=a.q6;a.t8=.07;a.t7=1;", point_eqs_str: "a.t7=-a.t7;a.pi=Math.asin(1);a.n=180;a.rd=.075;a.my_x=.5*Math.sin(a.sample*a.pi*4+(a.t7+1)*a.t8)+Math.cos(a.sample*a.pi*a.n)*a.rd*Math.sin(a.sample*a.pi*4+(a.t7+1)*a.t8);a.my_y=.5*Math.cos(a.sample*a.pi*4+(a.t7+1)*a.t8)+Math.cos(a.sample*a.pi*a.n)*a.rd*Math.cos(a.sample*a.pi*4+(a.t7+1)*a.t8);a.my_z=Math.sin(a.sample*a.pi*a.n)*a.rd;a.d=1.4;a.zoom=.65;a.w1=a.q2;a.w2=a.q3;a.w3=a.q4;a.x1=Math.cos(a.w1)*a.my_x+Math.sin(a.w1)*a.my_y;a.y1=-Math.sin(a.w1)*a.my_x+Math.cos(a.w1)*a.my_y;\na.z1=a.my_z;a.x2=Math.cos(a.w2)*a.x1+Math.sin(a.w2)*a.z1;a.z2=-Math.sin(a.w2)*a.x1+Math.cos(a.w2)*a.z1;a.y2=a.y1;a.y3=Math.cos(a.w3)*a.y2+Math.sin(a.w3)*a.z2;a.z3=-Math.sin(a.w3)*a.y2+Math.cos(a.w3)*a.z2;a.x3=a.x2;a.l=sqrt(a.x3*a.x3+a.y3*a.y3);a.w=Math.atan2(a.x3,a.y3);a.p=Math.tan(Math.asin(1)+Math.atan2(a.d+a.z3,a.l));a.d=sqrt(a.x3*a.x3+a.y3*a.y3+(a.z3+a.d)*(a.z3+a.d));a.my_x=a.zoom*Math.sin(a.w)*a.p;a.my_y=a.zoom*Math.cos(a.w)*a.p;a.x=.5+a.my_x;a.y=.5+a.my_y;a.b=-a.z3+.5;a.b=.5*Math.min(1,Math.max(0,\na.b));a.r=1-2*a.b;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.n=0;a.n2=0;a.j3=0;a.q1=0;a.q5=0;a.n1=0;a.q9=0;a.v=0;a.q10=0;a.q4=0;a.j2=0;a.k=0;a.j1=0;a.q2=0;a.q3=0;a.x1=0;a.y1=0;", frame_eqs_str: "a.q1=0;a.v=.4;a.j1=.95*a.j1+sqr(4*a.bass)*a.v;a.j2=.95*a.j2+sqr(4*a.mid)*a.v;a.j3=.95*a.j3+sqr(4*a.treb)*a.v;a.n+=.0052*a.j1;a.n1+=.0052*a.j2;a.n2+=.0052*a.j3;a.q2=.01*a.n;a.q3=.01*a.n1;a.q4=.01*a.n2;a.k=.99*a.k+sqr(2*a.mid_att);a.q5=0*a.k;a.zoom=1.0016;a.warp=0;a.rot=-0;a.q9=a.aspectx;a.q10=a.aspecty;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (texsize.zw * 4.0);\n  vec2 tmpvar_3;\n  tmpvar_3.x = (((texture (sampler_blur2, \n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale2) + bias2)).z;\n  tmpvar_3.y = -(((\n    (texture (sampler_blur2, (uv + (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, (uv - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale2)\n   + bias2)).z);\n  vec2 tmpvar_4;\n  tmpvar_4 = (uv + ((tmpvar_3 * texsize.zw) * 60.0));\n  vec2 x_5;\n  x_5 = (tmpvar_4 - uv);\n  vec4 tmpvar_6;\n  tmpvar_6 = texture (sampler_main, uv);\n  vec4 tmpvar_7;\n  tmpvar_7 = texture (sampler_blur1, uv);\n  ret_1.z = (((texture (sampler_main, tmpvar_4).z + \n    (((tmpvar_6.z - (\n      (tmpvar_7.xyz * scale1)\n     + bias1).z) * 200.0) * sqrt(dot (x_5, x_5)))\n  ) * 0.96) - 0.02);\n  vec2 tmpvar_8;\n  tmpvar_8.x = (((texture (sampler_blur1, \n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1)).y;\n  tmpvar_8.y = (((texture (sampler_blur1, \n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1)).y;\n  ret_1.y = ((texture (sampler_main, (uv_orig + \n    ((tmpvar_8 * texsize.zw) * 6.0)\n  )).y + (\n    (tmpvar_6.y - ((tmpvar_7.xyz * scale1) + bias1).y)\n   * 0.1)) - 0.016);\n  vec4 tmpvar_9;\n  tmpvar_9.w = 1.0;\n  tmpvar_9.xyz = ret_1;\n  ret = tmpvar_9.xyz;\n }", comp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (texsize.zw * 8.0);\n  vec3 tmpvar_3;\n  tmpvar_3 = (((texture (sampler_blur1, \n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_4;\n  tmpvar_4 = (((texture (sampler_blur1, \n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec2 tmpvar_5;\n  tmpvar_5.x = tmpvar_3.z;\n  tmpvar_5.y = tmpvar_4.z;\n  vec2 tmpvar_6;\n  tmpvar_6.x = tmpvar_3.y;\n  tmpvar_6.y = tmpvar_4.y;\n  ret_1 = (mix (vec3(0.2, 0.0, 0.1), vec3(0.8, 0.6, 0.0), texture (sampler_main, (uv - \n    (tmpvar_5 * 0.2)\n  )).yyy) * ((\n    (-(tmpvar_3.y) + tmpvar_4.y)\n   + 1.0) + (\n    (-(tmpvar_3.z) + tmpvar_4.z)\n   * 2.0)));\n  vec3 tmpvar_7;\n  tmpvar_7 = mix (mix (ret_1, vec3(0.2, 0.0, 0.4), vec3((\n    ((texture (sampler_blur1, (uv - (tmpvar_6 * 0.04))).xyz * scale1) + bias1)\n  .x * 1.4))), vec3(1.0, 0.9, 0.8), texture (sampler_main, uv).zzz);\n  ret_1 = tmpvar_7;\n  vec4 tmpvar_8;\n  tmpvar_8.w = 1.0;\n  tmpvar_8.xyz = tmpvar_7;\n  ret = tmpvar_8.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 1, gammaadj: 1, decay: 1, echo_zoom: 1, echo_alpha: 0.5, additivewave: 1, wave_thick: 1, modwavealphabyvolume: 1, wave_brighten: 0, wave_a: 2.789, wave_scale: 0.292, wave_smoothing: 0, wave_mystery: 0.12, modwavealphastart: 1, modwavealphaend: 1, warpanimspeed: 0.01, warpscale: 100, zoomexp: 0.92178, zoom: 0.9901, warp: 0.01, wave_g: 0, ob_size: 0, ob_r: 0.2, ob_a: 0.1, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 1, mv_x: 64, mv_y: 48, mv_l: 0, mv_b: 0, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 1, sides: 100, additive: 1, thickoutline: 1, x: 0.43, y: 0.42, rad: 0.15799, ang: 0.1885, tex_zoom: 0.87865, r: 0, g: 1, g2: 0, border_a: 0}, init_eqs_str: "a.q4=0;a.q8=0;", frame_eqs_str: "a.x=a.q4;a.y=a.q8;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.y3=0;a.y1=0;a.xx=0;a.si3=0;a.t1=0;a.x1=0;a.vx3=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.d1=0;a.si1=0;a.vx4=0;a.grav=0;a.x3=0;a.d2=0;a.xx2=0;a.q4=0;a.yy1=0;a.vy4=0;a.dir=0;a.bounce=0;a.x4=0;a.x2=0;a.vy2=0;a.y2=0;a.q2=0;a.m1=0;a.spring=0;a.si2=0;a.vx2=0;a.q3=0;a.resist=0;a.yy=0;a.y4=0;a.q7=0;a.vy3=0;a.xx1=0;a.b1=0;a.q8=0;a.x1=.9;a.y1=.5;a.x2=.5;a.y2=.5;a.x3=.5;a.y3=.5;a.x4=.5;a.y4=.5;", frame_eqs_str: "a.decay=1;a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+a.xx1-a.xx2;a.y1=.5+a.yy1;a.spring=18;a.grav=1;a.resist=.2;a.bounce=.9;a.dt=.0003;a.vx2=a.vx2*(1-a.resist*a.dt)+a.dt*(a.x1+a.x3-2*a.x2)*a.spring;a.vy2=a.vy2*(1-a.resist*a.dt)+a.dt*((a.y1+a.y3-2*a.y2)*a.spring-a.grav);a.vx3=a.vx3*(1-a.resist*a.dt)+a.dt*(a.x2+a.x4-2*a.x3)*a.spring;a.vy3=a.vy3*(1-a.resist*a.dt)+a.dt*((a.y2+a.y4-2*a.y3)*a.spring-a.grav);a.vx4=a.vx4*(1-a.resist*\na.dt)+a.dt*(a.x3-a.x4)*a.spring;a.vy4=a.vy4*(1-a.resist*a.dt)+a.dt*((a.y3-a.y4)*a.spring-a.grav);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:Math.abs(a.vx2)*a.bounce;a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:-Math.abs(a.vx2)*a.bounce;a.vx3=.00001<Math.abs(above(a.x3,0))?a.vx3:Math.abs(a.vx3)*a.bounce;a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:-Math.abs(a.vx3)*a.bounce;a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:Math.abs(a.vx4)*\na.bounce;a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:-Math.abs(a.vx4)*a.bounce;a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:Math.abs(a.vy2)*a.bounce;a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:-Math.abs(a.vy2)*a.bounce;a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:Math.abs(a.vy3)*a.bounce;a.vy3=.00001<Math.abs(below(a.y3,1))?a.vy3:-Math.abs(a.vy3)*a.bounce;a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:Math.abs(a.vy4)*a.bounce;a.vy4=.00001<Math.abs(below(a.y4,1))?a.vy4:-Math.abs(a.vy4)*a.bounce;a.q1=a.x1;a.q2=\na.x2;a.q3=a.x3;a.q4=a.x4;a.q5=a.y1;a.q6=a.y2;a.q7=a.y3;a.q8=a.y4;a.zoom=1.004;a.q6=Math.atan2(a.vx4,a.vy4);a.q5=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);", pixel_eqs_str: "a.dir=-a.q6+Math.asin(1);a.b1=.08;a.m1=45*a.q5;a.t1=.5;a.xx=.5+div(a.q4-.5,a.aspectx);a.yy=1-(.5+div(a.q8-.5,a.aspecty));a.x1=a.xx+Math.cos(a.dir+1.5708)*a.b1;a.y1=a.yy-Math.sin(a.dir+1.5708)*a.b1;a.x2=a.xx-Math.cos(a.dir+1.5708)*a.b1;a.y2=a.yy+Math.sin(a.dir+1.5708)*a.b1;a.d1=sqrt((a.x1-a.x)*(a.x1-a.x)+(a.y1-a.y)*(a.y1-a.y))-2*a.b1;a.si1=1-div(1,1+pow(2,100*-a.d1));a.d2=sqrt((a.x2-a.x)*(a.x2-a.x)+(a.y2-a.y)*(a.y2-a.y))-2*a.b1;a.si2=1-div(1,1+pow(2,100*-a.d2));a.si3=0*-pow(a.q5,\n3);a.dx=div(2*(a.si1*Math.sin(a.y1-a.y)*a.m1*a.d1-a.si2*Math.sin(a.y2-a.y)*a.m1*a.d2+a.si3*Math.cos(a.dir)*a.t1),a.aspectx);a.dy=div(2*(-a.si1*Math.sin(a.x1-a.x)*a.m1*a.d1+a.si2*Math.sin(a.x2-a.x)*a.m1*a.d2-a.si3*Math.sin(a.dir)*a.t1),a.aspecty);", warp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (texsize.zw * 8.0);\n  vec2 tmpvar_3;\n  tmpvar_3.x = (((texture (sampler_blur1, \n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1)).x;\n  tmpvar_3.y = (((texture (sampler_blur1, \n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1)).x;\n  vec2 tmpvar_4;\n  tmpvar_4 = (uv - ((tmpvar_3 * texsize.zw) * 0.5));\n  ret_1.x = texture (sampler_fw_main, tmpvar_4).x;\n  ret_1.x = (ret_1.x + ((\n    (ret_1.x - ((texture (sampler_blur3, tmpvar_4).xyz * scale3) + bias3).x)\n   * 0.2) - 0.004));\n  ret_1.y = ((texture (sampler_fw_main, uv_orig).y * 0.98) - 0.004);\n  vec4 tmpvar_5;\n  tmpvar_5.w = 1.0;\n  tmpvar_5.xyz = ret_1;\n  ret = tmpvar_5.xyz;\n }", comp: " shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1 = (texsize.zw * 4.0);\n  vec2 tmpvar_2;\n  tmpvar_2.x = (((texture (sampler_blur1, \n    (uv + (vec2(1.0, 0.0) * tmpvar_1))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(1.0, 0.0) * tmpvar_1))\n  ).xyz * scale1) + bias1)).x;\n  tmpvar_2.y = (((texture (sampler_blur1, \n    (uv + (vec2(0.0, 1.0) * tmpvar_1))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(0.0, 1.0) * tmpvar_1))\n  ).xyz * scale1) + bias1)).x;\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = mix ((vec3(0.0, 0.0, 1.0) * texture (sampler_main, uv).x), vec3(1.0, 0.0, 0.0), texture (sampler_main, (uv - tmpvar_2)).yyy);\n  ret = tmpvar_3.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 1, gammaadj: 1, decay: 1, echo_zoom: 1, echo_alpha: 0.5, wave_thick: 1, wave_brighten: 0, wrap: 0, wave_a: 4e-3, wave_scale: 0.01, wave_smoothing: 0, wave_mystery: -0.44, modwavealphastart: 1, modwavealphaend: 1, warpanimspeed: 0.137, warpscale: 13.125, zoom: 0.99951, warp: 0.99213, wave_y: 0.04, ob_size: 0.015, ob_r: 0.1, ob_g: 0.25, ob_a: 1, ib_size: 0, ib_b: 1, mv_x: 64, mv_y: 48, mv_l: 0, mv_b: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 1, sides: 100, thickoutline: 1, rad: 0.02015, tex_ang: 0.12566, tex_zoom: 1.51878, r: 0, a: 0.1, g2: 0, border_a: 0}, init_eqs_str: "", frame_eqs_str: ""}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.y3=0;a.y1=0;a.q12=0;a.x1=0;a.vx3=0;a.q13=0;a.q15=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.q9=0;a.vx4=0;a.x3=0;a.q11=0;a.q10=0;a.xx2=0;a.q4=0;a.yy1=0;a.vy4=0;a.q16=0;a.x4=0;a.x2=0;a.vy2=0;a.y2=0;a.q2=0;a.q14=0;a.vx2=0;a.q3=0;a.y4=0;a.q7=0;a.vy3=0;a.xx1=0;a.q8=0;", frame_eqs_str: "a.warp=0;a.wave_a=0;a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+2*(a.xx1-a.xx2);a.y1=.4+1.5*a.yy1;a.dt=div(.03,a.fps);a.vx2=a.vx2*(1-2*a.dt)+10*a.dt*(a.x1+a.x3-2*a.x2);a.vy2=a.vy2*(1-2*a.dt)+a.dt*(10*(a.y1+a.y3-2*a.y2)-.5);a.vx3=a.vx3*(1-2*a.dt)+10*a.dt*(a.x2+a.x4-2*a.x3);a.vy3=a.vy3*(1-2*a.dt)+a.dt*(10*(a.y2+a.y4-2*a.y3)-.5);a.vx4=a.vx4*(1-2*a.dt)+10*a.dt*(a.x3-a.x4);a.vy4=a.vy4*(1-2*a.dt)+a.dt*(10*(a.y3-a.y4)-.5);a.x2+=\na.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:.5*Math.abs(a.vx2);a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:.5*-Math.abs(a.vx2);a.vx3=.00001<Math.abs(above(a.x3,0))?a.vx3:.5*Math.abs(a.vx3);a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:.5*-Math.abs(a.vx3);a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:.5*Math.abs(a.vx4);a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:.5*-Math.abs(a.vx4);a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:.5*Math.abs(a.vy2);\na.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:.5*-Math.abs(a.vy2);a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:.5*Math.abs(a.vy3);a.vy3=.00001<Math.abs(below(a.y3,1))?a.vy3:.5*-Math.abs(a.vy3);a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:.5*Math.abs(a.vy4);a.vy4=.00001<Math.abs(below(a.y4,1))?a.vy4:.5*-Math.abs(a.vy4);a.q1=a.x1;a.q2=a.x2;a.q3=a.x3;a.q4=a.x4;a.q5=a.y1;a.q6=a.y2;a.q7=a.y3;a.q8=a.y4;a.q9=div(1,a.aspectx);a.q10=div(1,a.aspecty);a.q11=a.aspectx;a.q12=a.aspecty;a.q13=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);\na.q14=Math.atan2(a.vx4,a.vy4);a.q15=Math.sin(a.q14);a.q16=Math.cos(a.q14);", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec2 uv_1;\n  vec2 my_uv_2;\n  vec3 ret_3;\n  vec2 tmpvar_4;\n  tmpvar_4.x = q4;\n  tmpvar_4.y = (1.0 - q8);\n  vec2 tmpvar_5;\n  tmpvar_5.x = -(q15);\n  tmpvar_5.y = q16;\n  vec2 domain_6;\n  vec2 uv_rot_7;\n  domain_6 = (uv - tmpvar_4);\n  domain_6 = (domain_6 * aspect.xy);\n  float tmpvar_8;\n  tmpvar_8 = (1.0/((1.0 + exp(\n    ((sqrt(dot (domain_6, domain_6)) - 0.07) * 50.0)\n  ))));\n  domain_6 = (domain_6 + ((tmpvar_5 * q13) * (aspect.wz * tmpvar_8)));\n  float tmpvar_9;\n  tmpvar_9 = sin(tmpvar_8);\n  float tmpvar_10;\n  tmpvar_10 = cos(tmpvar_8);\n  uv_rot_7.x = ((tmpvar_10 * domain_6.x) - (tmpvar_9 * domain_6.y));\n  uv_rot_7.y = ((tmpvar_9 * domain_6.x) + (tmpvar_10 * domain_6.y));\n  uv_rot_7 = (uv_rot_7 * aspect.zw);\n  uv_rot_7 = (uv_rot_7 + tmpvar_4);\n  uv_1 = (clamp ((tmpvar_4 + \n    ((uv_rot_7 - tmpvar_4) * mix (1.0, 4.0, tmpvar_8))\n  ), 0.0, 1.0) + (texsize.zw * vec2(0.0, 0.15)));\n  vec2 tmpvar_11;\n  tmpvar_11 = mix (uv_orig, uv_1, vec2(0.2, 0.2));\n  uv_1 = tmpvar_11;\n  vec2 tmpvar_12;\n  tmpvar_12 = (vec2(1280.0, 1024.0) * texsize.zw);\n  float tmpvar_13;\n  tmpvar_13 = (((\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.005, 0.0))).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.005, 0.0))).xyz * scale2)\n   + bias2)).x * tmpvar_12.x);\n  float tmpvar_14;\n  tmpvar_14 = (((\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.0, 0.005))).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.0, 0.005))).xyz * scale2)\n   + bias2)).x * tmpvar_12.y);\n  vec2 tmpvar_15;\n  tmpvar_15.x = tmpvar_13;\n  tmpvar_15.y = tmpvar_14;\n  vec2 tmpvar_16;\n  tmpvar_16.x = (((\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.005, 0.0))).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.005, 0.0))).xyz * scale2)\n   + bias2)).x * tmpvar_12.x);\n  tmpvar_16.y = (((\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.0, 0.005))).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.0, 0.005))).xyz * scale2)\n   + bias2)).x * tmpvar_12.y);\n  ret_3.x = texture (sampler_fw_main, ((tmpvar_11 - (tmpvar_15 * 0.006)) + (tmpvar_16 * 0.003))).x;\n  ret_3.x = (ret_3.x + ((ret_3.x - \n    ((texture (sampler_blur3, tmpvar_11).xyz * scale3) + bias3)\n  .x) * 0.1));\n  ret_3.x = (ret_3.x + 0.004);\n  vec2 tmpvar_17;\n  tmpvar_17.x = tmpvar_14;\n  tmpvar_17.y = -(tmpvar_13);\n  my_uv_2 = (uv_orig + ((tmpvar_17 * 0.05) * (1.2 - \n    ((texture (sampler_blur3, uv_orig).xyz * scale3) + bias3)\n  .y)));\n  ret_3.z = texture (sampler_fw_main, my_uv_2).z;\n  vec2 x_18;\n  x_18 = (my_uv_2 - uv_orig);\n  ret_3.z = (ret_3.z + ((\n    ((ret_3.z - ((texture (sampler_blur1, uv_orig).xyz * scale1) + bias1).z) * sqrt(dot (x_18, x_18)))\n   * 180.0) / sqrt(\n    dot (tmpvar_12, tmpvar_12)\n  )));\n  ret_3.z = (ret_3.z * 0.85);\n  ret_3.z = (ret_3.z + 0.008);\n  vec2 tmpvar_19;\n  tmpvar_19.x = -(tmpvar_14);\n  tmpvar_19.y = tmpvar_13;\n  my_uv_2 = (tmpvar_19 * 0.045);\n  vec2 tmpvar_20;\n  tmpvar_20.x = (((\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.01, 0.0))).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.01, 0.0))).xyz * scale2)\n   + bias2)).y * tmpvar_12.x);\n  tmpvar_20.y = (((\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.0, 0.01))).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.0, 0.01))).xyz * scale2)\n   + bias2)).y * tmpvar_12.y);\n  my_uv_2 = (my_uv_2 + (tmpvar_11 - (tmpvar_20 * 0.03)));\n  ret_3.y = texture (sampler_fw_main, my_uv_2).y;\n  ret_3.y = (ret_3.y + ((\n    (ret_3.y - ((texture (sampler_blur3, my_uv_2).xyz * scale3) + bias3).y)\n   * 0.1) + 0.03));\n  vec4 tmpvar_21;\n  tmpvar_21.w = 1.0;\n  tmpvar_21.xyz = ret_3;\n  ret = tmpvar_21.xyz;\n }", comp: " shader_body { \n  vec2 dz_1;\n  vec3 dy_2;\n  vec3 dx_3;\n  vec2 d_4;\n  vec3 ret_5;\n  vec2 tmpvar_6;\n  vec2 tmpvar_7;\n  tmpvar_7 = (vec2(1.0, 0.0) * texsize.zw);\n  tmpvar_6.x = (texture (sampler_main, (uv + tmpvar_7)).xyz - texture (sampler_main, (uv - tmpvar_7)).xyz).y;\n  vec2 tmpvar_8;\n  tmpvar_8 = (vec2(0.0, 1.0) * texsize.zw);\n  tmpvar_6.y = (texture (sampler_main, (uv + tmpvar_8)).xyz - texture (sampler_main, (uv - tmpvar_8)).xyz).y;\n  d_4 = (texsize.zw * 2.0);\n  dx_3 = (((texture (sampler_blur1, \n    (uv + (vec2(1.0, 0.0) * d_4))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(1.0, 0.0) * d_4))\n  ).xyz * scale1) + bias1));\n  dy_2 = (((texture (sampler_blur1, \n    (uv + (vec2(0.0, 1.0) * d_4))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(0.0, 1.0) * d_4))\n  ).xyz * scale1) + bias1));\n  vec2 tmpvar_9;\n  tmpvar_9.x = dx_3.y;\n  tmpvar_9.y = dy_2.y;\n  dz_1 = ((tmpvar_6 * 3.0) + tmpvar_9);\n  ret_5 = (vec3(((\n    pow ((sqrt(dot (dz_1, dz_1)) * 0.8), 0.7)\n   + \n    (((texture (sampler_blur2, uv).xyz * scale2) + bias2).y * 0.4)\n  ) - 0.1)) * vec3(0.3, 0.5, 0.7));\n  vec2 tmpvar_10;\n  tmpvar_10.x = dx_3.x;\n  tmpvar_10.y = dy_2.x;\n  vec3 tmpvar_11;\n  tmpvar_11 = mix (mix (ret_5, vec3(0.2, 0.1, 0.0), vec3((texture (sampler_main, \n    (uv + ((tmpvar_10 * texsize.zw) * 18.0))\n  ).x * 6.0))), vec3(1.0, 1.0, 1.0), texture (sampler_main, uv).zzz);\n  ret_5 = tmpvar_11;\n  vec4 tmpvar_12;\n  tmpvar_12.w = 1.0;\n  tmpvar_12.xyz = tmpvar_11;\n  ret = tmpvar_12.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 1, echo_zoom: 1, echo_alpha: 0.5, wave_thick: 1, wave_brighten: 0, wave_a: 4e-3, wave_scale: 0.267, wave_smoothing: 0, wave_mystery: -0.44, modwavealphastart: 1, modwavealphaend: 1, warpscale: 16.016, zoomexp: 11.56276, zoom: 1.05971, warp: 0.13126, wave_y: 0.04, ob_size: 0, ob_a: 1, ib_size: 0, mv_x: 64, mv_y: 48, mv_l: 0, mv_b: 0, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 1, sides: 100, thickoutline: 1, rad: 0.01, tex_ang: 0.12566, tex_zoom: 1.51878, g: 0.99, b: 1, a: 0.1, g2: 0, border_a: 0}, init_eqs_str: "", frame_eqs_str: ""}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.v=0;a.t=0;a.q12=0;a.q13=0;a.q11=div(.5,Math.asin(1));", frame_eqs_str: "a.zoom=1;a.v=.9*a.v+.04*(a.bass-a.treb);a.t+=.01*a.v;a.q12=.1*a.time+a.t;a.q13=.25+.01*(a.bass_att-a.treb_att);", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec2 my_uv_1;\n  vec2 d_2;\n  vec3 ret_3;\n  vec2 tmpvar_4;\n  tmpvar_4 = (texsize.zw * 4.0);\n  vec3 tmpvar_5;\n  tmpvar_5 = (((texture (sampler_blur1, \n    fract((uv + (vec2(1.0, 0.0) * tmpvar_4)))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    fract((uv - (vec2(1.0, 0.0) * tmpvar_4)))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_6;\n  tmpvar_6 = (((texture (sampler_blur1, \n    fract((uv + (vec2(0.0, 1.0) * tmpvar_4)))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    fract((uv - (vec2(0.0, 1.0) * tmpvar_4)))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_7;\n  tmpvar_7 = ((texture (sampler_blur1, uv).xyz * scale1) + bias1);\n  d_2 = -(tmpvar_4);\n  float tmpvar_8;\n  tmpvar_8 = (d_2 * 4.0).x;\n  vec2 tmpvar_9;\n  tmpvar_9.x = tmpvar_5.y;\n  tmpvar_9.y = tmpvar_6.y;\n  vec2 tmpvar_10;\n  tmpvar_10.x = tmpvar_5.x;\n  tmpvar_10.y = tmpvar_6.x;\n  vec2 tmpvar_11;\n  tmpvar_11 = ((uv - (tmpvar_9 * d_2)) - (tmpvar_10 * tmpvar_8));\n  ret_3.y = texture (sampler_fc_main, (tmpvar_11 - floor(tmpvar_11))).y;\n  ret_3.y = (ret_3.y + ((\n    (ret_3.y - tmpvar_7.y)\n   * 0.042) + -0.0075));\n  vec2 tmpvar_12;\n  tmpvar_12.x = tmpvar_5.x;\n  tmpvar_12.y = tmpvar_6.x;\n  vec2 tmpvar_13;\n  tmpvar_13.x = tmpvar_5.z;\n  tmpvar_13.y = tmpvar_6.z;\n  my_uv_1 = ((uv - (tmpvar_12 * d_2)) - (tmpvar_13 * tmpvar_8));\n  ret_3.x = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).x;\n  ret_3.x = (ret_3.x + ((\n    (ret_3.x - tmpvar_7.x)\n   * 0.042) + -0.0075));\n  vec2 tmpvar_14;\n  tmpvar_14.x = tmpvar_5.z;\n  tmpvar_14.y = tmpvar_6.z;\n  vec2 tmpvar_15;\n  tmpvar_15.x = tmpvar_5.y;\n  tmpvar_15.y = tmpvar_6.y;\n  my_uv_1 = ((uv - (tmpvar_14 * d_2)) - (tmpvar_15 * tmpvar_8));\n  ret_3.z = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).z;\n  ret_3.z = (ret_3.z + ((\n    (ret_3.z - tmpvar_7.z)\n   * 0.042) + -0.0075));\n  vec4 tmpvar_16;\n  tmpvar_16.w = 1.0;\n  tmpvar_16.xyz = ret_3;\n  ret = tmpvar_16.xyz;\n }", comp: " shader_body { \n  vec2 uv_1;\n  uv_1 = uv;\n  vec3 ret_2;\n  float tmpvar_3;\n  tmpvar_3 = -(q12);\n  vec2 tmpvar_4;\n  tmpvar_4 = ((uv - 0.5) * aspect.wz);\n  float tmpvar_5;\n  float tmpvar_6;\n  tmpvar_6 = (min (abs(\n    (tmpvar_4.x / tmpvar_4.y)\n  ), 1.0) / max (abs(\n    (tmpvar_4.x / tmpvar_4.y)\n  ), 1.0));\n  float tmpvar_7;\n  tmpvar_7 = (tmpvar_6 * tmpvar_6);\n  tmpvar_7 = (((\n    ((((\n      ((((-0.01213232 * tmpvar_7) + 0.05368138) * tmpvar_7) - 0.1173503)\n     * tmpvar_7) + 0.1938925) * tmpvar_7) - 0.3326756)\n   * tmpvar_7) + 0.9999793) * tmpvar_6);\n  tmpvar_7 = (tmpvar_7 + (float(\n    (abs((tmpvar_4.x / tmpvar_4.y)) > 1.0)\n  ) * (\n    (tmpvar_7 * -2.0)\n   + 1.570796)));\n  tmpvar_5 = (tmpvar_7 * sign((tmpvar_4.x / tmpvar_4.y)));\n  if ((abs(tmpvar_4.y) > (1e-08 * abs(tmpvar_4.x)))) {\n    if ((tmpvar_4.y < 0.0)) {\n      if ((tmpvar_4.x >= 0.0)) {\n        tmpvar_5 += 3.141593;\n      } else {\n        tmpvar_5 = (tmpvar_5 - 3.141593);\n      };\n    };\n  } else {\n    tmpvar_5 = (sign(tmpvar_4.x) * 1.570796);\n  };\n  vec2 tmpvar_8;\n  tmpvar_8.x = ((tmpvar_5 * q11) - tmpvar_3);\n  tmpvar_8.y = (((q13 * \n    log(sqrt(dot (tmpvar_4, tmpvar_4)))\n  ) + (tmpvar_5 * q11)) + tmpvar_3);\n  uv_1 = (0.5 + (0.5 - abs(\n    ((fract((tmpvar_8 * 0.5)) * 2.0) - 1.0)\n  )));\n  vec4 tmpvar_9;\n  tmpvar_9 = texture (sampler_main, uv_1);\n  ret_2 = (vec3(dot (tmpvar_9.xyz, vec3(0.32, 0.49, 0.29))) * mix (vec3(1.0, 1.0, 1.0), vec3(0.2, 0.5, 1.0), tmpvar_9.xxx));\n  ret_2 = (ret_2 * 2.0);\n  vec4 tmpvar_10;\n  tmpvar_10.w = 1.0;\n  tmpvar_10.xyz = ret_2;\n  ret = tmpvar_10.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 1, echo_zoom: 1, echo_alpha: 0.5, wave_thick: 1, wave_brighten: 0, wrap: 0, wave_a: 4e-3, wave_scale: 0.242, wave_smoothing: 0, wave_mystery: -0.44, modwavealphastart: 1, modwavealphaend: 1, warpanimspeed: 0.88, warpscale: 9.181, zoomexp: 0.65309, zoom: 0.87866, warp: 0.04914, wave_y: 0.04, ob_size: 0.05, ob_a: 1, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 1, mv_x: 64, mv_y: 48, mv_l: 0, mv_b: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 1, sides: 100, thickoutline: 1, y: 0.04, rad: 0.01, tex_ang: 0.12566, tex_zoom: 1.51878, r: 0, a: 0, g2: 0, b2: 0.01, border_a: 0}, init_eqs_str: "", frame_eqs_str: ""}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, thick: 1, additive: 1, scaling: 2.0231, smoothing: 0, r: 0, b: 0}, init_eqs_str: "a.tt3=0;a.tt2=0;a.tt1=0;a.d=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;", frame_eqs_str: "a.r=1;a.g=0;a.b=1;", point_eqs_str: "a.tt3=.6*a.tt3+1*a.value1;a.tt2=.7*a.tt2+.2*a.tt3;a.tt1=.8*a.tt1+.1*a.tt2;a.d=.9*a.d+.2*a.tt1;a.y=.6+a.d*a.sample*(1-a.sample)*2;a.x=-.05+1.1*a.sample;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.c_inv_i=0;a.translation_x=0;a.q12=0;a.a_i=0;a.a_r=0;a.q18=0;a.q13=0;a.scale=0;a.q15=0;a.c_inv_r=0;a.angle=0;a.q11=0;a.bcad_r=0;a.b_r=0;a.q16=0;a.bcad_i=0;a.q17=0;a.q14=0;a.translation_y=0;a.translation_v=0;a.b_i=0;a.translation_u=0;a.x1=.9;a.y1=.5;a.x2=.5;a.y2=.5;a.x3=.5;a.y3=.5;a.x4=.5;a.y4=.5;", frame_eqs_str: "a.zoom=1;a.scale=1;a.angle=.1*a.time;a.translation_x=0;a.translation_y=.12;a.a_r=Math.cos(a.angle)*a.scale;a.a_i=Math.sin(a.angle)*a.scale;a.b_r=a.translation_x;a.b_i=a.translation_y;a.scale=1.6;a.angle=0;a.translation_u=0;a.translation_v=0;a.q15=Math.cos(a.angle)*a.scale;a.q16=Math.sin(a.angle)*a.scale;a.q17=a.translation_u;a.q18=a.translation_v;a.c_inv_r=div(a.q15,a.q15*a.q15+a.q16*a.q16);a.c_inv_i=div(a.q16,a.q15*a.q15+a.q16*a.q16);a.q11=a.a_r*a.c_inv_r-a.a_i*a.c_inv_i;a.q12=\na.a_r*a.c_inv_i-a.a_i*a.c_inv_r;a.bcad_r=a.b_r*a.q15-a.b_i*a.q16-(a.a_r*a.q17-a.a_i*a.q18);a.bcad_i=a.b_r*a.q16-a.b_i*a.q15-(a.a_r*a.q18-a.a_i*a.q17);a.q13=a.bcad_r*a.c_inv_r-a.bcad_i*a.c_inv_i;a.q14=a.bcad_r*a.c_inv_i-a.bcad_i*a.c_inv_r;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  float conway_1;\n  vec3 ret_2;\n  vec2 tmpvar_3;\n  tmpvar_3.x = (((\n    ((texture (sampler_blur2, (uv + vec2(0.02, 0.0))).xyz * scale2) + bias2)\n   - \n    ((texture (sampler_blur2, (uv - vec2(0.02, 0.0))).xyz * scale2) + bias2)\n  ).y * 1280.0) * texsize.z);\n  tmpvar_3.y = (((\n    ((texture (sampler_blur2, (uv + vec2(0.0, 0.02))).xyz * scale2) + bias2)\n   - \n    ((texture (sampler_blur2, (uv - vec2(0.0, 0.02))).xyz * scale2) + bias2)\n  ).y * 1024.0) * texsize.w);\n  ret_2.y = texture (sampler_pc_main, (uv - (tmpvar_3 * 0.004))).y;\n  ret_2.y = (ret_2.y + ((\n    ((ret_2.y - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).y) - 0.1)\n   * 0.1) + 0.02));\n  vec2 tmpvar_4;\n  tmpvar_4 = (vec2(0.0, 1.0) * texsize.zw);\n  ret_2.z = (texture (sampler_fc_main, (uv - tmpvar_4)).z - 0.004);\n  conway_1 = (texture (sampler_pw_main, (uv_orig - texsize.zw)).x + texture (sampler_pw_main, (uv_orig + (vec2(0.0, -1.0) * texsize.zw))).x);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, -1.0) * texsize.zw))).x);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 0.0) * texsize.zw))).x);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, 0.0) * texsize.zw))).x);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 1.0) * texsize.zw))).x);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + tmpvar_4)).x);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + texsize.zw)).x);\n  conway_1 = (conway_1 - fract(conway_1));\n  float tmpvar_5;\n  tmpvar_5 = clamp (texture (sampler_pc_main, uv_orig).x, 0.0, 1.0);\n  ret_2.x = (clamp ((1.0 - \n    abs((conway_1 - 3.0))\n  ), 0.0, 1.0) * (1.0 - tmpvar_5));\n  ret_2.x = (ret_2.x + (clamp (\n    max ((1.0 - abs((conway_1 - 2.0))), (1.0 - abs((conway_1 - 3.0))))\n  , 0.0, 1.0) * tmpvar_5));\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = ret_2;\n  ret = tmpvar_6.xyz;\n }", comp: " shader_body { \n  vec2 moebius_1;\n  vec3 ret_2;\n  vec2 tmpvar_3;\n  tmpvar_3.x = q11;\n  tmpvar_3.y = q12;\n  vec2 tmpvar_4;\n  tmpvar_4.x = q17;\n  tmpvar_4.y = q18;\n  vec2 tmpvar_5;\n  vec2 tmpvar_6;\n  tmpvar_6 = (uv - 0.5);\n  tmpvar_5 = (tmpvar_6 * aspect.xy);\n  vec2 tmpvar_7;\n  tmpvar_7.x = ((tmpvar_5.x * q15) - (tmpvar_5.y * q16));\n  tmpvar_7.y = ((tmpvar_5.x * q16) - (tmpvar_5.y * q15));\n  vec2 tmpvar_8;\n  tmpvar_8 = (tmpvar_7 + tmpvar_4);\n  vec2 tmpvar_9;\n  tmpvar_9.x = ((q13 * tmpvar_8.x) + (q14 * tmpvar_8.y));\n  tmpvar_9.y = ((q14 * tmpvar_8.x) - (q13 * tmpvar_8.y));\n  moebius_1 = (((tmpvar_9 / \n    ((tmpvar_8.x * tmpvar_8.x) + (tmpvar_8.y * tmpvar_8.y))\n  ) + tmpvar_3) * 0.5);\n  float tmpvar_10;\n  tmpvar_10 = sqrt(dot (moebius_1, moebius_1));\n  moebius_1 = (0.5 + ((\n    (1.0 - abs(((\n      fract((moebius_1 * 0.5))\n     * 2.0) - 1.0)))\n   - 0.5) * 0.95));\n  vec2 tmpvar_11;\n  tmpvar_11 = (0.5 + (tmpvar_6 * 0.2));\n  ret_2 = (texture (sampler_main, tmpvar_11).z * vec3(0.4, 0.0, 0.7));\n  ret_2 = (mix (ret_2, vec3(0.0, 1.0, 1.0), vec3(clamp (texture (sampler_fc_main, moebius_1).y, 0.0, 1.0))) * (1.4 - pow (\n    (tmpvar_10 * 0.8)\n  , 0.3)));\n  vec3 tmpvar_12;\n  tmpvar_12 = mix (mix (mix (ret_2, vec3(4.0, 1.0, 0.0), vec3(\n    ((clamp ((texture (sampler_fc_main, tmpvar_11).y - texture (sampler_pc_main, tmpvar_11).y), 0.0, 1.0) * 4.0) * (tmpvar_10 * tmpvar_10))\n  )), vec3(-4.0, -4.0, -4.0), texture (sampler_main, tmpvar_11).xxx), vec3(2.0, 2.0, 2.0), vec3((texture (sampler_pc_main, tmpvar_11).x * 0.75)));\n  ret_2 = tmpvar_12;\n  vec4 tmpvar_13;\n  tmpvar_13.w = 1.0;\n  tmpvar_13.xyz = tmpvar_12;\n  ret = tmpvar_13.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 1, gammaadj: 1.28, decay: 0.8, echo_zoom: 1, echo_orient: 3, wave_mode: 7, additivewave: 1, modwavealphabyvolume: 1, wave_brighten: 0, wrap: 0, brighten: 1, wave_a: 1e-3, wave_scale: 1.286, wave_smoothing: 0.63, modwavealphastart: 0.71, modwavealphaend: 1.3, warpanimspeed: 0.01, warpscale: 100, zoomexp: 0.92178, zoom: 0.9901, warp: 0.01, wave_r: 0.65, wave_g: 0.65, wave_b: 0.65, ob_size: 5e-3, ob_g: 1, ob_a: 1, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 1, mv_x: 64, mv_y: 48, mv_l: 0, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.d=0;a.y3=0;a.y1=0;a.xx=0;a.s=0;a.x1=0;a.vx3=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.v=0;a.vx4=0;a.grav=0;a.x3=0;a.q11=0;a.q10=0;a.xx2=0;a.q4=0;a.a=0;a.yy1=0;a.vy4=0;a.dir=0;a.bounce=0;a.x4=0;a.r=0;a.x2=0;a.vy2=0;a.y2=0;a.q2=0;a.spring=0;a.vx2=0;a.q3=0;a.resist=0;a.yy=0;a.y4=0;a.vy3=0;a.xx1=0;a.v2=0;a.q8=0;a.x1=.9;a.y1=.5;a.x2=.5;a.y2=.5;a.x3=.5;a.y3=.5;a.x4=.5;a.y4=.5;", frame_eqs_str: "a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+2*(a.xx1-a.xx2);a.y1=.4+a.yy1;a.x1=Math.max(0,Math.min(1,a.x1));a.y1=Math.max(0,Math.min(1,a.y1));a.spring=10;a.grav=.5;a.resist=1;a.bounce=.75;a.dt=.0001*div(60,a.fps);a.vx2=a.vx2*(1-a.resist*a.dt)+a.dt*(a.x1+a.x3-2*a.x2)*a.spring;a.vy2=a.vy2*(1-a.resist*a.dt)+a.dt*((a.y1+a.y3-2*a.y2)*a.spring-a.grav);a.vx3=a.vx3*(1-a.resist*a.dt)+a.dt*(a.x2+a.x4-2*a.x3)*a.spring;a.vy3=a.vy3*(1-\na.resist*a.dt)+a.dt*((a.y2+a.y4-2*a.y3)*a.spring-a.grav);a.vx4=a.vx4*(1-a.resist*a.dt)+a.dt*(a.x3-a.x4)*a.spring;a.vy4=a.vy4*(1-a.resist*a.dt)+a.dt*((a.y3-a.y4)*a.spring-a.grav);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:Math.abs(a.vx2)*a.bounce;a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:-Math.abs(a.vx2)*a.bounce;a.vx3=.00001<Math.abs(above(a.x3,0))?a.vx3:Math.abs(a.vx3)*a.bounce;a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:-Math.abs(a.vx3)*\na.bounce;a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:Math.abs(a.vx4)*a.bounce;a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:-Math.abs(a.vx4)*a.bounce;a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:Math.abs(a.vy2)*a.bounce;a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:-Math.abs(a.vy2)*a.bounce;a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:Math.abs(a.vy3)*a.bounce;a.vy3=.00001<Math.abs(below(a.y3,1))?a.vy3:-Math.abs(a.vy3)*a.bounce;a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:Math.abs(a.vy4)*a.bounce;a.vy4=.00001<\nMath.abs(below(a.y4,1))?a.vy4:-Math.abs(a.vy4)*a.bounce;a.q4=a.x4;a.q8=a.y4;a.q1=a.aspectx;a.q2=a.aspecty;a.q10=a.x1;a.q11=a.y1;a.zoom=1;a.warp=0;a.q6=Math.atan2(a.vx4,a.vy4);a.q5=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.a=.95*a.a+a.q5;a.s=.9*a.s+a.a;a.q3=.1*a.s;a.monitor=a.s;a.wave_a=0;", pixel_eqs_str: "a.x=.5+(a.x-.5)*a.q1;a.y=.5+(a.y-.5)*a.q2;a.xx=a.q4;a.yy=1-a.q8;a.dx=0;a.dy=0;a.d=sqrt((a.x-a.xx)*(a.x-a.xx)+(a.y-a.yy)*(a.y-a.yy));a.r=.1;a.v=20;a.v2=a.q5;a.dx=(a.v*(Math.sin(a.y-a.yy)*(a.d-a.r)-(a.x-a.xx)*(a.d-div(a.r,2)))+Math.cos(a.dir)*a.v2)*(1-sigmoid(a.d-a.r,120));a.dy=(-a.v*(Math.sin(a.x-a.xx)*(a.d-a.r)+(a.y-a.yy)*(a.d-div(a.r,2)))-Math.sin(a.dir)*a.v2)*(1-sigmoid(a.d-a.r,120));", warp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = mix (uv_orig, uv, vec2(2.0, 2.0));\n  vec2 tmpvar_3;\n  tmpvar_3 = (texsize.zw * 2.0);\n  vec3 tmpvar_4;\n  tmpvar_4 = (((texture (sampler_blur1, \n    (tmpvar_2 + (vec2(1.0, 0.0) * tmpvar_3))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (tmpvar_2 - (vec2(1.0, 0.0) * tmpvar_3))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_5;\n  tmpvar_5 = (((texture (sampler_blur1, \n    (tmpvar_2 + (vec2(0.0, 1.0) * tmpvar_3))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (tmpvar_2 - (vec2(0.0, 1.0) * tmpvar_3))\n  ).xyz * scale1) + bias1));\n  vec2 tmpvar_6;\n  tmpvar_6.x = tmpvar_4.x;\n  tmpvar_6.y = tmpvar_5.x;\n  vec2 tmpvar_7;\n  tmpvar_7 = (tmpvar_2 + ((tmpvar_6 * texsize.zw) * 8.0));\n  vec2 tmpvar_8;\n  tmpvar_8.x = tmpvar_4.y;\n  tmpvar_8.y = tmpvar_5.y;\n  vec2 tmpvar_9;\n  tmpvar_9 = (tmpvar_2 + ((tmpvar_8 * texsize.zw) * 8.0));\n  vec2 tmpvar_10;\n  tmpvar_10.x = tmpvar_4.z;\n  tmpvar_10.y = tmpvar_5.z;\n  vec2 tmpvar_11;\n  tmpvar_11 = (tmpvar_2 + ((tmpvar_10 * texsize.zw) * 8.0));\n  ret_1.x = (texture (sampler_main, tmpvar_7).x - ((texture (sampler_main, tmpvar_7).xyz - \n    ((texture (sampler_blur3, tmpvar_7).xyz * scale3) + bias3)\n  ).x * 0.02));\n  ret_1.y = (texture (sampler_main, tmpvar_9).y - ((texture (sampler_main, tmpvar_9).xyz - \n    ((texture (sampler_blur3, tmpvar_9).xyz * scale3) + bias3)\n  ).y * 0.02));\n  ret_1.z = (texture (sampler_main, tmpvar_11).z - ((texture (sampler_main, tmpvar_11).xyz - \n    ((texture (sampler_blur3, tmpvar_11).xyz * scale3) + bias3)\n  ).z * 0.02));\n  ret_1 = (ret_1 + ((texture (sampler_noise_lq, \n    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.2)) + rand_frame.xy)\n  ).xyz - 0.5) * 0.04));\n  ret_1 = (ret_1 - ((ret_1.yzx * 0.1) - 0.02));\n  vec4 tmpvar_12;\n  tmpvar_12.w = 1.0;\n  tmpvar_12.xyz = ret_1;\n  ret = tmpvar_12.xyz;\n }", comp: " shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1 = (texsize.zw * 8.0);\n  vec3 tmpvar_2;\n  tmpvar_2 = (((texture (sampler_blur1, \n    (uv + (vec2(1.0, 0.0) * tmpvar_1))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(1.0, 0.0) * tmpvar_1))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_3;\n  tmpvar_3 = (((texture (sampler_blur1, \n    (uv + (vec2(0.0, 1.0) * tmpvar_1))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(0.0, 1.0) * tmpvar_1))\n  ).xyz * scale1) + bias1));\n  vec2 tmpvar_4;\n  tmpvar_4.x = q4;\n  tmpvar_4.y = (1.0 - q8);\n  vec2 tmpvar_5;\n  tmpvar_5.x = tmpvar_2.y;\n  tmpvar_5.y = tmpvar_3.y;\n  vec2 x_6;\n  x_6 = ((uv - (tmpvar_5 * 2.0)) - tmpvar_4);\n  vec2 tmpvar_7;\n  tmpvar_7.x = tmpvar_2.x;\n  tmpvar_7.y = tmpvar_3.x;\n  vec2 x_8;\n  x_8 = ((uv - (tmpvar_7 * 2.0)) - tmpvar_4);\n  vec2 tmpvar_9;\n  tmpvar_9.x = tmpvar_2.z;\n  tmpvar_9.y = tmpvar_3.z;\n  vec2 x_10;\n  x_10 = ((uv - (tmpvar_9 * 2.0)) - tmpvar_4);\n  vec3 tmpvar_11;\n  tmpvar_11.x = (1.1 - pow (sqrt(\n    dot (x_8, x_8)\n  ), 0.2));\n  tmpvar_11.y = (1.1 - pow (sqrt(\n    dot (x_6, x_6)\n  ), 0.2));\n  tmpvar_11.z = (1.1 - pow (sqrt(\n    dot (x_10, x_10)\n  ), 0.2));\n  vec4 tmpvar_12;\n  tmpvar_12.w = 1.0;\n  tmpvar_12.xyz = ((tmpvar_11 * texture (sampler_main, uv).xyz) * 2.4);\n  ret = tmpvar_12.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1, decay: 1, echo_zoom: 1, echo_orient: 2, wave_mode: 1, wave_thick: 1, wave_brighten: 0, wrap: 0, wave_a: 4e-3, wave_scale: 0.01, wave_smoothing: 0, wave_mystery: -0.44, modwavealphastart: 1, modwavealphaend: 1, warpanimspeed: 1.311, warpscale: 8.311, zoomexp: 5.20652, warp: 0.13291, wave_y: 0.04, ob_size: 5e-3, ob_a: 1, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 1, mv_x: 0, mv_y: 0, mv_l: 1, mv_g: 0.91, mv_b: 0.71, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 1, sides: 100, additive: 1, thickoutline: 1, y: 0.75, rad: 0.07493, tex_zoom: 0.73458, g: 1, g2: 0, border_a: 0}, init_eqs_str: "a.q4=0;a.q8=0;a.vx=0;", frame_eqs_str: "a.x=a.q4;a.y=a.q8;"}, {baseVals: {enabled: 1, sides: 100, additive: 1, thickoutline: 1, textured: 1, x: 0.7, y: 0.3, rad: 0.6623, ang: 2.45044, tex_zoom: 0.74934, g: 0.1, b: 0.1, r2: 1, g2: 0.1, b2: 0.1, a2: 1, border_a: 0}, init_eqs_str: "a.d=0;a.xx=0;a.q4=0;a.yy=0;a.q8=0;a.aang=0;a.xx=.5;a.yy=.4;", frame_eqs_str: "a.d=sqrt(sqr(a.xx-a.q4)+sqr(a.yy-a.q8));a.xx=.00001<Math.abs(below(a.d,.15))?.4+div(randint(200),1E3):a.xx;a.yy=.00001<Math.abs(below(a.d,.15))?.3+div(randint(400),1E3):a.yy;a.aang=.00001<Math.abs(below(a.d,.12))?div(randint(1E3),1E3):a.aang;a.ang=4*a.aang*Math.asin(1);a.x=a.xx;a.y=a.yy;"}, {baseVals: {enabled: 1, sides: 100, additive: 1, thickoutline: 1, textured: 1, x: 0.43, y: 0.6, rad: 1.16781, ang: 5.96903, tex_zoom: 0.67165, r2: 1, g2: 0, a2: 1, border_a: 0}, init_eqs_str: "a.d=0;a.xx=0;a.q4=0;a.yy=0;a.q8=0;a.aang=0;a.xx=.5;a.yy=.4;", frame_eqs_str: "a.d=sqrt(sqr(a.xx-a.q4)+sqr(a.yy-a.q8));a.xx=.00001<Math.abs(below(a.d,.15))?.4+div(randint(200),1E3):a.xx;a.yy=.00001<Math.abs(below(a.d,.15))?.3+div(randint(400),1E3):a.yy;a.aang=.00001<Math.abs(below(a.d,.12))?div(randint(1E3),1E3):a.aang;a.ang=4*a.aang*Math.asin(1);a.x=a.xx;a.y=a.yy;"}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.y3=0;a.y1=0;a.spx3=0;a.x1=0;a.vx3=0;a.q6=0;a.spy2=0;a.dt=0;a.spy3=0;a.q1=0;a.q5=0;a.spx2=0;a.vx4=0;a.spx4=0;a.grav=0;a.x3=0;a.ry4=0;a.xx2=0;a.q4=0;a.spy4=0;a.yy1=0;a.vy4=0;a.bounce=0;a.x4=0;a.x2=0;a.vy2=0;a.y2=0;a.q2=0;a.spring=0;a.vx2=0;a.q3=0;a.resist=0;a.y4=0;a.q7=0;a.vy3=0;a.xx1=0;a.q8=0;a.x1=0;a.y1=0;", frame_eqs_str: "a.decay=.25;a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+2*(a.xx1-a.xx2);a.y1=.4+a.yy1;a.x1=Math.max(0,Math.min(1,a.x1));a.y1=Math.max(0,Math.min(1,a.y1));a.spring=50;a.grav=2;a.resist=5;a.bounce=.75;a.dt=div(.009,a.fps);a.spx2=(a.x1+a.x3-2*a.x2)*a.spring;a.spy2=(a.y1+a.y3-2*a.y2)*a.spring;a.spx3=(a.x2+a.x4-2*a.x3)*a.spring;a.spy3=(a.y2+a.y4-2*a.y3)*a.spring;a.spx4=(a.x3-a.x4)*a.spring;a.spy4=(a.y3-a.y4)*a.spring;a.vx2=a.vx2*\n(1-a.resist*a.dt)+a.dt*a.spx2;a.vy2=a.vy2*(1-a.resist*a.dt)+a.dt*(a.spy2-a.grav);a.vx3=a.vx3*(1-a.resist*a.dt)+a.dt*a.spx3;a.vy3=a.vy3*(1-a.resist*a.dt)+a.dt*(a.spy3-a.grav);a.vx4=a.vx4*(1-a.resist*a.dt)+a.dt*a.spx4;a.vy4=a.vy4*(1-a.resist*a.dt)+a.dt*(a.spy4-a.grav);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,.1))?a.vx2:Math.abs(a.vx2)*a.bounce;a.vx2=.00001<Math.abs(below(a.x2,.9))?a.vx2:-Math.abs(a.vx2)*a.bounce;a.vx3=.00001<Math.abs(above(a.x3,\n.1))?a.vx3:Math.abs(a.vx3)*a.bounce;a.vx3=.00001<Math.abs(below(a.x3,.9))?a.vx3:-Math.abs(a.vx3)*a.bounce;a.vx4=.00001<Math.abs(above(a.x4,.1))?a.vx4:Math.abs(a.vx4)*a.bounce;a.vx4=.00001<Math.abs(below(a.x4,.9))?a.vx4:-Math.abs(a.vx4)*a.bounce;a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:Math.abs(a.vy2)*a.bounce;a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:-Math.abs(a.vy2)*a.bounce;a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:Math.abs(a.vy3)*a.bounce;a.vy3=.00001<Math.abs(below(a.y3,1))?a.vy3:-Math.abs(a.vy3)*\na.bounce;a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:Math.abs(a.vy4)*a.bounce;a.vy4=.00001<Math.abs(below(a.y4,1))?a.vy4:-Math.abs(a.vy4)*a.bounce;a.q1=a.x1;a.q2=a.x2;a.q3=a.x3;a.q4=a.x4;a.q5=a.y1;a.q6=a.y2;a.q7=a.y3;a.q8=a.y4;a.monitor=a.ry4;a.zoom=1.0004;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec2 my_uv_1;\n  vec3 ret_2;\n  float tmpvar_3;\n  tmpvar_3 = (((texture (sampler_blur2, \n    (uv + vec2(0.005, 0.0))\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \n    (uv - vec2(0.005, 0.0))\n  ).xyz * scale2) + bias2)).y;\n  float tmpvar_4;\n  tmpvar_4 = (((texture (sampler_blur2, \n    (uv + vec2(0.0, 0.005))\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \n    (uv - vec2(0.0, 0.005))\n  ).xyz * scale2) + bias2)).y;\n  vec2 tmpvar_5;\n  tmpvar_5.x = tmpvar_3;\n  tmpvar_5.y = tmpvar_4;\n  vec2 tmpvar_6;\n  tmpvar_6 = (uv - (tmpvar_5 * 0.01));\n  ret_2.y = texture (sampler_fc_main, (tmpvar_6 - floor(tmpvar_6))).y;\n  ret_2.y = (ret_2.y + ((ret_2.y - \n    ((texture (sampler_blur3, (tmpvar_6 - floor(tmpvar_6))).xyz * scale3) + bias3)\n  .y) * 0.1));\n  vec2 tmpvar_7;\n  tmpvar_7 = floor(uv);\n  ret_2.y = (ret_2.y + (0.006 - (\n    ((texture (sampler_blur3, (uv - tmpvar_7)).xyz * scale3) + bias3)\n  .x * 5.0)));\n  ret_2.y = ret_2.y;\n  vec2 tmpvar_8;\n  tmpvar_8.x = -(tmpvar_4);\n  tmpvar_8.y = tmpvar_3;\n  my_uv_1 = (tmpvar_8 * 0.05);\n  vec2 tmpvar_9;\n  tmpvar_9.x = (((texture (sampler_blur2, \n    (uv + vec2(0.01, 0.0))\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \n    (uv - vec2(0.01, 0.0))\n  ).xyz * scale2) + bias2)).z;\n  tmpvar_9.y = (((texture (sampler_blur2, \n    (uv + vec2(0.0, 0.01))\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \n    (uv - vec2(0.0, 0.01))\n  ).xyz * scale2) + bias2)).z;\n  my_uv_1 = (my_uv_1 + (uv - (tmpvar_9 * 0.005)));\n  ret_2.z = texture (sampler_fw_main, (my_uv_1 - floor(my_uv_1))).z;\n  ret_2.z = (ret_2.z + ((ret_2.z - \n    ((texture (sampler_blur3, (my_uv_1 - floor(my_uv_1))).xyz * scale3) + bias3)\n  .z) * 0.13));\n  ret_2.z = (ret_2.z * 0.95);\n  ret_2.z = (ret_2.z + ((0.03 - \n    ((texture (sampler_blur3, (uv - tmpvar_7)).xyz * scale3) + bias3)\n  .x) - (texture (sampler_main, \n    (my_uv_1 - floor(my_uv_1))\n  ).y * 0.05)));\n  ret_2.x = (texture (sampler_main, uv_orig).x - 0.3);\n  vec4 tmpvar_10;\n  tmpvar_10.w = 1.0;\n  tmpvar_10.xyz = ret_2;\n  ret = tmpvar_10.xyz;\n }", comp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (texsize.zw * 8.0);\n  vec3 tmpvar_3;\n  tmpvar_3 = (((texture (sampler_blur1, \n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_4;\n  tmpvar_4 = (((texture (sampler_blur1, \n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\n  ).xyz * scale1) + bias1));\n  vec2 tmpvar_5;\n  tmpvar_5.x = tmpvar_3.y;\n  tmpvar_5.y = tmpvar_4.y;\n  vec2 tmpvar_6;\n  tmpvar_6 = (uv + (tmpvar_5 * 0.1));\n  vec4 tmpvar_7;\n  tmpvar_7 = texture (sampler_main, uv);\n  ret_1 = (((\n    ((texture (sampler_blur2, tmpvar_6).xyz * scale2) + bias2)\n  .x * \n    clamp ((1.0 - tmpvar_7.z), 0.0, 1.0)\n  ) * pow (hue_shader.yxz, vec3(8.0, 8.0, 8.0))) * 3.0);\n  ret_1 = (mix (ret_1, (\n    pow (hue_shader.yzx, vec3(8.0, 8.0, 8.0))\n   * 1.4), vec3((\n    (texture (sampler_main, tmpvar_6).x * 0.8)\n   + \n    ((texture (sampler_blur1, tmpvar_6).xyz * scale1) + bias1)\n  .x))) * clamp ((1.0 - \n    (((texture (sampler_blur1, uv).xyz * scale1) + bias1).y * 4.0)\n  ), 0.0, 1.0));\n  vec2 tmpvar_8;\n  tmpvar_8.x = tmpvar_3.y;\n  tmpvar_8.y = tmpvar_4.y;\n  vec3 tmpvar_9;\n  vec3 tmpvar_10;\n  tmpvar_10 = pow (hue_shader, vec3(8.0, 8.0, 8.0));\n  tmpvar_9 = mix (mix (ret_1, vec3(1.0, 1.0, 1.0), (\n    (tmpvar_10 * texture (sampler_main, clamp ((uv - (tmpvar_8 * 0.04)), 0.0, 1.0)).z)\n   * 1.2)), (tmpvar_10.zxy * 1.8), tmpvar_7.yyy);\n  ret_1 = tmpvar_9;\n  vec4 tmpvar_11;\n  tmpvar_11.w = 1.0;\n  tmpvar_11.xyz = tmpvar_9;\n  ret = tmpvar_11.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.56, decay: 1, echo_zoom: 0.362, echo_orient: 1, wave_thick: 1, wave_brighten: 0, darken: 1, wave_a: 1e-3, wave_scale: 1.599, wave_smoothing: 0, wave_mystery: -0.5, modwavealphastart: 2, modwavealphaend: 2, warpscale: 0.107, zoomexp: 0.1584, fshader: 1, warp: 0.01, wave_r: 0.51, wave_g: 0.5, ob_size: 0, ob_a: 1, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 1, mv_x: 64, mv_y: 48, mv_l: 0.5, mv_r: 0, mv_g: 0, mv_b: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.d=0;a.y3=0;a.y1=0;a.xx=0;a.s=0;a.q12=0;a.x1=0;a.vx3=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.v=0;a.vx4=0;a.mm=0;a.tt=0;a.grav=0;a.x3=0;a.xx2=0;a.q4=0;a.a=0;a.yy1=0;a.vy4=0;a.dir=0;a.bounce=0;a.x4=0;a.t=0;a.r=0;a.x2=0;a.mx=0;a.mn=0;a.vy2=0;a.y2=0;a.bb=0;a.q2=0;a.spring=0;a.vx2=0;a.q3=0;a.resist=0;a.yy=0;a.y4=0;a.vy3=0;a.xx1=0;a.q8=0;a.q11=div(.5,Math.asin(1));", frame_eqs_str: "a.ib_r=.3*Math.sin(5*a.time)+.7;a.ib_g=.3*Math.sin(4*a.time)+.3;a.ib_b=.5*Math.sin(4*div(a.time,3))+.5;a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+3*(a.xx1-a.xx2);a.y1=.4+a.yy1;a.x1=Math.max(0,Math.min(1,a.x1));a.y1=Math.max(0,Math.min(1,a.y1));a.spring=25;a.grav=1.1;a.resist=1;a.bounce=.85;a.dt=.0002*div(60,a.fps);a.vx2=a.vx2*(1-a.resist*a.dt)+a.dt*(a.x1+a.x3-2*a.x2)*a.spring;a.vy2=a.vy2*(1-a.resist*a.dt)+a.dt*((a.y1+a.y3-\n2*a.y2)*a.spring-a.grav);a.vx3=a.vx3*(1-a.resist*a.dt)+a.dt*(a.x2+a.x4-2*a.x3)*a.spring;a.vy3=a.vy3*(1-a.resist*a.dt)+a.dt*((a.y2+a.y4-2*a.y3)*a.spring-a.grav);a.vx4=a.vx4*(1-a.resist*a.dt)+a.dt*(a.x3-a.x4)*a.spring;a.vy4=a.vy4*(1-a.resist*a.dt)+a.dt*((a.y3-a.y4)*a.spring-a.grav);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:Math.abs(a.vx2)*a.bounce;a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:-Math.abs(a.vx2)*a.bounce;a.vx3=.00001<\nMath.abs(above(a.x3,0))?a.vx3:Math.abs(a.vx3)*a.bounce;a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:-Math.abs(a.vx3)*a.bounce;a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:Math.abs(a.vx4)*a.bounce;a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:-Math.abs(a.vx4)*a.bounce;a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:Math.abs(a.vy2)*a.bounce;a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:-Math.abs(a.vy2)*a.bounce;a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:Math.abs(a.vy3)*a.bounce;a.vy3=.00001<Math.abs(below(a.y3,1))?\na.vy3:-Math.abs(a.vy3)*a.bounce;a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:Math.abs(a.vy4)*a.bounce;a.vy4=.00001<Math.abs(below(a.y4,1))?a.vy4:-Math.abs(a.vy4)*a.bounce;a.q4=a.x4;a.q8=a.y4;a.q1=a.aspectx;a.q2=a.aspecty;a.zoom=1;a.warp=0;a.bb=.99*a.bb+.02*a.bass;a.mm=.99*a.mm+.02*a.mid;a.tt=.99*a.tt+.02*a.treb;a.mx=Math.max(Math.max(a.bb,a.mm),a.tt);a.mn=Math.min(Math.min(a.bb,a.mm),a.tt);a.ob_r=div(a.bb-a.mn,a.mx-a.mn);a.ob_b=div(a.mm-a.mn,a.mx-a.mn);a.ob_g=div(a.tt-a.mn,a.mx-a.mn);a.q6=Math.atan2(a.vx4,\na.vy4);a.q5=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.a=.95*a.a+a.q5;a.s=.9*a.s+a.a;a.q3=.1*a.s;a.t+=div(.1,a.fps);a.t=.00001<Math.abs(above(a.t,2))?a.t-2:a.t;a.q12=-a.t;a.monitor=a.t;a.wave_a=0;", pixel_eqs_str: "a.x=.5+(a.x-.5)*a.q1;a.y=.5+(a.y-.5)*a.q2;a.dir=-a.q6+0*Math.asin(1);a.xx=a.q4;a.yy=1-a.q8;a.dx=0;a.dy=0;a.d=sqrt((a.x-a.xx)*(a.x-a.xx)+(a.y-a.yy)*(a.y-a.yy));a.r=.08;a.v=-15*a.q5;a.dx=a.v*Math.sin(a.dir)*(a.r-a.d)*(1-sigmoid(a.d-a.r,200))*a.q2;a.dy=a.v*Math.cos(a.dir)*(a.r-a.d)*(1-sigmoid(a.d-a.r,200))*a.q1;", warp: " shader_body { \n  vec3 tmpvar_1;\n  vec4 tmpvar_2;\n  tmpvar_2 = texture (sampler_main, uv);\n  tmpvar_1 = vec3((((tmpvar_2.x + tmpvar_2.y) + tmpvar_2.z) * 0.33333));\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = ((texture (sampler_main, clamp (\n    (uv - ((vec2(0.0, 0.0168) * (tmpvar_1 - 0.35).xy) * (tmpvar_1 - 0.4).xy))\n  , 0.0, 1.0)).xyz - 0.001) + ((texture (sampler_noise_lq, \n    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 2.0)) + rand_frame.xy)\n  ) - 0.5) * 0.04).xyz);\n  ret = tmpvar_3.xyz;\n }", comp: " shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1 = ((uv - 0.5).yx * aspect.zw);\n  float tmpvar_2;\n  float tmpvar_3;\n  tmpvar_3 = (min (abs(\n    (tmpvar_1.x / tmpvar_1.y)\n  ), 1.0) / max (abs(\n    (tmpvar_1.x / tmpvar_1.y)\n  ), 1.0));\n  float tmpvar_4;\n  tmpvar_4 = (tmpvar_3 * tmpvar_3);\n  tmpvar_4 = (((\n    ((((\n      ((((-0.01213232 * tmpvar_4) + 0.05368138) * tmpvar_4) - 0.1173503)\n     * tmpvar_4) + 0.1938925) * tmpvar_4) - 0.3326756)\n   * tmpvar_4) + 0.9999793) * tmpvar_3);\n  tmpvar_4 = (tmpvar_4 + (float(\n    (abs((tmpvar_1.x / tmpvar_1.y)) > 1.0)\n  ) * (\n    (tmpvar_4 * -2.0)\n   + 1.570796)));\n  tmpvar_2 = (tmpvar_4 * sign((tmpvar_1.x / tmpvar_1.y)));\n  if ((abs(tmpvar_1.y) > (1e-08 * abs(tmpvar_1.x)))) {\n    if ((tmpvar_1.y < 0.0)) {\n      if ((tmpvar_1.x >= 0.0)) {\n        tmpvar_2 += 3.141593;\n      } else {\n        tmpvar_2 = (tmpvar_2 - 3.141593);\n      };\n    };\n  } else {\n    tmpvar_2 = (sign(tmpvar_1.x) * 1.570796);\n  };\n  vec2 tmpvar_5;\n  tmpvar_5.x = (tmpvar_2 * q11);\n  tmpvar_5.y = (((0.5 * \n    log(sqrt(dot (tmpvar_1, tmpvar_1)))\n  ) - (tmpvar_2 * q11)) + q12);\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = pow (texture (sampler_main, (0.5 + (\n    (0.5 - abs(((\n      fract((tmpvar_5 * 0.5))\n     * 2.0) - 1.0)))\n   * vec2(0.96, 1.0)))).xyz, vec3(0.618034, 0.618034, 0.618034));\n  ret = tmpvar_6.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 4, gammaadj: 1, decay: 1, echo_zoom: 1, echo_alpha: 0.5, wave_thick: 1, wave_brighten: 0, wave_a: 4e-3, wave_scale: 0.01, wave_smoothing: 0, wave_mystery: -0.44, modwavealphastart: 1, modwavealphaend: 1, warpanimspeed: 0.01, warpscale: 100, zoomexp: 0.24298, zoom: 0.9901, warp: 0.01, wave_y: 0.04, ob_size: 0, ob_g: 1, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, mv_x: 64, mv_y: 48, mv_l: 0, mv_b: 0, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 1, sides: 100, thickoutline: 1, rad: 0.01, tex_ang: 0.12566, tex_zoom: 1.51878, r: 0.05, a: 0.1, g2: 0, border_a: 0}, init_eqs_str: "", frame_eqs_str: ""}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.x1=.9;a.y1=.5;a.x2=.5;a.y2=.5;a.x3=.5;a.y3=.5;a.x4=.5;a.y4=.5;", frame_eqs_str: "a.zoom=1;a.warp=0;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec2 my_uv_1;\n  vec3 ret_2;\n  vec2 tmpvar_3;\n  tmpvar_3 = (0.02 * aspect.zw);\n  vec3 tmpvar_4;\n  tmpvar_4 = (((texture (sampler_blur2, \n    ((uv + (vec2(1.0, 0.0) * tmpvar_3)) - floor((uv + (vec2(1.0, 0.0) * tmpvar_3))))\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \n    ((uv - (vec2(1.0, 0.0) * tmpvar_3)) - floor((uv - (vec2(1.0, 0.0) * tmpvar_3))))\n  ).xyz * scale2) + bias2));\n  vec3 tmpvar_5;\n  tmpvar_5 = (((texture (sampler_blur2, \n    ((uv + (vec2(0.0, 1.0) * tmpvar_3)) - floor((uv + (vec2(0.0, 1.0) * tmpvar_3))))\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \n    ((uv - (vec2(0.0, 1.0) * tmpvar_3)) - floor((uv - (vec2(0.0, 1.0) * tmpvar_3))))\n  ).xyz * scale2) + bias2));\n  vec3 tmpvar_6;\n  tmpvar_6 = ((texture (sampler_blur1, uv).xyz * scale1) + bias1);\n  vec2 tmpvar_7;\n  tmpvar_7.x = tmpvar_4.y;\n  tmpvar_7.y = tmpvar_5.y;\n  vec2 tmpvar_8;\n  tmpvar_8.x = tmpvar_5.x;\n  tmpvar_8.y = -(tmpvar_4.x);\n  vec2 tmpvar_9;\n  tmpvar_9 = ((uv - (tmpvar_7 * vec2(0.01, 0.01))) - (tmpvar_8 * -0.02));\n  ret_2.y = texture (sampler_fc_main, (tmpvar_9 - floor(tmpvar_9))).y;\n  ret_2.y = (ret_2.y + ((\n    (ret_2.y - tmpvar_6.y)\n   * 0.02) + 0.005));\n  vec2 tmpvar_10;\n  tmpvar_10.x = tmpvar_4.x;\n  tmpvar_10.y = tmpvar_5.x;\n  vec2 tmpvar_11;\n  tmpvar_11.x = tmpvar_5.z;\n  tmpvar_11.y = -(tmpvar_4.z);\n  my_uv_1 = ((uv - (tmpvar_10 * vec2(0.01, 0.01))) - (tmpvar_11 * -0.02));\n  ret_2.x = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).x;\n  ret_2.x = (ret_2.x + ((\n    (ret_2.x - tmpvar_6.x)\n   * 0.02) + 0.005));\n  vec2 tmpvar_12;\n  tmpvar_12.x = tmpvar_4.z;\n  tmpvar_12.y = tmpvar_5.z;\n  vec2 tmpvar_13;\n  tmpvar_13.x = tmpvar_5.y;\n  tmpvar_13.y = -(tmpvar_4.y);\n  my_uv_1 = ((uv - (tmpvar_12 * vec2(0.01, 0.01))) - (tmpvar_13 * -0.02));\n  ret_2.z = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).z;\n  ret_2.z = (ret_2.z + ((\n    (ret_2.z - tmpvar_6.z)\n   * 0.02) + 0.005));\n  vec4 tmpvar_14;\n  tmpvar_14.w = 1.0;\n  tmpvar_14.xyz = ret_2;\n  ret = tmpvar_14.xyz;\n }", comp: " shader_body { \n  vec2 uv2_1;\n  vec3 ret_2;\n  uv2_1 = (uv + (vec2(1.0, 0.0) * texsize.zw));\n  float tmpvar_3;\n  tmpvar_3 = (((texture (sampler_main, uv2_1).xyz + \n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\n  ) + (\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\n   * 0.15)) + ((\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\n   + bias3) * 0.1)).x;\n  uv2_1 = (uv + (vec2(-1.0, 0.0) * texsize.zw));\n  float tmpvar_4;\n  tmpvar_4 = (((texture (sampler_main, uv2_1).xyz + \n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\n  ) + (\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\n   * 0.15)) + ((\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\n   + bias3) * 0.1)).x;\n  uv2_1 = (uv + (vec2(0.0, 1.0) * texsize.zw));\n  float tmpvar_5;\n  tmpvar_5 = (((texture (sampler_main, uv2_1).xyz + \n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\n  ) + (\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\n   * 0.15)) + ((\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\n   + bias3) * 0.1)).x;\n  uv2_1 = (uv + (vec2(0.0, -1.0) * texsize.zw));\n  vec3 tmpvar_6;\n  tmpvar_6.z = 0.14;\n  tmpvar_6.x = (tmpvar_3 - tmpvar_4);\n  tmpvar_6.y = (tmpvar_5 - ((\n    (texture (sampler_main, uv2_1).xyz + (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4))\n   + \n    (((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2) * 0.15)\n  ) + (\n    ((texture (sampler_blur3, uv2_1).xyz * scale3) + bias3)\n   * 0.1)).x);\n  ret_2 = (0.5 + (0.5 * normalize(tmpvar_6)));\n  vec2 x_7;\n  x_7 = (ret_2.xy - 0.5);\n  ret_2 = (ret_2 * clamp ((\n    sqrt(dot (x_7, x_7))\n   * 5.0), 0.0, 1.0));\n  ret_2 = ret_2.xxy;\n  ret_2 = (ret_2 + 1.15);\n  ret_2 = (ret_2 * mix (ret_2, (ret_2 * \n    (((texture (sampler_blur3, uv).xyz * scale3) + bias3) - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))\n  ), pow (hue_shader.zxy, ret_2)));\n  ret_2 = (ret_2 * ret_2);\n  vec4 tmpvar_8;\n  tmpvar_8.w = 1.0;\n  tmpvar_8.xyz = ret_2;\n  ret = tmpvar_8.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 1, echo_zoom: 1, echo_alpha: 0.5, wave_thick: 1, wave_brighten: 0, wrap: 0, wave_a: 4e-3, wave_scale: 0.242, wave_smoothing: 0, wave_mystery: -0.44, modwavealphastart: 1, modwavealphaend: 1, warpanimspeed: 0.397, warpscale: 15.099, zoomexp: 0.65309, zoom: 0.87866, warp: 0.04027, wave_y: 0.04, ob_size: 0, ob_a: 1, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 1, mv_x: 64, mv_y: 48, mv_l: 0, mv_b: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 1, sides: 100, thickoutline: 1, y: 0.04, rad: 0.01, tex_ang: 0.12566, tex_zoom: 1.51878, r: 0, a: 0, g2: 0, b2: 0.01, border_a: 0}, init_eqs_str: "", frame_eqs_str: ""}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, thick: 1, additive: 1, scaling: 2.0231, smoothing: 0, r: 0, b: 0}, init_eqs_str: "a.tt3=0;a.tt2=0;a.tt1=0;a.d=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;", frame_eqs_str: "a.r=1;a.g=0;a.b=1;", point_eqs_str: "a.tt3=.6*a.tt3+1*a.value1;a.tt2=.7*a.tt2+.2*a.tt3;a.tt1=.8*a.tt1+.1*a.tt2;a.d=.9*a.d+.2*a.tt1;a.y=.6+a.d*a.sample*(1-a.sample)*2;a.x=-.05+1.1*a.sample;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.c_inv_i=0;a.translation_x=0;a.q12=0;a.a_i=0;a.a_r=0;a.q18=0;a.q13=0;a.scale=0;a.q15=0;a.c_inv_r=0;a.angle=0;a.q11=0;a.bcad_r=0;a.b_r=0;a.q16=0;a.bcad_i=0;a.q17=0;a.q14=0;a.translation_y=0;a.translation_v=0;a.b_i=0;a.translation_u=0;a.x1=.9;a.y1=.5;a.x2=.5;a.y2=.5;a.x3=.5;a.y3=.5;a.x4=.5;a.y4=.5;", frame_eqs_str: "a.zoom=.998;a.scale=1;a.angle=.02*a.time;a.translation_x=0;a.translation_y=.12;a.a_r=Math.cos(a.angle)*a.scale;a.a_i=Math.sin(a.angle)*a.scale;a.b_r=a.translation_x;a.b_i=a.translation_y;a.scale=1;a.angle=0*Math.sin(.1337*a.time);a.translation_u=0;a.translation_v=-.2;a.q15=Math.cos(a.angle)*a.scale;a.q16=Math.sin(a.angle)*a.scale;a.q17=a.translation_u;a.q18=a.translation_v;a.c_inv_r=div(a.q15,a.q15*a.q15+a.q16*a.q16);a.c_inv_i=div(a.q16,a.q15*a.q15+a.q16*a.q16);a.q11=a.a_r*\na.c_inv_r-a.a_i*a.c_inv_i;a.q12=a.a_r*a.c_inv_i-a.a_i*a.c_inv_r;a.bcad_r=a.b_r*a.q15-a.b_i*a.q16-(a.a_r*a.q17-a.a_i*a.q18);a.bcad_i=a.b_r*a.q16-a.b_i*a.q15-(a.a_r*a.q18-a.a_i*a.q17);a.q13=a.bcad_r*a.c_inv_r-a.bcad_i*a.c_inv_i;a.q14=a.bcad_r*a.c_inv_i-a.bcad_i*a.c_inv_r;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  float conway_1;\n  vec3 ret_2;\n  vec2 tmpvar_3;\n  tmpvar_3.x = (((\n    ((texture (sampler_blur2, (uv + vec2(0.02, 0.0))).xyz * scale2) + bias2)\n   - \n    ((texture (sampler_blur2, (uv - vec2(0.02, 0.0))).xyz * scale2) + bias2)\n  ).y * 1280.0) * texsize.z);\n  tmpvar_3.y = (((\n    ((texture (sampler_blur2, (uv + vec2(0.0, 0.02))).xyz * scale2) + bias2)\n   - \n    ((texture (sampler_blur2, (uv - vec2(0.0, 0.02))).xyz * scale2) + bias2)\n  ).y * 1024.0) * texsize.w);\n  ret_2.y = texture (sampler_pc_main, (uv - (tmpvar_3 * 0.004))).y;\n  ret_2.y = (ret_2.y + ((\n    ((ret_2.y - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).y) - 0.1)\n   * 0.1) + 0.02));\n  ret_2.z = (texture (sampler_fc_main, (0.5 + (\n    (uv - 0.5)\n   * 0.992))).z - 0.004);\n  conway_1 = (texture (sampler_pw_main, (uv_orig - texsize.zw)).x + texture (sampler_pw_main, (uv_orig + (vec2(0.0, -1.0) * texsize.zw))).x);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, -1.0) * texsize.zw))).x);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 0.0) * texsize.zw))).x);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, 0.0) * texsize.zw))).x);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 1.0) * texsize.zw))).x);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(0.0, 1.0) * texsize.zw))).x);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + texsize.zw)).x);\n  conway_1 = (conway_1 - fract(conway_1));\n  float tmpvar_4;\n  tmpvar_4 = clamp (texture (sampler_pc_main, uv_orig).x, 0.0, 1.0);\n  ret_2.x = (clamp ((1.0 - \n    abs((conway_1 - 3.0))\n  ), 0.0, 1.0) * (1.0 - tmpvar_4));\n  ret_2.x = (ret_2.x + (clamp (\n    max ((1.0 - abs((conway_1 - 2.0))), (1.0 - abs((conway_1 - 3.0))))\n  , 0.0, 1.0) * tmpvar_4));\n  vec4 tmpvar_5;\n  tmpvar_5.w = 1.0;\n  tmpvar_5.xyz = ret_2;\n  ret = tmpvar_5.xyz;\n }", comp: " shader_body { \n  vec2 moebius_1;\n  vec3 ret_2;\n  vec2 tmpvar_3;\n  tmpvar_3.x = q11;\n  tmpvar_3.y = q12;\n  vec2 tmpvar_4;\n  tmpvar_4.x = q17;\n  tmpvar_4.y = q18;\n  vec2 tmpvar_5;\n  vec2 tmpvar_6;\n  tmpvar_6 = (uv - 0.5);\n  tmpvar_5 = (tmpvar_6 * aspect.xy);\n  vec2 tmpvar_7;\n  tmpvar_7.x = ((tmpvar_5.x * q15) - (tmpvar_5.y * q16));\n  tmpvar_7.y = ((tmpvar_5.x * q16) - (tmpvar_5.y * q15));\n  vec2 tmpvar_8;\n  tmpvar_8 = (tmpvar_7 + tmpvar_4);\n  vec2 tmpvar_9;\n  tmpvar_9.x = ((q13 * tmpvar_8.x) + (q14 * tmpvar_8.y));\n  tmpvar_9.y = ((q14 * tmpvar_8.x) - (q13 * tmpvar_8.y));\n  moebius_1 = (((tmpvar_9 / \n    ((tmpvar_8.x * tmpvar_8.x) + (tmpvar_8.y * tmpvar_8.y))\n  ) + tmpvar_3) * 0.5);\n  float tmpvar_10;\n  tmpvar_10 = sqrt(dot (moebius_1, moebius_1));\n  moebius_1 = (0.5 + ((\n    (1.0 - abs(((\n      fract((moebius_1 * 0.5))\n     * 2.0) - 1.0)))\n   - 0.5) * 0.99));\n  vec3 tmpvar_11;\n  tmpvar_11 = mix (mix (mix (\n    mix (mix ((mix (ret_2, vec3(0.2, 0.6, 1.0), vec3(\n      (texture (sampler_pc_main, moebius_1).y * 2.0)\n    )) * (vec3(1.0, 1.0, 1.0) - vec3(\n      ((((texture (sampler_blur1, \n        (0.5 + (tmpvar_6 * 0.5))\n      ).xyz * scale1) + bias1).y * 2.0) * tmpvar_10)\n    ))), vec3(1.0, 1.0, 1.0), texture (sampler_pc_main, moebius_1).xxx), vec3(4.0, 1.0, 0.0), vec3(clamp (((texture (sampler_pc_main, \n      (0.5 + (tmpvar_6 * 0.2))\n    ).y * 2.0) * (\n      (tmpvar_10 * tmpvar_10)\n     * tmpvar_10)), 0.0, 1.0)))\n  , vec3(0.1, 0.0, 0.0), vec3(\n    clamp ((((texture (sampler_blur1, \n      (0.5 + (tmpvar_6 * 0.2))\n    ).xyz * scale1) + bias1).x * 12.0), 0.0, 1.0)\n  )), (vec3(0.5, 0.8, 1.0) * texture (sampler_pc_main, uv).z), vec3((\n    clamp ((((texture (sampler_blur1, \n      (0.5 + (tmpvar_6 * 0.2))\n    ).xyz * scale1) + bias1).x * 4.0), 0.0, 1.0)\n   * 1.4))), vec3(1.0, 1.0, 1.0), texture (sampler_pc_main, (0.5 + (tmpvar_6 * 0.2))).xxx);\n  ret_2 = tmpvar_11;\n  vec4 tmpvar_12;\n  tmpvar_12.w = 1.0;\n  tmpvar_12.xyz = tmpvar_11;\n  ret = tmpvar_12.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.56, decay: 1, echo_zoom: 0.362, echo_orient: 1, wave_mode: 7, additivewave: 1, modwavealphabyvolume: 1, wave_brighten: 0, darken: 1, wave_a: 1e-3, wave_scale: 1.286, wave_smoothing: 0.63, modwavealphastart: 0.71, modwavealphaend: 1.3, warpscale: 1.331, fshader: 1, zoom: 1.004, warp: 0.19788, sx: 0.99967, sy: 0.9999, wave_g: 0.65, wave_b: 0.65, ob_size: 0, ob_a: 1, mv_x: 64, mv_y: 48, mv_l: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, thick: 1, r: 0, g: 0.3, b: 0.75}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;", frame_eqs_str: "", point_eqs_str: "a.ma+=3.1415*above(a.bass,1)*.01*a.bass;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0002*Math.cos(a.ma);a.my+=.0002*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.8);"}, {baseVals: {enabled: 1, thick: 1, r: 0, b: 0}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;", frame_eqs_str: "", point_eqs_str: "a.ma+=3.1415*above(a.bass,1)*.05*a.bass;a.ma-=3.1415*above(a.mid,1)*.05*a.mid;a.mx+=.0001*Math.cos(a.ma);a.my+=.0001*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.1);"}, {baseVals: {enabled: 1, thick: 1, g: 0.5, b: 0}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;", frame_eqs_str: "", point_eqs_str: "a.ma+=3.1415*above(a.mid,1)*.01*a.mid;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0004*Math.cos(a.ma);a.my+=.0004*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.3);"}, {baseVals: {enabled: 1, thick: 1, r: 0.4, g: 0, b: 0.6}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;", frame_eqs_str: "", point_eqs_str: "a.ma+=3.1415*above(a.bass,.5)*.02*a.bass;a.ma-=3.1415*above(a.treb,.5)*.02*a.treb;a.mx+=.0008*Math.cos(a.ma);a.my+=.0008*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.2);"}], init_eqs_str: "a.du=0;a.q1=0;a.mm=0;a.tt=0;a.mult=0;a.ang2=0;a.dv=0;a.mx=0;a.mn=0;a.bb=0;a.q2=0;a.dist=0;", frame_eqs_str: "a.wave_r+=.2*(.6*Math.sin(.98*a.time)+.4*Math.sin(1.047*a.time));a.wave_g+=.2*(.6*Math.sin(.835*a.time)+.4*Math.sin(1.081*a.time));a.wave_b+=.2*(.6*Math.sin(.814*a.time)+.4*Math.sin(1.011*a.time));a.q1=2*a.cx-1+.6*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.q2=2*a.cy-1+.6*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.warp=0;a.zoom=1;a.bb=.99*a.bb+.02*a.bass;a.mm=.99*a.mm+.02*a.mid;a.tt=.99*a.tt+.02*a.treb;a.mx=Math.max(Math.max(a.bb,a.mm),a.tt);a.mn=Math.min(Math.min(a.bb,\na.mm),a.tt);a.ob_r=div(a.bb-a.mn,a.mx-a.mn);a.ob_b=div(a.mm-a.mn,a.mx-a.mn);a.ob_g=div(a.tt-a.mn,a.mx-a.mn);", pixel_eqs_str: "a.du=2*a.x-1-a.q1;a.dv=2*a.y-1-a.q2;a.dist=sqrt(a.du*a.du+a.dv*a.dv);a.ang2=Math.atan2(a.du,a.dv)+.15*a.time;a.mult=.05*Math.sin(.05*a.dist);a.dx=a.mult*Math.sin(2*a.ang2-1.5);a.dy=a.mult*Math.cos(2*a.ang2-1.5);", warp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  vec4 tmpvar_2;\n  tmpvar_2 = texture (sampler_main, uv);\n  tmpvar_1.xyz = ((texture (sampler_main, clamp (\n    (uv - (((vec2(0.0, 64.0) * texsize.zw) * dot (\n      (tmpvar_2.xyz - 0.35)\n    , vec3(0.32, 0.49, 0.29))) * (dot (tmpvar_2.xyz, vec3(0.32, 0.49, 0.29)) - 0.4)))\n  , 0.0, 1.0)).xyz - 0.0011) + ((texture (sampler_noise_lq, \n    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.5)) + rand_frame.xy)\n  ) - 0.5) * 0.0038).xyz);\n  ret = tmpvar_1.xyz;\n }", comp: " shader_body { \n  vec2 uv1_1;\n  vec2 tmpvar_2;\n  tmpvar_2.y = 0.0;\n  tmpvar_2.x = texsize.z;\n  vec2 tmpvar_3;\n  tmpvar_3.x = 0.0;\n  tmpvar_3.y = texsize.w;\n  vec2 tmpvar_4;\n  tmpvar_4.x = (texture (sampler_main, (uv - tmpvar_2)).xyz - texture (sampler_main, (uv + tmpvar_2)).xyz).x;\n  tmpvar_4.y = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;\n  uv1_1 = ((0.3 * cos(\n    ((uv - 0.5) * 2.0)\n  )) - tmpvar_4);\n  float tmpvar_5;\n  tmpvar_5 = clamp ((0.04 / sqrt(\n    dot (uv1_1, uv1_1)\n  )), 0.0, 1.0);\n  uv1_1 = ((0.3 * cos(\n    (uv1_1 * 12.0)\n  )) - (9.0 * tmpvar_4));\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = (tmpvar_5 + ((texture (sampler_main, uv).xyz * 12.0) * vec3(clamp (\n    (0.04 / sqrt(dot (uv1_1, uv1_1)))\n  , 0.0, 1.0))));\n  ret = tmpvar_6.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 3, gammaadj: 1.56, decay: 1, echo_zoom: 0.362, echo_orient: 1, wave_thick: 1, wave_brighten: 0, darken: 1, wave_a: 1e-3, wave_scale: 1.599, wave_smoothing: 0, wave_mystery: -0.5, modwavealphastart: 2, modwavealphaend: 2, warpscale: 0.107, zoomexp: 0.1584, fshader: 1, warp: 0.01, wave_r: 0.51, wave_g: 0.5, ob_size: 0, ob_a: 1, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 1, mv_x: 64, mv_y: 48, mv_l: 0.5, mv_r: 0, mv_g: 0, mv_b: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.d=0;a.cx1=0;a.y3=0;a.y1=0;a.cy1=0;a.x1=0;a.x3=0;a.dir=0;a.r=0;a.x2=0;a.y2=0;", frame_eqs_str: "a.ib_r=.3*Math.sin(5*a.time)+.7;a.ib_g=.3*Math.sin(4*a.time)+.3;a.ib_b=.5*Math.sin(4*div(a.time,3))+.5;a.wave_r=1-a.ib_r;a.wave_g=1-a.ib_g;a.wave_b=1-a.ib_b;a.wave_x=.5+.3*Math.sin(3*a.time);a.wave_y=.5+.3*Math.cos(2.187*a.time);", pixel_eqs_str: "a.r=div(a.bass,4);a.cx1=.5+.2*Math.sin(.618*a.time);a.cy1=.5+.2*Math.cos(1.618*a.time);a.d=sqrt((a.x-a.cx1)*(a.x-a.cx1)+(a.y-a.cy1)*(a.y-a.cy1));a.dir=a.bass*(a.r*a.r-a.d*a.d)*.3;a.x1=.00001<Math.abs(above(a.d,a.r))?0:Math.sin(a.y-a.cy1)*a.dir;a.y1=.00001<Math.abs(above(a.d,a.r))?0:-Math.sin(a.x-a.cx1)*a.dir;a.cx1=.5+.3*Math.sin(2.618*a.time);a.cy1=.5+.3*Math.cos(3.14*a.time);a.d=sqrt((a.x-a.cx1)*(a.x-a.cx1)+(a.y-a.cy1)*(a.y-a.cy1));a.dir=-a.mid*(a.r*a.r-a.d*a.d)*.3;a.x2=.00001<\nMath.abs(above(a.d,a.r))?0:Math.sin(a.y-a.cy1)*a.dir;a.y2=.00001<Math.abs(above(a.d,a.r))?0:-Math.sin(a.x-a.cx1)*a.dir;a.cx1=.5+.4*Math.sin(2.618*-a.time);a.cy1=.5+.4*Math.cos(1.14*-a.time);a.d=sqrt((a.x-a.cx1)*(a.x-a.cx1)+(a.y-a.cy1)*(a.y-a.cy1));a.dir=-a.treb*(a.r*a.r-a.d*a.d)*.3;a.x3=.00001<Math.abs(above(a.d,a.r))?0:Math.sin(a.y-a.cy1)*a.dir;a.y3=.00001<Math.abs(above(a.d,a.r))?0:-Math.sin(a.x-a.cx1)*a.dir;a.dx=a.x1+a.x2+a.x3;a.dy=a.y1+a.y2+a.y3;", warp: " shader_body { \n  vec2 uv_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 2.0)) + rand_frame.xy);\n  uv_1 = (uv + ((texture (sampler_noise_lq, tmpvar_2).xy - 0.5) * texsize.zw));\n  vec2 tmpvar_3;\n  tmpvar_3.x = bass;\n  tmpvar_3.y = treb;\n  vec4 tmpvar_4;\n  tmpvar_4.w = 1.0;\n  tmpvar_4.xyz = (texture (sampler_main, (uv_1 + (\n    (texture (sampler_main, (mix (uv_1, uv_orig, vec2(-1.0, -1.0)) + texsize.zw)).xy - 0.4)\n   * \n    (-0.004 + (0.04 * clamp ((tmpvar_3 - 1.0), 0.0, 1.0)))\n  ))).xyz - (0.0008 + (\n    (texture (sampler_noise_lq, tmpvar_2) - 0.5)\n   * 0.02)).xyz);\n  ret = tmpvar_4.xyz;\n }", comp: " shader_body { \n  vec2 uv1_1;\n  vec2 tmpvar_2;\n  tmpvar_2.y = 0.0;\n  tmpvar_2.x = texsize.z;\n  vec2 tmpvar_3;\n  tmpvar_3.x = 0.0;\n  tmpvar_3.y = texsize.w;\n  vec2 tmpvar_4;\n  tmpvar_4.x = (texture (sampler_main, (uv - tmpvar_2)).xyz - texture (sampler_main, (uv + tmpvar_2)).xyz).x;\n  tmpvar_4.y = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;\n  uv1_1 = ((0.3 * cos(\n    ((uv - 0.5) * 2.0)\n  )) - tmpvar_4);\n  float tmpvar_5;\n  tmpvar_5 = clamp ((0.04 / sqrt(\n    dot (uv1_1, uv1_1)\n  )), 0.0, 1.0);\n  uv1_1 = ((0.3 * cos(\n    (uv1_1 * 12.0)\n  )) - (9.0 * tmpvar_4));\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = (tmpvar_5 + ((texture (sampler_main, uv).xyz * 12.0) * vec3(clamp (\n    (0.04 / sqrt(dot (uv1_1, uv1_1)))\n  , 0.0, 1.0))));\n  ret = tmpvar_6.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, decay: 1, echo_zoom: 1, echo_alpha: 0.5, echo_orient: 3, invert: 1, wave_a: 1e-3, warpanimspeed: 100, warpscale: 0.01, zoomexp: 1.14947, warp: 0, sx: 0.9901, sy: 0.9901, wave_r: 0, wave_g: 0, wave_b: 0, ob_size: 0, ob_r: 1, ob_g: 1, ob_b: 1, ib_r: 1, ib_g: 1, ib_b: 1, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 1, sides: 100, g: 1, b: 1, r2: 1, b2: 1, border_a: 0}, init_eqs_str: "a.q4=0;a.q3=0;a.xx=0;a.yy=0;a.radi=0;a.q1=0;", frame_eqs_str: "a.a=above(a.q4,1E3-div(9E3,a.fps))&&above(a.q3,1.5)?1:0;a.a2=above(a.q4,1E3)&&above(a.q3,1.5)?1:0;a.xx=(above(a.q4,1E3-div(3,a.fps)),.01*randint(100));a.yy=.00001<Math.abs(above(a.q4,1E3-div(3,a.fps)))?.01*randint(100):.01*randint(70)+.15;a.radi=.00001<Math.abs(above(a.q4,1E3-div(3,a.fps)))?.333*sqrt(a.q3)+.15:.4*sqrt(a.q3);a.rad=a.radi;a.x=a.xx;a.y=a.yy;a.r=.5*Math.sin(1.22*a.q1)+.6;a.g=.45+.45*Math.sin(1.307*a.q1);a.b=.45+.45*Math.sin(1.959*a.q1);a.r2=.5*Math.sin(1.622*a.q1)+\n.6;a.g2=.45+.45*Math.sin(1.507*a.q1);a.b2=.45+.45*Math.sin(1.6559*a.q1);"}], waves: [{baseVals: {enabled: 1, spectrum: 1, thick: 1, a: 0.42}, init_eqs_str: "a.zs=0;a.speed=0;a.q3=0;a.q29=0;a.q30=0;a.q4=0;", frame_eqs_str: "", point_eqs_str: "a.zs=.00001<Math.abs(below(a.zs,-9.42478))?0:a.zs;a.zs=.00001<Math.abs(above(a.zs,9.42478))?0:a.zs;a.speed=.0025*Math.floor(Math.tan(pow(a.q3,.667)))*(1.5708*Math.atan(a.bass)+1.5708*Math.atan(a.mid)+1.5708*Math.atan(a.treb));a.zs+=a.speed;a.x=.5+(.18+.005*pow(a.q3,1.25))*Math.cos(a.zs*Math.asin(1)*100);a.y=.5+(.18+.005*pow(a.q3,1.25))*Math.sin(a.zs*Math.asin(1)*100);.00001<Math.abs(above(a.mid+a.treb,2*a.bass))?a.r=.3-Math.abs(.33*Math.sin(1-a.q29*a.bass*a.bass)):a.r=.7+Math.abs(.33*\nMath.sin(1-a.q29*a.bass*a.bass));.00001<Math.abs(above(a.bass+a.treb,2*a.mid))?a.g=.3-Math.abs(.33*Math.sin(1-a.q30*a.mid*a.mid)):a.g=.7+Math.abs(.33*Math.sin(1-a.q30*a.mid*a.mid));.00001<Math.abs(below(a.mid+a.bass,2*a.treb))?a.b=.3-Math.abs(.33*Math.sin(1-a.q3*a.treb*a.treb)):a.b=.7+Math.abs(.33*Math.sin(1-a.q3*a.treb*a.treb));a.a=.175+.0007*a.q4;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.foo_r=0;a.maxs=0;a.n=0;a.ampl=0;a.bd_minbpm=0;a.im=0;a.basstime=0;a.bd_mean=0;a.timediff=0;a.bd_src=0;a.bass_residual=0;a.bd_slot=0;a.bd_b=0;a.bd_oct=0;a.tcos=0;a.stickybit=0;a.bd_arg=0;a.old_treb_flop=0;a.quali=0;a.q12=0;a.foo_b=0;a.bass_flop=0;a.q22=0;a.q21=0;a.volavg2=0;a.q13=0;a.q15=0;a.q29=0;a.dt=0;a.bd_pk=0;a.maxo=0;a.bd_m=0;a.q1=0;a.bd_cos=0;a.q5=0;a.foo_g=0;a.treb_flop=0;a.sample1=0;a.bass_thresh=0;a.difftime=0;a.dec_s=0;a.old_bass_flop=0;a.bd_exc=0;a.dec_xs=0;a.kraft=\n0;a.diff=0;a.treb_thresh=0;a.bd_ampl=0;a.bd_mid_=0;a.maxind=0;a.edge=0;a.tsin=0;a.re0=0;a.testi=0;a.ec_steps=0;a.creep=0;a.q31=0;a.bpm=0;a.q23=0;a.q24=0;a.pulse=0;a.q11=0;a.bd_bass_=0;a.bd_tab0=0;a.pv_beat=0;a.bass_changed=0;a.show=0;a.mid_thresh=0;a.dec_m=0;a.q4=0;a.im0=0;a.bd_spo=0;a.mid_changed=0;a.entropy=0;a.test0=0;a.bd_nres=0;a.bd_bass=0;a.maxa=0;a.volavg=0;a.feder=0;a.q16=0;a.bd_recsz=0;a.old_mid_flop=0;a.mid_residual=0;a.bit2=0;a.tstart=0;a.bd_omega=0;a.bd_treb_=0;a.beatsin=0;a.bd_tabptr=\n0;a.bd_treb=0;a.treb_residual=0;a.q19=0;a.beat=0;a.vol=0;a.bd_mid=0;a.chaos=0;a.bd_dat0=0;a.prog=0;a.mid_flop=0;a.re=0;a.bd_t=0;a.beatcos=0;a.q2=0;a.time_st=0;a.q14=0;a.treb_changed=0;a.bd_maxbpm=0;a.bd_qual=0;a.vol2=0;a.q3=0;a.t0=0;a.vol_=0;a.m=0;a.oct=0;a.quad=0;a.q32=0;a.basssum=0;a.creepo=0;a.q28=0;a.bd_sin=0;a.sample2=0;a.q30=0;a.change=0;a.beatct=0;a.q20=0;a.q8=0;a.bd_finc=0;for(var b=a.index=0;2E5>b;b++)a.megabuf[Math.floor(a.index)]=0,a.gmegabuf[Math.floor(a.index)]=0,a.index+=1;a.tstart=\na.time;a.bd_recsz=8;a.bd_oct=4;a.bd_spo=30;a.bd_finc=pow(2,div(1,a.bd_spo));a.bd_nres=a.bd_oct*a.bd_spo;a.bd_minbpm=20;a.bd_maxbpm=pow(2,a.bd_oct)*a.bd_minbpm;a.bd_dat0=1E5;a.bd_tab0=a.bd_dat0+a.bd_nres*a.bd_recsz*3;a.reg00=a.bd_minbpm;a.reg01=a.bd_maxbpm;a.reg02=a.bd_recsz;a.reg03=a.bd_nres;a.reg05=a.bd_finc;a.reg06=a.bd_dat0;a.reg07=a.bd_mp0;a.time_st=0;a.timediff=1;", frame_eqs_str: "a.dt=Math.min(div(1,a.fps),.1);a.dec_m=1-4*a.dt;a.dec_s=1-a.dt;a.dec_xs=1-div(a.dt,6);a.t0=a.time-a.tstart;a.bd_b=a.bass;a.bd_bass_=a.bd_bass_*a.dec_m+(1-a.dec_m)*a.bd_b;a.bd_bass=a.bd_b-a.bd_bass_;a.bd_m=a.mid;a.bd_mid_=a.bd_mid_*a.dec_m+(1-a.dec_m)*a.bd_m;a.bd_mid=a.bd_m-a.bd_mid_;a.bd_t=a.treb;a.bd_treb_=a.bd_treb_*a.dec_m+(1-a.dec_m)*a.bd_t;a.bd_treb=a.bd_t-a.bd_treb_;a.n=0;a.bpm=a.bd_minbpm;for(var b=0;b<a.bd_nres;b++)a.gmegabuf[Math.floor(5E4+a.n*a.bd_recsz)]=0,a.bd_arg=\ndiv(a.bpm,60)*a.t0*6.283,a.gmegabuf[Math.floor(a.bd_tab0+a.n*a.bd_recsz)]=a.bpm,a.bpm*=a.bd_finc,a.n+=1;for(b=a.bd_src=0;3>b;b++){a.bd_exc=a.bd_bass*(.00001>Math.abs(a.bd_src-0)?1:0)+a.bd_mid*(.00001>Math.abs(a.bd_src-1)?1:0)+a.bd_treb*(.00001>Math.abs(a.bd_src-2)?1:0);for(var c=a.oct=0;c<a.bd_oct;c++){a.bd_slot=0;a.bd_pk=0;for(var d=a.bd_mean=0;d<a.bd_spo;d++){a.bd_tabptr=a.bd_tab0+(a.oct*a.bd_spo+a.bd_slot)*a.bd_recsz;a.n=a.bd_dat0+(a.bd_nres*a.bd_src+a.oct*a.bd_spo+a.bd_slot)*a.bd_recsz;a.bpm=\na.gmegabuf[Math.floor(a.bd_tabptr)];a.bd_omega=6.283*div(a.bpm,60);a.feder=sqr(a.bd_omega);a.gmegabuf[Math.floor(a.n+4)]=a.gmegabuf[Math.floor(a.n+2)];a.gmegabuf[Math.floor(a.n+1)]*=1-.5*a.dt*sqrt(div(a.bpm,300));a.ec_steps=2*Math.floor(1+div(a.bpm,50));for(var e=0;e<a.ec_steps;e++)a.kraft=a.bd_exc-a.feder*a.gmegabuf[Math.floor(a.n+2)],a.gmegabuf[Math.floor(a.n+1)]+=div(a.kraft*a.dt,a.ec_steps),a.gmegabuf[Math.floor(a.n+2)]+=div(a.gmegabuf[Math.floor(a.n+1)]*a.dt,a.ec_steps);a.beatcos=a.gmegabuf[Math.floor(a.n+\n1)];a.beatsin=a.gmegabuf[Math.floor(a.n+2)]*a.bd_omega;a.quad=sqrt(pow(a.beatsin,2)+pow(a.beatcos,2));a.gmegabuf[Math.floor(a.n)]=.8*a.gmegabuf[Math.floor(a.n)]+.2*a.quad;a.bd_ampl=a.gmegabuf[Math.floor(a.n)];a.bd_mean+=a.bd_ampl;.00001<Math.abs(a.bd_ampl>a.bd_pk?1:0)?a.bd_pk=a.bd_ampl:0;a.bd_slot+=1}a.bd_slot=0;a.bd_qual=pow(div(a.bd_pk,a.bd_mean)*a.bd_spo-1,1);a.gmegabuf[Math.floor(2*(a.bd_src*a.bd_oct+a.oct))]=a.bd_qual;for(d=0;d<a.bd_spo;d++)a.m=5E4+(a.bd_slot+0*a.oct*a.bd_spo)*a.bd_recsz,a.n=\na.bd_dat0+(a.bd_nres*a.bd_src+a.oct*a.bd_spo+a.bd_slot)*a.bd_recsz,a.gmegabuf[Math.floor(a.m)]+=div(a.bd_qual*a.gmegabuf[Math.floor(a.n)],12),a.bd_slot+=1;a.oct+=1}a.bd_src+=1}a.bd_slot=0;a.maxind=0;a.bd_pk=0;for(b=a.bd_mean=0;b<a.bd_spo;b++)a.m=5E4+a.bd_slot*a.bd_recsz,a.gmegabuf[Math.floor(a.m)]=pow(a.gmegabuf[Math.floor(a.m)],1),a.bd_mean+=a.gmegabuf[Math.floor(a.m)],.00001<Math.abs(a.gmegabuf[Math.floor(a.m)]>a.bd_pk?1:0)?(a.bd_pk=a.gmegabuf[Math.floor(a.m)],a.maxind=a.bd_slot):0,a.bd_slot+=1;\na.quali=div(a.bd_pk,a.bd_mean)*a.bd_spo-1;for(b=a.n=0;150>b;b++)a.gmegabuf[Math.floor(50+a.n)]*=0,a.n+=1;a.bd_src=0;a.tsin=0;for(b=a.tcos=0;3>b;b++){for(c=a.oct=0;c<a.bd_oct;c++)a.n=a.bd_dat0+(a.bd_nres*a.bd_src+a.oct*a.bd_spo+a.maxind)*a.bd_recsz,a.bd_tabptr=a.bd_tab0+(a.oct*a.bd_spo+a.maxind)*a.bd_recsz,a.bpm=a.gmegabuf[Math.floor(a.bd_tabptr)],a.im=a.gmegabuf[Math.floor(a.n+1)],a.re=6.283*div(a.gmegabuf[Math.floor(a.n+2)]*a.bpm,60),a.bd_cos=Math.cos(6.28*div(a.bpm,60)*a.time),a.bd_sin=-Math.sin(6.28*\ndiv(a.bpm,60)*a.time),a.re0=a.re*a.bd_cos+a.im*a.bd_sin,a.im0=-a.re*a.bd_sin+a.im*a.bd_cos,a.bd_qual=a.gmegabuf[Math.floor(2*(a.bd_src*a.bd_oct+a.oct))],a.gmegabuf[Math.floor(50+4*a.oct)]+=a.bd_qual*a.im0,a.gmegabuf[Math.floor(4*a.oct+51)]+=a.bd_qual*a.re0,a.gmegabuf[Math.floor(4*a.oct+52)]+=a.bd_qual,a.gmegabuf[100]+=a.bd_qual*a.im0,a.gmegabuf[101]+=a.bd_qual*a.re0,a.re=a.bd_cos*a.re0+a.bd_sin*a.im0,a.im=-a.bd_cos*a.im0+a.bd_sin*a.re0,a.tsin+=5*a.im,a.oct+=1;a.bd_src+=1}a.q30=a.tsin;a.vol=a.bass_att+\na.mid_att+a.treb_att;a.vol_=.95*a.vol_+.05*a.vol;a.q29=a.vol-a.vol_;a.bd_src=0;a.maxo=0;a.maxs=0;for(b=a.maxa=0;3>b;b++){a.oct=1;for(c=0;c<a.bd_oct-1;c++)a.n=a.bd_dat0+(a.bd_nres*a.bd_src+a.oct*a.bd_spo+a.maxind)*a.bd_recsz,a.bd_qual=a.gmegabuf[Math.floor(2*(a.bd_src*a.bd_oct+a.oct))],a.ampl=div(a.bd_qual,1+a.oct*div(a.maxind,a.bd_oct)*0),.00001<Math.abs(a.ampl>a.maxa?1:0)?(a.maxa=a.ampl,a.maxs=a.bd_src,a.maxo=a.oct):0,a.oct+=1;a.bd_src+=1}a.q28=pow(4*a.bd_qual,1.5);a.q31=a.q28;.00001<Math.abs(above(a.q28,\n50))?a.q28=pow(5*Math.sin(.5*a.bd_qual),2):0;a.testi=a.bd_nres*a.maxs+a.bd_spo*a.maxo+a.maxind;.00001<Math.abs(bor(a.beat&&.00001>Math.abs(a.prog-0)?1:0,2>Math.abs(a.testi-a.test0)?1:0))?a.test0=a.testi:0;a.n=a.bd_dat0+a.test0*a.bd_recsz;a.creep=a.gmegabuf[Math.floor(a.n+1)];a.beat=(0<a.creep?1:0)*(0>a.creepo?1:0);a.beatct=.00001<Math.abs(a.change)?0:a.beatct+a.beat;a.prog=mod(a.prog+a.beat,8);a.creepo=a.creep;a.show=.00001<Math.abs(a.beat)?1:.5*a.show;a.q4=1E3*div(a.gmegabuf[Math.floor(a.n+1)],a.gmegabuf[Math.floor(a.n)]);\na.q2=a.prog;.00001<Math.abs(a.beat)?(a.timediff=a.time-a.time_st,a.time_st=a.time):a.timediff=a.timediff;.00001<Math.abs(below(a.timediff,.0625))?a.timediff=.0625:a.timediff=a.timediff;a.q8=a.timediff;a.monitor=a.q8;a.q24=a.bd_maxbpm;a.old_bass_flop=a.bass_flop;a.old_treb_flop=a.treb_flop;a.old_mid_flop=a.mid_flop;a.chaos=.9+.1*Math.sin(a.pulse);a.entropy=.00001<Math.abs(equal(a.pulse,-20))?1+a.bass_flop+a.treb_flop+a.mid_flop+.002*a.q4:a.entropy;a.bass_thresh=2*above(a.bass_att,a.bass_thresh)+(1-\nabove(a.bass_att,a.bass_thresh))*((a.bass_thresh-1.6)*a.chaos+1.6);a.bass_flop=Math.abs(a.bass_flop-equal(a.bass_thresh,2));a.treb_thresh=2*above(a.treb_att,a.treb_thresh)+(1-above(a.treb_att,a.treb_thresh))*((a.treb_thresh-1.6)*a.chaos+1.6);a.treb_flop=Math.abs(a.treb_flop-equal(a.treb_thresh,2));a.mid_thresh=2*above(a.mid_att,a.mid_thresh)+(1-above(a.mid_att,a.mid_thresh))*((a.mid_thresh-1.6)*a.chaos+1.6);a.mid_flop=Math.abs(a.mid_flop-equal(a.mid_thresh,2));a.bass_changed=bnot(equal(a.old_bass_flop,\na.bass_flop));a.mid_changed=bnot(equal(a.old_mid_flop,a.mid_flop));a.treb_changed=bnot(equal(a.old_treb_flop,a.treb_flop));a.bass_residual=a.bass_changed*Math.sin(1.5*a.pulse)+bnot(a.bass_changed)*a.bass_residual;a.treb_residual=a.treb_changed*Math.sin(1.5*a.pulse)+bnot(a.treb_changed)*a.treb_residual;a.mid_residual=a.mid_changed*Math.sin(1.5*a.pulse)+bnot(a.mid_changed)*a.mid_residual;a.pulse=.00001<Math.abs(above(Math.abs(a.pulse),20))?-20:a.pulse+.018*(a.bass_thresh+a.mid_thresh+a.treb_thresh);\na.q11=a.mid_residual;a.q12=a.bass_residual;a.q13=a.treb_residual;a.q14=Math.sin(a.pulse);a.q15=Math.cos(a.pulse*(.5+.1*a.entropy));a.q16=Math.sin(a.pulse*(.5+pow(.25,a.entropy)));a.ob_r=Math.sin(1.0785*a.time+a.q16);a.ob_b=Math.sin(.8445*a.time+a.q15);a.ob_g=Math.sin(.413*a.time+a.q14);a.ib_r=Math.cos(.6*a.time+.1*a.q11);a.ib_b=Math.cos(1.4055*a.time+.1*a.q12);a.ib_g=Math.cos(.833*a.time+.1*a.q13);a.ib_size=.05+.03*a.q12;a.ob_size=.03+.02*Math.sin(2.321*a.time+.2*a.q12);a.ob_a=.6+.4*a.q13;a.ib_a=\n.9+.1*Math.sin(.3*a.q12+a.q14+.5*a.q11);a.rot=0;a.basstime+=div(3*a.q29,a.fps);a.q1=a.basstime;a.basstime=.00001<Math.abs(below(a.basstime,-1E4))?0:a.basstime;a.basstime=.00001<Math.abs(above(a.basstime,1E4))?0:a.basstime;a.basstime+=div(.75*a.bass_att,a.fps);a.vol2=pow(a.bass+a.mid+a.treb,2);a.basssum=a.vol2;a.stickybit=mod(a.time,2);a.volavg+=a.vol2*equal(a.stickybit,1);a.sample1+=equal(a.stickybit,1);a.volavg2+=a.vol2*equal(a.stickybit,0);a.sample2+=equal(a.stickybit,0);a.edge=bnot(equal(a.bit2,\na.stickybit));a.volavg-=a.volavg*a.edge*a.stickybit;a.volavg2-=a.volavg2*a.edge*equal(a.stickybit,0);a.sample1-=a.sample1*a.edge*a.stickybit;a.sample2-=a.sample2*a.edge*equal(a.stickybit,0);a.diff=.00001<Math.abs(equal(a.stickybit,1))?div(a.basssum,div(a.volavg2,a.sample2)):0;a.diff=.00001<Math.abs(equal(a.stickybit,0))?div(a.basssum,div(a.volavg,a.sample1)):a.diff;a.q3=a.diff;a.pv_beat=.2*a.pv_beat*sqrt(div(a.fps,30))+div(.0001*(a.bass_att*a.bass_att+a.mid_att*a.mid_att+a.treb_att*a.treb_att)*a.q4,\nsqrt(a.q8));a.q32=a.pv_beat;a.monitor=a.q32;a.bit2=mod(a.time,2);a.difftime+=.03*a.diff;a.q2=a.difftime;a.warp=.005*(a.bass*a.bass+a.mid*a.mid+a.treb*a.treb);a.foo_r=Math.sin(.34313*a.q1);a.foo_g=Math.sin(.3675*a.q1);a.foo_b=Math.sin(.55095*a.q1);.00001<Math.abs(above(a.foo_r,a.foo_g)&&above(a.foo_r,a.foo_b)?1:0)?a.q23=1:a.q23=0;.00001<Math.abs(above(a.foo_g,a.foo_r)&&above(a.foo_g,a.foo_b)?1:0)?a.q21=1:a.q21=0;.00001<Math.abs(above(a.foo_b,a.foo_r)&&above(a.foo_b,a.foo_g)?1:0)?a.q22=1:a.q22=0;.00001<\nMath.abs(equal(a.q11+a.q12+a.q13,0))?a.q22=1:0;a.q5=div(30,a.fps);a.q19=50;a.q20=1;.00001<Math.abs(above(a.q31,14))?a.q19=100:a.q19=a.q19;.00001<Math.abs(above(a.q31,50))?a.q19=500:a.q19=a.q19;.00001<Math.abs(above(a.q3,2))?a.q19=.5+10*a.q8:a.q19=a.q19;", pixel_eqs_str: ".00001<Math.abs(a.q32>1.2*sqrt(a.bass_att)?1:0)?(a.rot=.00001<Math.abs(above(a.q14,0))?.2*a.rad*a.q15:Math.tan(.001*a.rad*a.q4),a.zoom=.00001<Math.abs(above(a.q12,1.5))?a.zoom+(1-a.zoom)*a.rot*Math.cos(3.14*a.rad*a.q12):.00001<Math.abs(above(a.q13,2)*above(a.x,.5+.5*a.q15))?a.zoom+(1-a.zoom)*Math.sin(a.q11*a.rot*3.14):a.zoom+(1-a.zoom)*Math.cos(3*a.rad*a.q16),a.dx=above(a.q11,0)*Math.sin(.5*a.rad*a.q12),a.dy=above(a.q13,0)*Math.sin(.5*a.rad*a.q13)):(a.zoom=a.q19,a.zoomexp=a.q20,\na.rot=0);", warp: " shader_body { \n  vec3 ret_1;\n  vec4 tmpvar_2;\n  tmpvar_2 = texture (sampler_pw_main, uv_orig);\n  ret_1 = ((texture (sampler_blur1, tmpvar_2.xy).xyz * scale1) + bias1);\n  vec3 tmpvar_3;\n  tmpvar_3 = vec3((((1.0 - ret_1.x) * (1.0 - ret_1.y)) * (1.0 - ret_1.z)));\n  vec2 tmpvar_4;\n  tmpvar_4 = (((texsize.zw * q5) * -3.0) * ((\n    pow (tmpvar_3, vec3(0.333, 0.333, 0.333))\n   + \n    ((((0.5 * tmpvar_3) * (\n      (texture (sampler_blur2, ret_1.xx).xyz * scale2)\n     + bias2)) * ((texture (sampler_blur2, ret_1.yy).xyz * scale2) + bias2)) * ((texture (sampler_blur2, ret_1.zz).xyz * scale2) + bias2))\n  ) + (\n    ((0.25 * ((texture (sampler_blur3, ret_1.xx).xyz * scale3) + bias3)) * ((texture (sampler_blur3, ret_1.yy).xyz * scale3) + bias3))\n   * \n    ((texture (sampler_blur3, ret_1.xx).xyz * scale3) + bias3)\n  )).xy);\n  vec3 tmpvar_5;\n  tmpvar_5 = (((texture (sampler_blur1, \n    (uv_orig + (vec2(1.0, 0.0) * tmpvar_4))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv_orig - (vec2(1.0, 0.0) * tmpvar_4))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_6;\n  tmpvar_6 = (((texture (sampler_blur1, \n    (uv_orig + (vec2(0.0, 1.0) * tmpvar_4))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv_orig - (vec2(0.0, 1.0) * tmpvar_4))\n  ).xyz * scale1) + bias1));\n  vec2 tmpvar_7;\n  tmpvar_7.x = tmpvar_5.x;\n  tmpvar_7.y = tmpvar_6.x;\n  vec2 tmpvar_8;\n  tmpvar_8.x = tmpvar_5.y;\n  tmpvar_8.y = tmpvar_6.y;\n  vec2 tmpvar_9;\n  tmpvar_9.x = tmpvar_5.z;\n  tmpvar_9.y = tmpvar_6.z;\n  vec2 tmpvar_10;\n  tmpvar_10 = (uv_orig + ((\n    (((tmpvar_7 * q21) + (tmpvar_8 * q22)) + (tmpvar_9 * q23))\n   * texsize.zw) * 6.0));\n  ret_1 = ((texture (sampler_main, tmpvar_10).xyz + (\n    (texture (sampler_main, uv).xyz - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))\n   * 0.1)) - ((0.00015 * q28) * (\n    ((((\n      (texture (sampler_main, tmpvar_10).x * texture (sampler_main, tmpvar_10).y)\n     * texture (sampler_main, tmpvar_10).z) / (2.0 * q8)) + ((\n      sqrt(treb)\n     * texture (sampler_main, tmpvar_10).x) * texture (sampler_main, tmpvar_10).y)) + ((sqrt(mid) * texture (sampler_main, tmpvar_10).x) * texture (sampler_main, tmpvar_10).z))\n   + \n    ((sqrt(bass) * texture (sampler_main, tmpvar_10).y) * texture (sampler_main, tmpvar_10).z)\n  )));\n  ret_1.x = mix (ret_1.x, (1.01 * texture (sampler_pc_main, tmpvar_10).x), (bass_att * 0.05));\n  ret_1.y = mix (ret_1.y, (1.01 * texture (sampler_pc_main, tmpvar_10).y), (mid_att * 0.05));\n  ret_1.z = mix (ret_1.z, (1.01 * texture (sampler_pc_main, tmpvar_10).z), (treb_att * 0.05));\n  ret_1 = (ret_1 + ((\n    (pow (q3, 1.2) - 0.25)\n   * 0.00667) * tmpvar_2).xyz);\n  vec4 tmpvar_11;\n  tmpvar_11.w = 0.0;\n  tmpvar_11.xyz = ret_1;\n  vec3 tmpvar_12;\n  tmpvar_12 = mix (tmpvar_11, texture (sampler_pc_main, uv), vec4(float((\n    (q32 * sqrt(((\n      ((1.0 - ret_1.x) * (1.0 - ret_1.y))\n     + \n      ((1.0 - ret_1.x) * (1.0 - ret_1.z))\n    ) + (\n      (1.0 - ret_1.y)\n     * \n      (1.0 - ret_1.z)\n    ))))\n   > 1.333)))).xyz;\n  ret_1 = tmpvar_12;\n  vec4 tmpvar_13;\n  tmpvar_13.w = 1.0;\n  tmpvar_13.xyz = tmpvar_12;\n  ret = tmpvar_13.xyz;\n }", comp: " shader_body { \n  vec3 ret_1;\n  ret_1 = mix (texture (sampler_main, uv).xyz, texture (sampler_main, ((0.5 - uv) + 0.5)).xyz, vec3(0.5, 0.5, 0.5));\n  ret_1 = (1.0 - ((ret_1 * \n    (1.0 - ret_1)\n  ) * 4.0));\n  vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = ret_1;\n  ret = tmpvar_2.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 0.925, echo_zoom: 1.007, echo_orient: 3, wave_brighten: 0, brighten: 1, darken: 1, solarize: 1, wave_a: 1e-3, wave_scale: 0.01, wave_smoothing: 0, modwavealphastart: 1, modwavealphaend: 1, warpanimspeed: 1.459, warpscale: 2.007, fshader: 1, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0, wave_g: 0, wave_b: 0, ob_size: 0.015, ob_b: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 5, mv_a: 0}, shapes: [{baseVals: {enabled: 1, sides: 100, textured: 1, rad: 0.789, ang: 0.6283, tex_zoom: 1.17257, r: 0, g: 1, border_a: 0}, init_eqs_str: "a.an=0;a.vx=0;a.vy=0;", frame_eqs_str: "a.rad=.65+.1*a.bass;a.an=.99*a.an+.1*(a.bass-a.treb);a.ang=.1*a.an+.6;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, samples: 495, sep: 4, spectrum: 1, thick: 1, additive: 1, scaling: 100, smoothing: 1, r: 0, g: 0.04, b: 0, a: 0.99}, init_eqs_str: "a.my_z=0;a.d=0;a.n=0;a.y3=0;a.z2=0;a.y1=0;a.w=0;a.t5=0;a.w2=0;a.t1=0;a.x1=0;a.q6=0;a.zoom=0;a.p=0;a.q1=0;a.q5=0;a.t8=0;a.z3=0;a.w3=0;a.t3=0;a.my_x=0;a.x3=0;a.t6=0;a.my_y=0;a.pi=0;a.q4=0;a.t7=0;a.rd=0;a.w1=0;a.x2=0;a.t2=0;a.l=0;a.y2=0;a.q2=0;a.z1=0;a.q3=0;a.t4=0;a.t2=0;a.t3=0;a.t4=0;a.ab=1;", frame_eqs_str: "a.t1=a.q1;a.t2=a.q2;a.t3=a.q3;a.t4=a.q4;a.t5=a.q5;a.t6=a.q6;a.t8=.07;a.t7=1;", point_eqs_str: "a.t7=-a.t7;a.pi=Math.asin(1);a.n=180;a.rd=.075;a.my_x=.5*Math.sin(a.sample*a.pi*4+(a.t7+1)*a.t8)+Math.cos(a.sample*a.pi*a.n)*a.rd*Math.sin(a.sample*a.pi*4+(a.t7+1)*a.t8);a.my_y=.5*Math.cos(a.sample*a.pi*4+(a.t7+1)*a.t8)+Math.cos(a.sample*a.pi*a.n)*a.rd*Math.cos(a.sample*a.pi*4+(a.t7+1)*a.t8);a.my_z=Math.sin(a.sample*a.pi*a.n)*a.rd;a.d=1.4;a.zoom=.65;a.w1=a.q2;a.w2=a.q3;a.w3=a.q4;a.x1=Math.cos(a.w1)*a.my_x+Math.sin(a.w1)*a.my_y;a.y1=-Math.sin(a.w1)*a.my_x+Math.cos(a.w1)*a.my_y;\na.z1=a.my_z;a.x2=Math.cos(a.w2)*a.x1+Math.sin(a.w2)*a.z1;a.z2=-Math.sin(a.w2)*a.x1+Math.cos(a.w2)*a.z1;a.y2=a.y1;a.y3=Math.cos(a.w3)*a.y2+Math.sin(a.w3)*a.z2;a.z3=-Math.sin(a.w3)*a.y2+Math.cos(a.w3)*a.z2;a.x3=a.x2;a.l=sqrt(a.x3*a.x3+a.y3*a.y3);a.w=Math.atan2(a.x3,a.y3);a.p=Math.tan(Math.asin(1)+Math.atan2(a.d+a.z3,a.l));a.d=sqrt(a.x3*a.x3+a.y3*a.y3+(a.z3+a.d)*(a.z3+a.d));a.my_x=a.zoom*Math.sin(a.w)*a.p;a.my_y=a.zoom*Math.cos(a.w)*a.p;a.x=.5+a.my_x;a.y=.5+a.my_y;a.b=-a.z3+.5;a.b=.5*Math.min(1,Math.max(0,\na.b));a.r=1-2*a.b;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.index2=0;a.index=0;a.q12=0;a.q22=0;a.q21=0;a.q29=0;a.q1=0;a.dec_med=0;a.rott=0;a.is_beat=0;a.q31=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.p3=0;a.q3=0;a.t0=0;a.q28=0;a.q30=0;a.q20=0;a.p4=0;a.step=0;a.step=0;", frame_eqs_str: "a.dec_med=pow(.7,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,-2+a.avg+a.peak)*above(a.time,a.t0+.1);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,16);a.index2=mod(a.index2+a.is_beat*bnot(a.index),2);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass_att+\na.mid_att+a.treb_att;a.q27=a.index+1;a.q28=a.index2;a.q29=2*(mod(a.index,2)-.5);a.k1=a.is_beat*equal(mod(a.index,2),0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.1416*a.p2,8);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.step+=a.q24;a.p3=a.p3*a.dec_slow+(1-a.dec_slow)*a.step;a.q30=a.step;a.p4=a.dec_slow*a.p4+(1-a.dec_slow)*a.q27;a.q31=a.p4;a.q12=a.time-a.t0;a.monitor=a.q12;a.zoom=1;a.rot=-0;a.dx=0;", pixel_eqs_str: "a.zoom=1.3;", warp: " shader_body { \n  vec2 uv_1;\n  vec2 uv6_2;\n  vec2 tmpvar_3;\n  tmpvar_3 = ((uv - 0.5) * aspect.xy);\n  float tmpvar_4;\n  tmpvar_4 = (((q29 * 2.0) * sqrt(\n    dot (tmpvar_3, tmpvar_3)\n  )) + (rand_frame * 64.0)).x;\n  uv_1 = (uv + (clamp (\n    ((sin(tmpvar_4) / cos(tmpvar_4)) * normalize(tmpvar_3))\n  , vec2(-2.0, -2.0), vec2(2.0, 2.0)) / 20.0));\n  uv6_2 = (0.4 * sin((tmpvar_3 * 22.0)));\n  vec4 tmpvar_5;\n  tmpvar_5.w = 1.0;\n  tmpvar_5.xyz = (((q24 * \n    (((texture (sampler_main, uv_1).xyz - (\n      ((texture (sampler_blur1, fract(uv_1)).xyz * scale1) + bias1)\n     * 0.04)) + (0.15 * (vec3(\n      (0.1 / sqrt(dot (uv6_2, uv6_2)))\n    ) * roam_cos.xyz))) - 0.02)\n  ) * 0.98) + ((1.0 - q24) * texture (sampler_main, uv_orig).xyz));\n  ret = tmpvar_5.xyz;\n }", comp: "uniform sampler2D sampler_rand00;\n shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1 = texture (sampler_main, uv);\n  vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = ((texture (sampler_rand00, (0.4 + \n    (0.6 * tmpvar_1.xy)\n  )) * tmpvar_1.z) * 3.0).xyz;\n  ret = tmpvar_2.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 2, gammaadj: 2.7, wave_mode: 1, modwavealphabyvolume: 1, wave_a: 2.707, wave_scale: 1.025, wave_smoothing: 0.1, modwavealphastart: 0.77, modwavealphaend: 1.01, warpscale: 1.331, zoom: 1.014, warp: 0.21786, wave_r: 0.65, wave_g: 0.65, wave_b: 0.65, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "", frame_eqs_str: "a.wave_r+=.35*(.6*Math.sin(3.98*a.time)+.4*Math.sin(11.047*a.time));a.wave_g+=.35*(.6*Math.sin(.835*a.time)+.4*Math.sin(1.081*a.time));a.wave_b+=.35*(.6*Math.sin(.814*a.time)+.4*Math.sin(1.011*a.time));a.cx+=.11*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.cy+=.11*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.dx+=.005*(.6*Math.sin(.173*a.time)+.4*Math.sin(.223*a.time));a.decay-=.01*equal(mod(a.frame,20),0);", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = (texture (sampler_main, (uv + (\n    (texture (sampler_main, (mix (uv, uv_orig, vec2(-1.0, -1.0)) + texsize.zw)).xy - 0.37)\n   * 0.01))).xyz - 0.004);\n  ret = tmpvar_1.xyz;\n }", comp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1 = texture (sampler_main, uv);\n  vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = mix (vec3(dot (tmpvar_1.xyz, vec3(0.3333, 0.3333, 0.3333))), tmpvar_1.xyz, vec3(3.0, 3.0, 3.0));\n  ret = tmpvar_2.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1.9, echo_zoom: 1.16936, wave_mode: 7, modwavealphabyvolume: 1, wave_a: 0, wave_scale: 1.015009, wave_smoothing: 0.522, modwavealphastart: 0.83, modwavealphaend: 1.31, warpscale: 3.138, zoom: 1.009006, warp: 536e-6, wave_r: 0.5, wave_g: 0.5, wave_b: 0.5, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.dx_residual=0;a.dy_residual=0;a.bass_thresh=0;", frame_eqs_str: "a.wave_r=.85+.25*Math.sin(.437*a.time+1);a.wave_g=.85+.25*Math.sin(.544*a.time+2);a.wave_b=.85+.25*Math.sin(.751*a.time+3);a.rot+=.01*(.6*Math.sin(.381*a.time)+.4*Math.sin(.579*a.time));a.cx+=.21*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.cy+=.21*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.dx+=.003*(.6*Math.sin(.234*a.time)+.4*Math.sin(.277*a.time));a.dy+=.003*(.6*Math.sin(.284*a.time)+.4*Math.sin(.247*a.time));a.decay-=.01*equal(mod(a.frame,6),0);a.dx+=\na.dx_residual;a.dy+=a.dy_residual;a.bass_thresh=2*above(a.bass_att,a.bass_thresh)+(1-above(a.bass_att,a.bass_thresh))*(.96*(a.bass_thresh-1.3)+1.3);a.dx_residual=.016*equal(a.bass_thresh,2.13)*Math.sin(7*a.time)+(1-equal(a.bass_thresh,2.13))*a.dx_residual;a.dy_residual=.012*equal(a.bass_thresh,2.13)*Math.sin(9*a.time)+(1-equal(a.bass_thresh,2.13))*a.dy_residual;a.wave_x-=7*a.dx_residual;a.wave_y-=7*a.dy_residual;a.wave_mystery=.03*a.time;a.zoom+=.005*(.6*Math.sin(.1934*a.time+3)+.4*Math.sin(.307*\na.time+9));a.zoom+=.4*Math.max(0,a.bass_att-1.1);", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec3 ret_1;\n  ret_1 = texture (sampler_main, uv).xyz;\n  ret_1 = (ret_1 + ((ret_1 - \n    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)\n  ) * 0.3));\n  ret_1 = (ret_1 * 0.9);\n  ret_1 = (ret_1 + ((\n    ((texture (sampler_noise_lq, ((\n      (uv_orig * texsize.xy)\n     * \n      (texsize_noise_lq.zw * 0.4)\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\n   * 122.0) * clamp (\n    (treb_att - 1.0)\n  , 0.0, 1.0)));\n  ret_1 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));\n  vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = ret_1;\n  ret = tmpvar_2.xyz;\n }", comp: " shader_body { \n  vec3 ret_1;\n  ret_1 = (texture (sampler_main, uv).xyz + ((\n    (texture (sampler_blur1, uv).xyz * scale1)\n   + bias1) * 0.4));\n  vec3 tmpvar_2;\n  tmpvar_2 = pow (ret_1, vec3(0.5, 0.8, 1.7));\n  ret_1 = tmpvar_2;\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = tmpvar_2;\n  ret = tmpvar_3.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 1, wave_mode: 6, additivewave: 1, wave_dots: 1, wave_thick: 1, wave_brighten: 0, wave_a: 100, wave_scale: 3.63, wave_smoothing: 0.9, wave_mystery: -0.3, modwavealphastart: 1.15, modwavealphaend: 1.55, warpscale: 1.331, zoom: 0.96971, warp: 0, wave_r: 0.6, wave_g: 0.6, wave_b: 0.6, mv_x: 64, mv_y: 48, mv_l: 0, mv_r: 0.35, mv_g: 0.35, mv_b: 0.35, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.decay_rate=0;a.q6=0;a.rot_sum=0;a.q1=0;a.q5=0;a.prev_beat=0;a.is_beat=0;a.min_att=0;a.beat=0;a.decay_to=0;a.rot_sim=0;a.q2=0;a.q3=0;a.beat_level=0;a.rot_sum=0;a.q2=.07+.00004*randint(1E3)+.00003*randint(1E3);a.q3=1.035+.06*(randint(1E3)+randint(1E3)+randint(1E3))*.000333;", frame_eqs_str: "a.wave_r+=.5*(.6*Math.sin(1.98*a.time)+.4*Math.sin(3.047*a.time));a.wave_g+=.5*(.6*Math.sin(2.835*a.time)+.4*Math.sin(2.081*a.time));a.wave_b+=.5*(.6*Math.sin(3.814*a.time)+.4*Math.sin(1.011*a.time));a.cx=.5;a.cy=.5;a.rot=a.q2;a.zoom=a.zoom-1+a.q3;a.rot_sum+=a.rot;a.q1=-a.rot_sum;a.q5=Math.cos(a.rot_sum);a.q6=Math.sin(a.rot_sim);a.monitor=a.q2;a.min_att=2.5;a.decay_to=.8;a.decay_rate=pow(.999,a.fps);a.beat=div(a.bass,Math.max(a.min_att,a.bass_att));a.beat=Math.max(a.beat,div(a.mid,\nMath.max(a.min_att,a.mid_att)));a.beat=Math.max(a.beat,div(a.treb,Math.max(a.min_att,a.treb_att)));a.beat=Math.max(a.beat,(a.prev_beat-a.decay_to)*a.decay_rate+a.decay_to);a.beat_level=24*(a.beat-a.prev_beat-.02);a.is_beat=above(a.beat_level,.5);a.prev_beat=a.beat;a.wave_a=a.beat_level;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = (texture (sampler_pw_main, uv).xyz - 0.004);\n  ret = tmpvar_1.xyz;\n }", comp: " shader_body { \n  vec2 uv_1;\n  vec2 uv2_2;\n  uv_1 = (uv - 0.5);\n  uv_1 = (uv_1 * (min (aspect.x, aspect.y) * 0.8));\n  uv_1 = (uv_1 * aspect.xy);\n  float tmpvar_3;\n  tmpvar_3 = sin(q1);\n  float tmpvar_4;\n  tmpvar_4 = cos(q1);\n  uv2_2.x = ((uv_1.x * tmpvar_4) - (uv_1.y * tmpvar_3));\n  uv2_2.y = ((uv_1.x * tmpvar_3) + (uv_1.y * tmpvar_4));\n  uv2_2 = (uv2_2 * aspect.zw);\n  uv2_2 = (uv2_2 + 0.5);\n  vec4 tmpvar_5;\n  tmpvar_5.w = 1.0;\n  tmpvar_5.xyz = (abs((\n    (texture (sampler_main, uv2_2).xyz * 2.65)\n   + \n    (((texture (sampler_blur1, uv2_2).xyz * scale1) + bias1) * -2.0)\n  )) * 1.5);\n  ret = tmpvar_5.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.9, echo_zoom: 1.16936, wave_mode: 5, additivewave: 1, wave_a: 0, wave_scale: 0.899719, wave_smoothing: 0.63, wave_mystery: 1, modwavealphastart: 2, modwavealphaend: 2, warpscale: 2.593743, zoom: 1.00496, warp: 0.278033, sx: 0.999666, sy: 0.9999, wave_r: 0.65, wave_g: 0.65, wave_b: 0.65, mv_x: 0, mv_y: 48, mv_dx: -0.941273, mv_dy: 0.426319, mv_l: 5, mv_r: 0.315997, mv_g: 0.078173, mv_b: 0.941976, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.du=0;a.q1=0;a.rg=0;a.q9=0;a.mult=0;a.ang2=0;a.dv=0;a.q4=0;a.q2=0;a.dist=0;a.q3=0;a.rg=0;", frame_eqs_str: "a.wave_r+=.35*(.6*Math.sin(.98*a.time)+.4*Math.sin(1.047*a.time));a.wave_g+=.35*(.6*Math.sin(.835*a.time)+.4*Math.sin(1.081*a.time));a.wave_b+=.35*(.6*Math.sin(.814*a.time)+.4*Math.sin(1.011*a.time));a.q1=2*a.cx-1+.52*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.q2=2*a.cy-1+.52*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.q3=2*a.cx-1+.52*(.6*Math.sin(.174*-a.time)+.4*Math.sin(.364*a.time));a.q4=2*a.cy-1+.52*(.6*Math.sin(.234*a.time)+.4*Math.sin(.271*-a.time));\na.decay-=.01*equal(mod(a.frame,5),0);a.rg=Math.max(.95*a.rg,.3+.5*Math.min(2,1.3*Math.max(0,a.mid_att-1)));a.q9=a.rg;", pixel_eqs_str: "a.du=2*a.x-1-a.q1;a.dv=2*a.y-1-a.q2;a.dist=sqrt(a.du*a.du+a.dv*a.dv);a.ang2=Math.atan2(a.du,a.dv);a.mult=div(.008,a.dist+.4);a.dx=a.mult*Math.sin(a.ang2-1.5);a.dy=a.mult*Math.cos(a.ang2-1.5);a.du=2*a.x-1-a.q3;a.dv=2*a.y-1-a.q4;a.dist=sqrt(a.du*a.du+a.dv*a.dv);a.ang2=Math.atan2(a.du,a.dv);a.mult=div(.008,a.dist+.4);a.dx+=a.mult*Math.sin(a.ang2+1.5);a.dy+=a.mult*Math.cos(a.ang2+1.5);", warp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = mix (uv_orig, uv, vec2(q9));\n  ret_1 = texture (sampler_main, tmpvar_2).xyz;\n  ret_1 = (ret_1 + ((ret_1 - \n    ((texture (sampler_blur1, tmpvar_2).xyz * scale1) + bias1)\n  ) * 0.3));\n  ret_1 = (ret_1 * 0.9);\n  ret_1 = (ret_1 + ((\n    ((texture (sampler_noise_lq, ((\n      (uv_orig * texsize.xy)\n     * \n      (texsize_noise_lq.zw * 0.4)\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\n   * 122.0) * clamp (\n    (treb_att - 1.0)\n  , 0.0, 1.0)));\n  ret_1 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = ret_1;\n  ret = tmpvar_3.xyz;\n }", comp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = (0.3 + (0.4 * vec3(dot (texture (sampler_main, uv).xyz, vec3(0.32, 0.49, 0.29)))));\n  ret = tmpvar_1.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.9, echo_zoom: 1.169, echo_orient: 1, wave_mode: 5, additivewave: 1, wave_a: 0, wave_scale: 0.9, wave_smoothing: 0.63, wave_mystery: 1, modwavealphastart: 2, modwavealphaend: 2, warpscale: 1.331, zoom: 1.004, warp: 0.19788, sx: 0.99967, sy: 0.9999, wave_r: 0.65, wave_g: 0.65, wave_b: 0.65, mv_x: 0, mv_y: 48, mv_dx: -0.941, mv_dy: 0.426, mv_l: 5, mv_r: 0.316, mv_g: 0.078, mv_b: 0.942, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.du=0;a.q1=0;a.dv=0;a.q2=0;a.dist=0;a.ang2=0;a.mult=0;", frame_eqs_str: "a.wave_r+=.2*(.6*Math.sin(.98*a.time)+.4*Math.sin(1.047*a.time));a.wave_g+=.2*(.6*Math.sin(.835*a.time)+.4*Math.sin(1.081*a.time));a.wave_b+=.2*(.6*Math.sin(.814*a.time)+.4*Math.sin(1.011*a.time));a.q1=2*a.cx-1+.6*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.q2=2*a.cy-1+.6*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));", pixel_eqs_str: "a.du=2*a.x-1-a.q1;a.dv=2*a.y-1-a.q2;a.dist=sqrt(a.du*a.du+a.dv*a.dv);a.ang2=Math.atan2(a.du,a.dv)+.15*a.time;a.mult=.65*Math.sin(.05*a.dist);a.dx=a.mult*Math.sin(2*a.ang2-1.5);a.dy=a.mult*Math.cos(2*a.ang2-1.5);", warp: " shader_body { \n  vec3 ret_1;\n  vec4 tmpvar_2;\n  tmpvar_2 = texture (sampler_main, uv);\n  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - \n    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)\n  ) * 0.3));\n  ret_1 = (ret_1 * 0.9);\n  ret_1 = (ret_1 + ((\n    ((texture (sampler_noise_lq, ((\n      (uv_orig * texsize.xy)\n     * \n      (texsize_noise_lq.zw * 0.4)\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\n   * 122.0) * clamp (\n    (treb_att - 1.0)\n  , 0.0, 1.0)));\n  vec3 tmpvar_3;\n  tmpvar_3 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));\n  ret_1 = tmpvar_3;\n  vec4 tmpvar_4;\n  tmpvar_4.w = 1.0;\n  tmpvar_4.xyz = tmpvar_3;\n  ret = tmpvar_4.xyz;\n }", comp: " shader_body { \n  vec2 uv2_1;\n  vec3 ret_2;\n  uv2_1 = (uv + (vec2(1.0, 0.0) * texsize.zw));\n  float tmpvar_3;\n  tmpvar_3 = (((texture (sampler_main, uv2_1).xyz + \n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\n  ) + (\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\n   * 0.15)) + ((\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\n   + bias3) * 0.1)).x;\n  uv2_1 = (uv + (vec2(-1.0, 0.0) * texsize.zw));\n  float tmpvar_4;\n  tmpvar_4 = (((texture (sampler_main, uv2_1).xyz + \n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\n  ) + (\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\n   * 0.15)) + ((\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\n   + bias3) * 0.1)).x;\n  uv2_1 = (uv + (vec2(0.0, 1.0) * texsize.zw));\n  float tmpvar_5;\n  tmpvar_5 = (((texture (sampler_main, uv2_1).xyz + \n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\n  ) + (\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\n   * 0.15)) + ((\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\n   + bias3) * 0.1)).x;\n  uv2_1 = (uv + (vec2(0.0, -1.0) * texsize.zw));\n  vec3 tmpvar_6;\n  tmpvar_6.z = 0.14;\n  tmpvar_6.x = (tmpvar_3 - tmpvar_4);\n  tmpvar_6.y = (tmpvar_5 - ((\n    (texture (sampler_main, uv2_1).xyz + (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4))\n   + \n    (((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2) * 0.15)\n  ) + (\n    ((texture (sampler_blur3, uv2_1).xyz * scale3) + bias3)\n   * 0.1)).x);\n  ret_2 = (0.5 + (0.5 * normalize(tmpvar_6)));\n  vec2 x_7;\n  x_7 = (ret_2.xy - 0.5);\n  ret_2 = (ret_2 * clamp ((\n    sqrt(dot (x_7, x_7))\n   * 5.0), 0.0, 1.0));\n  ret_2 = ret_2.xxy;\n  ret_2 = (ret_2 + 1.15);\n  ret_2 = (ret_2 * mix (ret_2, (ret_2 * \n    (((texture (sampler_blur3, uv).xyz * scale3) + bias3) - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))\n  ), pow (hue_shader.yxz, ret_2)));\n  ret_2 = (ret_2 * ret_2);\n  vec4 tmpvar_8;\n  tmpvar_8.w = 1.0;\n  tmpvar_8.xyz = ret_2;\n  ret = tmpvar_8.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 2.4, decay: 1, echo_zoom: 0.997, echo_alpha: 0.5, echo_orient: 3, wave_mode: 2, wave_brighten: 0, wrap: 0, darken: 1, wave_a: 1e-3, wave_scale: 0.28, wave_smoothing: 0.9, modwavealphastart: 0.71, modwavealphaend: 1.3, warpanimspeed: 2.599, warpscale: 0.01, zoomexp: 0.99817, zoom: 0.86978, warp: 0.01, sy: 1.0017, wave_r: 0, wave_g: 0, wave_b: 0, ob_size: 0, ob_r: 1, ob_g: 1, ob_b: 1, ib_size: 0.04, ib_r: 0, ib_g: 0, ib_b: 0, ib_a: 1, mv_x: 64, mv_y: 48, mv_l: 0.5, mv_r: 0.35, mv_g: 0.35, mv_b: 0.35, mv_a: 0.2}, shapes: [{baseVals: {enabled: 1, sides: 20, additive: 1, textured: 1, rad: 1.99867, tex_zoom: 0.49486, g: 1, b: 1, a: 0.75, r2: 1, b2: 1, a2: 1, border_a: 0}, init_eqs_str: "", frame_eqs_str: ""}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.ang2=0;a.redsine=0;a.greensine=0;a.bluesine=0;a.redif=0;a.greenif=0;a.blueif=0;a.decay=.1;", frame_eqs_str: "a.sx=1;a.sy=1;a.redsine=.5+.15*a.bass*Math.sin(3*a.time);a.greensine=.5+.15*a.mid*Math.sin(2*a.time);a.bluesine=.5+.15*a.treb*Math.sin(a.time);a.redif=.9*(.00001<Math.abs(above(a.bass,1.2))?a.redsine:.00001<Math.abs(above(a.redif,.95))?0:.98*a.redif);a.greenif=.8*(.00001<Math.abs(above(a.mid,1.2))?a.greensine:.00001<Math.abs(above(a.greenif,.95))?0:.8*a.greenif);a.blueif=.8*(.00001<Math.abs(above(a.treb,1.2))?a.bluesine:.00001<Math.abs(above(a.blueif,.95))?0:.8*a.blueif);a.ib_r=\na.redif;a.ib_g=a.greenif;a.ib_b=a.blueif;", pixel_eqs_str: "a.ang2=Math.sin(3*a.ang+a.time+.05*Math.sin(a.time*above(a.mid_att,1.2)));a.rot=1.2*a.ang2;", warp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = (((texture (sampler_blur1, uv).xyz * scale1) + bias1) - texture (sampler_main, uv).xyz);\n  ret = tmpvar_1.xyz;\n }", comp: " shader_body { \n  vec3 ret_1;\n  ret_1 = (mix (texture (sampler_main, uv).xyz, texture (sampler_main, (\n    (vec2(-1.003, 1.003) * (uv - 0.5))\n   + 0.5)).xyz, vec3(0.5, 0.5, 0.5)) * 2.4);\n  ret_1 = (ret_1 * ret_1);\n  vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = ret_1;\n  ret = tmpvar_2.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 4, gammaadj: 1, decay: 0.995, echo_zoom: 1, echo_alpha: 0.5, echo_orient: 1, wave_mode: 6, additivewave: 1, wave_thick: 1, modwavealphabyvolume: 1, wave_brighten: 0, wrap: 0, wave_a: 1e-3, wave_scale: 2.103, wave_smoothing: 0.54, wave_mystery: 0.38, modwavealphastart: 0.81, modwavealphaend: 1.4, warpscale: 1.331, warp: 0.01, wave_r: 0, wave_g: 0, wave_b: 0, ob_size: 5e-3, ob_a: 1, ib_size: 5e-3, ib_a: 1, mv_x: 64, mv_y: 48, mv_l: 1.85, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 1, sides: 14, num_inst: 78, x: 0.6, rad: 0.02217, tex_zoom: 60.80383, g: 1, b: 1, a: 0.9, g2: 0, a2: 1, border_g: 0.59, border_a: 1}, init_eqs_str: "a.fov=0;a.arg=0;a.t1=0;a.posx=0;a.trel=0;a.yl=0;a.k1=0;a.posy=0;a.xl=0;a.time2=0;a.q19=0;a.t2=0;a.yw=0;a.dist=0;a.xw=0;a.speed=0;a.t1=div(Math.floor(randint(10)),10);a.t2=.2+div(Math.floor(randint(8)),10);", frame_eqs_str: "a.speed=.02;a.trel=Math.floor(a.time*a.speed)-a.time*a.speed+1;a.k1=div(a.instance,a.num_inst);a.k1-=Math.floor(a.k1);a.dist=1.4-a.k1;a.fov=.1;a.arg=a.dist-.02*a.time;a.posx=div(a.fov,a.dist)*(Math.sin(13*a.arg)+.2*Math.sin(332*a.dist));a.posy=div(a.fov,a.dist)*(Math.cos(36*a.arg)+.2*Math.sin(332*a.dist));a.xl=.5+a.posx;a.yl=.5+a.posy;a.time2=div(a.time,4)+Math.cos(a.instance);a.xw=.5+.5*(Math.sin(14*a.arg)+.02*Math.cos(1131*a.arg));a.yw=a.time2-Math.floor(a.time2);a.x=.00001<\nMath.abs(bnot(a.q19))?a.xl:a.xw;a.y=.00001<Math.abs(bnot(a.q19))?a.yl:a.yw;a.ang=a.time*Math.sin(44*a.k1)*12;a.a=a.t1;a.border_a=0;a.a2=a.t2;a.rad=div(.01,a.dist);a.r=.5+.3*Math.sin(a.instance+a.arg);a.b=.5+.3*Math.sin(a.instance-2+a.arg);a.g=.5+.3*Math.sin(2*a.instance+a.arg);"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.mq29=0;a.cthr=0;a.mq1=0;a.q25=0;a.q12=0;a.q22=0;a.q21=0;a.q13=0;a.q29=0;a.mq31=0;a.mq21=0;a.mq24=0;a.oldq8=0;a.chng=0;a.mq28=0;a.mq23=0;a.q31=0;a.q23=0;a.q24=0;a.q11=0;a.atime=0;a.q26=0;a.mq27=0;a.mq25=0;a.mq22=0;a.vol=0;a.mq26=0;a.q27=0;a.q28=0;a.q8=0;a.q8=0;", frame_eqs_str: "a.chng=Math.sin(.5*a.time);a.cthr=.9999;a.mq21=.00001<Math.abs(above(a.chng,a.cthr))?randint(3):a.mq21;a.mq22=.00001<Math.abs(above(a.chng,a.cthr))?randint(3):a.mq22;a.mq23=.00001<Math.abs(above(a.chng,a.cthr))?randint(3):a.mq23;a.mq24=.00001<Math.abs(above(a.chng,a.cthr))?randint(2):a.mq24;a.mq25=.00001<Math.abs(above(a.chng,a.cthr))?randint(2):a.mq25;a.mq26=.00001<Math.abs(above(a.chng,a.cthr))?randint(2):a.mq26;a.mq27=.00001<Math.abs(above(a.chng,a.cthr))?randint(1):a.mq27;\na.mq28=.00001<Math.abs(above(a.chng,a.cthr))?randint(1):a.mq28;a.mq29=.00001<Math.abs(above(a.chng,a.cthr))?.3*randint(1):a.mq29;a.mq31=.00001<Math.abs(above(a.chng,a.cthr))?.3*randint(1):a.mq31;a.monitor=a.chng;a.q21=a.mq21;a.q22=a.mq22;a.q23=a.mq23;a.q24=a.mq24;a.q25=a.mq25;a.q26=a.mq26;a.q27=a.mq27;a.q28=a.mq28;a.q29=a.mq29;a.q31=a.mq31;a.monitor=a.mq1;a.vol=a.bass+a.treb+a.mid;a.atime+=a.vol;a.q11=.4+.4*Math.sin(.006*a.atime);a.q12=.4+.4*Math.cos(.00613828348*a.atime);a.q13=.4+.4*Math.sin(.00598593455*\na.atime);a.monitor=a.q13;a.warp=0;a.q8=a.oldq8+.0003*div(pow(1+1.2*a.bass+.4*a.bass_att+.1*a.treb+.1*a.treb_att+.1*a.mid+.1*a.mid_att,6),a.fps);a.oldq8=a.q8;a.wave_r=.5+.5*Math.sin(1.123*a.q8);a.wave_g=.5+.5*Math.sin(1.576*a.q8);a.wave_b=.5+.5*Math.cos(1.465*a.q8);a.ib_a=.2*a.bass;", pixel_eqs_str: "a.dx=a.dx+.008*Math.sin((2*a.y-1)*a.meshx)+.008*Math.sin((2*a.y-1)*a.meshx*1.3333);a.dy=a.dy+.008*Math.cos((2*a.x-1)*a.meshx*1.3333)+.008*Math.cos((2*a.x-1)*a.meshx);", warp: " shader_body { \n  vec3 ret_1;\n  vec4 tmpvar_2;\n  tmpvar_2 = texture (sampler_main, uv);\n  ret_1 = tmpvar_2.xyz;\n  vec4 tmpvar_3;\n  tmpvar_3 = texture (sampler_noisevol_hq, (((vec3(0.05, 0.05, 0.0) * uv.xyy) * (\n    (q27 * texsize.xyy)\n   * texsize_noisevol_hq.zww)) + ((time * vec3(0.0, 0.0, 1.0)) * q29)));\n  if (((tmpvar_2.x > (q21 * q13)) && (tmpvar_2.x <= (q24 * q11)))) {\n    ret_1.y = (tmpvar_2.y - (tmpvar_3.x * 0.5));\n  };\n  if (((ret_1.y > (q22 * q11)) && (ret_1.y <= (q25 * q12)))) {\n    ret_1.z = (tmpvar_2.z - (tmpvar_3.y * 0.5));\n  };\n  if (((ret_1.z > (q23 * q12)) && (ret_1.z <= (q26 * q13)))) {\n    ret_1.x = (tmpvar_2.x - (tmpvar_3.z * 0.5));\n  };\n  ret_1 = (ret_1 + ((ret_1 - \n    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)\n  ) * 0.2));\n  ret_1 = (ret_1 - 0.02);\n  vec4 tmpvar_4;\n  tmpvar_4.w = 1.0;\n  tmpvar_4.xyz = ret_1;\n  ret = tmpvar_4.xyz;\n }", comp: " shader_body { \n  vec2 uv_1;\n  vec3 ret_2;\n  uv_1 = (0.05 + (0.9 * uv));\n  vec4 tmpvar_3;\n  tmpvar_3 = texture (sampler_main, uv_1);\n  ret_2 = tmpvar_3.xyz;\n  vec4 tmpvar_4;\n  tmpvar_4 = texture (sampler_noisevol_hq, (((vec3(0.05, 0.05, 0.0) * uv_1.xyy) * (\n    (q28 * texsize.xyy)\n   * texsize_noisevol_hq.zww)) + ((time * vec3(0.0, 0.0, 1.0)) * q31)));\n  if (((tmpvar_3.x > (q26 * q13)) && (tmpvar_3.x <= (q23 * q11)))) {\n    ret_2.z = (tmpvar_3.z - (tmpvar_4.x * 0.5));\n  };\n  if (((tmpvar_3.y > (q25 * q11)) && (tmpvar_3.y <= (q22 * q12)))) {\n    ret_2.x = (tmpvar_3.x - (tmpvar_4.y * 0.5));\n  };\n  if (((ret_2.z > (q24 * q12)) && (ret_2.z <= (q21 * q13)))) {\n    ret_2.y = (tmpvar_3.y - (tmpvar_4.z * 0.5));\n  };\n  ret_2 = (abs((\n    ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)\n   - ret_2)) * 6.0);\n  ret_2 = (ret_2 * 1.333);\n  vec4 tmpvar_5;\n  tmpvar_5.w = 1.0;\n  tmpvar_5.xyz = ret_2;\n  ret = tmpvar_5.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 4, gammaadj: 1.98, decay: 0.5, echo_zoom: 1, echo_alpha: 0.5, echo_orient: 3, wave_mode: 7, additivewave: 1, modwavealphabyvolume: 1, wave_brighten: 0, darken: 1, wave_a: 1e-3, wave_scale: 1.157, wave_smoothing: 0.63, modwavealphastart: 0.71, modwavealphaend: 1.3, warpscale: 1.331, zoom: 0.9995, warp: 9e-3, wave_r: 0.65, wave_g: 0.65, wave_b: 0.65, ob_size: 0.5, ob_r: 0.01, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 0, mv_a: 0, b1x: 0.7, b1ed: 0}, shapes: [{baseVals: {enabled: 1, sides: 14, num_inst: 512, rad: 0.1026, tex_ang: 0.62832, r2: 1, g2: 0, a2: 1, border_a: 0}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;a.r_border=0;a.g_border=0;a.b_border=0;", frame_eqs_str: "a.ma+=3.1415*above(a.bass,1)*.01*a.bass;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0002*Math.cos(a.ma);a.my+=.0002*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.rad=div(a.bass+a.treb,100);a.a=above(a.bass+a.mid+a.treb,.8);a.r=div(Math.floor(randint(100)),100);a.g=div(Math.floor(randint(100)),\n100);a.b=div(Math.floor(randint(100)),100);a.r2=div(Math.floor(randint(100)),100);a.g2=div(Math.floor(randint(100)),100);a.b2=div(Math.floor(randint(100)),100);a.r_border=div(Math.floor(randint(100)),100);a.g_border=div(Math.floor(randint(100)),100);a.b_border=div(Math.floor(randint(100)),100);"}, {baseVals: {enabled: 1, sides: 23, num_inst: 1024, rad: 0.10262, ang: 0.43982, tex_ang: 0.62832, a: 0.5, r2: 1, g2: 0, a2: 0.5, border_a: 0}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;a.r_border=0;a.g_border=0;a.b_border=0;", frame_eqs_str: "a.ma+=3.1415*above(a.bass,1)*.05*a.bass;a.ma-=3.1415*above(a.mid,1)*.05*a.mid;a.mx+=.0001*Math.cos(a.ma);a.my+=.0001*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.rad=div(a.bass+a.treb,75);a.a=above(a.bass+a.mid+a.treb,.1);a.r=div(Math.floor(randint(100)),100);a.g=div(Math.floor(randint(100)),\n100);a.b=div(Math.floor(randint(100)),100);a.r2=div(Math.floor(randint(100)),100);a.g2=div(Math.floor(randint(100)),100);a.b2=div(Math.floor(randint(100)),100);a.r_border=div(Math.floor(randint(100)),100);a.g_border=div(Math.floor(randint(100)),100);a.b_border=div(Math.floor(randint(100)),100);"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.d=0;a.n=0;a.z=0;a.n2=0;a.q25=0;a.w2=0;a.q22=0;a.q21=0;a.q29=0;a.j3=0;a.q1=0;a.n1=0;a.v=0;a.w3=0;a.q31=0;a.q23=0;a.q24=0;a.pi=0;a.pi2inv=0;a.j2=0;a.w1=0;a.zz=0;a.vol=0;a.j1=0;a.q27=0;a.maskangle=0;a.q3=0;a.q32=0;a.q28=0;a.q30=0;a.q20=0;a.mtime=0;a.x1=2;a.y1=2;a.z1=2;", frame_eqs_str: "a.d=20;a.z=4;a.zz=1+0*a.bass_att;a.pi=2*Math.asin(1);a.pi2inv=div(.5,a.pi);a.maskangle=Math.asin(div(1,a.d));a.q32=a.maskangle;a.q31=a.d;a.q30=a.z;a.q29=a.pi2inv;a.q28=a.pi;a.q27=div(1,a.zz);a.v=.4;a.j1=.95*a.j1+sqr(4*a.bass)*a.v;a.j2=.95*a.j2+sqr(4*a.mid)*a.v;a.j3=.95*a.j3+sqr(4*a.treb)*a.v;a.n+=.0152*a.j1;a.n1+=.0152*a.j2;a.n2+=.0152*a.j3;a.vol=.25*(a.bass+a.mid+a.treb);a.vol=a.vol;a.q3=a.vol;a.mtime+=.01*a.vol;a.q1=a.mtime;a.zoom+=.015*a.vol;a.w1=.01*a.n;a.w2=.01*a.n1;a.w3=\n.01*a.n2;a.q20=Math.cos(a.w1);a.q21=Math.sin(a.w1);a.q22=Math.cos(a.w2);a.q23=Math.sin(a.w2);a.q24=Math.cos(a.w3);a.q25=Math.sin(a.w3);", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1 = (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.5)) + rand_frame.xy);\n  vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = ((texture (sampler_main, (\n    mix (uv_orig, uv, vec2(((dot (texture (sampler_main, \n      mix (uv_orig, uv, vec2(4.0, 4.0))\n    ).xyz, vec3(0.32, 0.49, 0.29)) - dot (\n      ((texture (sampler_blur2, mix (uv_orig, uv, vec2(-12.0, -12.0))).xyz * scale2) + bias2)\n    , vec3(0.32, 0.49, 0.29))) * 12.0)))\n   + \n    (((texture (sampler_noise_lq, tmpvar_1) - 0.5).xy * texsize.zw) * 0.5)\n  )).xyz + (\n    (texture (sampler_noise_lq, tmpvar_1) - 0.5)\n   * 0.006).xyz) + -0.0006);\n  ret = tmpvar_2.xyz;\n }", comp: " shader_body { \n  vec2 uv_1;\n  vec3 ret2_2;\n  vec2 uv2_3;\n  vec3 ret_4;\n  uv2_3.y = uv.y;\n  uv2_3.x = (1.0 - uv.x);\n  uv2_3 = (0.5 + ((uv2_3 - 0.5) * 0.98));\n  uv_1 = (0.5 + ((uv - 0.5) * 0.98));\n  vec2 tmpvar_5;\n  tmpvar_5 = (texsize.zw * 4.0);\n  vec3 tmpvar_6;\n  tmpvar_6 = (((texture (sampler_blur1, \n    (uv_1 + (vec2(1.0, 0.0) * tmpvar_5))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv_1 - (vec2(1.0, 0.0) * tmpvar_5))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_7;\n  tmpvar_7 = (((texture (sampler_blur1, \n    (uv_1 + (vec2(0.0, 1.0) * tmpvar_5))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv_1 - (vec2(0.0, 1.0) * tmpvar_5))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_8;\n  tmpvar_8.z = 0.0;\n  tmpvar_8.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\n  tmpvar_8.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\n  vec4 tmpvar_9;\n  tmpvar_9 = texture (sampler_noisevol_hq, ((vec3(0.05, 0.05, 0.0) * (\n    ((uv_1.xyy + (tmpvar_8 * 0.5)) * texsize.xyy)\n   * texsize_noisevol_hq.zww)) + (vec3(0.0, 0.0, 0.2) * time)));\n  vec2 tmpvar_10;\n  tmpvar_10.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\n  tmpvar_10.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\n  uv_1 = (uv_1 - (tmpvar_10 * 0.04));\n  vec2 tmpvar_11;\n  tmpvar_11.x = dot (((\n    (texture (sampler_blur1, (uv2_3 + (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1)\n   + bias1) - (\n    (texture (sampler_blur1, (uv2_3 - (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1)\n   + bias1)), vec3(0.32, 0.49, 0.29));\n  tmpvar_11.y = dot (((\n    (texture (sampler_blur1, (uv2_3 + (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1)\n   + bias1) - (\n    (texture (sampler_blur1, (uv2_3 - (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1)\n   + bias1)), vec3(0.32, 0.49, 0.29));\n  uv2_3 = (uv2_3 - (tmpvar_11 * 0.04));\n  ret_4 = (abs((\n    ((texture (sampler_main, uv_1).xyz + ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)) - ((texture (sampler_blur2, uv_1).xyz * scale2) + bias2))\n   - \n    ((texture (sampler_blur3, uv_1).xyz * scale3) + bias3)\n  )) * (dot (tmpvar_9, vec4(0.32, 0.49, 0.29, 0.0)) * 3.0));\n  ret2_2 = (abs((\n    ((texture (sampler_main, uv2_3).xyz + ((texture (sampler_blur1, uv2_3).xyz * scale1) + bias1)) - ((texture (sampler_blur2, uv2_3).xyz * scale2) + bias2))\n   - \n    ((texture (sampler_blur3, uv2_3).xyz * scale3) + bias3)\n  )) * (dot (tmpvar_9, vec4(0.32, 0.49, 0.29, 0.0)) * 3.0));\n  ret2_2 = (0.5 - pow (ret2_2, vec3(0.5, 0.5, 0.5)));\n  ret_4 = (pow (ret_4, vec3(0.5, 0.5, 0.5)) - (0.3 - ret2_2));\n  vec4 tmpvar_12;\n  tmpvar_12.w = 1.0;\n  tmpvar_12.xyz = ret_4;\n  ret = tmpvar_12.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1.980001, decay: 0.5, echo_zoom: 0.999998, echo_alpha: 0.5, echo_orient: 3, wave_mode: 4, additivewave: 1, wave_thick: 1, modwavealphabyvolume: 1, wave_brighten: 0, darken_center: 1, darken: 1, wave_a: 1e-3, wave_scale: 0.527429, wave_smoothing: 0.45, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 0.442, warpscale: 0.498, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0.8, wave_g: 0.49, ob_size: 0, ob_r: 1, ob_g: 1, ob_b: 1, ob_a: 0.05, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 1.85, mv_r: 0.4999, mv_g: 0.4999, mv_b: 0.4999, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 1, thickoutline: 1, textured: 1, x: 0.26, y: 0.2, rad: 0.393173, tex_zoom: 1.392831, r: 0, g: 0.55, b: 0.5, a: 0.9, g2: 0.4, b2: 0.4, border_r: 0.3, border_g: 0.7, border_b: 0.8, border_a: 0.2}, init_eqs_str: "a.g0=0;a.y0=0;a.q1=0;a.x0=0;a.q24=0;a.q26=0;a.r0=0;a.trig=0;a.q2=0;a.b0=0;a.rad0=0;", frame_eqs_str: "a.trig=a.q24;a.textured=1;a.x0=a.x0*bnot(a.trig)+a.trig*(.2+div(randint(100),200));a.y0=a.y0*bnot(a.trig)+a.trig*(.2+div(randint(100),200));a.x0+=div(.03*a.q1*(3+a.q26),a.fps);a.y0+=div(.03*a.q2*(3+a.q26),a.fps);a.x0-=Math.floor(a.x0);a.y0-=Math.floor(a.y0);a.tex_ang=a.time;a.ang=a.time*a.q2;a.x=a.x0;a.y=a.y0;a.rad0=a.rad0*bnot(a.trig)+div(a.trig*randint(100),200);a.rad=a.rad0;a.r0=a.r0*bnot(a.trig)+div(a.trig*randint(10),10);a.b0=a.b0*bnot(a.trig)+div(a.trig*randint(10),10);\na.g0=a.g0*bnot(a.trig)+div(a.trig*randint(10),10);a.border_r=a.r0;a.border_g=a.g0;a.border_b=a.b0;a.r=a.r0;a.b=a.b0;a.g=a.g0;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.rm=0;a.ampl=0;a.index2=0;a.index=0;a.q18=0;a.q22=0;a.q21=0;a.movex=0;a.q1=0;a.dec_med=0;a.index3=0;a.trel=0;a.rott=0;a.ava=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.q4=0;a.q26=0;a.p2=0;a.mov=0;a.avg=0;a.movez=0;a.q19=0;a.beat=0;a.q17=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.movey=0;a.q3=0;a.t0=0;a.q28=0;a.q30=0;a.q20=0;a.dirx=1;", frame_eqs_str: "a.dec_med=pow(.6,div(30,a.fps));a.dec_slow=pow(.9,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),4);a.index3=mod(a.index3+a.is_beat*bnot(a.index)*bnot(a.index2),3);a.q20=a.avg;a.q21=\na.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass+a.mid+a.treb;a.ava=a.ava*a.dec_slow+a.q26*(1-a.dec_slow);a.k1=a.is_beat*equal(mod(a.index,2),0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.1416*a.p2,2);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.q27=8-a.index;a.q28=.5+div(Math.sin(div(a.time,7)),10);a.rm=Math.min(a.q26-1.5*a.ava,2);a.mov=a.is_beat*a.rm+(1-a.is_beat)*a.mov;a.movez+=div(.4,a.fps)*a.mov;a.q30=a.movez;a.ampl=\ndiv(a.q26,8);a.movex+=div(.2,a.fps)*Math.sin(a.rott);a.movey+=div(.2,a.fps)*Math.cos(a.rott);a.q18=a.movex;a.q19=a.movey;a.trel=a.trel+div(1,a.fps)+a.q24;a.q17=2*Math.sin(div(a.trel,4));", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec2 uv_1;\n  vec2 uv6_2;\n  vec2 tmpvar_3;\n  tmpvar_3 = ((uv - 0.5) * aspect.xy);\n  float tmpvar_4;\n  tmpvar_4 = (((q28 * 2.0) * sqrt(\n    dot (tmpvar_3, tmpvar_3)\n  )) + (rand_frame * 64.0)).x;\n  uv_1 = (uv + (clamp (\n    ((sin(tmpvar_4) / cos(tmpvar_4)) * normalize(tmpvar_3))\n  , vec2(-16.0, -16.0), vec2(16.0, 16.0)) / 20.0));\n  uv6_2 = (0.4 * sin((tmpvar_3 * 12.0)));\n  vec4 tmpvar_5;\n  tmpvar_5.w = 1.0;\n  tmpvar_5.xyz = (((q24 * \n    (((texture (sampler_main, uv_1).xyz - (\n      ((texture (sampler_blur1, fract(uv_1)).xyz * scale1) + bias1)\n     * 0.04)) + (0.15 * (vec3(\n      (0.1 / sqrt(dot (uv6_2, uv6_2)))\n    ) * roam_cos.xyz))) - 0.04)\n  ) * 0.98) + ((1.0 - q24) * texture (sampler_main, uv_orig).xyz));\n  ret = tmpvar_5.xyz;\n }", comp: "vec3 xlat_mutableneu;\nvec3 xlat_mutableret1;\nvec2 xlat_mutablers2;\n shader_body { \n  vec2 uv_1;\n  float inten_3;\n  float dist_4;\n  float ang2_5;\n  vec2 uv2_6;\n  uv_1 = (uv - 0.5);\n  uv_1 = (uv_1 * aspect.xy);\n  dist_4 = 1.0;\n  inten_3 = 1.0;\n  xlat_mutableret1 = vec3(0.0, 0.0, 0.0);\n  for (float n_2 = 0.0; n_2 <= 4.0; n_2 += 1.0) {\n    vec2 uv3_7;\n    ang2_5 = ((6.28 * n_2) / 4.0);\n    float tmpvar_8;\n    tmpvar_8 = cos(ang2_5);\n    float tmpvar_9;\n    tmpvar_9 = sin(ang2_5);\n    uv2_6.x = ((uv_1.x * tmpvar_8) - (uv_1.y * tmpvar_9));\n    uv2_6.y = ((uv_1.x * tmpvar_9) + (uv_1.y * tmpvar_8));\n    uv2_6 = (uv2_6 * aspect.yx);\n    dist_4 = (1.0 - fract((\n      (0.25 * n_2)\n     + q30)));\n    inten_3 = ((sqrt(dist_4) * (1.0 - dist_4)) * 4.0);\n    vec2 tmpvar_10;\n    tmpvar_10.x = tmpvar_8;\n    tmpvar_10.y = tmpvar_9;\n    uv3_7 = (fract((\n      ((3.0 * uv2_6) * dist_4)\n     + \n      (0.3 * q27)\n    )) + (q17 * tmpvar_10));\n    xlat_mutableneu = (texture (sampler_main, uv3_7).xyz - ((texture (sampler_blur2, \n      ((uv3_7 * 1.02) * q1)\n    ).xyz * scale2) + bias2));\n    xlat_mutableneu = (xlat_mutableneu * vec3(greaterThanEqual (xlat_mutableneu, vec3(0.0, 0.0, 0.0))));\n    xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_3));\n  };\n  xlat_mutablers2 = ((0.4 * cos(\n    ((uv_1 * 13.0) + time)\n  )) - dot (xlat_mutableret1, vec3(0.32, 0.49, 0.29)));\n  vec4 tmpvar_11;\n  tmpvar_11.w = 1.0;\n  tmpvar_11.xyz = (xlat_mutableret1 + ((\n    ((0.05 / sqrt(dot (xlat_mutablers2, xlat_mutablers2))) * q26)\n   / 4.0) * hue_shader));\n  ret = tmpvar_11.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1.980001, decay: 0.5, echo_zoom: 0.999998, echo_alpha: 0.5, echo_orient: 3, wave_mode: 7, wave_dots: 1, wave_thick: 1, wave_brighten: 0, darken: 1, wave_a: 0.39158, wave_scale: 0.01, wave_smoothing: 0.504, wave_mystery: -1, modwavealphastart: 0.71, modwavealphaend: 1.3, warpanimspeed: 1.4595, warpscale: 2.0067, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0.7, wave_g: 0, ob_r: 1, ob_g: 1, ob_b: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 0, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 1, sides: 5, additive: 1, x: 0.9, rad: 0.22613, g: 0.6, g2: 0, b2: 0.4, a2: 0.3, border_a: 0}, init_eqs_str: "a.dx=0;a.dy=0;a.q22=0;a.q24=0;a.t_rel=5*a.time;a.t1=Math.floor(a.t_rel);", frame_eqs_str: "a.dx=div(randint(1E3),1E3)-.5;a.dy=div(randint(1E3),1E3)-.5;a.x=.5+a.dx*(1-div(a.q22,4));a.y=.5+a.dy*(1-div(a.q22,4));a.ang=a.time;a.a=1;a.rad=.1*a.q24+.08+div(a.q22,40);"}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, samples: 256, spectrum: 1, usedots: 1, scaling: 0.5033, g: 0.6, b: 0.4}, init_eqs_str: "a.xang=0;a.ampl=0;a.fov=0;a.t1=0;a.yang=0;a.my=0;a.oz=0;a.t_rel=0;a.mz=0;a.q26=0;a.oy=0;a.mx=0;a.zang=0;a.t_abs=0;a.ox=0;", frame_eqs_str: "", point_eqs_str: "a.t_abs=a.sample;a.t_rel=a.sample-div(a.time,1);a.ampl=a.time;a.ox=10*a.ampl*Math.sin(68*a.t_abs);a.oy=10*a.ampl*Math.cos(28*a.t_abs);a.oz=10*a.ampl*Math.cos(128*a.t_abs);a.r=1;a.g=.5;a.b=1;a.a=div(a.q26,18);a.xang=a.t1;a.yang=2*a.t1;a.zang=a.t1;a.fov=.12;a.mx=a.ox*Math.cos(a.zang)-a.oy*Math.sin(a.zang);a.my=a.ox*Math.sin(a.zang)+a.oy*Math.cos(a.zang);a.ox=a.mx;a.oy=a.my;a.mx=a.ox*Math.cos(a.yang)+a.oz*Math.sin(a.yang);a.mz=-a.ox*Math.sin(a.yang)+a.oz*Math.cos(a.yang);a.ox=\na.mx;a.oz=a.mz;a.my=a.oy*Math.cos(a.xang)-a.oz*Math.sin(a.xang);a.mz=a.oy*Math.sin(a.xang)+a.oz*Math.cos(a.xang);a.oy=a.my;a.oz=a.mz;a.oz-=6;a.x=div(a.ox*a.fov,a.oz)+.5;a.y=div(a.oy*a.fov,a.oz)+.5;"}, {baseVals: {enabled: 1}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: "a.a=Math.max(Math.sin(div(a.time,8))-.5,0);a.r=.4;a.g=.2;a.b=.7;a.x=a.sample+.01*Math.cos(243*a.sample+a.time);a.y=.5+.5*Math.sin(div(a.time,13))+.02*Math.sin(143*a.sample);a.a=.7;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.index2=0;a.index4=0;a.index=0;a.q22=0;a.q21=0;a.q29=0;a.q1=0;a.dec_med=0;a.index3=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.t_rel=0;a.dec_slow=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.movez=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.q3=0;a.t0=0;a.q28=0;a.q20=0;", frame_eqs_str: "a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.5+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),4);a.index3=mod(a.index3+a.is_beat*bnot(a.index)*bnot(a.index2),3);a.q20=a.avg;a.q21=\na.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass+a.mid+a.treb;a.k1=a.is_beat*equal(a.index,0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_slow*a.p2+(1-a.dec_slow)*a.p1;a.rott=div(3.14159265359*a.p2,2);a.q27=8-a.index;a.q28=.5+div(Math.sin(div(a.time,7)),10);a.q29=a.index4;a.mv_a=.2;a.t_rel=div(a.time,3);a.wave_a=Math.max(Math.sin(div(a.time,8))-.5,0);a.wave_a=0;a.wave_x=.5+.5*Math.sin(div(a.time,13));a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.movez+=div(.3,a.fps);\na.q29=a.movez;a.zoom=1;a.rot=0;a.dx=.003;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1 = (((uv - vec2(0.5, 0.5)) * texsize.xy) * 0.03);\n  vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = ((0.99 * texture (sampler_main, (uv + \n    (((clamp (\n      (sin(tmpvar_1) / cos(tmpvar_1))\n    , vec2(-12.0, -12.0), vec2(12.0, 12.0)) * cos(\n      (tmpvar_1.yx * tmpvar_1.yx)\n    )) * texsize.zw) * 12.0)\n  )).xyz) - 0.01);\n  ret = tmpvar_2.xyz;\n }", comp: "vec3 xlat_mutableret1;\nvec2 xlat_mutableuv2;\n shader_body { \n  vec2 uv_1;\n  float inten_2;\n  float dist_3;\n  uv_1 = (uv - 0.5);\n  uv_1 = (uv_1 * aspect.xy);\n  dist_3 = (1.0 - fract((0.25 + q29)));\n  inten_2 = (sqrt(dist_3) * (1.0 - (dist_3 * dist_3)));\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (texture (sampler_main, fract(\n    (((2.0 * uv_1) * dist_3) + 0.5)\n  )).xyz * inten_2));\n  xlat_mutableuv2.x = -(uv_1.y);\n  xlat_mutableuv2.y = uv_1.x;\n  dist_3 = (1.0 - fract((0.5 + q29)));\n  inten_2 = (sqrt(dist_3) * (1.0 - (dist_3 * dist_3)));\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, fract(\n    (((2.0 * xlat_mutableuv2) * dist_3) + 0.5)\n  )).xyz * inten_2));\n  dist_3 = (1.0 - fract((0.75 + q29)));\n  inten_2 = (sqrt(dist_3) * (1.0 - (dist_3 * dist_3)));\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, fract(\n    (((2.0 * uv_1) * dist_3) + 0.5)\n  )).xyz * inten_2));\n  xlat_mutableuv2.x = -(uv_1.y);\n  xlat_mutableuv2.y = uv_1.x;\n  dist_3 = (1.0 - fract((1.0 + q29)));\n  inten_2 = (sqrt(dist_3) * (1.0 - (dist_3 * dist_3)));\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, fract(\n    (((2.0 * xlat_mutableuv2) * dist_3) + 0.5)\n  )).xyz * inten_2));\n  vec4 tmpvar_4;\n  tmpvar_4.w = 1.0;\n  tmpvar_4.xyz = (xlat_mutableret1 * 3.0);\n  ret = tmpvar_4.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.980001, decay: 0.5, echo_zoom: 0.952379, echo_alpha: 0.5, echo_orient: 3, wave_mode: 4, modwavealphabyvolume: 1, wave_brighten: 0, darken: 1, wave_a: 0.391579, wave_scale: 1.575857, wave_smoothing: 0.45, wave_mystery: 0.08, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 1.4595, warpscale: 2.0067, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0.5, wave_g: 0.79, ob_size: 0, ob_a: 0.8, ib_size: 0.26, mv_x: 31.999998, mv_y: 24.000004, mv_l: 0.05, mv_r: 0.4999, mv_g: 0.4999, mv_b: 0.4999, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 1, textured: 1, rad: 0.545996, ang: 2.199115, tex_ang: 0.502655, tex_zoom: 2.02311, g: 1, b: 0.9, a: 0.6, r2: 0.8, g2: 0.8, b2: 0.8, a2: 0.6, border_b: 0, border_a: 0.7}, init_eqs_str: "a.q29=0;a.q22=0;a.q23=0;a.q24=0;", frame_eqs_str: "a.tex_ang=1+Math.sin(div(a.time,9));a.rad=a.q29;a.tex_zoom=2+Math.sin(div(a.time,17));a.additive=div(a.q22,6);a.textured=1-bnot(a.q23)*a.q24;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 1, sides: 100, x: 0.503, rad: 0.01, tex_zoom: 0.609857, g: 0.1, a: 0.9, r2: 1, b2: 1, border_r: 0.5, border_g: 0.5, border_b: 0.5, border_a: 0}, init_eqs_str: "a.q21=0;", frame_eqs_str: "a.x=.5+div(randint(10),25);a.y=.5+div(randint(10),25);a.ang=randint(6);a.r=div(randint(4),3);a.g=div(randint(4),3);a.b=div(randint(4),3);a.r2=a.b;a.g2=a.r;a.b2=a.g;a.a=Math.min(div(a.q21,2),.9);a.rad=div(a.a,9);a.a=.5;a.a2=.8;"}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.index2=0;a.index=0;a.copy=0;a.q22=0;a.q21=0;a.grid=0;a.q29=0;a.q1=0;a.dec_med=0;a.str=0;a.index3=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.go=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.movez=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.p3=0;a.q3=0;a.t0=0;a.rot1=0;a.q28=0;a.q30=0;a.q20=0;", frame_eqs_str: "a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.5+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,4);a.index2=mod(a.index2+a.is_beat*bnot(a.index),4);a.index3=mod(a.index3+a.is_beat*bnot(a.index)*bnot(a.index2),3);a.q20=a.avg;a.q21=\na.beat;a.q22=Math.max(a.peak,4);a.q23=a.index;a.q24=a.is_beat;a.q26=Math.max(a.bass+a.mid+a.treb,3);a.go=a.go*a.dec_slow+(1-a.dec_slow)*equal(a.index2,2);a.movez+=div(3*(1+.3*a.q26),a.fps)*a.go;a.q30=a.movez;a.k1=a.is_beat*equal(a.index,0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.p3=a.dec_med*a.p3+(1-a.dec_med)*a.p2;a.rott=div(3.1416*a.p3,2);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.str=a.str*a.dec_slow+(1-a.dec_slow)*a.index3;a.q27=4-a.str;\na.grid=a.grid*a.dec_med+(1-a.dec_med)*equal(a.index2,2)*bnot(a.index);a.mv_a=.6*a.grid;a.rot1=a.dec_med*a.rot1+(1-a.dec_med)*bnot(a.index2);a.q28=a.rot1;a.copy=a.copy*a.dec_slow+(1-a.dec_slow)*a.index3;a.q29=.3*a.copy;", pixel_eqs_str: "a.dx=.02*a.q28;a.rot=.04*a.q2;a.zoom=.96+.1*Math.sin(div(a.time,7));", warp: " shader_body { \n  vec2 zz_1;\n  mat2 tmpvar_2;\n  tmpvar_2[uint(0)] = _qa.xy;\n  tmpvar_2[1u] = _qa.zw;\n  zz_1 = (((\n    (uv - vec2(0.5, 0.5))\n   * texsize.xy) * 0.01) * tmpvar_2);\n  zz_1 = -(zz_1.yx);\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = ((texture (sampler_main, (uv + \n    (((clamp (\n      (sin(zz_1.yx) / cos(zz_1.yx))\n    , vec2(-8.0, -8.0), vec2(8.0, 8.0)) * cos(\n      (4.0 * zz_1)\n    )) * texsize.zw) * 16.0)\n  )).xyz * 0.99) - 0.01);\n  ret = tmpvar_3.xyz;\n }", comp: " shader_body { \n  vec2 uv3_1;\n  vec2 uv2_2;\n  vec2 tmpvar_3;\n  tmpvar_3 = ((uv - 0.5) * aspect.xy);\n  float tmpvar_4;\n  tmpvar_4 = (0.1 / (sqrt(\n    dot (tmpvar_3, tmpvar_3)\n  ) + 0.1));\n  vec2 tmpvar_5;\n  float tmpvar_6;\n  tmpvar_6 = (ang / 3.14);\n  tmpvar_5.x = tmpvar_6;\n  tmpvar_5.y = (q27 * tmpvar_4);\n  uv2_2.y = (tmpvar_5.y + (0.1 * q30));\n  uv2_2.x = (tmpvar_6 + (0.2 * time));\n  vec2 tmpvar_7;\n  tmpvar_7.x = tmpvar_6;\n  tmpvar_7.y = (4.0 * tmpvar_4);\n  uv3_1.y = (tmpvar_7.y - (0.2 * q30));\n  uv3_1.x = tmpvar_7.x;\n  vec2 tmpvar_8;\n  tmpvar_8 = fract(uv3_1);\n  uv3_1 = tmpvar_8;\n  float tmpvar_9;\n  tmpvar_9 = clamp ((1.0 - (4.0 * rad)), 0.0, 1.0);\n  vec4 tmpvar_10;\n  tmpvar_10.w = 1.0;\n  tmpvar_10.xyz = (((\n    (3.0 * max (((2.0 * texture (sampler_main, uv2_2).xyz) + texture (sampler_main, tmpvar_8).xyz), ((2.0 * \n      ((texture (sampler_blur2, fract(uv2_2)).xyz * scale2) + bias2)\n    ) + (\n      (texture (sampler_blur2, fract(tmpvar_8)).xyz * scale2)\n     + bias2))))\n   * rad) + (\n    ((uv.y * pow ((1.0 - rad), 8.0)) * roam_cos)\n  .xyz * tmpvar_9)) + ((tmpvar_9 * 2.0) * (\n    (texture (sampler_blur1, fract(uv)).xyz * scale1)\n   + bias1)));\n  ret = tmpvar_10.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 4, gammaadj: 1.98, decay: 0.5, echo_zoom: 1, echo_alpha: 0.5, echo_orient: 3, wave_mode: 6, additivewave: 1, modwavealphabyvolume: 1, wave_brighten: 0, darken_center: 1, darken: 1, wave_a: 1e-3, wave_scale: 0.236, wave_smoothing: 0, wave_mystery: -0.64, modwavealphastart: 0.81, modwavealphaend: 1.4, warpanimspeed: 1.459, warpscale: 2.007, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0, wave_b: 0.6, ob_size: 5e-3, ob_a: 0.8, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 1.85, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 1, sides: 18, num_inst: 4, x: 0.83, rad: 0.14349, tex_ang: 3.76991, tex_zoom: 5.27784, r: 0, g: 1, b: 1, a: 0.5, r2: 1, g2: 0.2, b2: 1, border_b: 0, border_a: 0}, init_eqs_str: "a.d=0;a.k1=0;a.q22=0;a.q27=0;a.r0=0;a.q24=0;a.g0=0;a.b0=0;", frame_eqs_str: "a.d=.3+.2*div(mod(a.frame,8),8);a.k1=6.28*div(a.instance,a.num_inst);a.d=.3+div(a.q22,8);a.x=.5+a.d*Math.cos(a.k1);a.y=.5+a.d*Math.sin(a.k1);a.a=Math.min(1,.2+div(.8*a.q22,2)*mod(a.q27,2));a.a2=0;a.r=.6+.4*Math.sin(div(a.time,4)+1.56);a.b=.6+.4*Math.sin(div(a.time,4)+3.14);a.g=.6+.4*Math.sin(div(a.time,4));a.r0=a.r0*bnot(a.q24)+(.5+.5*Math.sin(a.time))*a.q24;a.g0=a.g0*bnot(a.q24)+(.5+.5*Math.sin(1.7*a.time))*a.q24;a.b0=div(2-a.r0-a.g0,2);a.r=a.r0;a.b=a.b0;a.g=a.g0;a.r2=1-a.g;\na.g2=1-a.b;a.b2=1-a.r;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, samples: 128, scaling: 0.89152, smoothing: 0}, init_eqs_str: "a.q22=0;a.q27=0;a.q24=0;a.t1=0;a.t2=0;a.r0=0;a.g0=0;", frame_eqs_str: "a.t1=a.t1*bnot(a.q24)+(.5+.5*Math.sin(a.time))*a.q24;a.t2=a.t2*bnot(a.q24)+(.5+.5*Math.sin(1.7*a.time))*a.q24;", point_eqs_str: "a.x=a.sample;a.y=.5;a.a=a.q22*mod(a.q27+1,2);a.a=div(a.q24*mod(a.q27+1,2),2)+0;a.r=a.t1;a.b=a.t2;a.g=div(2-a.r0-a.g0,2);"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.index2=0;a.speed_=0;a.index=0;a.q12=0;a.q22=0;a.q21=0;a.q13=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.movz=0;a.trel=0;a.q9=0;a.rott=0;a.spg=0;a.vol__=0;a.is_beat=0;a.q31=0;a.k1=0;a.q24=0;a.vx=0;a.dec_slow=0;a.vy=0;a.vz=0;a.q4=0;a.dir=0;a.p2=0;a.avg=0;a.trig=0;a.beat=0;a.q17=0;a.vol=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.speed=0;a.q3=0;a.t0=0;a.vol_=0;a.q7=0;a.q28=0;a.q30=0;a.q20=0;a.q8=0;a.ang0=0;a.speed_=1;", frame_eqs_str: "a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.96,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2+a.avg+a.peak)*above(a.time,a.t0+.1);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,12);a.index2=mod(a.index2+a.is_beat*bnot(a.index),8);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q24=a.is_beat;a.vol=div(a.bass_att+a.mid_att+\na.treb_att,2);a.vol_=a.dec_med*a.vol_+(1-a.dec_med)*a.vol;a.vol__=a.dec_med*a.vol__+(1-a.dec_med)*a.vol_;a.q27=a.index+1;a.q28=a.index2+2;a.k1=a.is_beat*equal(mod(a.index,4),0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.1416*a.p2,4);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.trig=a.q24*bnot(mod(a.index,8));a.vx=a.vx*bnot(a.trig)+a.trig*(div(randint(100),100)-.5);a.vy=a.vy*bnot(a.trig)+a.trig*(div(randint(100),100)-.5);a.vz=a.vz*bnot(a.trig)+\na.trig*(div(randint(100),100)-.5);a.speed=Math.min(a.vol_-a.vol__+.5,1);a.speed=Math.max(a.speed,-.5);a.speed_=bnot(a.trig)*a.speed_+a.trig*a.speed;a.spg=a.dec_med*a.spg+(1-a.dec_med)*a.speed_;a.movz+=div(1,a.fps)*(a.speed_+div(0*a.vol_,6));a.q9=a.movz;a.q12=2*Math.min(a.q22,6);a.q13=2*Math.sin(div(a.movz,3)-div(a.time,11));a.trig=bnot(mod(a.index,4))*a.q24;a.dir=bnot(a.trig)*a.dir+a.trig*(randint(10)-5);a.trel+=div(.1,a.fps)*a.dir;a.q5=Math.cos(a.trel-a.movz);a.q6=Math.sin(div(a.trel,2)-a.movz);\na.q7=-a.q6;a.q8=a.q5;a.ang0=a.ang0*a.dec_med+a.vz*(1-a.dec_med);a.q17=2*a.ang0;a.q30=.2*Math.sin(div(a.time,8));a.q31=.5+.5*Math.sin(div(a.time,3.3));a.zoom=1;a.rot=0;a.dx=0;a.monitor=a.q28;", pixel_eqs_str: "", pixel_eqs: "", warp: "vec3 xlat_mutablemus;\n shader_body { \n  vec2 d_1;\n  vec2 uv6_2;\n  vec2 uv1_3;\n  vec2 tmpvar_4;\n  tmpvar_4 = (uv - 0.5);\n  uv1_3 = tmpvar_4;\n  uv6_2 = tmpvar_4;\n  float x_5;\n  x_5 = (abs(tmpvar_4.x) - abs(tmpvar_4.y));\n  float tmpvar_6;\n  tmpvar_6 = (12.0 * sqrt((x_5 * x_5)));\n  vec2 tmpvar_7;\n  tmpvar_7 = normalize(tmpvar_4);\n  d_1 = tmpvar_7;\n  float tmpvar_8;\n  tmpvar_8 = (float(mod (q28, 2.0)));\n  if ((tmpvar_8 == 0.0)) {\n    d_1 = ((q1 * tmpvar_7) - (q2 / tmpvar_7));\n  };\n  uv1_3 = (tmpvar_4 + ((-0.06 * \n    dot (((texture (sampler_blur1, uv).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\n  ) * normalize(tmpvar_4)));\n  uv1_3 = (uv1_3 - (clamp (\n    ((sin(tmpvar_6) / cos(tmpvar_6)) * d_1)\n  , vec2(-4.0, -4.0), vec2(4.0, 4.0)) / 60.0));\n  uv6_2 = (0.4 * cos((\n    (uv1_3 * 2.0)\n   * q28)));\n  xlat_mutablemus = (clamp (vec3((0.0006 / \n    (sqrt(dot (uv6_2, uv6_2)) - (0.002 * (q27 + (8.0 * q28))))\n  )), 0.0, 1.0) * q31);\n  xlat_mutablemus = (xlat_mutablemus * (1.0 + roam_cos).xyz);\n  vec4 tmpvar_9;\n  tmpvar_9.w = 1.0;\n  tmpvar_9.xyz = ((0.4 * (\n    ((texture (sampler_main, ((uv1_3 * \n      (0.8 + (0.2 * tmpvar_6))\n    ) + 0.5)).xyz + xlat_mutablemus) * 0.95)\n   - 0.025)) + (0.6 * texture (sampler_main, uv_orig)).xyz);\n  ret = tmpvar_9.xyz;\n }", comp: "vec3 xlat_mutableneu;\nvec3 xlat_mutableret2;\nvec2 xlat_mutablers0;\nvec2 xlat_mutablerss;\nvec2 xlat_mutableuv2;\n shader_body { \n  vec2 uv_1;\n  vec2 ofs_2;\n  vec3 ret1_3;\n  vec2 uv5_4;\n  uv_1 = ((uv - 0.5) * aspect.xy);\n  vec2 tmpvar_5;\n  tmpvar_5.x = q5;\n  tmpvar_5.y = q6;\n  uv_1 = (uv_1 + (tmpvar_5 / 4.0));\n  uv5_4 = uv_1;\n  mat2 tmpvar_6;\n  tmpvar_6[uint(0)] = _qb.xy;\n  tmpvar_6[1u] = _qb.zw;\n  uv_1 = (uv_1 * tmpvar_6);\n  float tmpvar_7;\n  float tmpvar_8;\n  tmpvar_8 = (min (abs(\n    (uv5_4.y / uv5_4.x)\n  ), 1.0) / max (abs(\n    (uv5_4.y / uv5_4.x)\n  ), 1.0));\n  float tmpvar_9;\n  tmpvar_9 = (tmpvar_8 * tmpvar_8);\n  tmpvar_9 = (((\n    ((((\n      ((((-0.01213232 * tmpvar_9) + 0.05368138) * tmpvar_9) - 0.1173503)\n     * tmpvar_9) + 0.1938925) * tmpvar_9) - 0.3326756)\n   * tmpvar_9) + 0.9999793) * tmpvar_8);\n  tmpvar_9 = (tmpvar_9 + (float(\n    (abs((uv5_4.y / uv5_4.x)) > 1.0)\n  ) * (\n    (tmpvar_9 * -2.0)\n   + 1.570796)));\n  tmpvar_7 = (tmpvar_9 * sign((uv5_4.y / uv5_4.x)));\n  if ((abs(uv5_4.x) > (1e-08 * abs(uv5_4.y)))) {\n    if ((uv5_4.x < 0.0)) {\n      if ((uv5_4.y >= 0.0)) {\n        tmpvar_7 += 3.141593;\n      } else {\n        tmpvar_7 = (tmpvar_7 - 3.141593);\n      };\n    };\n  } else {\n    tmpvar_7 = (sign(uv5_4.y) * 1.570796);\n  };\n  xlat_mutablers0.x = (((tmpvar_7 / 3.1416) * 6.0) * q28);\n  float tmpvar_10;\n  tmpvar_10 = (1.5 / sqrt(dot (uv_1, uv_1)));\n  xlat_mutablers0.y = tmpvar_10;\n  vec2 tmpvar_11;\n  tmpvar_11.x = (xlat_mutablers0.x + (q9 * 4.0));\n  tmpvar_11.y = (tmpvar_10 + ((q9 * q28) * 4.0));\n  xlat_mutablerss = (tmpvar_11 / 12.0);\n  vec2 tmpvar_12;\n  tmpvar_12.x = q5;\n  tmpvar_12.y = q6;\n  ofs_2 = (0.1 * tmpvar_12.yx);\n  float tmpvar_13;\n  float tmpvar_14;\n  tmpvar_14 = -(q9);\n  tmpvar_13 = fract(tmpvar_14);\n  mat2 tmpvar_15;\n  tmpvar_15[uint(0)].x = 1.0;\n  tmpvar_15[uint(0)].y = -0.0;\n  tmpvar_15[1u].x = 0.0;\n  tmpvar_15[1u].y = 1.0;\n  xlat_mutableuv2 = ((uv_1 * (\n    (q13 * tmpvar_13)\n   * tmpvar_15)) * aspect.yx);\n  xlat_mutableneu = (3.0 * texture (sampler_main, fract((\n    (xlat_mutableuv2 + 0.5)\n   + ofs_2)))).xyz;\n  ret1_3 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * (1.0 - \n    (tmpvar_13 * tmpvar_13)\n  )));\n  float tmpvar_16;\n  tmpvar_16 = fract((tmpvar_14 + 0.3333333));\n  mat2 tmpvar_17;\n  tmpvar_17[uint(0)].x = -0.4990803;\n  tmpvar_17[uint(0)].y = -0.8665558;\n  tmpvar_17[1u].x = 0.8665558;\n  tmpvar_17[1u].y = -0.4990803;\n  xlat_mutableuv2 = ((uv_1 * (\n    (q13 * tmpvar_16)\n   * tmpvar_17)) * aspect.yx);\n  xlat_mutableneu = (3.0 * texture (sampler_main, fract((\n    (xlat_mutableuv2 + 0.5)\n   + ofs_2)))).xyz;\n  ret1_3 = max (ret1_3, (xlat_mutableneu * (1.0 - \n    (tmpvar_16 * tmpvar_16)\n  )));\n  float tmpvar_18;\n  tmpvar_18 = fract((tmpvar_14 + 0.6666667));\n  mat2 tmpvar_19;\n  tmpvar_19[uint(0)].x = -0.5018377;\n  tmpvar_19[uint(0)].y = 0.8649619;\n  tmpvar_19[1u].x = -0.8649619;\n  tmpvar_19[1u].y = -0.5018377;\n  xlat_mutableuv2 = ((uv_1 * (\n    (q13 * tmpvar_18)\n   * tmpvar_19)) * aspect.yx);\n  xlat_mutableneu = (3.0 * texture (sampler_main, fract((\n    (xlat_mutableuv2 + 0.5)\n   + ofs_2)))).xyz;\n  ret1_3 = max (ret1_3, (xlat_mutableneu * (1.0 - \n    (tmpvar_18 * tmpvar_18)\n  )));\n  float tmpvar_20;\n  tmpvar_20 = fract((tmpvar_14 + 1.0));\n  mat2 tmpvar_21;\n  tmpvar_21[uint(0)].x = 0.9999949;\n  tmpvar_21[uint(0)].y = 0.003185092;\n  tmpvar_21[1u].x = -0.003185092;\n  tmpvar_21[1u].y = 0.9999949;\n  xlat_mutableuv2 = ((uv_1 * (\n    (q13 * tmpvar_20)\n   * tmpvar_21)) * aspect.yx);\n  xlat_mutableneu = (3.0 * texture (sampler_main, fract((\n    (xlat_mutableuv2 + 0.5)\n   + ofs_2)))).xyz;\n  ret1_3 = max (ret1_3, (xlat_mutableneu * (1.0 - \n    (tmpvar_20 * tmpvar_20)\n  )));\n  vec2 tmpvar_22;\n  tmpvar_22.x = (ret1_3.x + ret1_3.z);\n  tmpvar_22.y = (ret1_3.x - ret1_3.y);\n  xlat_mutableret2 = (((\n    (texture (sampler_blur1, fract((xlat_mutablerss + (tmpvar_22 / 2.0)))).xyz * scale1)\n   + bias1) / tmpvar_10) * 12.0);\n  vec4 tmpvar_23;\n  tmpvar_23.w = 1.0;\n  tmpvar_23.xyz = ((ret1_3 + (\n    ((bass_att * 0.004) / sqrt(dot (uv_1, uv_1)))\n   * roam_sin).xyz) + (sqrt(xlat_mutableret2.zxy) * clamp (\n    (1.0 - (ret1_3 * 4.0))\n  , 0.0, 1.0)));\n  ret = tmpvar_23.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 2, gammaadj: 1.98, decay: 0.5, echo_zoom: 1, echo_alpha: 0.5, echo_orient: 3, wave_mode: 7, additivewave: 1, wave_thick: 1, modwavealphabyvolume: 1, wave_brighten: 0, wrap: 0, darken: 1, wave_a: 1e-3, wave_scale: 0.958, wave_smoothing: 0.45, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 1.459, warpscale: 2.007, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0, wave_g: 0, wave_b: 0, ob_size: 0, ob_g: 0.1, ob_b: 1, ob_a: 1, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, mv_x: 25.6, mv_y: 9.6, mv_l: 0, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.n=0;a.reg26=0;a.uvx0=0;a.reg34=0;a.reg28=0;a.reg23=0;a.q25=0;a.angchg=0;a.reg20=0;a.reg15=0;a.reg10=0;a.q12=0;a.v3=0;a.q22=0;a.q21=0;a.diry=0;a.q13=0;a.q6=0;a.posx=0;a.fps_=0;a.reg25=0;a.uvx=0;a.q1=0;a.travel=0;a.posz=0;a.q5=0;a.movz=0;a.dirz=0;a.dec_s=0;a.reg16=0;a.slow=0;a.reg36=0;a.reg22=0;a.uvy=0;a.rotz=0;a.dist_=0;a.q23=0;a.q24=0;a.reg24=0;a.cran0=0;a.vx=0;a.ran2=0;a.q11=0;a.q10=0;a.reg14=0;a.posy=0;a.vy=0;a.vz=0;a.reg31=0;a.dirx=0;a.dec_m=0;a.q4=0;a.start=0;a.reg12=\n0;a.reg13=0;a.c2=0;a.reg37=0;a.s3=0;a.yslope=0;a.q16=0;a.xslope=0;a.q26=0;a.reg38=0;a.reg35=0;a.reg11=0;a.tx=0;a.avg=0;a.uvz=0;a.c3=0;a.uvy0=0;a.reg27=0;a.q19=0;a.beat=0;a.q17=0;a.vol=0;a.reg32=0;a.reg21=0;a.uvz0=0;a.len=0;a.reg18=0;a.reg30=0;a.q27=0;a.slen=0;a.q14=0;a.dist=0;a.reg17=0;a.v1=0;a.speed=0;a.s1=0;a.t0=0;a.s2=0;a.ran1=0;a.reg33=0;a.q7=0;a.ds=0;a.q28=0;a.ty=0;a.c1=0;a.v2=0;a.q20=0;a.q8=0;a.avg=.01;a.q7=.2;a.q8=div(randint(200),100)-1;a.q16=1.2;a.q18=randint(.8)+.1;a.q17=2.6;a.start=1;a.travel=\n0;a.rotz=0;a.look=0;a.slow=0;a.t0=a.time+3;a.lampx=.5;a.lampy=.5;a.cran0=randint(1);for(var b=a.n=0;1E4>b;b++)a.gmegabuf[Math.floor(a.n)]=0,a.n+=1;for(b=a.n=0;1E4>b;b++)a.megabuf[Math.floor(a.n)]=0,a.n+=1;a.trelx=0;a.trely=0;a.trelz=0;a.reg20=1;a.reg21=0;a.reg22=0;a.reg23=0;a.reg24=1;a.reg25=0;a.reg26=0;a.reg27=0;a.reg28=1;b=0;do{b+=1;var c;a.ran1=div(randint(800),100);a.ran2=div(randint(800),100);a.ran3=div(randint(800),100);a.posx=randint(10)-5;a.posy=randint(10)-5;a.posz=randint(10)-5;a.c1=Math.cos(a.ran1);\na.c2=Math.cos(a.ran2);a.c3=Math.cos(a.ran3);a.s1=Math.sin(a.ran1);a.s2=Math.sin(a.ran2);a.s3=Math.sin(a.ran3);a.reg20=a.c2*a.c1;a.reg21=a.c2*a.s1;a.reg22=-a.s2;a.reg23=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg24=a.s3*a.s2*a.s1+a.c3*a.c1;a.reg25=a.s3*a.c2;a.reg26=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg27=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg28=a.c3*a.c2;a.dist=.001;var d=0;do{d+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=a.posy;a.uvz+=a.posz;a.uvx=8*(div(a.uvx,\n8)+30.5-Math.floor(div(a.uvx,8)+30.5)-.5);a.uvy=8*(div(a.uvy,8)+30.5-Math.floor(div(a.uvy,8)+30.5)-.5);a.uvz=8*(div(a.uvz,8)+30.5-Math.floor(div(a.uvz,8)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>a.uvz?1:0)?-2-a.uvz:a.uvz,a.slen=\na.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)*a.q17+a.uvx0,a.uvy=(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)*a.q17+a.uvy0,a.uvz=(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)*a.q17+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.05;c=(.6>a.dist?1:0)*(30<a.len?1:0)}while(.00001<Math.abs(c)&&\n1048576>d);d=.06>a.dist?1:0}while(.00001<Math.abs(d)&&1048576>b);", frame_eqs_str: "a.fps_=0*a.fps_+1*(.00001<Math.abs(25>=a.fps?1:0)?a.fps:25+.5*(a.fps-25));a.dec_s=1-div(.03*30,a.fps_);a.dec_m=1-div(3,a.fps_);a.beat=a.time>a.t0+3?1:0;a.t0=.00001<Math.abs(a.beat)?a.time:a.t0;a.speed=div(Math.min(.2,a.dist_-.02)*(1+2*a.avg)*(1-0*a.slow)*.1,a.q7);a.ds=a.ds*a.dec_s+div((1-a.dec_s)*a.speed*.4,a.fps_);a.rotz=.00001<Math.abs(2<a.travel?1:0)?.5:0;a.vol=a.vol*a.dec_m+div((1-a.dec_m)*(a.bass_att+a.mid_att+a.treb_att),4);a.q1=div(a.vol,2)+.3;a.dirx=a.reg26;a.diry=a.reg27;\na.dirz=a.reg28;a.posx+=a.ds*a.dirx;a.posy+=a.ds*a.diry;a.posz+=a.ds*a.dirz;a.q4=a.posx;a.q5=a.posy;a.q6=a.posz;a.angchg=(.1-a.dist_)*(.1>a.dist_?1:0);a.travel=.00001<Math.abs(0<a.angchg?1:0)?0:a.travel+a.ds;a.v1=a.v1*a.dec_s+div((1-a.dec_s)*a.rotz*a.ds,2);a.v2=a.v2*a.dec_s+div((1-a.dec_s)*a.angchg*a.xslope,a.fps_);a.v3=a.v3*a.dec_s+(1-a.dec_s)*(div(a.angchg*a.yslope,a.fps_)+2*a.v1*Math.sin(.1*a.time));a.reg30=a.reg20;a.reg31=a.reg21;a.reg32=a.reg22;a.reg33=a.reg23;a.reg34=a.reg24;a.reg35=a.reg25;\na.reg36=a.reg26;a.reg37=a.reg27;a.reg38=a.reg28;a.n=0;for(var b=a.avg=0;5>b;b++){a.n+=1;a.ran1=div(randint(100),100);a.ran2=div(randint(100),200)-.25;a.tx=Math.cos(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.ty=Math.sin(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.c1=Math.cos(a.v1);a.c2=Math.cos(a.v2+a.ty);a.c3=Math.cos(a.v3+a.tx);a.s1=Math.sin(a.v1);a.s2=Math.sin(a.v2+a.ty);a.s3=Math.sin(a.v3+a.tx);a.reg10=a.c2*a.c1;a.reg11=a.c2*a.s1;a.reg12=-a.s2;a.reg13=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg14=a.s3*a.s2*a.s1+a.c3*\na.c1;a.reg15=a.s3*a.c2;a.reg16=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg17=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg18=a.c3*a.c2;a.reg20=a.reg30;a.reg21=a.reg31;a.reg22=a.reg32;a.reg23=a.reg33;a.reg24=a.reg34;a.reg25=a.reg35;a.reg26=a.reg36;a.reg27=a.reg37;a.reg28=a.reg38;a.q20=a.reg10*a.reg20+a.reg11*a.reg23+a.reg12*a.reg26;a.q21=a.reg10*a.reg21+a.reg11*a.reg24+a.reg12*a.reg27;a.q22=a.reg10*a.reg22+a.reg11*a.reg25+a.reg12*a.reg28;a.q23=a.reg13*a.reg20+a.reg14*a.reg23+a.reg15*a.reg26;a.q24=a.reg13*a.reg21+a.reg14*a.reg24+\na.reg15*a.reg27;a.q25=a.reg13*a.reg22+a.reg14*a.reg25+a.reg15*a.reg28;a.q26=a.reg16*a.reg20+a.reg17*a.reg23+a.reg18*a.reg26;a.q27=a.reg16*a.reg21+a.reg17*a.reg24+a.reg18*a.reg27;a.q28=a.reg16*a.reg22+a.reg17*a.reg25+a.reg18*a.reg28;a.reg20=a.q20;a.reg21=a.q21;a.reg22=a.q22;a.reg23=a.q23;a.reg24=a.q24;a.reg25=a.q25;a.reg26=a.q26;a.reg27=a.q27;a.reg28=a.q28;a.dist=.002;var c,d=0;do{d+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=\na.posy;a.uvz+=a.posz;a.uvx=8*(div(a.uvx,8)+30.5-Math.floor(div(a.uvx,8)+30.5)-.5);a.uvy=8*(div(a.uvy,8)+30.5-Math.floor(div(a.uvy,8)+30.5)-.5);a.uvz=8*(div(a.uvz,8)+30.5-Math.floor(div(a.uvz,8)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>\na.uvz?1:0)?-2-a.uvz:a.uvz,a.slen=a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)*a.q17+a.uvx0,a.uvy=(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)*a.q17+a.uvy0,a.uvz=(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)*a.q17+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.1;c=(.6>a.dist?1:0)*(30<a.len?\n1:0)}while(.00001<Math.abs(c)&&1048576>d);a.megabuf[Math.floor(a.n)]=a.megabuf[Math.floor(a.n)]*a.dec_s+(1-a.dec_s)*a.dist;a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5))}a.n=0;for(b=a.avg=0;5>b;b++)a.n+=1,a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5));a.xslope=Math.min(Math.max(div(2,a.avg)*(a.megabuf[1]-a.megabuf[3]),-3),3);a.yslope=Math.min(Math.max(div(2,a.avg)*(a.megabuf[4]-a.megabuf[2]),-3),3);a.monitor=a.avg;a.dist_=a.dist_*a.dec_s+(1-a.dec_s)*a.dist;a.q10=a.ds*a.q7;a.q14=Math.abs(a.ds)+\n2*(Math.abs(a.v1)+Math.abs(a.v2)+Math.abs(a.v3))+.05*a.start;a.q19=.6+.4*Math.sin(.02*a.time+6*a.cran0);a.start*=.9;a.warp=0;a.zoom=1;a.dx=div(-a.v2,a.q16);a.dy=div(a.v3,a.q16);a.rot=a.v1;a.vx-=div(a.v2,a.q16);a.vy+=div(a.v3,a.q16);a.vz+=a.v1;a.q11=a.vx;a.q12=a.vy;a.movz+=a.ds;a.q13=a.movz;a.monitor=a.q13;", pixel_eqs_str: "", pixel_eqs: "", warp: "float sustain;\nfloat ffac;\nfloat xlat_mutabledist;\nfloat xlat_mutablelimit;\nfloat xlat_mutablestruc;\nvec2 xlat_mutableuv1;\nvec3 xlat_mutableuv2;\n shader_body { \n  mat3 tmpvar_1;\n  tmpvar_1[uint(0)].x = q20;\n  tmpvar_1[uint(0)].y = q23;\n  tmpvar_1[uint(0)].z = q26;\n  tmpvar_1[1u].x = q21;\n  tmpvar_1[1u].y = q24;\n  tmpvar_1[1u].z = q27;\n  tmpvar_1[2u].x = q22;\n  tmpvar_1[2u].y = q25;\n  tmpvar_1[2u].z = q28;\n  vec3 tmpvar_2;\n  tmpvar_2.x = q4;\n  tmpvar_2.y = q5;\n  tmpvar_2.z = q6;\n  sustain = (0.98 - q14);\n  ffac = q17;\n  vec2 uv_3;\n  uv_3 = (((uv - 0.5) * (1.0 - \n    (q10 / (1.0 - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z))\n  )) + 0.5);\n  xlat_mutableuv1 = (((uv_orig - 0.5) * aspect.xy) * q16);\n  vec4 tmpvar_4;\n  tmpvar_4 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));\n  vec3 tmpvar_5;\n  tmpvar_5 = tmpvar_4.xyz;\n  if ((tmpvar_4.y > (0.4 * rad))) {\n    vec3 tmpvar_6;\n    tmpvar_6 = (tmpvar_4.xyz - vec3(0.5, 0.5, 0.5));\n    vec4 nb2_7;\n    vec4 nb_8;\n    vec2 tmpvar_9;\n    tmpvar_9 = (0.0078125 * floor((\n      (128.0 * texture (sampler_pc_main, (uv_3 - texsize.zw)).yz)\n     + vec2(0.5, 0.5))));\n    nb_8.x = (1.0 - (tmpvar_9.y + (0.015625 * \n      (tmpvar_9.x - 0.5)\n    )));\n    vec2 tmpvar_10;\n    tmpvar_10 = (0.0078125 * floor((\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(1.0, -1.0)))).yz)\n     + vec2(0.5, 0.5))));\n    nb_8.y = (1.0 - (tmpvar_10.y + (0.015625 * \n      (tmpvar_10.x - 0.5)\n    )));\n    vec2 tmpvar_11;\n    tmpvar_11 = (0.0078125 * floor((\n      (128.0 * texture (sampler_pc_main, (uv_3 + texsize.zw)).yz)\n     + vec2(0.5, 0.5))));\n    nb_8.z = (1.0 - (tmpvar_11.y + (0.015625 * \n      (tmpvar_11.x - 0.5)\n    )));\n    vec2 tmpvar_12;\n    tmpvar_12 = (0.0078125 * floor((\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(-1.0, 1.0)))).yz)\n     + vec2(0.5, 0.5))));\n    nb_8.w = (1.0 - (tmpvar_12.y + (0.015625 * \n      (tmpvar_12.x - 0.5)\n    )));\n    vec2 tmpvar_13;\n    tmpvar_13 = (0.0078125 * floor((\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(0.0, -1.0)))).yz)\n     + vec2(0.5, 0.5))));\n    nb2_7.x = (1.0 - (tmpvar_13.y + (0.015625 * \n      (tmpvar_13.x - 0.5)\n    )));\n    vec2 tmpvar_14;\n    tmpvar_14 = (0.0078125 * floor((\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(1.0, 0.0)))).yz)\n     + vec2(0.5, 0.5))));\n    nb2_7.y = (1.0 - (tmpvar_14.y + (0.015625 * \n      (tmpvar_14.x - 0.5)\n    )));\n    vec2 tmpvar_15;\n    tmpvar_15 = (0.0078125 * floor((\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(0.0, 1.0)))).yz)\n     + vec2(0.5, 0.5))));\n    nb2_7.z = (1.0 - (tmpvar_15.y + (0.015625 * \n      (tmpvar_15.x - 0.5)\n    )));\n    vec2 tmpvar_16;\n    tmpvar_16 = (0.0078125 * floor((\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(-1.0, 0.0)))).yz)\n     + vec2(0.5, 0.5))));\n    nb2_7.w = (1.0 - (tmpvar_16.y + (0.015625 * \n      (tmpvar_16.x - 0.5)\n    )));\n    vec4 tmpvar_17;\n    tmpvar_17 = min (nb_8, nb2_7);\n    nb_8.zw = tmpvar_17.zw;\n    nb_8.xy = min (tmpvar_17.xy, tmpvar_17.zw);\n    xlat_mutabledist = (min (nb_8.x, nb_8.y) + ((0.006 * tmpvar_6.x) * abs(tmpvar_6.y)));\n  } else {\n    xlat_mutabledist = tmpvar_5.x;\n  };\n  vec2 tmpvar_18;\n  tmpvar_18 = (0.0078125 * floor((\n    (128.0 * texture (sampler_pc_main, uv_3).yz)\n   + vec2(0.5, 0.5))));\n  xlat_mutabledist = (min (xlat_mutabledist, (1.0 - \n    (tmpvar_18.y + (0.015625 * (tmpvar_18.x - 0.5)))\n  )) - (q10 * 0.8));\n  xlat_mutablelimit = (15.0 + (10.0 * xlat_mutabledist));\n  vec3 tmpvar_19;\n  tmpvar_19.xy = (xlat_mutableuv1 * xlat_mutabledist);\n  tmpvar_19.z = xlat_mutabledist;\n  xlat_mutableuv2 = (((tmpvar_19 / q7) * tmpvar_1) + tmpvar_2);\n  xlat_mutableuv2 = ((fract(\n    ((xlat_mutableuv2 / 8.0) + 0.5)\n  ) - 0.5) * 8.0);\n  int iterations_21;\n  vec3 zz0_22;\n  vec3 zz_23;\n  zz_23 = xlat_mutableuv2;\n  zz0_22 = (xlat_mutableuv2 + q8);\n  iterations_21 = int((8.0 - float(\n    (xlat_mutabledist > 0.8)\n  )));\n  for (int n_20 = 0; n_20 <= iterations_21; n_20++) {\n    zz_23 = ((2.0 * clamp (zz_23, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_23);\n    zz_23 = (zz_23 * (clamp (\n      max ((0.25 / dot (zz_23, zz_23)), 0.25)\n    , 0.0, 1.0) * 4.0));\n    zz_23 = ((ffac * zz_23) + zz0_22);\n  };\n  xlat_mutablestruc = (sqrt(dot (zz_23.xz, zz_23.xz)) / xlat_mutablelimit);\n  vec2 tmpvar_24;\n  tmpvar_24 = (0.0078125 * floor((\n    (128.0 * vec2((1.0 - xlat_mutabledist)))\n   + vec2(0.5, 0.5))));\n  vec2 tmpvar_25;\n  tmpvar_25.x = ((64.0 * (\n    (1.0 - xlat_mutabledist)\n   - tmpvar_24.x)) + 0.5);\n  tmpvar_25.y = tmpvar_24.x;\n  vec3 tmpvar_26;\n  float tmpvar_27;\n  tmpvar_27 = (q14 * 2.0);\n  tmpvar_26.x = (((1.0 - sustain) * xlat_mutablestruc) + (sustain * mix (texture (sampler_main, uv_3).xyz, \n    ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1)\n  , vec3(tmpvar_27)).x));\n  tmpvar_26.yz = tmpvar_25;\n  vec3 tmpvar_28;\n  tmpvar_28.y = 1.0;\n  tmpvar_28.x = sustain;\n  tmpvar_28.z = 1.0;\n  vec3 tmpvar_29;\n  tmpvar_29.y = 0.0;\n  tmpvar_29.x = 0.003921569;\n  tmpvar_29.z = (0.01568628 * (0.2 + rad));\n  vec4 tmpvar_30;\n  tmpvar_30.w = 1.0;\n  tmpvar_30.xyz = mix (tmpvar_26, ((\n    mix (texture (sampler_main, uv_3).xyz, ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1), vec3(tmpvar_27))\n   * tmpvar_28) - tmpvar_29), vec3(clamp ((\n    sqrt(dot (zz_23, zz_23))\n   - xlat_mutablelimit), 0.0, 1.0)));\n  ret = tmpvar_30.xyz;\n }", comp: "float xlat_mutableinten;\nfloat xlat_mutabletmp;\nvec2 xlat_mutableuv1;\nvec2 xlat_mutableuv2;\nfloat xlat_mutablez;\n shader_body { \n  float t_rel_2;\n  vec3 ret1_3;\n  float struc_4;\n  xlat_mutableuv1 = ((uv * aspect.xy) - vec2(0.5, 0.5));\n  vec4 tmpvar_5;\n  tmpvar_5 = texture (sampler_main, uv);\n  float tmpvar_6;\n  vec4 tmpvar_7;\n  tmpvar_7 = texture (sampler_blur1, uv);\n  tmpvar_6 = mix (min ((1.0 - tmpvar_5.z), (1.0 - \n    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)\n  .z)), (1.0 - (\n    (tmpvar_7.xyz * scale1)\n   + bias1).z), 0.5);\n  struc_4 = ((mix (tmpvar_5.xyz, \n    ((tmpvar_7.xyz * scale1) + bias1)\n  , vec3(tmpvar_6)).x * (1.0 - tmpvar_6)) * tmpvar_6);\n  vec2 tmpvar_8;\n  tmpvar_8.x = q11;\n  tmpvar_8.y = q12;\n  xlat_mutableuv2 = ((xlat_mutableuv1 * 0.2) - (tmpvar_8 * 0.2));\n  vec2 uvi_9;\n  uvi_9 = (xlat_mutableuv2 * 4.0);\n  float zv_10;\n  zv_10 = (0.008 * time);\n  xlat_mutabletmp = clamp (dot ((texture (sampler_noise_hq, \n    (xlat_mutableuv2 + (0.03 * ((\n      (dot (texture (sampler_noise_hq, uvi_9), vec4(0.32, 0.49, 0.29, 0.0)) + (dot (texture (sampler_noise_hq, (\n        (uvi_9 * 2.0)\n       + zv_10)), vec4(0.32, 0.49, 0.29, 0.0)) / 2.0))\n     + \n      (dot (texture (sampler_noise_hq, ((uvi_9 * 4.0) + (2.0 * zv_10))), vec4(0.32, 0.49, 0.29, 0.0)) / 4.0)\n    ) + (\n      dot (texture (sampler_noise_hq, ((uvi_9 * 8.0) + (4.0 * zv_10))), vec4(0.32, 0.49, 0.29, 0.0))\n     / 8.0))))\n  ) - 0.4), vec4(0.32, 0.49, 0.29, 0.0)), 0.0, 1.0);\n  float tmpvar_11;\n  tmpvar_11 = clamp ((pow (xlat_mutabletmp, 1.2) * sign(xlat_mutabletmp)), 0.0, 1.0);\n  xlat_mutabletmp = tmpvar_11;\n  vec3 tmpvar_12;\n  tmpvar_12.xy = vec2(0.1, 0.1);\n  tmpvar_12.z = (1.2 - uv.y);\n  ret1_3 = ((tmpvar_12 + 0.07) + ((\n    clamp (((tmpvar_6 * 2.0) - 1.5), 0.0, 1.0)\n   * tmpvar_11) * 4.0));\n  t_rel_2 = (q13 * 6.0);\n  for (int n_1 = 1; n_1 <= 3; n_1++) {\n    xlat_mutablez = (1.0 - fract((\n      (float(n_1) / 3.0)\n     - \n      (fract(-(t_rel_2)) / 3.0)\n    )));\n    xlat_mutableinten = (((1.0 - xlat_mutablez) * xlat_mutablez) * 2.0);\n    vec2 tmpvar_13;\n    tmpvar_13.x = q11;\n    tmpvar_13.y = q12;\n    xlat_mutableuv2 = (((xlat_mutablez * xlat_mutableuv1) / 4.0) - (tmpvar_13 / 6.0));\n    vec2 uvi_14;\n    uvi_14 = (xlat_mutableuv2 * 4.0);\n    float zv_15;\n    zv_15 = (0.008 * time);\n    xlat_mutabletmp = clamp (dot ((\n      (texture (sampler_noise_hq, (xlat_mutableuv2 + (0.03 * (\n        ((dot (texture (sampler_noise_hq, uvi_14), vec4(0.32, 0.49, 0.29, 0.0)) + (dot (texture (sampler_noise_hq, \n          ((uvi_14 * 2.0) + zv_15)\n        ), vec4(0.32, 0.49, 0.29, 0.0)) / 2.0)) + (dot (texture (sampler_noise_hq, (\n          (uvi_14 * 4.0)\n         + \n          (2.0 * zv_15)\n        )), vec4(0.32, 0.49, 0.29, 0.0)) / 4.0))\n       + \n        (dot (texture (sampler_noise_hq, ((uvi_14 * 8.0) + (4.0 * zv_15))), vec4(0.32, 0.49, 0.29, 0.0)) / 8.0)\n      )))) - (xlat_mutablez * 0.5))\n     - 0.3), vec4(0.32, 0.49, 0.29, 0.0)), 0.0, 1.0);\n    xlat_mutabletmp = (((\n      clamp ((xlat_mutabletmp * sign(xlat_mutabletmp)), 0.0, 1.0)\n     * xlat_mutableinten) * q1) * 2.0);\n    ret1_3 = (((ret1_3 + \n      ((vec3(4.0, 3.0, 0.8) * q1) * struc_4)\n    ) * clamp (\n      (1.0 - xlat_mutabletmp)\n    , 0.0, 1.0)) + xlat_mutabletmp);\n  };\n  vec4 tmpvar_16;\n  tmpvar_16.w = 1.0;\n  tmpvar_16.xyz = (1.0 - exp((-1.6 * ret1_3)));\n  ret = tmpvar_16.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 4, gammaadj: 1.98, decay: 0.5, echo_zoom: 1, echo_alpha: 0.5, echo_orient: 3, additivewave: 1, wave_dots: 1, wave_thick: 1, wave_brighten: 0, darken: 1, wave_a: 1e-3, wave_scale: 0.527, wave_smoothing: 0, wave_mystery: 0.6, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 1.459, warpscale: 2.007, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_g: 0.49, ob_a: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 1.85, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0, b2x: 0.6, b3x: 0.4, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 1, sides: 5, additive: 1, num_inst: 256, x: 0.26, y: 0.2, rad: 0.39317, tex_zoom: 0.9355, g2: 0, a2: 0.2, border_g: 0, border_b: 0, border_a: 0}, init_eqs_str: "a.n=0;a.w=0;a.high=0;a.q12=0;a.arg=0;a.q13=0;a.y0=0;a.flen=0;a.x0=0;a.k1=0;a.q11=0;a.z0=0;a.exc=0;a.p2=0;a.p1=0;a.a0=0;a.q2=0;a.slen=0;a.q14=0;a.q3=0;a.q32=0;a.rad0=0;", frame_eqs_str: "a.n=a.instance;a.flen=a.reg00;a.slen=div(a.reg00,2);a.z0=10;a.y0=div(a.gmegabuf[Math.floor(2E3+a.n+a.flen)],a.z0);a.x0=div(a.gmegabuf[Math.floor(2E3+a.n)],a.z0);a.a0=a.gmegabuf[Math.floor(a.n+1E4)];a.k1=div(a.instance,a.num_inst)-.5;a.x=.5+a.x0+Math.sin(8*a.k1*Math.sin(.07*a.q12))*Math.sin(.13*a.q11)*a.q3*.7;a.y=.5+a.q32*(a.y0+Math.sin(8*a.k1*Math.sin(.1*a.q14))*Math.sin(.2*a.q13)*a.q3*.7);a.arg=div(a.q2,8);a.high=Math.exp(-500*pow(a.arg+.5-div(a.instance,a.num_inst),2));a.high+=\nMath.exp(-500*pow(-a.arg+.5-div(a.instance,a.num_inst),2));a.exc=sqrt(pow(a.x-.5,2)+pow(a.y-.5,2));a.rad0=above(a.z0,0)*Math.min(.1,div(a.a0,60))+.005;a.rad0=a.rad0*(1+2*a.exc)*(1+a.high);a.p1=.5+div(Math.sin(a.q12),2);a.p2=.5+div(Math.sin(1.4*a.q13),2);a.exc=pow(a.x-a.p1,2)+pow(a.y-a.p2,2);a.rad=Math.min(a.rad0*(1+div(.004*a.q3,Math.abs(a.exc))),1);a.a=Math.min(8*a.a0+.4,1);a.k1=5*div(a.instance,a.num_inst)+a.high;a.w=1-Math.exp(div(-a.treb_att,2)-.5);a.g=a.w+(1-a.w)*Math.sin(a.k1);a.r=a.w+(1-a.w)*\nMath.sin(a.k1-div(6.28,3));a.b=a.w+(1-a.w)*Math.sin(a.k1-div(12.56,3));a.a2=div(a.a,4);a.g2=0*a.g;a.b2=0*a.b;a.r2=0*a.r;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, sep: 120, spectrum: 1, additive: 1, scaling: 7.52386, smoothing: 0, r: 0, a: 0.7}, init_eqs_str: "a.flen=0;a.n=0;a.vol=0;a.chg=0;a.dec=0;a.q1=0;a.q2=0;", frame_eqs_str: "", point_eqs_str: "a.flen=a.reg00;a.n=Math.floor(a.sample*a.flen);a.vol=(a.value1+a.value2)*(1+div(.1,a.sample+.03));a.chg=Math.min(Math.max(a.vol-a.gmegabuf[Math.floor(a.n)],-1),1);a.dec=.00001<Math.abs(0<a.chg?1:0)?1-.3*a.chg:1+.2*a.chg;a.chg=a.q1-a.q2;a.dec=.94-Math.abs(a.chg)*(.00001<Math.abs(0<a.chg?1:0)?.2:.1);a.dec=Math.min(Math.max(a.dec,0),1);a.gmegabuf[Math.floor(a.n)]=a.gmegabuf[Math.floor(a.n)]*a.dec+a.vol*(1-a.dec);a.dec=div(a.q2,4);a.dec=Math.max(Math.min(a.dec,1),.1);a.gmegabuf[Math.floor(a.n)]=\na.gmegabuf[Math.floor(a.n)]*a.dec+a.gmegabuf[Math.floor(a.n+(.8>a.q2?1:0))]*(1-a.dec);a.gmegabuf[Math.floor(a.n+1E4)]=.2*a.gmegabuf[Math.floor(a.n+1E4)]+div(.8*a.vol,3);a.a=0;a.x=a.sample;a.y=.2+.23*a.gmegabuf[Math.floor(a.n+0)];"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.n=0;a.sw2=0;a.in1=0;a.q12=0;a.q13=0;a.sw3=0;a.dif=0;a.q1=0;a.lev3=0;a.flen=0;a.lev4=0;a.in2=0;a.lev1=0;a.k1=0;a.q11=0;a.ofs=0;a.dec_m=0;a.i=0;a.k=0;a.m2=0;a.vol=0;a.q2=0;a.slen=0;a.m1=0;a.q14=0;a.sw1=0;a.lev2=0;a.q3=0;a.reg00=0;a.vol_=0;a.dec=0;a.q32=0;a.sw4=0;for(var b=a.n=0;5E4>b;b++)a.gmegabuf[Math.floor(a.n)]=0,a.megabuf[Math.floor(a.n)]=0,a.n+=1;a.sw1=randint(8);a.sw2=randint(8);a.sw3=randint(8);a.sw4=randint(8);", frame_eqs_str: "a.flen=512;a.reg00=a.flen;a.slen=div(a.flen,2);a.dec_m=pow(.94,div(30,a.fps));a.n=0;for(var b=a.vol=0;b<a.slen;b++)a.vol+=div(pow(a.gmegabuf[Math.floor(a.n)],2),a.flen),a.n+=1;a.vol=div(sqrt(a.vol),2);a.vol_=a.vol_*a.dec_m+(1-a.dec_m)*a.vol;a.lev1=a.lev1*a.dec_m+(1-a.dec_m)*a.gmegabuf[1];a.lev2=a.lev2*a.dec_m+(1-a.dec_m)*a.gmegabuf[20];a.lev3=a.lev3*a.dec_m+(1-a.dec_m)*a.gmegabuf[50];a.lev4=a.lev4*a.dec_m+(1-a.dec_m)*a.gmegabuf[100];a.sw1+=div(0<a.lev1-a.gmegabuf[1]?1:0,a.fps);\na.sw2+=div(0<a.lev2-a.gmegabuf[20]?1:0,a.fps);a.sw3+=div(0<a.lev3-a.gmegabuf[50]?1:0,a.fps);a.sw4+=div(0<a.lev4-a.gmegabuf[100]?1:0,a.fps);a.dif=16*(1+Math.sin(div(a.sw3,4)))+2;a.ofs=8*Math.sin(div(a.sw2,3));a.n=0;a.k1=0*a.frame;for(b=0;b<a.slen;b++)a.m1=mod(a.n,a.slen),a.m2=mod(a.n+a.ofs,a.slen),a.k=mod(a.m1+a.dif,a.slen),a.i=mod(a.slen+a.m2-a.dif,a.slen),a.in1=1.2*div(a.gmegabuf[Math.floor(a.m1)]-a.gmegabuf[Math.floor(a.k)],pow(a.vol_+.03,.8)),a.in2=1.2*div(a.gmegabuf[Math.floor(a.m2)]-a.gmegabuf[Math.floor(a.i)],\npow(a.vol_+.03,.8)),a.dec=.00001<Math.abs(pow(a.gmegabuf[Math.floor(2E3+a.n)],2)+pow(a.gmegabuf[Math.floor(2E3+a.flen+a.n)],2)>a.in1*a.in1+a.in2*a.in2?1:0)?.8:.94,a.dec=pow(a.dec,div(30,a.fps)),a.gmegabuf[Math.floor(2E3+a.n)]=a.gmegabuf[Math.floor(2E3+a.n)]*a.dec+(1-a.dec)*a.in1,a.gmegabuf[Math.floor(2E3+a.flen+a.n)]=a.gmegabuf[Math.floor(2E3+a.flen+a.n)]*a.dec+(1-a.dec)*a.in2,a.n+=1;a.q1=div(a.bass+a.treb+a.mid,3);a.q2=div(a.bass_att+a.treb_att+a.mid_att,3);a.q3=a.vol_;a.q11=a.sw1;a.q12=a.sw2;a.q13=\na.sw3;a.q14=a.sw4;a.rot=0;a.zoom=.98;a.warp=.3;a.rot=0;a.q32=a.aspecty;a.monitor=a.dif;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = ((texture (sampler_main, uv).xyz * clamp (\n    (q1 - 0.8)\n  , 0.0, 1.0)) * 0.92);\n  ret = tmpvar_1.xyz;\n }", comp: " shader_body { \n  vec3 ret_1;\n  ret_1 = (texture (sampler_main, uv).xyz + ((texture (sampler_blur2, uv).xyz * scale2) + bias2));\n  ret_1 = (ret_1 + ((0.8 * \n    (hue_shader - 0.8)\n  ) * (1.0 - uv.y)));\n  vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = ret_1;\n  ret = tmpvar_2.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1.980001, decay: 0.5, echo_zoom: 0.999998, echo_alpha: 0.5, echo_orient: 3, wave_mode: 4, additivewave: 1, wave_dots: 1, modwavealphabyvolume: 1, darken: 1, wave_a: 0.33064, wave_scale: 0.897961, wave_smoothing: 0.108, wave_mystery: 0.1, modwavealphastart: 0.72, modwavealphaend: 1.28, warpanimspeed: 1.4595, warpscale: 2.0067, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0, wave_g: 0.5, wave_b: 0.5, wave_y: 0.54, ob_r: 1, ob_g: 1, ob_b: 1, ib_size: 0.26, mv_x: 24.799994, mv_dy: 0.16, mv_l: 1.5, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, samples: 352, usedots: 1, additive: 1, scaling: 0.038558, smoothing: 0.2, g: 0}, init_eqs_str: "a.t02=0;a.q1=0;a.ratio=0;a.ampl=0;a.x1=0;a.y1=0;", frame_eqs_str: "a.q1=a.bass_att;", point_eqs_str: "a.r=Math.abs(Math.sin(div(a.frame,38)));a.g=.5*Math.abs(Math.cos(div(a.frame,45)));a.b=.5*Math.abs(Math.sin(div(a.frame,133)));a.a=.3;a.t02+=div(a.q1,10);a.ratio=Math.sin(div(a.frame,49));a.ampl=.01+.4*sqr(Math.sin(div(a.frame,18))*Math.cos(div(a.frame,123)));a.x1=div(a.r-.5,15)+.5+a.ampl*Math.sin(6.28*a.sample);a.y1=div(a.b-.5,15)+.5+a.ampl*Math.cos(6.28*a.sample);a.x=a.x1+.2*(a.ampl+a.ratio)*Math.sin(6.28*a.sample*a.ratio*7.3);a.y=a.y1+.2*(a.ampl+a.ratio)*Math.cos(37.68*a.sample);\n"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.index2=0;a.q25=0;a.index=0;a.q18=0;a.q22=0;a.q21=0;a.q29=0;a.q6=0;a.movex=0;a.q1=0;a.dec_med=0;a.q5=0;a.index3=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.q4=0;a.q26=0;a.p2=0;a.mov=0;a.avg=0;a.beat=0;a.p1=0;a.dx1=0;a.peak=0;a.q2=0;a.q27=0;a.clear=0;a.p3=0;a.q3=0;a.t0=0;a.rot1=0;a.q32=0;a.q28=0;a.q20=0;a.clear=.5;", frame_eqs_str: "a.dec_med=pow(.96,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,4);a.index2=mod(a.index2+a.is_beat*bnot(a.index),8);a.index3=mod(a.index3+a.is_beat*bnot(a.index)*bnot(a.index2),3);a.q20=a.avg;a.q21=\na.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass+a.mid+a.treb;a.k1=a.is_beat*equal(a.index,0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.p3=a.dec_med*a.p3+(1-a.dec_med)*a.p2;a.rott=div(3.1416*a.p3,4);a.rot1+=a.q26;a.q25=.01*a.rot1;a.q27=8-a.index;a.q28=a.index3;a.dx1=a.dec_med*a.dx1+(1-a.dec_med)*bnot(a.index2);a.q29=a.dx1;a.monitor=a.q29;a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.q5=1.5*Math.cos(div(a.time,9));a.q6=.5*Math.sin(div(a.time,\n7));a.clear=a.clear*a.dec_med+1-a.dec_med;a.q32=a.clear;a.mov=bnot(a.q24)*a.movex+(div(randint(100),100)-50)*a.q2;a.movex+=div(.2,a.fps)*a.q2;a.q18=a.movex;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec2 uv6_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = ((uv - 0.5) * aspect.xy);\n  float tmpvar_3;\n  tmpvar_3 = (rand_frame * 64.0).x;\n  uv6_1 = (0.5 * cos((\n    ((tmpvar_2 * mat2(0.7, -0.7, 0.7, 0.7)) * 17.0)\n   + \n    (rand_frame * 6.0)\n  .xy)));\n  float x_4;\n  x_4 = (uv6_1.x + uv6_1.y);\n  vec4 tmpvar_5;\n  tmpvar_5.w = 1.0;\n  tmpvar_5.xyz = ((0.147 * (\n    (texture (sampler_main, (uv + clamp ((\n      (sin(tmpvar_3) / cos(tmpvar_3))\n     * \n      normalize(tmpvar_2)\n    ), vec2(-8.0, -8.0), vec2(8.0, 8.0)))).xyz + (0.15 * (vec3((0.01 / \n      sqrt((x_4 * x_4))\n    )) * roam_cos.xyz)))\n   - 0.02)) + ((0.85 * \n    (texture (sampler_main, uv_orig).xyz - 0.002)\n  ) * q32));\n  ret = tmpvar_5.xyz;\n }", comp: "vec2 xlat_mutabledz;\nvec3 xlat_mutableret1;\nvec2 xlat_mutableuv3;\nvec2 xlat_mutableuv4;\n shader_body { \n  vec2 uv_1;\n  float inten_2;\n  float dist_3;\n  vec3 ret_4;\n  uv_1 = (uv - 0.5);\n  float tmpvar_5;\n  tmpvar_5 = (time / 2.0);\n  dist_3 = (1.0 - fract(tmpvar_5));\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 2.0);\n  vec2 tmpvar_6;\n  tmpvar_6.y = 0.4;\n  tmpvar_6.x = q18;\n  xlat_mutableuv3 = (((2.0 * uv_1) * dist_3) + tmpvar_6);\n  vec2 tmpvar_7;\n  tmpvar_7.y = 0.0;\n  tmpvar_7.x = texsize.z;\n  vec2 tmpvar_8;\n  tmpvar_8.y = 0.0;\n  tmpvar_8.x = texsize.z;\n  xlat_mutabledz.x = (inten_2 * dot ((texture (sampler_main, \n    (xlat_mutableuv3 + tmpvar_7)\n  ).xyz - texture (sampler_main, \n    (xlat_mutableuv3 - tmpvar_8)\n  ).xyz), vec3(0.32, 0.49, 0.29)));\n  vec2 tmpvar_9;\n  tmpvar_9.x = 0.0;\n  tmpvar_9.y = texsize.w;\n  vec2 tmpvar_10;\n  tmpvar_10.x = 0.0;\n  tmpvar_10.y = texsize.w;\n  xlat_mutabledz.y = (inten_2 * dot ((texture (sampler_main, \n    (xlat_mutableuv3 + tmpvar_9)\n  ).xyz - texture (sampler_main, \n    (xlat_mutableuv3 - tmpvar_10)\n  ).xyz), vec3(0.32, 0.49, 0.29)));\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (texture (sampler_main, xlat_mutableuv3).xyz * inten_2));\n  dist_3 = (1.0 - fract((0.3333333 + tmpvar_5)));\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 2.0);\n  vec2 tmpvar_11;\n  tmpvar_11.y = 0.4;\n  tmpvar_11.x = q18;\n  xlat_mutableuv3 = (((2.0 * uv_1) * dist_3) + tmpvar_11);\n  vec2 tmpvar_12;\n  tmpvar_12.y = 0.0;\n  tmpvar_12.x = texsize.z;\n  vec2 tmpvar_13;\n  tmpvar_13.y = 0.0;\n  tmpvar_13.x = texsize.z;\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_2 * dot (\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_12)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_13)).xyz)\n  , vec3(0.32, 0.49, 0.29))));\n  vec2 tmpvar_14;\n  tmpvar_14.x = 0.0;\n  tmpvar_14.y = texsize.w;\n  vec2 tmpvar_15;\n  tmpvar_15.x = 0.0;\n  tmpvar_15.y = texsize.w;\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_2 * dot (\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_14)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_15)).xyz)\n  , vec3(0.32, 0.49, 0.29))));\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_2));\n  dist_3 = (1.0 - fract((0.6666667 + tmpvar_5)));\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 2.0);\n  vec2 tmpvar_16;\n  tmpvar_16.y = 0.4;\n  tmpvar_16.x = q18;\n  xlat_mutableuv3 = (((2.0 * uv_1) * dist_3) + tmpvar_16);\n  vec2 tmpvar_17;\n  tmpvar_17.y = 0.0;\n  tmpvar_17.x = texsize.z;\n  vec2 tmpvar_18;\n  tmpvar_18.y = 0.0;\n  tmpvar_18.x = texsize.z;\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_2 * dot (\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_17)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_18)).xyz)\n  , vec3(0.32, 0.49, 0.29))));\n  vec2 tmpvar_19;\n  tmpvar_19.x = 0.0;\n  tmpvar_19.y = texsize.w;\n  vec2 tmpvar_20;\n  tmpvar_20.x = 0.0;\n  tmpvar_20.y = texsize.w;\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_2 * dot (\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_19)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_20)).xyz)\n  , vec3(0.32, 0.49, 0.29))));\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_2));\n  dist_3 = (1.0 - fract((1.0 + tmpvar_5)));\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 2.0);\n  vec2 tmpvar_21;\n  tmpvar_21.y = 0.4;\n  tmpvar_21.x = q18;\n  xlat_mutableuv3 = (((2.0 * uv_1) * dist_3) + tmpvar_21);\n  vec2 tmpvar_22;\n  tmpvar_22.y = 0.0;\n  tmpvar_22.x = texsize.z;\n  vec2 tmpvar_23;\n  tmpvar_23.y = 0.0;\n  tmpvar_23.x = texsize.z;\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_2 * dot (\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_22)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_23)).xyz)\n  , vec3(0.32, 0.49, 0.29))));\n  vec2 tmpvar_24;\n  tmpvar_24.x = 0.0;\n  tmpvar_24.y = texsize.w;\n  vec2 tmpvar_25;\n  tmpvar_25.x = 0.0;\n  tmpvar_25.y = texsize.w;\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_2 * dot (\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_24)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_25)).xyz)\n  , vec3(0.32, 0.49, 0.29))));\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_2));\n  uv_1 = (uv_1 + xlat_mutabledz);\n  vec2 tmpvar_26;\n  tmpvar_26.x = q5;\n  tmpvar_26.y = q6;\n  xlat_mutableuv4 = (uv_1 - (0.4 * tmpvar_26));\n  float tmpvar_27;\n  tmpvar_27 = (0.1 * clamp ((1.0/(\n    (abs(uv_1.y) + 0.1)\n  )), 0.0, 12.0));\n  vec2 tmpvar_28;\n  tmpvar_28.x = (uv_1.x * tmpvar_27);\n  tmpvar_28.y = tmpvar_27;\n  vec3 tmpvar_29;\n  tmpvar_29.xy = vec2(0.0, 0.0);\n  tmpvar_29.z = clamp ((1.0 - (3.0 * uv_1.y)), 0.0, 1.0);\n  ret_4 = (vec3(0.0, 0.1, 0.1) + (0.1 * tmpvar_29));\n  ret_4 = (ret_4 + (vec3(dot (texture (sampler_noise_hq, \n    (tmpvar_28 + (0.1 * time))\n  ), vec4(0.32, 0.49, 0.29, 0.0))) * (\n    (clamp ((1.0 - (12.0 * uv_1.y)), 0.0, 1.0) * 0.1)\n   / \n    (0.05 + sqrt(dot (xlat_mutableuv4, xlat_mutableuv4)))\n  )));\n  ret_4 = (ret_4 + ((0.4 * xlat_mutableret1) + (xlat_mutableret1 * q22)));\n  vec4 tmpvar_30;\n  tmpvar_30.w = 1.0;\n  tmpvar_30.xyz = ret_4;\n  ret = tmpvar_30.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1.980001, decay: 0.5, echo_zoom: 0.999998, echo_alpha: 0.5, echo_orient: 3, wave_mode: 2, modwavealphabyvolume: 1, wave_brighten: 0, wrap: 0, darken: 1, wave_a: 1e-3, wave_scale: 20.944651, wave_smoothing: 0, wave_mystery: 0.08, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 1.4595, warpscale: 2.0067, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0, wave_g: 0.99, ob_size: 0.015, ob_b: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 1.85, mv_r: 0.4999, mv_g: 0.4999, mv_b: 0.4999, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 1, textured: 1, y: 0.47, rad: 0.24057, tex_zoom: 0.14057, g: 0.3, b: 0.5, g2: 0, b2: 0.3, a2: 1, border_b: 0, border_a: 0}, init_eqs_str: "a.q24=0;", frame_eqs_str: "a.x=.5;a.y=.5;a.a=a.q24;a.a2=a.q24;"}, {baseVals: {enabled: 1, sides: 100, additive: 1, thickoutline: 1, rad: 0.05134, tex_zoom: 0.12288, r: 0.3, g: 0.2, b: 0.2, a: 0.7, g2: 0, border_r: 0, border_g: 0.5, border_b: 0.5, border_a: 0}, init_eqs_str: "", frame_eqs_str: "a.r=.5+.3*Math.sin(a.time);a.g=.5+.3*Math.sin(div(a.time,1.5));a.b=.5+.3*Math.sin(div(a.time,3.7));a.r2=0;a.b2=0;a.g2=0;a.a=.05;a.a2=0;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, samples: 100, thick: 1, scaling: 0.045052, smoothing: 0.1, a: 0.6}, init_eqs_str: "a.k1=0;a.dy=0;a.dx=0;a.t2=0;a.q24=0;a.q27=0;", frame_eqs_str: "a.t2=.45+div(randint(10),100);", point_eqs_str: "a.k1=bnot(mod(100*a.sample+a.time,2));a.dy=.015*above(Math.sin(11*a.sample),0)+.008*above(Math.sin(a.time+74*a.sample),0)+.008*above(Math.sin(a.time+128*a.sample),0);a.dx=.01*above(Math.sin(27*a.sample),0)+.01*above(Math.sin(a.time+134*a.sample),0);a.x=.2*(a.sample-.5)+.5+a.dx;a.y=a.t2+a.dy;a.a=a.q24*a.k1*bnot(mod(a.q27,4));a.r=.6;a.g=0;a.b=.6;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.dec_xlow=0;a.index2=0;a.speed_=0;a.index=0;a.q12=0;a.q22=0;a.q21=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.q9=0;a.movx=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.q10=0;a.tilt_=0;a.q4=0;a.peakx=0;a.dir__=0;a.dir=0;a.dir_=0;a.movy=0;a.q26=0;a.maxp=0;a.p2=0;a.avg=0;a.trig=0;a.beat=0;a.p1=0;a.peak=0;a.tilt=0;a.q2=0;a.q27=0;a.speed=0;a.q3=0;a.t0=0;a.q7=0;a.q20=0;a.q8=0;a.xk=0;", frame_eqs_str: "a.dec_med=pow(.8,div(30,a.fps));a.dec_slow=pow(.95,div(30,a.fps));a.dec_xlow=pow(.995,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,16);a.index2=mod(a.index2+a.is_beat*bnot(a.index),2);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q23=\na.index;a.q24=a.is_beat;a.q26=a.bass_att+a.mid_att+a.treb_att;a.q27=a.index+1;a.peakx=above(a.q22,1.5*a.maxp);a.maxp=Math.max(a.maxp,a.q22);a.maxp*=a.dec_xlow;a.k1=a.is_beat*equal(mod(a.index,3),0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.1416*a.p2,4);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.trig=a.q24*bnot(mod(a.index,4));a.dir=a.dir+div(a.trig*a.q26*(div(randint(100),100)-.5),2)+a.peakx;a.dir_=a.dir_*a.dec_slow+a.dir*(1-a.dec_slow);\na.dir__=a.dir__*a.dec_slow+a.dir_*(1-a.dec_slow);a.q5=Math.cos(a.dir__);a.q6=Math.sin(a.dir__);a.speed=a.speed*bnot(a.trig)+div(a.trig*a.q26*5,a.fps);a.speed_=a.speed_*a.dec_slow+a.speed*(1-a.dec_slow);a.movx+=a.speed_*a.q6;a.movy+=a.speed_*a.q5;a.q7=a.movx;a.q8=a.movy;a.tilt=a.dir-a.dir__;a.tilt_=a.dec_slow*a.tilt_+(1-a.dec_slow)*a.tilt;a.monitor=a.maxp;a.q9=Math.cos(a.tilt_*a.speed_);a.q10=Math.sin(a.tilt_*a.speed_);a.q12=a.time;", pixel_eqs_str: "a.zoom=1.3;", warp: " shader_body { \n  vec2 uv_1;\n  vec2 uv6_2;\n  vec2 tmpvar_3;\n  tmpvar_3 = ((uv - 0.5) * aspect.xy);\n  float tmpvar_4;\n  tmpvar_4 = ((2.0 * sqrt(\n    dot (tmpvar_3, tmpvar_3)\n  )) + (rand_frame * 64.0)).x;\n  uv_1 = (uv + (clamp (\n    ((sin(tmpvar_4) / cos(tmpvar_4)) * normalize(tmpvar_3))\n  , vec2(-2.0, -2.0), vec2(2.0, 2.0)) / 20.0));\n  uv6_2 = (0.4 * sin((tmpvar_3 * 22.0)));\n  vec4 tmpvar_5;\n  tmpvar_5.w = 1.0;\n  tmpvar_5.xyz = (((q24 * \n    (((texture (sampler_main, uv_1).xyz - (\n      ((texture (sampler_blur1, fract(uv_1)).xyz * scale1) + bias1)\n     * 0.04)) + (0.15 * (vec3(\n      (0.1 / sqrt(dot (uv6_2, uv6_2)))\n    ) * roam_cos.xyz))) - 0.02)\n  ) * 0.98) + ((1.0 - q24) * texture (sampler_main, uv_orig).xyz));\n  ret = tmpvar_5.xyz;\n }", comp: "vec3 xlat_mutableret1;\nvec2 xlat_mutablers;\n shader_body { \n  vec2 uv1_1;\n  mat2 tmpvar_2;\n  tmpvar_2[uint(0)].x = q9;\n  tmpvar_2[uint(0)].y = -(q10);\n  tmpvar_2[1u].x = q10;\n  tmpvar_2[1u].y = q9;\n  uv1_1 = (((uv_orig - 0.5) * aspect.xy) * tmpvar_2);\n  uv1_1 = (uv1_1 * aspect.yx);\n  float tmpvar_3;\n  tmpvar_3 = (3.0 / abs(uv1_1.y));\n  xlat_mutablers.x = (uv1_1.x * tmpvar_3);\n  xlat_mutablers.y = (tmpvar_3 / 2.0);\n  mat2 tmpvar_4;\n  tmpvar_4[uint(0)].x = q5;\n  tmpvar_4[uint(0)].y = -(q6);\n  tmpvar_4[1u].x = q6;\n  tmpvar_4[1u].y = q5;\n  xlat_mutablers = (tmpvar_4 * xlat_mutablers);\n  vec2 tmpvar_5;\n  tmpvar_5.x = q7;\n  tmpvar_5.y = q8;\n  xlat_mutablers = (xlat_mutablers + tmpvar_5);\n  xlat_mutableret1 = ((texture (sampler_blur1, fract(\n    (xlat_mutablers / 12.0)\n  )).xyz * scale1) + bias1);\n  vec2 tmpvar_6;\n  tmpvar_6.y = 0.0;\n  tmpvar_6.x = q5;\n  vec4 tmpvar_7;\n  tmpvar_7.w = 1.0;\n  tmpvar_7.xyz = (((xlat_mutableret1 * 32.0) / tmpvar_3) + ((\n    ((q22 * sqrt(tmpvar_3)) / 4.0)\n   * \n    sin(((uv1_1 - q12) * q27))\n  .x) * texture (sampler_main, (\n    (((4.0 * xlat_mutableret1) / tmpvar_3).xy + ((uv1_1 / 2.0) / (0.5 + abs(uv1_1.y))))\n   + tmpvar_6)).xyz));\n  ret = tmpvar_7.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.98, decay: 0.5, echo_zoom: 0.952, echo_alpha: 0.5, echo_orient: 3, wave_mode: 5, additivewave: 1, wave_thick: 1, modwavealphabyvolume: 1, wave_brighten: 0, darken: 1, wave_a: 1e-3, wave_scale: 0.474, wave_smoothing: 0.45, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 1.459, warpscale: 2.007, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0.8, wave_g: 0.49, ob_size: 0, ob_a: 0.3, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 1.85, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0, b1x: 0.8, b1ed: 0}, shapes: [{baseVals: {enabled: 1, sides: 7, additive: 1, num_inst: 1024, rad: 0.04896, tex_ang: 1.00531, tex_zoom: 1.53117, r: 0, g: 1, b: 1, a: 0, g2: 0, border_b: 0, border_a: 0}, init_eqs_str: "a.max_age=0;a.n=0;a.x0=0;a.y0=0;a.z0=0;a.rad0=0;", frame_eqs_str: "a.max_age=a.reg00;a.n=12*a.instance;a.x0=a.gmegabuf[Math.floor(a.n)];a.y0=a.gmegabuf[Math.floor(a.n+1)];a.z0=a.gmegabuf[Math.floor(a.n+2)];.00001<Math.abs(-100>a.z0?1:0)?(a.rad=0,a.gmegabuf[Math.floor(a.n+8)]=a.max_age):(a.rad0=div(pow(1-div(a.gmegabuf[Math.floor(a.n+8)],a.max_age),.2),a.z0)*a.gmegabuf[Math.floor(a.n+7)]+.01,a.rad=.032*Math.abs(a.rad0),a.x=.5+div(a.x0,a.z0),a.y=.5+div(a.y0,a.z0));a.a=1;a.a2=.2;a.g=.8;a.g2=0;a.b=.2*(3<randint(10)?1:0)+.2*(0>a.z0?1:0);a.b2=0;\n"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, samples: 160, sep: 20, usedots: 1, additive: 1, scaling: 7.858, smoothing: 0.1, r: 0.2, g: 0.3, a: 0.6}, init_eqs_str: "a.q32=0;", frame_eqs_str: "", point_eqs_str: "a.x=div(randint(100),100);a.y=.5-div(1-.7,a.q32)-.15*(div(randint(100),100)-.5);a.a=.15;a.r=0;a.b=1;a.g=0;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: 'a.max_age=0;a.ind2=0;a.n=0;a.free=0;a.high=0;a.index=0;a.tht=0;a.v00=0;a.yobf=0;a.dt=0;a.y0=0;a.q1=0;a.dec_med=0;a.q5=0;a.ran1_=0;a["new"]=0;a.push=0;a.new1=0;a.is_beat=0;a.q24=0;a.vol_alt=0;a.dec_slow=0;a.ran2=0;a.ind1=0;a.q10=0;a.v0=0;a.med=0;a.beat=0;a.vol=0;a.peak=0;a.dec_fast=0;a.q27=0;a.bass1=0;a.q3=0;a.t0=0;a.vol_=0;a.dec=0;a.m=0;a.ran1=0;a.q32=0;a.phi=0;a.air=0;a.max_age=4.5;a.reg00=a.max_age;for(var b=a.n=0;12288>b;b++)a.gmegabuf[Math.floor(a.n)]=a.max_age-1+randint(2),\na.n+=1;a.q9=2*(randint(25)-10);a.q3=div(randint(100),100);a.q4=div(randint(100),100);', frame_eqs_str: 'a.dec_fast=1-div(8.8,a.fps);a.dec_med=1-div(6,a.fps);a.dec_slow=1-div(1.6,a.fps);a.vol=div(a.bass+a.med+a.treb,3);a.vol_=a.vol_*a.dec_slow+(1-a.dec_slow)*a.vol;a.beat=a.vol;a.is_beat=above(a.beat,1+4*a.peak)*above(a.time,a.t0+.2);a.t0=.00001<Math.abs(a.is_beat)?a.time:a.t0;a.peak=.00001<Math.abs(a.is_beat)?a.beat:a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,1024);a.ind1=a.ind1*a.dec_med+(1-a.dec_fast)*a.index;a.ind2=a.ind2*a.dec_med+(1-a.dec_fast)*a.ind1;a.q27=a.ind2;a.q24=\na.is_beat;a.ran1=.00001<Math.abs(a.is_beat)?div(randint(100),100)-.5:a.ran1;a.ran2=.00001<Math.abs(a.is_beat)?div(randint(100),50)+1:a.ran2;a.ran1_=a.dec_med*a.ran1_+(1-a.dec_med)*a.ran1;a.high=2.9<a.ran2?1:0;a.q5=a.ran1_;a.n=0;a.push=Math.max(0,a.vol-a.vol_alt)*a.vol_;a.air=.1*a.dt;a.dt=div(1,a.fps);a.v00=pow(a.push,.25)+.4;a.free=512;a["new"]=0;a.y0=-.68;a.yobf=a.y0+.1;for(var b=0;512>b;b++)a.megabuf[Math.floor(a.n)]=a.gmegabuf[Math.floor(a.n)],a.megabuf[Math.floor(a.n+1)]=a.gmegabuf[Math.floor(a.n+\n1)],a.megabuf[Math.floor(a.n+2)]=a.gmegabuf[Math.floor(a.n+2)],.00001<Math.abs(a.gmegabuf[Math.floor(a.n+8)]>a.max_age?1:0)?.00001<Math.abs(band(a.push>=10*a.dt*bnot(a.high)?1:0,200>a["new"]?1:0))?(--a.free,a["new"]+=1,a.tht=div(randint(100),500)*(1+1.5*a.high),a.phi=randint(12),a.v0=a.v00*(1+div(randint(10),40)),a.gmegabuf[Math.floor(a.n)]=1.7*a.ran1,a.gmegabuf[Math.floor(a.n+1)]=a.y0+2.2*a.high,a.gmegabuf[Math.floor(a.n+2)]=2,a.gmegabuf[Math.floor(a.n+3)]=a.v0*Math.sin(a.tht)*Math.cos(a.phi),a.gmegabuf[Math.floor(a.n+\n4)]=a.v0*Math.cos(4*a.tht)*(1-1.5*a.high),a.gmegabuf[Math.floor(a.n+5)]=a.v0*Math.sin(a.tht)*Math.sin(a.phi)*1.5*a.vol,a.gmegabuf[Math.floor(a.n+7)]=0,a.gmegabuf[Math.floor(a.n+8)]=div(randint(100),100)):0:(--a.free,a.gmegabuf[Math.floor(a.n)]+=a.gmegabuf[Math.floor(a.n+3)]*a.dt,a.gmegabuf[Math.floor(a.n+1)]+=a.gmegabuf[Math.floor(a.n+4)]*a.dt,a.gmegabuf[Math.floor(a.n+2)]+=a.gmegabuf[Math.floor(a.n+5)]*a.dt,a.gmegabuf[Math.floor(a.n+3)]*=1-a.air,a.gmegabuf[Math.floor(a.n+4)]*=1-a.air,a.gmegabuf[Math.floor(a.n+\n4)]-=.8*a.dt,a.gmegabuf[Math.floor(a.n+5)]*=1-a.air,a.gmegabuf[Math.floor(a.n+7)]=(a.gmegabuf[Math.floor(a.n+1)]>a.yobf?1:0)*Math.min(1,18*(a.gmegabuf[Math.floor(a.n+1)]-a.yobf)),.00001<Math.abs(band(a.gmegabuf[Math.floor(a.n+1)]<a.yobf?1:0,0>a.gmegabuf[Math.floor(a.n+4)]?1:0))?a.gmegabuf[8]=a.max_age:0,a.gmegabuf[Math.floor(a.n+8)]+=a.dt),a.n+=12;for(b=a.n=0;512>b;b++)a.m=6132+a.n,a.gmegabuf[Math.floor(a.m)]=div(a.gmegabuf[Math.floor(a.n)]+a.megabuf[Math.floor(a.n)],2),a.gmegabuf[Math.floor(a.m+\n1)]=div(a.gmegabuf[Math.floor(a.n+1)]+a.megabuf[Math.floor(a.n+1)],2),a.gmegabuf[Math.floor(a.m+2)]=div(a.gmegabuf[Math.floor(a.n+2)]+a.megabuf[Math.floor(a.n+2)],2),a.gmegabuf[Math.floor(a.m+7)]=a.gmegabuf[Math.floor(a.n+7)],a.gmegabuf[Math.floor(a.m+8)]=a.gmegabuf[Math.floor(a.n+8)],a.n+=12;a.dec=.00001<Math.abs(a.bass>a.bass1?1:0)?.5:.9;a.bass1=a.bass1*a.dec+a.bass*(1-a.dec);a.q1=Math.min(1,Math.max(0,a.bass1-1.5)*Math.abs(a.q3-.5)*3);a.q10=Math.max(a.vol_-.1,.1);a.vol_alt=a.vol;a.q32=a.aspecty;\na.new1=.00001<Math.abs(0<a["new"]?1:0)?a["new"]:a.new1;a.monitor=a.new1;', pixel_eqs_str: "a.dy=-.007*a.y;a.warp=0;a.rot=div(.025*Math.sin(a.q27+7*a.x+0*a.y)*.2,Math.abs(a.y-.7)+.1)*a.q10;a.zoom=1.003+.2*Math.max(0,a.y-.7);", warp: "vec2 ver;\nfloat xlat_mutablecloud;\nvec2 xlat_mutabledz;\nvec2 xlat_mutableuv1;\nvec2 xlat_mutableuv2;\nfloat xlat_mutablez;\n shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1.y = 0.0;\n  tmpvar_1.x = texsize.z;\n  vec2 tmpvar_2;\n  tmpvar_2.x = 0.0;\n  tmpvar_2.y = texsize.w;\n  ver = (tmpvar_2 * 2.0);\n  vec3 ret_3;\n  xlat_mutabledz.x = (2.0 * dot (vec3((texture (sampler_main, \n    (uv + tmpvar_1)\n  ).z - texture (sampler_main, \n    (uv - tmpvar_1)\n  ).z)), vec3(0.32, 0.49, 0.29)));\n  xlat_mutabledz.y = (2.0 * dot (vec3((texture (sampler_main, \n    (uv + ver)\n  ).z - texture (sampler_main, \n    (uv - ver)\n  ).z)), vec3(0.32, 0.49, 0.29)));\n  vec2 tmpvar_4;\n  tmpvar_4.x = q3;\n  tmpvar_4.y = (0.4 + (q4 * 0.4));\n  xlat_mutableuv1 = (uv_orig - tmpvar_4);\n  vec4 tmpvar_5;\n  tmpvar_5 = texture (sampler_main, uv_orig);\n  xlat_mutablez = ((0.8 * (xlat_mutableuv1.y - 0.4)) - (mix (tmpvar_5.x, \n    ((texture (sampler_blur1, uv_orig).xyz * scale1) + bias1)\n  .x, 0.5) * 0.03));\n  vec2 tmpvar_6;\n  tmpvar_6.x = (xlat_mutableuv1.x * xlat_mutablez);\n  tmpvar_6.y = xlat_mutablez;\n  vec2 tmpvar_7;\n  tmpvar_7.x = 0.0;\n  tmpvar_7.y = (-(time) * 0.014);\n  xlat_mutableuv2 = (tmpvar_6 + tmpvar_7);\n  vec2 tmpvar_8;\n  tmpvar_8.x = 0.0;\n  tmpvar_8.y = (time * 0.004);\n  vec2 uvi_9;\n  uvi_9 = ((xlat_mutableuv2 * 1.5) + tmpvar_8);\n  float zv_10;\n  zv_10 = (0.002 * time);\n  xlat_mutablecloud = (1.0 - (1.5 * abs(\n    (texture (sampler_noise_hq, ((xlat_mutableuv2 + (0.07 * \n      abs((((\n        (dot (texture (sampler_noise_hq, uvi_9), vec4(0.32, 0.49, 0.29, 0.0)) + (dot (texture (sampler_noise_hq, (\n          (uvi_9 * 2.0)\n         + zv_10)), vec4(0.32, 0.49, 0.29, 0.0)) / 2.0))\n       + \n        (dot (texture (sampler_noise_hq, ((uvi_9 * 4.0) + zv_10)), vec4(0.32, 0.49, 0.29, 0.0)) / 4.0)\n      ) + (\n        dot (texture (sampler_noise_hq, ((uvi_9 * 8.0) + zv_10)), vec4(0.32, 0.49, 0.29, 0.0))\n       / -8.0)) - 1.0))\n    )) / 2.0)) - 0.5)\n  ))).x;\n  xlat_mutablecloud = (xlat_mutablecloud * clamp ((\n    (texture (sampler_noise_hq, (xlat_mutableuv2 * vec2(2.0, 0.5))).x + 0.5)\n   - \n    (3.0 * abs(xlat_mutableuv2.x))\n  ), 0.0, 1.0));\n  vec2 tmpvar_11;\n  tmpvar_11.x = 0.0;\n  tmpvar_11.y = ((-0.01 * time) * (0.125 * float(\n    int((8.0 * pow (xlat_mutablecloud, 4.0)))\n  )));\n  float tmpvar_12;\n  tmpvar_12 = (texture (sampler_noise_hq, (18.0 * (\n    (xlat_mutableuv2 + (0.05 * xlat_mutablecloud))\n   + tmpvar_11))) - 0.75).x;\n  xlat_mutablecloud = (xlat_mutablecloud * (1.0 + (\n    (0.2 * tmpvar_12)\n   * \n    (xlat_mutablecloud * xlat_mutablecloud)\n  )));\n  ret_3.x = ((0.3 * xlat_mutablecloud) + (0.7 * tmpvar_5.xyz)).x;\n  xlat_mutableuv1 = (uv - vec2(0.0, 0.71));\n  vec4 tmpvar_13;\n  tmpvar_13 = texture (sampler_blur1, uv);\n  float tmpvar_14;\n  tmpvar_14 = clamp (((12.0 * \n    (((10.0 * xlat_mutableuv1.y) + ((\n      (tmpvar_13.xyz * scale1)\n     + bias1).x / 2.0)) - 1.0)\n  ) + tmpvar_12), 0.0, 1.0);\n  xlat_mutableuv1 = (uv - 0.7);\n  ret_3.z = (((\n    ((((4.0 * tmpvar_14) * (1.0 - tmpvar_14)) * clamp ((tmpvar_5.x - 0.2), 0.0, 1.0)) + texture (sampler_main, (uv + (xlat_mutabledz * 0.003))).z)\n   - \n    (0.03 * sqrt(dot (xlat_mutabledz, xlat_mutabledz)))\n  ) - (\n    pow (((tmpvar_13.xyz * scale1) + bias1).z, 8.0)\n   * 0.2)) - 0.01);\n  ret_3.y = (texture (sampler_main, mix (uv, uv_orig, vec2(0.5, 0.5))).y * (0.85 - (0.2 * \n    ((tmpvar_13.xyz * scale1) + bias1)\n  .y)));\n  ret_3.x = (ret_3.x + ((texture (sampler_noise_lq, \n    (2.0 * xlat_mutableuv2)\n  ) * 0.08) * clamp (\n    (1.0 - (3.0 * ret_3.x))\n  , 0.0, 1.0)).x);\n  vec4 tmpvar_15;\n  tmpvar_15.w = 1.0;\n  tmpvar_15.xyz = ret_3;\n  ret = tmpvar_15.xyz;\n }", comp: "float dunk;\nfloat xlat_mutablenoise;\nvec2 xlat_mutablers;\nvec2 xlat_mutablers0;\nfloat xlat_mutablesmask;\nfloat xlat_mutablesmoke;\nvec2 xlat_mutableuv1;\nfloat xlat_mutablez;\n shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1.y = 0.0;\n  tmpvar_1.x = texsize.z;\n  dunk = ((rand_preset.x * 0.3) + 0.1);\n  vec2 uv_2;\n  vec3 ret_3;\n  uv_2 = (uv + (texsize.zw / 2.0));\n  xlat_mutableuv1 = (uv_2 - vec2(0.0, 0.7));\n  xlat_mutablesmask = (((10.0 * xlat_mutableuv1.y) + (\n    ((texture (sampler_blur1, uv_2).xyz * scale1) + bias1)\n  .x / 2.0)) - 1.0);\n  float tmpvar_4;\n  tmpvar_4 = clamp (((2.0 * xlat_mutablesmask) + 0.3), 0.0, 1.0);\n  xlat_mutablenoise = ((3.0 * (1.0 - tmpvar_4)) * texture (sampler_noise_lq, ((xlat_mutableuv1 * 1.5) + (rand_frame * 0.2).xy)).x);\n  float tmpvar_5;\n  tmpvar_5 = clamp (((12.0 * xlat_mutablesmask) + (xlat_mutablenoise / 2.0)), 0.0, 1.0);\n  xlat_mutablez = ((0.35 / xlat_mutableuv1.y) + (xlat_mutablenoise / 2.0));\n  xlat_mutablers0.x = (xlat_mutableuv1.x * xlat_mutablez);\n  xlat_mutablers0.y = xlat_mutablez;\n  vec2 tmpvar_6;\n  tmpvar_6.x = (xlat_mutablers0.x + (time / 4.0));\n  tmpvar_6.y = (xlat_mutablez + (time * 0.21));\n  xlat_mutablers = (tmpvar_6 * tmpvar_5);\n  float t_7;\n  t_7 = ((texture (sampler_main, uv_2).x - dunk) * (1.0 - (tmpvar_5 * \n    pow (uv_2.y, 4.0)\n  )));\n  float tmpvar_8;\n  tmpvar_8 = clamp (((1.2 * t_7) - 0.2), 0.0, 1.0);\n  t_7 = tmpvar_8;\n  vec3 tmpvar_9;\n  tmpvar_9.x = tmpvar_8;\n  tmpvar_9.y = (tmpvar_8 * tmpvar_8);\n  tmpvar_9.z = pow (tmpvar_8, 8.0);\n  vec3 tmpvar_10;\n  tmpvar_10 = clamp ((tmpvar_9 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);\n  float t_11;\n  t_11 = ((texture (sampler_blur2, (uv_2 + 0.03)).xyz * scale2) + bias2).x;\n  float tmpvar_12;\n  tmpvar_12 = clamp (((1.2 * t_11) - 0.2), 0.0, 1.0);\n  t_11 = tmpvar_12;\n  vec3 tmpvar_13;\n  tmpvar_13.x = tmpvar_12;\n  tmpvar_13.y = (tmpvar_12 * tmpvar_12);\n  tmpvar_13.z = pow (tmpvar_12, 8.0);\n  vec3 tmpvar_14;\n  tmpvar_14 = clamp ((tmpvar_13 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);\n  ret_3 = ((tmpvar_10 * (tmpvar_10 * \n    (3.0 - (2.0 * tmpvar_10))\n  )) + ((\n    (((1.0 - texture (sampler_main, uv_2).x) * (1.0 - tmpvar_5)) * abs((texture (sampler_main, (uv_2 - tmpvar_1)).x - texture (sampler_main, (uv_2 + tmpvar_1)).x)))\n   * \n    (tmpvar_14 * (tmpvar_14 * (3.0 - (2.0 * tmpvar_14))))\n  ) * q9));\n  xlat_mutablesmoke = ((texture (sampler_blur1, uv_2).xyz * scale1) + bias1).z;\n  vec2 tmpvar_15;\n  tmpvar_15.x = uv_2.x;\n  tmpvar_15.y = ((0.85 - xlat_mutableuv1.y) + ((\n    ((texture (sampler_noise_hq, xlat_mutablers) + texture (sampler_noise_hq, ((xlat_mutablers / 4.0) - (time / 8.0)))) - 1.0)\n  .x * 0.2) * q10));\n  float t_16;\n  t_16 = ((texture (sampler_main, tmpvar_15).x + texture (sampler_main, tmpvar_15).y) - dunk);\n  float tmpvar_17;\n  tmpvar_17 = clamp (((1.2 * t_16) - 0.2), 0.0, 1.0);\n  t_16 = tmpvar_17;\n  vec3 tmpvar_18;\n  tmpvar_18.x = tmpvar_17;\n  tmpvar_18.y = (tmpvar_17 * tmpvar_17);\n  tmpvar_18.z = pow (tmpvar_17, 8.0);\n  vec3 tmpvar_19;\n  tmpvar_19 = clamp ((tmpvar_18 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);\n  ret_3 = (ret_3 + ((\n    (tmpvar_19 * (tmpvar_19 * (3.0 - (2.0 * tmpvar_19))))\n   * tmpvar_5) * 0.85));\n  float tmpvar_20;\n  tmpvar_20 = ((3.6 * tmpvar_4) * (1.0 - tmpvar_4));\n  ret_3 = (ret_3 * (clamp (\n    (1.0 - (xlat_mutablesmoke * (1.0 - tmpvar_20)))\n  , 0.0, 1.0) * clamp (\n    (1.0 - (tmpvar_20 * float((rand_preset.x > 0.5))))\n  , 0.0, 1.0)));\n  vec3 tmpvar_21;\n  tmpvar_21.z = 0.0;\n  tmpvar_21.xy = (((texture (sampler_blur3, uv_2).xyz * scale3) + bias3).xy * vec2(3.0, 5.0));\n  ret_3 = (ret_3 + ((xlat_mutablesmoke * \n    dot (tmpvar_21, vec3(0.32, 0.49, 0.29))\n  ) * vec3(1.0, 0.84, 0.62)));\n  float tmpvar_22;\n  tmpvar_22 = clamp (((1.2 * \n    clamp (texture (sampler_main, uv_2).y, 0.0, 1.0)\n  ) - 0.2), 0.0, 1.0);\n  vec3 tmpvar_23;\n  tmpvar_23.x = tmpvar_22;\n  tmpvar_23.y = (tmpvar_22 * tmpvar_22);\n  tmpvar_23.z = pow (tmpvar_22, 8.0);\n  vec3 tmpvar_24;\n  tmpvar_24 = clamp ((tmpvar_23 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);\n  ret_3 = (ret_3 + (tmpvar_24 * (tmpvar_24 * \n    (3.0 - (2.0 * tmpvar_24))\n  )));\n  float tmpvar_25;\n  tmpvar_25 = clamp (0.52, 0.0, 1.0);\n  vec3 tmpvar_26;\n  tmpvar_26.x = tmpvar_25;\n  tmpvar_26.y = (tmpvar_25 * tmpvar_25);\n  tmpvar_26.z = pow (tmpvar_25, 8.0);\n  vec3 tmpvar_27;\n  tmpvar_27 = clamp ((tmpvar_26 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);\n  vec3 tmpvar_28;\n  tmpvar_28 = mix (clamp (ret_3, 0.0, 1.0), (tmpvar_27 * (tmpvar_27 * \n    (3.0 - (2.0 * tmpvar_27))\n  )), vec3((pow (\n    ((1.0 - uv_2.y) - ((uv_2.x - 0.5) * (q3 - 0.5)))\n  , 4.0) * q1)));\n  ret_3 = tmpvar_28;\n  vec4 tmpvar_29;\n  tmpvar_29.w = 1.0;\n  tmpvar_29.xyz = tmpvar_28;\n  ret = tmpvar_29.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.98, decay: 0.5, echo_zoom: 1, echo_alpha: 0.5, echo_orient: 3, wave_mode: 7, additivewave: 1, wave_thick: 1, modwavealphabyvolume: 1, wave_brighten: 0, wrap: 0, darken: 1, wave_a: 1e-3, wave_scale: 0.698, wave_smoothing: 0.45, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 1.459, warpscale: 2.007, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0, wave_g: 0, wave_b: 0, ob_size: 0, ob_g: 0.1, ob_b: 1, ob_a: 1, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, mv_x: 25.6, mv_y: 9.6, mv_l: 5, mv_g: 0.5, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.n=0;a.maxbpm=0;a.reg26=0;a.maxind1=0;a.uvx0=0;a.cosb_=0;a.reg34=0;a.num_res=0;a.reg28=0;a.reg23=0;a.q25=0;a.angchg=0;a.reg20=0;a.reg15=0;a.reg10=0;a.sinb_=0;a.index=0;a.quali=0;a.v3=0;a.q18=0;a.q22=0;a.q21=0;a.diry=0;a.q6=0;a.posx=0;a.dt=0;a.reg25=0;a.mean=0;a.uvx=0;a.q1=0;a.posz=0;a.q5=0;a.reg52=0;a.dt1=0;a.dec_f=0;a.dirz=0;a.dec_s=0;a.reg16=0;a.bt2=0;a.reg36=0;a.minbpm=0;a.reg22=0;a.uvy=0;a.rotz=0;a.cosb=0;a.omega=0;a.dist_=0;a.ec_steps=0;a.bpm=0;a.q23=0;a.q24=0;a.reg24=\n0;a.ran2=0;a.pi=0;a.q10=0;a.reg14=0;a.sinb=0;a.reg53=0;a.posy=0;a.reg31=0;a.dirx=0;a.dec_m=0;a.q4=0;a.start=0;a.reg12=0;a.reg13=0;a.v2p=0;a.c2=0;a.reg37=0;a.ex=0;a.s3=0;a.yslope=0;a.q16=0;a.xslope=0;a.q26=0;a.reg38=0;a.v3p=0;a.reg35=0;a.p2=0;a.mov=0;a.reg11=0;a.tx=0;a.avg=0;a.bt1=0;a.beatsin=0;a.uvz=0;a.c3=0;a.uvy0=0;a.reg27=0;a.q19=0;a.q17=0;a.vol=0;a.reg32=0;a.reg21=0;a.uvz0=0;a.len=0;a.reg18=0;a.beatcos=0;a.reg30=0;a.q2=0;a.b1y=0;a.q27=0;a.bri=0;a.slen=0;a.q14=0;a.dist=0;a.trel1=0;a.p3=0;a.reg17=\n0;a.v1=0;a.speed=0;a.vol2=0;a.q3=0;a.s1=0;a.vol_=0;a.dec=0;a.s2=0;a.quad=0;a.b2y=0;a.ran1=0;a.q32=0;a.reg33=0;a.q7=0;a.ds=0;a.q28=0;a.ty=0;a.excite=0;a.c1=0;a.v2=0;a.q20=0;a.p4=0;a.q8=0;a.maxvol=0;for(var b=a.n=0;2E4>b;b++)a.megabuf[Math.floor(a.n)]=0,a.gmegabuf[Math.floor(a.n)]=0,a.n+=1;a.minbpm=30;a.maxbpm=230;a.num_res=100;for(b=a.index=0;b<a.num_res;b++)a.n=12*a.index,a.bpm=a.minbpm*pow(div(a.maxbpm,a.minbpm),div(a.index,a.num_res)),a.gmegabuf[Math.floor(a.n)]=a.bpm,a.index+=1;a.pi=3.1416;a.octave=\ndiv(a.num_res*Math.log(2),Math.log(div(a.maxbpm,a.minbpm)));a.q7=.15;a.q8=.2+randint(1);a.q16=1.6;a.start=1;a.travel=0;a.rotz=0;a.t0=a.time+3;a.cran0=randint(1);a.trelx=0;a.trely=0;a.trelz=0;a.reg20=1;a.reg21=0;a.reg22=0;a.reg23=0;a.reg24=1;a.reg25=0;a.reg26=0;a.reg27=0;a.reg28=1;b=0;do{b+=1;var c;a.ran1=randint(8);a.ran2=randint(8);a.ran3=randint(8);a.posx=randint(8);a.posy=randint(8);a.posz=randint(8);a.c1=Math.cos(a.ran1);a.c2=Math.cos(a.ran2);a.c3=Math.cos(a.ran3);a.s1=Math.sin(a.ran1);a.s2=Math.sin(a.ran2);\na.s3=Math.sin(a.ran3);a.reg20=a.c2*a.c1;a.reg21=a.c2*a.s1;a.reg22=-a.s2;a.reg23=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg24=a.s3*a.s2*a.s1+a.c3*a.c1;a.reg25=a.s3*a.c2;a.reg26=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg27=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg28=a.c3*a.c2;a.dist=.001;var d=0;do{d+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=a.posy;a.uvz+=a.posz;a.uvx=1+2*(div(a.uvx,4)+30.5-Math.floor(div(a.uvx,4)+30.5)-.5);a.uvy=2+2*(div(a.uvy,4)+30.5-Math.floor(div(a.uvy,\n4)+30.5)-.5);a.uvz=3+2*(div(a.uvz,4)+30.5-Math.floor(div(a.uvz,4)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>a.uvz?1:0)?-2-a.uvz:a.uvz,a.slen=a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:\n.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)+a.uvx0,a.uvy=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)+a.uvy0,a.uvz=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.05;c=(.6>a.dist?1:0)*(30<a.len?1:0)}while(.00001<Math.abs(c)&&1048576>d);d=.06>a.dist?1:0}while(.00001<Math.abs(d)&&1048576>b);", frame_eqs_str: "a.dt=Math.min(div(1,a.fps),.1);a.dec_f=.8;a.dec_m=1-4*a.dt;a.dec_s=1-a.dt;a.vol=div(a.bass+div(a.mid,2)+a.treb,3);a.vol_=a.vol_*a.dec_m+(1-a.dec_m)*a.vol;a.dec=a.dec_s;a.vol2=a.vol2*a.dec+(1-a.dec)*Math.min(3,a.vol);a.maxvol=.00001<Math.abs(a.vol>a.maxvol?1:0)?a.vol:a.maxvol*a.dec_s;a.excite=a.vol-a.vol_;a.index=0;a.maxind1=0;for(var b=a.mean=0;b<a.num_res;b++){a.n=12*a.index;a.omega=div(2*a.gmegabuf[Math.floor(a.n)]*a.pi,60);a.gmegabuf[Math.floor(a.n+1)]*=1-.25*a.dt;a.ec_steps=\nMath.floor(10*a.dt*a.omega)+1;a.dt1=div(a.dt,a.ec_steps);a.ex=a.excite;for(var c=0;c<a.ec_steps;c++)a.gmegabuf[Math.floor(a.n+1)]+=(a.ex-sqr(a.omega)*a.gmegabuf[Math.floor(a.n+2)])*a.dt1,a.gmegabuf[Math.floor(a.n+2)]+=a.gmegabuf[Math.floor(a.n+1)]*a.dt1;a.beatcos=a.gmegabuf[Math.floor(a.n+1)];a.beatsin=a.gmegabuf[Math.floor(a.n+2)]*a.omega;a.quad=sqrt(pow(a.beatsin,2)+pow(a.beatcos,2));a.mean+=div(a.quad,a.num_res);a.gmegabuf[Math.floor(a.n+3)]=a.gmegabuf[Math.floor(a.n+3)]*a.dec_m+a.quad*(1-a.dec_m);\n.00001<Math.abs(a.gmegabuf[Math.floor(a.n+3)]>a.gmegabuf[Math.floor(12*a.maxind1+3)]?1:0)?a.maxind1=a.index:0;a.index+=1}a.quali=div(a.gmegabuf[Math.floor(12*a.maxind1+3)],a.mean);a.bpm=a.minbpm*pow(div(a.maxbpm,a.minbpm),div(a.maxind1,a.num_res));.00001<Math.abs(160<a.bpm?1:0)?a.bpm/=2:0;a.trel1+=(div(a.bpm,60)*a.pi+a.excite*a.cosb)*(.7<a.maxvol?1:0)*a.dt;a.q32=a.trel1;a.speed=div((.15+.25*a.dist_)*(1+a.avg),a.q7)*(.34+.34*a.vol_)*(a.q8+.8);a.ds=a.ds*a.dec_s+(1-a.dec_s)*a.speed*.25*a.dt;a.rotz=.8*\npow(Math.sin(div(a.time,12)),5);a.dirx=a.reg26;a.diry=a.reg27;a.dirz=a.reg28;a.posx+=a.ds*a.dirx;a.posy+=a.ds*a.diry;a.posz+=a.ds*a.dirz;a.q4=a.posx;a.q5=a.posy;a.q6=a.posz;a.angchg=Math.max(0,.4-a.dist_);a.v1=a.v1*a.dec_m+(1-a.dec_m)*a.rotz*a.ds;a.dec=1-3*a.dt;a.v2p=a.v2p*a.dec+(1-a.dec)*(a.angchg*a.xslope+.02*a.p2)*a.dt;a.v3p=a.v3p*a.dec+(1-a.dec)*(a.angchg*a.yslope+.02*a.p3)*a.dt;a.v2=a.v2*a.dec+(1-a.dec)*a.v2p;a.v3=a.v3*a.dec+(1-a.dec)*a.v3p;a.p3=sign(a.v3);a.p4=sign(a.v2);a.reg30=a.reg20;a.reg31=\na.reg21;a.reg32=a.reg22;a.reg33=a.reg23;a.reg34=a.reg24;a.reg35=a.reg25;a.reg36=a.reg26;a.reg37=a.reg27;a.reg38=a.reg28;a.n=0;for(b=a.avg=0;5>b;b++){a.n+=1;a.ran1=div(randint(100),100);a.ran2=div(randint(100),200)-.25;a.tx=Math.cos(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.ty=Math.sin(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.c1=Math.cos(a.v1);a.c2=Math.cos(a.v2+a.ty);a.c3=Math.cos(a.v3+a.tx);a.s1=Math.sin(a.v1);a.s2=Math.sin(a.v2+a.ty);a.s3=Math.sin(a.v3+a.tx);a.reg10=a.c2*a.c1;a.reg11=a.c2*a.s1;a.reg12=\n-a.s2;a.reg13=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg14=a.s3*a.s2*a.s1+a.c3*a.c1;a.reg15=a.s3*a.c2;a.reg16=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg17=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg18=a.c3*a.c2;a.reg20=a.reg30;a.reg21=a.reg31;a.reg22=a.reg32;a.reg23=a.reg33;a.reg24=a.reg34;a.reg25=a.reg35;a.reg26=a.reg36;a.reg27=a.reg37;a.reg28=a.reg38;a.q20=a.reg10*a.reg20+a.reg11*a.reg23+a.reg12*a.reg26;a.q21=a.reg10*a.reg21+a.reg11*a.reg24+a.reg12*a.reg27;a.q22=a.reg10*a.reg22+a.reg11*a.reg25+a.reg12*a.reg28;a.q23=a.reg13*a.reg20+\na.reg14*a.reg23+a.reg15*a.reg26;a.q24=a.reg13*a.reg21+a.reg14*a.reg24+a.reg15*a.reg27;a.q25=a.reg13*a.reg22+a.reg14*a.reg25+a.reg15*a.reg28;a.q26=a.reg16*a.reg20+a.reg17*a.reg23+a.reg18*a.reg26;a.q27=a.reg16*a.reg21+a.reg17*a.reg24+a.reg18*a.reg27;a.q28=a.reg16*a.reg22+a.reg17*a.reg25+a.reg18*a.reg28;a.reg20=a.q20;a.reg21=a.q21;a.reg22=a.q22;a.reg23=a.q23;a.reg24=a.q24;a.reg25=a.q25;a.reg26=a.q26;a.reg27=a.q27;a.reg28=a.q28;a.dist=.002;var d;c=0;do{c+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*\na.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=a.posy;a.uvz+=a.posz;a.uvx=1+2*(div(a.uvx,4)+30.5-Math.floor(div(a.uvx,4)+30.5)-.5);a.uvy=2+2*(div(a.uvy,4)+30.5-Math.floor(div(a.uvy,4)+30.5)-.5);a.uvz=3+2*(div(a.uvz,4)+30.5-Math.floor(div(a.uvz,4)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(d=0;8>d;d++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?\n1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>a.uvz?1:0)?-2-a.uvz:a.uvz,a.slen=a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)+a.uvx0,a.uvy=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)+a.uvy0,a.uvz=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)+a.uvz0;a.len=sqrt(a.uvx*\na.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.1;d=(.6>a.dist?1:0)*(30<a.len?1:0)}while(.00001<Math.abs(d)&&1048576>c);a.megabuf[Math.floor(a.n)]=a.megabuf[Math.floor(a.n)]*a.dec_s+(1-a.dec_s)*a.dist;a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5))}a.n=0;for(b=a.avg=0;5>b;b++)a.n+=1,a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5));a.xslope=Math.min(Math.max(8*(a.megabuf[1]-a.megabuf[3]),-2),2);a.yslope=Math.min(Math.max(8*(a.megabuf[4]-a.megabuf[2]),-2),2);a.dist_=a.dist_*a.dec_m+(1-a.dec_m)*a.dist;\na.q10=a.ds*a.q7;a.q14=Math.abs(a.ds)+2*(Math.abs(a.v1)+Math.abs(a.v2)+Math.abs(a.v3))+div(1,255)+0*a.start;a.start*=.9;a.reg52=-a.v2;a.reg53=a.v3;a.warp=0;a.zoom=1;a.rot=a.v1;a.sinb=Math.sin(a.trel1);a.cosb=Math.cos(a.trel1);a.bt1=0>a.sinb*a.sinb_?1:0;a.bt2=0>a.cosb*a.cosb_?1:0;.00001<Math.abs(a.bt1)?(a.b1x=randint(2)-1,a.b1y=randint(2)-1):0;.00001<Math.abs(a.bt2)?(a.b2x=randint(2)-1,a.b2y=randint(2)-1):0;a.sinb_=a.sinb;a.cosb_=a.cosb;a.bri=.012*a.vol2*sqrt(div(100,a.bpm))+.01*a.excite;a.mov=div(sqrt(a.v3*\na.v3+a.v2*a.v2),a.dt);a.q1=a.b1x*Math.abs(a.b1x);a.q2=a.b1y*Math.abs(a.b1y);a.q17=.4*a.b2x;a.q18=.4*a.b2y;a.len=pow(a.q1,2)+pow(a.q2,2);a.q3=pow(a.sinb,2)*a.bri*(1+4*a.len)*Math.max(0,1-5*a.mov);a.q19=pow(a.cosb,2)*a.bri*1.2;a.monitor=a.q8;", pixel_eqs_str: "a.warp=0;a.zoom=1;a.tx=Math.tan(.9*(2*a.x-1));a.ty=Math.tan(.9*(2*a.y-1));a.dx=div(a.reg52,a.q16)*(1+.5*Math.abs(a.tx));a.dy=div(a.reg53,a.q16)*(1+.5*Math.abs(a.ty));a.dx+=a.reg53*a.ty*(a.x-.5);a.dy+=a.reg52*a.tx*(a.y-.5);", warp: "float sustain;\nfloat pix;\nvec3 mod1;\nfloat xlat_mutabledist;\nfloat xlat_mutablestruc;\nvec2 xlat_mutableuv1;\nvec3 xlat_mutableuv2;\n shader_body { \n  mat3 tmpvar_1;\n  tmpvar_1[uint(0)].x = q20;\n  tmpvar_1[uint(0)].y = q23;\n  tmpvar_1[uint(0)].z = q26;\n  tmpvar_1[1u].x = q21;\n  tmpvar_1[1u].y = q24;\n  tmpvar_1[1u].z = q27;\n  tmpvar_1[2u].x = q22;\n  tmpvar_1[2u].y = q25;\n  tmpvar_1[2u].z = q28;\n  vec3 tmpvar_2;\n  tmpvar_2.x = q4;\n  tmpvar_2.y = q5;\n  tmpvar_2.z = q6;\n  sustain = (0.97 - q14);\n  pix = (texsize.z * 2.0);\n  mod1 = (rand_preset.xyz - 0.5);\n  vec2 uv_3;\n  vec3 ret_4;\n  vec2 tmpvar_5;\n  tmpvar_5 = (uv - 0.5);\n  xlat_mutableuv1 = ((tmpvar_5 * aspect.xy) * q16);\n  vec4 tmpvar_6;\n  tmpvar_6 = texture (sampler_pw_main, uv);\n  uv_3 = ((tmpvar_5 * (1.0 - \n    (q10 / (1.0 - (tmpvar_6.z + (0.003921569 * tmpvar_6.y))))\n  )) + 0.5);\n  vec4 tmpvar_7;\n  tmpvar_7 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));\n  xlat_mutabledist = tmpvar_7.x;\n  if ((tmpvar_7.y > 0.16)) {\n    vec4 nb2_8;\n    vec4 nb_9;\n    vec4 tmpvar_10;\n    tmpvar_10 = texture (sampler_pw_main, (uv_3 + vec2(-(pix))));\n    nb_9.x = (1.0 - (tmpvar_10.z + (0.003921569 * tmpvar_10.y)));\n    vec4 tmpvar_11;\n    tmpvar_11 = texture (sampler_pw_main, (uv_3 + (pix * vec2(1.0, -1.0))));\n    nb_9.y = (1.0 - (tmpvar_11.z + (0.003921569 * tmpvar_11.y)));\n    vec4 tmpvar_12;\n    tmpvar_12 = texture (sampler_pw_main, (uv_3 + vec2(pix)));\n    nb_9.z = (1.0 - (tmpvar_12.z + (0.003921569 * tmpvar_12.y)));\n    vec4 tmpvar_13;\n    tmpvar_13 = texture (sampler_pw_main, (uv_3 + (pix * vec2(-1.0, 1.0))));\n    nb_9.w = (1.0 - (tmpvar_13.z + (0.003921569 * tmpvar_13.y)));\n    vec4 tmpvar_14;\n    tmpvar_14 = texture (sampler_pw_main, (uv_3 + (pix * vec2(0.0, -1.0))));\n    nb2_8.x = (1.0 - (tmpvar_14.z + (0.003921569 * tmpvar_14.y)));\n    vec4 tmpvar_15;\n    tmpvar_15 = texture (sampler_pw_main, (uv_3 + (pix * vec2(1.0, 0.0))));\n    nb2_8.y = (1.0 - (tmpvar_15.z + (0.003921569 * tmpvar_15.y)));\n    vec4 tmpvar_16;\n    tmpvar_16 = texture (sampler_pw_main, (uv_3 + (pix * vec2(0.0, 1.0))));\n    nb2_8.z = (1.0 - (tmpvar_16.z + (0.003921569 * tmpvar_16.y)));\n    vec4 tmpvar_17;\n    tmpvar_17 = texture (sampler_pw_main, (uv_3 + (pix * vec2(-1.0, 0.0))));\n    nb2_8.w = (1.0 - (tmpvar_17.z + (0.003921569 * tmpvar_17.y)));\n    vec4 tmpvar_18;\n    tmpvar_18 = min (nb_9, nb2_8);\n    nb_9.zw = tmpvar_18.zw;\n    nb_9.xy = min (tmpvar_18.xy, tmpvar_18.zw);\n    xlat_mutabledist = ((min (nb_9.x, nb_9.y) + (\n      (0.006 * (tmpvar_7.xyz - 0.5).x)\n     * tmpvar_7.y)) - (q10 * 0.5));\n  };\n  float theta_19;\n  theta_19 = (xlat_mutabledist * 1.35);\n  float theta_20;\n  theta_20 = (xlat_mutabledist * 1.35);\n  vec3 tmpvar_21;\n  tmpvar_21.xy = (xlat_mutableuv1 * ((\n    sin(theta_19)\n   / \n    cos(theta_19)\n  ) / 1.35));\n  tmpvar_21.z = ((sin(theta_20) / cos(theta_20)) / 1.35);\n  xlat_mutableuv2 = (((tmpvar_21 / q7) * tmpvar_1) + tmpvar_2);\n  xlat_mutableuv2 = (((\n    fract(((xlat_mutableuv2 / 4.0) + 0.5))\n   - 0.5) * 2.0) + vec3(1.0, 2.0, 3.0));\n  vec3 zz0_23;\n  vec3 zz_24;\n  zz_24 = xlat_mutableuv2;\n  zz0_23 = (xlat_mutableuv2 + q8);\n  for (int n_22 = 0; n_22 <= 8; n_22++) {\n    zz_24 = ((2.0 * clamp (zz_24, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_24);\n    zz_24 = (zz_24 * max ((1.0/(\n      dot (zz_24, zz_24)\n    )), 1.0));\n    zz_24 = ((2.6 * zz_24) + zz0_23);\n  };\n  vec4 tmpvar_25;\n  tmpvar_25.w = 0.0;\n  tmpvar_25.xyz = zz_24;\n  float tmpvar_26;\n  tmpvar_26 = sqrt(dot (zz_24, zz_24));\n  vec4 tmpvar_27;\n  tmpvar_27.w = 0.0;\n  tmpvar_27.xyz = mod1;\n  xlat_mutablestruc = ((1.0 - (\n    (1.4 * dot (tmpvar_25, tmpvar_27))\n   / 40.0)) - (xlat_mutabledist * 0.3));\n  if (((tmpvar_26 < 40.0) && (xlat_mutabledist > (0.04 * \n    (1.0 - rad)\n  )))) {\n    ret_4.x = mix (xlat_mutablestruc, texture (sampler_main, uv_3).x, sustain);\n    float x_28;\n    x_28 = ((1.0 - xlat_mutabledist) * 255.0);\n    float ip_29;\n    ip_29 = float(int(x_28));\n    vec2 tmpvar_30;\n    tmpvar_30.x = (x_28 - ip_29);\n    tmpvar_30.y = (ip_29 / 255.0);\n    ret_4.yz = tmpvar_30;\n  } else {\n    ret_4 = ((texture (sampler_fc_main, uv_3) * sustain) - 0.003921569).xyz;\n  };\n  vec4 tmpvar_31;\n  tmpvar_31.w = 1.0;\n  tmpvar_31.xyz = ret_4;\n  ret = tmpvar_31.xyz;\n }", comp: "float xlat_mutablecross1;\nvec2 xlat_mutabledz1;\nfloat xlat_mutablerdist;\nvec2 xlat_mutableuv0;\nvec2 xlat_mutableuv4;\nvec2 xlat_mutableuva;\nvec2 xlat_mutableuvb;\n shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1.x = q1;\n  tmpvar_1.y = q2;\n  vec2 tmpvar_2;\n  tmpvar_2.x = q17;\n  tmpvar_2.y = q18;\n  vec2 uv_3;\n  vec3 ret_4;\n  uv_3 = (uv + (texsize.zw / 2.0));\n  xlat_mutableuv0 = uv_3;\n  vec2 uvi_5;\n  uvi_5 = (uv_3 + vec2(0.002, 0.0));\n  float tmpvar_6;\n  tmpvar_6 = mix (((texture (sampler_blur1, uvi_5).xyz * scale1) + bias1).x, texture (sampler_main, uvi_5).x, 0.1);\n  vec2 uvi_7;\n  uvi_7 = (uv_3 - vec2(0.002, 0.0));\n  float tmpvar_8;\n  tmpvar_8 = mix (((texture (sampler_blur1, uvi_7).xyz * scale1) + bias1).x, texture (sampler_main, uvi_7).x, 0.1);\n  xlat_mutabledz1.x = ((tmpvar_6 * float(\n    (tmpvar_6 > 0.02)\n  )) - (tmpvar_8 * float(\n    (tmpvar_8 > 0.02)\n  )));\n  vec2 uvi_9;\n  uvi_9 = (uv_3 + vec2(0.0, 0.002));\n  float tmpvar_10;\n  tmpvar_10 = mix (((texture (sampler_blur1, uvi_9).xyz * scale1) + bias1).x, texture (sampler_main, uvi_9).x, 0.1);\n  vec2 uvi_11;\n  uvi_11 = (uv_3 - vec2(0.0, 0.002));\n  float tmpvar_12;\n  tmpvar_12 = mix (((texture (sampler_blur1, uvi_11).xyz * scale1) + bias1).x, texture (sampler_main, uvi_11).x, 0.1);\n  xlat_mutabledz1.y = ((tmpvar_10 * float(\n    (tmpvar_10 > 0.02)\n  )) - (tmpvar_12 * float(\n    (tmpvar_12 > 0.02)\n  )));\n  uv_3 = (uv_3 + (xlat_mutabledz1 * 0.26));\n  xlat_mutablerdist = ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1).z;\n  vec4 tmpvar_13;\n  tmpvar_13.w = 0.0;\n  tmpvar_13.xyz = texture (sampler_noise_hq, vec2(((xlat_mutablerdist * 0.05) + (time * 0.02)))).xyz;\n  vec4 tmpvar_14;\n  tmpvar_14 = mix (tmpvar_13, roam_sin, vec4(0.5, 0.5, 0.5, 0.5));\n  xlat_mutableuv4 = (uv_3 - 0.4);\n  xlat_mutableuva = ((xlat_mutableuv4 - tmpvar_1) - ((\n    ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1)\n  .x * 0.4) * float(\n    (xlat_mutablerdist > 0.2)\n  )));\n  xlat_mutableuvb = ((xlat_mutableuv4 - tmpvar_2) - ((\n    (texture (sampler_blur1, uv_3).xyz * scale1)\n   + bias1).x * 0.4));\n  float angle_15;\n  float tmpvar_16;\n  tmpvar_16 = abs(xlat_mutableuva.x);\n  if ((xlat_mutableuva.y >= 0.0)) {\n    angle_15 = (1.0 - ((xlat_mutableuva.y - tmpvar_16) / (xlat_mutableuva.y + tmpvar_16)));\n  } else {\n    angle_15 = (3.0 - ((xlat_mutableuva.y + tmpvar_16) / (tmpvar_16 - xlat_mutableuva.y)));\n  };\n  float tmpvar_17;\n  if ((xlat_mutableuva.x < 0.0)) {\n    tmpvar_17 = -(angle_15);\n  } else {\n    tmpvar_17 = angle_15;\n  };\n  xlat_mutablecross1 = ((pow (\n    sin((3.141593 * (tmpvar_17 + (5.1 * q20))))\n  , 1.5) + (xlat_mutablerdist / 2.0)) + 0.1);\n  vec3 tmpvar_18;\n  tmpvar_18 = vec3((((1.0/(\n    dot (xlat_mutableuva, xlat_mutableuva)\n  )) / xlat_mutablecross1) * q3));\n  vec3 tmpvar_19;\n  tmpvar_19 = vec3(((1.0/(dot (xlat_mutableuvb, xlat_mutableuvb))) * q19));\n  ret_4 = (clamp ((1.0 - \n    (2.0 * xlat_mutablerdist)\n  ), 0.0, 1.0) * ((\n    (tmpvar_18 * tmpvar_14.xyz)\n   + \n    (tmpvar_19 * (1.0 - tmpvar_14.xyz))\n  ) + 0.1));\n  ret_4 = (ret_4 + (clamp (\n    (2.0 * xlat_mutablerdist)\n  , 0.0, 1.0) * (\n    (tmpvar_18 * tmpvar_14.zyx)\n   + \n    (tmpvar_19 * (1.0 - tmpvar_14.zyx))\n  )));\n  ret_4 = (ret_4 + ((\n    (texture (sampler_blur1, xlat_mutableuv0).xyz * scale1)\n   + bias1).x * 0.05));\n  ret_4 = (1.0 - exp(-(ret_4)));\n  vec4 tmpvar_20;\n  tmpvar_20.w = 1.0;\n  tmpvar_20.xyz = ret_4;\n  ret = tmpvar_20.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 2, gammaadj: 1.980001, decay: 0.5, echo_zoom: 0.999998, echo_alpha: 0.5, echo_orient: 3, wave_mode: 5, wave_dots: 1, modwavealphabyvolume: 1, wave_brighten: 0, darken: 1, wave_a: 1e-3, wave_scale: 1.169162, wave_smoothing: 0, wave_mystery: 0.08, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 1.4595, warpscale: 2.0067, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0, wave_g: 0.99, ob_size: 0.015, ob_b: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 0, mv_r: 0.4999, mv_g: 0.4999, mv_b: 0.4999, mv_a: 0, b2x: 0.3, b1ed: 0}, shapes: [{baseVals: {enabled: 1, sides: 53, rad: 0.05408, tex_ang: 1.00531, tex_zoom: 1.531168, r: 0.2, g: 0.7, g2: 0, a2: 1, border_b: 0, border_a: 0}, init_eqs_str: "a.q24=0;a.rad0=0;", frame_eqs_str: "a.x=.5;a.y=.5;a.a=a.q24;a.a2=0;a.a=0;a.rad0=bnot(a.q24)*a.rad0+div(randint(10),50)*a.q24;a.rad=a.rad0;a.b=0;a.r=div(randint(10),10);a.g=1;a.a2=a.q24;"}, {baseVals: {enabled: 1, sides: 44, textured: 1, x: 0.7, rad: 0.2173, tex_zoom: 3.277448, g: 1, b: 0.5, r2: 1, b2: 1, a2: 1, border_r: 0.5, border_g: 0.5, border_b: 0}, init_eqs_str: "a.rot0=0;a.q1=0;a.posx=0;a.q24=0;a.posy=0;a.rad0=0;", frame_eqs_str: "a.textured=1;a.rot0+=div(1,a.fps)*a.q1;a.posx=(1-a.q24)*a.posx+a.q24*(.3+div(randint(100),200));a.posy=(1-a.q24)*a.posy+a.q24*(.3+div(randint(100),200));a.rad0=(1-a.q24)*a.rad0+a.q24*(.05+div(randint(100),300));a.rad=a.rad0;a.x=a.posx;a.y=a.posy;a.ang=a.rot0;"}, {baseVals: {enabled: 1, sides: 63, x: 0.503, rad: 0.038857, tex_zoom: 2.2233, g: 0.1, r2: 1, b2: 1, a2: 0.7, border_a: 0}, init_eqs_str: "a.rot0=0;a.q2=0;a.posx=0;a.q24=0;a.posy=0;a.rad0=0;a.q26=0;", frame_eqs_str: "a.textured=1;a.rot0+=div(.1,a.fps)*a.q2;a.posx=(1-a.q24)*a.posx+a.q24*(.3+div(randint(100),200));a.posy=(1-a.q24)*a.posy+a.q24*(.3+div(randint(100),200));a.rad0=(1-a.q24)*a.rad0+a.q24*(.05+div(randint(100),400));a.rad=a.rad0;a.x=a.posx+a.q26;a.y=a.posy;a.ang=a.rot0;"}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.index2=0;a.q25=0;a.index=0;a.q22=0;a.q21=0;a.q29=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.rott=0;a.is_beat=0;a.q31=0;a.q23=0;a.k1=0;a.q24=0;a.t_rel=0;a.dec_slow=0;a.q10=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.p3=0;a.q3=0;a.t0=0;a.q7=0;a.ds=0;a.q28=0;a.q30=0;a.q20=0;a.p4=0;a.q8=0;", frame_eqs_str: "a.dec_med=pow(.7,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.beat=a.bass+a.mid+a.treb;a.beat*=a.beat;a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2*a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),2);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;\na.q23=a.index;a.q24=a.is_beat;a.q26=a.bass_att+a.mid_att+a.treb_att+3;a.q27=a.index+1;a.q28=a.index2;a.q29=a.index2;a.monitor=a.q29;a.k1=a.is_beat*equal(mod(a.index,2),0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.1416*a.p2,4);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.q5=Math.cos(div(a.time,17));a.q6=Math.sin(div(a.time,17));a.q7=-a.q2;a.q8=a.q1;a.ds=a.ds*a.dec_med+a.q24*(1-a.dec_med);a.q25=a.q24;a.q10=a.q22+3;a.t_rel=8*a.time;a.p3=\na.p3*a.dec_med+(1-a.dec_med)*(100*a.index+0*a.q26);a.q30=a.p3;a.p4=a.dec_med*a.p4+(1-a.dec_med)*a.q27;a.q31=a.p4;a.zoom=1.1+.2*a.q1;a.warp=0;a.ob_size=.01;a.ob_r=.9;a.ob_g=1;a.ob_b=0;a.ob_a=.2*Math.sin(div(a.time,7));", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec2 uv_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = ((uv - 0.5) * aspect.xy);\n  float tmpvar_3;\n  tmpvar_3 = (sqrt(dot (tmpvar_2, tmpvar_2)) + (rand_frame * 13.0)).x;\n  uv_1 = (uv + (clamp (\n    ((sin(tmpvar_3) / cos(tmpvar_3)) / normalize(tmpvar_2))\n  , vec2(-2.0, -2.0), vec2(2.0, 2.0)) / 16.0));\n  vec4 tmpvar_4;\n  tmpvar_4.w = 1.0;\n  tmpvar_4.xyz = ((q24 * (\n    ((texture (sampler_main, uv_1).xyz + ((0.1 * vec3(\n      ((q1 * cos((uv_1.x * 44.0))) - cos((uv_1.y * 82.0)))\n    )) * (1.0 + texture (sampler_noise_lq, \n      ((uv_1 / 16.0) + (time / 100.0))\n    )).xyz)) * 0.98)\n   - 0.025)) + ((1.0 - q24) * texture (sampler_main, uv_orig).xyz));\n  ret = tmpvar_4.xyz;\n }", comp: "vec2 xlat_mutabledz;\nvec3 xlat_mutableneu;\nvec3 xlat_mutableret1;\nvec2 xlat_mutableuv3;\n shader_body { \n  vec2 uv2_1;\n  vec2 tmpvar_2;\n  tmpvar_2.y = 0.0;\n  tmpvar_2.x = texsize.z;\n  vec2 tmpvar_3;\n  tmpvar_3.x = 0.0;\n  tmpvar_3.y = texsize.w;\n  xlat_mutabledz.x = dot ((texture (sampler_main, (uv + tmpvar_2)).xyz - texture (sampler_main, (uv - tmpvar_2)).xyz), vec3(0.32, 0.49, 0.29));\n  xlat_mutabledz.y = dot ((texture (sampler_main, (uv + tmpvar_3)).xyz - texture (sampler_main, (uv - tmpvar_3)).xyz), vec3(0.32, 0.49, 0.29));\n  uv2_1 = (uv - 0.5);\n  vec2 tmpvar_4;\n  tmpvar_4.y = 0.0;\n  float tmpvar_5;\n  tmpvar_5 = (time / 8.0);\n  tmpvar_4.x = tmpvar_5;\n  float tmpvar_6;\n  tmpvar_6 = (q27 * 2.0);\n  xlat_mutableuv3 = (((tmpvar_6 * uv2_1) * 0.1) + tmpvar_4);\n  xlat_mutableuv3 = (fract(xlat_mutableuv3) * aspect.yx);\n  xlat_mutableuv3 = ((0.1 * cos(\n    (22.0 * xlat_mutableuv3)\n  )) + (18.0 * xlat_mutabledz));\n  float tmpvar_7;\n  tmpvar_7 = clamp ((0.02 / sqrt(\n    dot (xlat_mutableuv3, xlat_mutableuv3)\n  )), 0.0, 1.0);\n  vec4 tmpvar_8;\n  tmpvar_8 = (1.0 + roam_cos);\n  xlat_mutableneu = ((0.1 * vec3(tmpvar_7)) + ((0.45 * \n    dot (vec3(tmpvar_7), vec3(0.32, 0.49, 0.29))\n  ) * tmpvar_8).xyz);\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * 1.252262));\n  vec2 tmpvar_9;\n  tmpvar_9.y = 0.0;\n  tmpvar_9.x = tmpvar_5;\n  xlat_mutableuv3 = (((tmpvar_6 * uv2_1) * 0.1) + tmpvar_9);\n  xlat_mutableuv3 = (fract(xlat_mutableuv3) * aspect.yx);\n  xlat_mutableuv3 = ((0.1 * cos(\n    (22.0 * xlat_mutableuv3)\n  )) + (18.0 * xlat_mutabledz));\n  float tmpvar_10;\n  tmpvar_10 = clamp ((0.02 / sqrt(\n    dot (xlat_mutableuv3, xlat_mutableuv3)\n  )), 0.0, 1.0);\n  xlat_mutableneu = ((0.1 * vec3(tmpvar_10)) + ((0.45 * \n    dot (vec3(tmpvar_10), vec3(0.32, 0.49, 0.29))\n  ) * tmpvar_8).xyz);\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * 1.252262));\n  vec4 tmpvar_11;\n  tmpvar_11.w = 1.0;\n  tmpvar_11.xyz = (xlat_mutableret1 + clamp ((\n    (texture (sampler_main, uv).xyz * 4.0)\n   * \n    (0.2 + xlat_mutableret1)\n  ), 0.0, 1.0));\n  ret = tmpvar_11.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1.980001, decay: 0.5, echo_zoom: 0.999998, echo_alpha: 0.5, echo_orient: 3, wave_mode: 6, wave_thick: 1, modwavealphabyvolume: 1, darken: 1, wave_a: 1e-3, wave_scale: 0.159809, wave_smoothing: 0.45, wave_mystery: 0.08, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 1.4595, warpscale: 2.0067, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0, wave_g: 0, wave_b: 0, wave_y: 0.9, ob_r: 1, ob_g: 1, ob_b: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 1.85, mv_r: 0.4999, mv_g: 0.4999, mv_b: 0.4999, mv_a: 0, b1x: 0.6999, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.index=0;a.q22=0;a.q21=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.movez=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.q3=0;a.t0=0;a.q32=0;a.q7=0;a.q20=0;", frame_eqs_str: "a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass+a.mid+a.treb;a.k1=a.is_beat*equal(a.index,0);a.p1=\na.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_slow*a.p2+(1-a.dec_slow)*a.p1;a.rott=div(3.1416*a.p2,4);a.q27=a.index+1;a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.zoom=1;a.rot=-0*a.index;a.q32=pow(.996,div(30,a.fps));a.q5=div(Math.sin(div(a.time,11))+1,5);a.movez+=div(.06,a.fps)*(1.1+a.q1);a.q6=a.movez;a.q7=.005*Math.sin(div(a.time,15));", pixel_eqs_str: "", pixel_eqs: "", warp: "vec3 xlat_mutablenoise;\nvec2 xlat_mutablers;\nvec2 xlat_mutablers0;\nvec2 xlat_mutableuv1;\n shader_body { \n  vec3 copy_1;\n  vec2 tmpvar_2;\n  tmpvar_2.x = 0.5;\n  tmpvar_2.y = q5;\n  xlat_mutableuv1 = (uv - tmpvar_2);\n  float tmpvar_3;\n  tmpvar_3 = (1.0/(xlat_mutableuv1.y));\n  xlat_mutablers0.x = (xlat_mutableuv1.x * tmpvar_3);\n  xlat_mutablers0.y = tmpvar_3;\n  xlat_mutablers.x = xlat_mutablers0.x;\n  xlat_mutablers.y = (tmpvar_3 + (time * 0.3));\n  xlat_mutablenoise = (vec3(dot (texture (sampler_pw_noise_lq, (xlat_mutablers / 63.0)), vec4(0.32, 0.49, 0.29, 0.0))) * (dot (texture (sampler_pw_noise_lq, \n    (xlat_mutablers / 12.0)\n  ), vec4(0.32, 0.49, 0.29, 0.0)) + 0.5));\n  xlat_mutablenoise = (xlat_mutablenoise * (clamp (\n    ((10.0 * xlat_mutablenoise) - 8.0)\n  , 0.0, 1.0) * clamp (\n    (2.0 / tmpvar_3)\n  , 0.0, 1.0)));\n  vec2 tmpvar_4;\n  tmpvar_4.x = uv.x;\n  tmpvar_4.y = (uv.y - (0.024 / tmpvar_3));\n  vec2 tmpvar_5;\n  tmpvar_5.x = uv.x;\n  tmpvar_5.y = (uv.y - (0.012 / tmpvar_3));\n  copy_1 = (texture (sampler_main, tmpvar_4).xyz + texture (sampler_main, tmpvar_5).xyz);\n  vec2 tmpvar_6;\n  tmpvar_6.x = uv.x;\n  tmpvar_6.y = (uv.y - (0.006 / tmpvar_3));\n  copy_1 = (copy_1 + texture (sampler_main, tmpvar_6).xyz);\n  vec4 tmpvar_7;\n  tmpvar_7.w = 1.0;\n  tmpvar_7.xyz = ((xlat_mutablenoise + (\n    (((copy_1 / 3.0) * (1.0 + slow_roam_cos).xyz) / 2.0)\n   * 0.99)) - 0.005);\n  ret = tmpvar_7.xyz;\n }", comp: "vec3 xlat_mutablecont;\nvec3 xlat_mutableneu;\nvec3 xlat_mutableret1;\nvec2 xlat_mutablers2;\n shader_body { \n  vec2 uv_1;\n  float inten_2;\n  float dist_3;\n  uv_1 = (uv - 0.5);\n  uv_1 = (uv_1 * aspect.xy);\n  dist_3 = (1.0 - fract(q6));\n  inten_2 = ((dist_3 * (1.0 - dist_3)) * 6.0);\n  vec2 tmpvar_4;\n  tmpvar_4 = fract(((uv_1 * dist_3) + 0.55));\n  xlat_mutableneu = texture (sampler_main, tmpvar_4).xyz;\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * inten_2));\n  xlat_mutablecont = max (vec3(0.0, 0.0, 0.0), ((\n    -(texture (sampler_main, tmpvar_4).xyz)\n   + \n    ((texture (sampler_blur1, (tmpvar_4 + q7)).xyz * scale1) + bias1)\n  ) * inten_2));\n  dist_3 = (1.0 - fract((0.5 + q6)));\n  inten_2 = ((dist_3 * (1.0 - dist_3)) * 6.0);\n  vec2 tmpvar_5;\n  tmpvar_5 = fract(((uv_1 * dist_3) + 0.55));\n  xlat_mutableneu = texture (sampler_main, tmpvar_5).xyz;\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_2));\n  xlat_mutablecont = max (xlat_mutablecont, ((\n    -(texture (sampler_main, tmpvar_5).xyz)\n   + \n    ((texture (sampler_blur1, (tmpvar_5 + q7)).xyz * scale1) + bias1)\n  ) * inten_2));\n  dist_3 = (1.0 - fract((1.0 + q6)));\n  inten_2 = ((dist_3 * (1.0 - dist_3)) * 6.0);\n  vec2 tmpvar_6;\n  tmpvar_6 = fract(((uv_1 * dist_3) + 0.55));\n  xlat_mutableneu = texture (sampler_main, tmpvar_6).xyz;\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_2));\n  xlat_mutablecont = max (xlat_mutablecont, ((\n    -(texture (sampler_main, tmpvar_6).xyz)\n   + \n    ((texture (sampler_blur1, (tmpvar_6 + q7)).xyz * scale1) + bias1)\n  ) * inten_2));\n  vec2 tmpvar_7;\n  tmpvar_7.y = 5.0;\n  tmpvar_7.x = (time / 12.0);\n  xlat_mutablers2 = ((0.1 * cos(\n    ((uv_1 * 3.0) + tmpvar_7)\n  )) + (0.1 * xlat_mutableret1).xy);\n  vec4 tmpvar_8;\n  tmpvar_8.w = 1.0;\n  tmpvar_8.xyz = (((-0.1 * xlat_mutableret1) + (\n    (clamp ((0.005 / sqrt(\n      dot (xlat_mutablers2, xlat_mutablers2)\n    )), 0.0, 1.0) * vec3(18.0, 16.2, 10.8))\n   * \n    (0.2 + (0.3 * xlat_mutableret1))\n  )) + ((\n    dot (xlat_mutablecont, vec3(0.32, 0.49, 0.29))\n   * \n    (1.0 + slow_roam_cos)\n  ) / 2.0).xyz);\n  ret = tmpvar_8.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.980001, decay: 0.5, echo_zoom: 0.999998, echo_alpha: 0.5, echo_orient: 3, wave_mode: 6, wave_dots: 1, modwavealphabyvolume: 1, darken: 1, wave_a: 1e-3, wave_scale: 1.740724, wave_smoothing: 0.45, wave_mystery: 0.08, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 1.4595, warpscale: 2.0067, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_g: 0.99, ob_size: 0, ob_r: 1, ob_b: 1, ob_a: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 1.85, mv_r: 0.4999, mv_g: 0.4999, mv_b: 0.4999, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.index2=0;a.index4=0;a.index=0;a.q22=0;a.q21=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.index3=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.t_rel=0;a.dec_slow=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.movez=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.p3=0;a.q3=0;a.t0=0;a.q7=0;a.q28=0;a.q30=0;a.q20=0;a.q8=0;a.p3=0;a.t_rel=0;", frame_eqs_str: "a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.5+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),4);a.index3=mod(a.index3+a.is_beat*bnot(a.index)*bnot(a.index2),3);a.monitor=a.index4;\na.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass_att+a.mid_att+a.treb_att+1;a.k1=a.is_beat*equal(a.index,0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.p3=a.dec_med*a.p3+(1-a.dec_med)*a.p2;a.rott=div(3.14159265359*a.p3,2);a.q27=8-a.index;a.q28=a.index2+1;a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.t_rel+=div(.6,a.fps)*a.q1*a.q1;a.q5=Math.cos(a.t_rel);a.q6=Math.sin(a.t_rel);a.q7=-a.q6;a.q8=a.q5;a.movez+=div(div(.6,\na.fps),(1.4-a.q5)*(1.4-a.q5));a.q30=a.movez;a.zoom=1;", pixel_eqs_str: "a.dx=div(0*a.q28,8);", warp: "vec3 xlat_mutablenoise;\nvec3 xlat_mutableret1;\nvec2 xlat_mutablers;\n shader_body { \n  float z_1;\n  mat2 tmpvar_2;\n  tmpvar_2[uint(0)] = _qb.xy;\n  tmpvar_2[1u] = _qb.zw;\n  vec2 tmpvar_3;\n  tmpvar_3 = ((uv * tmpvar_2) - 0.5);\n  float tmpvar_4;\n  tmpvar_4 = (0.4 / abs(tmpvar_3.y));\n  xlat_mutablers.x = (tmpvar_3.x * tmpvar_4);\n  xlat_mutablers.y = (tmpvar_4 + q30);\n  vec4 tmpvar_5;\n  tmpvar_5 = texture (sampler_pw_noise_lq, (xlat_mutablers / 32.0));\n  xlat_mutablenoise = (tmpvar_5.xyz * vec3(greaterThanEqual (tmpvar_5.xyz, vec3(0.9, 0.9, 0.9))));\n  xlat_mutablenoise = (xlat_mutablenoise * (1.0 + (0.5 * \n    (dot (texture (sampler_noise_hq, (16.0 * xlat_mutablers)), vec4(0.32, 0.49, 0.29, 0.0)) - 0.5)\n  )));\n  xlat_mutableret1 = xlat_mutablenoise;\n  z_1 = (1.2 / abs(tmpvar_3.y));\n  xlat_mutablers.x = (tmpvar_3.x * z_1);\n  xlat_mutablers.y = (z_1 + q30);\n  vec4 tmpvar_6;\n  tmpvar_6 = texture (sampler_pw_noise_lq, (xlat_mutablers / 32.0));\n  xlat_mutablenoise = (tmpvar_6.xyz * vec3(greaterThanEqual (tmpvar_6.xyz, vec3(0.9, 0.9, 0.9))));\n  xlat_mutableret1 = (xlat_mutableret1 + xlat_mutablenoise);\n  z_1 = (0.4 / abs(tmpvar_3.x));\n  xlat_mutablers.y = (tmpvar_3.y * z_1);\n  xlat_mutablers.x = (z_1 + q30);\n  vec4 tmpvar_7;\n  tmpvar_7 = texture (sampler_pw_noise_lq, (xlat_mutablers / 32.0));\n  xlat_mutablenoise = (tmpvar_7.xyz * vec3(greaterThanEqual (tmpvar_7.xyz, vec3(0.9, 0.9, 0.9))));\n  xlat_mutablenoise = (xlat_mutablenoise * (1.0 + (0.5 * \n    (dot (texture (sampler_noise_hq, (16.0 * xlat_mutablers)), vec4(0.32, 0.49, 0.29, 0.0)) - 0.5)\n  )));\n  xlat_mutableret1 = (xlat_mutableret1 + xlat_mutablenoise);\n  z_1 = (1.2 / abs(tmpvar_3.x));\n  xlat_mutablers.y = (tmpvar_3.y * z_1);\n  xlat_mutablers.x = (z_1 + q30);\n  vec4 tmpvar_8;\n  tmpvar_8 = texture (sampler_pw_noise_lq, (xlat_mutablers / 32.0));\n  xlat_mutablenoise = (tmpvar_8.xyz * vec3(greaterThanEqual (tmpvar_8.xyz, vec3(0.9, 0.9, 0.9))));\n  xlat_mutableret1 = (xlat_mutableret1 + xlat_mutablenoise);\n  vec4 tmpvar_9;\n  tmpvar_9.w = 1.0;\n  tmpvar_9.xyz = xlat_mutableret1;\n  ret = tmpvar_9.xyz;\n }", comp: "uniform sampler2D sampler_clouds2;\n shader_body { \n  vec2 uv_1;\n  vec2 uv1_2;\n  uv_1 = (uv * aspect.xy);\n  vec2 tmpvar_3;\n  tmpvar_3.y = 0.0;\n  tmpvar_3.x = texsize.z;\n  vec2 tmpvar_4;\n  tmpvar_4.x = 0.0;\n  tmpvar_4.y = texsize.w;\n  vec2 tmpvar_5;\n  tmpvar_5.x = (dot (texture (sampler_main, (uv_1 - tmpvar_3)).xyz, vec3(0.32, 0.49, 0.29)) - dot (texture (sampler_main, (uv_1 + tmpvar_3)).xyz, vec3(0.32, 0.49, 0.29)));\n  tmpvar_5.y = (dot (texture (sampler_main, (uv_1 - tmpvar_4)).xyz, vec3(0.32, 0.49, 0.29)) - dot (texture (sampler_main, (uv_1 + tmpvar_4)).xyz, vec3(0.32, 0.49, 0.29)));\n  uv1_2 = ((0.3 * sin(\n    ((uv_1 + (0.02 * time)) * 6.0)\n  )) + (0.2 * tmpvar_5));\n  vec4 tmpvar_6;\n  tmpvar_6 = texture (sampler_clouds2, (uv_orig + tmpvar_5));\n  vec4 tmpvar_7;\n  tmpvar_7.w = 1.0;\n  tmpvar_7.xyz = (((-2.0 * \n    (0.1 * texture (sampler_main, uv_1))\n  .xyz) + (\n    clamp (((0.004 * q26) / sqrt(dot (uv1_2, uv1_2))), 0.0, 1.0)\n   * vec3(1.0, 0.8, 0.4))) + (0.4 * (tmpvar_6.xyz + \n    (dot (tmpvar_6.xyz, vec3(0.32, 0.49, 0.29)) - 0.7)\n  )));\n  ret = tmpvar_7.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.780001, decay: 0.5, echo_zoom: 0.999998, echo_alpha: 0.5, echo_orient: 3, wave_mode: 5, wave_dots: 1, wave_thick: 1, wave_brighten: 0, darken: 1, wave_a: 1e-3, wave_scale: 5.552, wave_smoothing: 0.504, wave_mystery: -1, modwavealphastart: 0.71, modwavealphaend: 1.3, warpanimspeed: 1.4595, warpscale: 2.0067, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_g: 0, wave_b: 0, ob_size: 0.06, ob_r: 1, ob_g: 1, ob_b: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 0.85, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0, b1x: 0.6999, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 1, sides: 5, additive: 1, x: 0.9, rad: 0.22613, g: 0.6, g2: 0, border_a: 0}, init_eqs_str: "", frame_eqs_str: "a.x=.05+div(randint(900),1E3);a.y=.05+div(randint(900),1E3);a.ang=div(randint(320),100);"}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.ready=0;a.index2=0;a.index4=0;a.index=0;a.q22=0;a.q21=0;a.sp0=0;a.q29=0;a.q1=0;a.dec_med=0;a.q5=0;a.index3=0;a.rott=0;a.is_beat=0;a.q31=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.go=0;a.q4=0;a.is_beat2=0;a.q26=0;a.p2=0;a.avg=0;a.movez=0;a.q19=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.q3=0;a.t0=0;a.q32=0;a.q28=0;a.q30=0;a.q20=0;a.index4=randint(2);a.index3=randint(4);", frame_eqs_str: "a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.5+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,4);a.index2=mod(a.index2+a.is_beat*bnot(a.index),4);a.index3=mod(a.index3+a.is_beat*bnot(a.index)*bnot(a.index2),4);a.index4=mod(a.index4+\na.is_beat*bnot(a.index)*bnot(a.index2)*bnot(a.index3),2);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass+a.mid+a.treb;a.ready=a.is_beat*bnot(a.ready)+bnot(a.is_beat2)*a.ready;a.is_beat2=a.ready*above(a.time,a.t0+.2);a.q19=a.is_beat2;a.k1=a.is_beat*equal(a.index,0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.14159265359*a.p2,2);a.q27=a.index+1;a.q28=a.index2+1;a.q29=4*a.index3+1;a.q30=a.index4;a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);\na.q3=-a.q2;a.q4=a.q1;a.sp0=a.dec_slow*a.sp0+(a.q24+.05)*(1-a.dec_slow);a.go=a.go*a.dec_med+(1-a.dec_med)*(1-bnot(a.index2+a.index3));a.movez+=div(.015*30,a.fps)*a.go;a.q31=a.movez;a.q32=.5+.02*Math.sin(div(a.time,5));a.q5=mod(a.index4,2);a.zoom=1;a.rot=0;a.dx=.05*Math.max(Math.sin(div(a.time,9.7))-.95,0);a.dy=.002*(1-a.go);a.rot=50*(a.dx-a.dy);", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1 = ((uv * texsize.xy) * 0.03);\n  vec2 tmpvar_2;\n  tmpvar_2.x = (cos((tmpvar_1.y * q1)) * sin(-(tmpvar_1.y)));\n  tmpvar_2.y = (sin(tmpvar_1.x) * cos((tmpvar_1.y * q2)));\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = ((texture (sampler_main, (uv - \n    ((tmpvar_2 * texsize.zw) * 18.0)\n  )).xyz * 0.99) - 0.01);\n  ret = tmpvar_3.xyz;\n }", comp: " shader_body { \n  vec2 uv1_1;\n  vec3 tmpvar_2;\n  tmpvar_2 = texture (sampler_main, uv).xyz;\n  vec2 tmpvar_3;\n  tmpvar_3.x = (texture (sampler_main, (uv - vec2(0.001, 0.0))).xyz - texture (sampler_main, (uv + vec2(0.001, 0.0))).xyz).x;\n  tmpvar_3.y = (texture (sampler_main, (uv - vec2(0.0, 0.001))).xyz - texture (sampler_main, (uv + vec2(0.0, 0.001))).xyz).x;\n  uv1_1 = ((0.3 * cos(\n    ((uv - 0.5) + 1.8)\n  )) - (2.0 * tmpvar_3));\n  vec4 tmpvar_4;\n  tmpvar_4.w = 1.0;\n  tmpvar_4.xyz = (0.8 * ((0.3 * \n    dot (tmpvar_2, vec3(0.32, 0.49, 0.29))\n  ) + (\n    (22.0 * clamp ((0.01 / sqrt(\n      dot (uv1_1, uv1_1)\n    )), 0.0, 1.0))\n   * \n    (tmpvar_2 + 0.1)\n  )));\n  ret = tmpvar_4.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 3, gammaadj: 1.98, decay: 0.5, echo_zoom: 1, echo_alpha: 0.5, echo_orient: 3, wave_mode: 7, additivewave: 1, wave_thick: 1, modwavealphabyvolume: 1, wave_brighten: 0, wrap: 0, darken: 1, wave_a: 1e-3, wave_scale: 0.958, wave_smoothing: 0.45, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 1.459, warpscale: 2.007, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0, wave_g: 0, wave_b: 0, ob_size: 0.05, ob_g: 0.1, ob_b: 1, ob_a: 1, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, mv_x: 25.6, mv_y: 9.6, mv_l: 0, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.look=0;a.n=0;a.reg26=0;a.uvx0=0;a.reg34=0;a.reg28=0;a.reg23=0;a.q25=0;a.angchg=0;a.reg20=0;a.reg15=0;a.reg10=0;a.q12=0;a.v3=0;a.q22=0;a.q21=0;a.diry=0;a.q13=0;a.q6=0;a.posx=0;a.fps_=0;a.reg25=0;a.uvx=0;a.q1=0;a.travel=0;a.posz=0;a.q5=0;a.dirz=0;a.dec_s=0;a.reg16=0;a.slow=0;a.reg36=0;a.reg22=0;a.uvy=0;a.rotz=0;a.ly=0;a.dist_=0;a.q23=0;a.q24=0;a.reg24=0;a.cran0=0;a.ran2=0;a.q11=0;a.q10=0;a.reg14=0;a.posy=0;a.reg31=0;a.dirx=0;a.q4=0;a.start=0;a.reg12=0;a.reg13=0;a.c2=0;a.reg37=\n0;a.s3=0;a.yslope=0;a.lampy=0;a.q16=0;a.xslope=0;a.q26=0;a.reg38=0;a.reg35=0;a.reg11=0;a.tx=0;a.avg=0;a.uvz=0;a.c3=0;a.uvy0=0;a.reg27=0;a.q19=0;a.beat=0;a.reg32=0;a.lx=0;a.reg21=0;a.uvz0=0;a.len=0;a.reg18=0;a.reg30=0;a.q2=0;a.q27=0;a.slen=0;a.q14=0;a.dist=0;a.reg17=0;a.v1=0;a.speed=0;a.s1=0;a.t0=0;a.s2=0;a.ran1=0;a.reg33=0;a.q7=0;a.ds=0;a.q28=0;a.lampx=0;a.ty=0;a.c1=0;a.v2=0;a.q20=0;a.q8=0;a.avg=.01;a.q7=.25;a.q8=randint(2)-1;a.q16=1+randint(2);a.q18=randint(.8)+.1;a.q30=1;a.q31=128;a.start=1;a.travel=\n0;a.rotz=0;a.look=0;a.slow=0;a.t0=a.time+3;a.lampx=.5;a.lampy=.5;a.cran0=randint(1);for(var b=a.n=0;1E4>b;b++)a.gmegabuf[Math.floor(a.n)]=0,a.n+=1;for(b=a.n=0;1E4>b;b++)a.megabuf[Math.floor(a.n)]=0,a.n+=1;a.trelx=0;a.trely=0;a.trelz=0;a.reg20=1;a.reg21=0;a.reg22=0;a.reg23=0;a.reg24=1;a.reg25=0;a.reg26=0;a.reg27=0;a.reg28=1;b=0;do{b+=1;var c;a.ran1=div(randint(800),100);a.ran2=div(randint(800),100);a.ran3=div(randint(800),100);a.posx=randint(5)-2;a.posy=randint(5)-2;a.posz=randint(5)-2;a.c1=Math.cos(a.ran1);\na.c2=Math.cos(a.ran2);a.c3=Math.cos(a.ran3);a.s1=Math.sin(a.ran1);a.s2=Math.sin(a.ran2);a.s3=Math.sin(a.ran3);a.reg20=a.c2*a.c1;a.reg21=a.c2*a.s1;a.reg22=-a.s2;a.reg23=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg24=a.s3*a.s2*a.s1+a.c3*a.c1;a.reg25=a.s3*a.c2;a.reg26=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg27=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg28=a.c3*a.c2;a.dist=.001;var d=0;do{d+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=a.posy;a.uvz+=a.posz;a.uvx=8*(div(a.uvx,\n8)+30.5-Math.floor(div(a.uvx,8)+30.5)-.5);a.uvy=8*(div(a.uvy,8)+30.5-Math.floor(div(a.uvy,8)+30.5)-.5);a.uvz=8*(div(a.uvz,8)+30.5-Math.floor(div(a.uvz,8)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>a.uvz?1:0)?-2-a.uvz:a.uvz,a.slen=\na.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)+a.uvx0,a.uvy=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)+a.uvy0,a.uvz=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.05;c=(.6>a.dist?1:0)*(30<a.len?1:0)}while(.00001<Math.abs(c)&&1048576>\nd);d=.06>a.dist?1:0}while(.00001<Math.abs(d)&&1048576>b);", frame_eqs_str: "a.fps_=0*a.fps_+1*(.00001<Math.abs(25>=a.fps?1:0)?a.fps:25+.5*(a.fps-25));a.dec_s=1-div(.06*30,a.fps_);a.beat=a.time>a.t0+3?1:0;a.t0=.00001<Math.abs(a.beat)?a.time:a.t0;a.speed=div(Math.min(.2,a.dist_-.02)*(1+2*a.avg)*(1-0*a.slow)*.7,a.q7);a.ds=a.ds*a.dec_s+div((1-a.dec_s)*a.speed*.25,a.fps_);a.rotz=.00001<Math.abs(.00001>Math.abs(a.rotz-0)?1:0)?a.beat*(randint(100)<20*a.travel?1:0)*(div(randint(10),10)-.3):bnot(a.beat*(30>randint(100)?1:0))*a.rotz;a.slow=.00001<Math.abs(bnot(a.slow))?\na.beat*(6>randint(1E3*a.avg)?1:0):bnot(a.beat*(50>randint(100)?1:0));a.look=.00001<Math.abs(bnot(a.look))?a.beat*(12>randint(1E3*a.speed)?1:0):bnot(a.beat*(50>randint(100)?1:0));a.lx=.00001<Math.abs(a.beat)?div(randint(150),200)+.15:a.lx;a.ly=.00001<Math.abs(a.beat)?div(randint(150),200)+.15:a.ly;a.lampx=a.lampx*a.dec_s+(1-a.dec_s)*(.00001<Math.abs(a.look)?a.lx:.5);a.lampy=a.lampy*a.dec_s+(1-a.dec_s)*(.00001<Math.abs(a.look)?a.ly:.5);a.q1=a.lampx;a.q2=a.lampy;a.dirx=a.reg26;a.diry=a.reg27;a.dirz=\na.reg28;a.posx+=a.ds*a.dirx;a.posy+=a.ds*a.diry;a.posz+=a.ds*a.dirz;a.q4=a.posx;a.q5=a.posy;a.q6=a.posz;a.angchg=(.2-a.dist_)*(.2>a.dist_?1:0)*2;a.travel=.00001<Math.abs(0<a.angchg?1:0)?0:a.travel+a.ds;a.v1=a.v1*a.dec_s+(1-a.dec_s)*a.rotz*a.ds;a.v2=a.v2*a.dec_s+div((1-a.dec_s)*a.angchg*a.xslope,a.fps_);a.v3=a.v3*a.dec_s+(1-a.dec_s)*(div(a.angchg*a.yslope,a.fps_)+2*a.v1*Math.sin(.1*a.time));a.reg30=a.reg20;a.reg31=a.reg21;a.reg32=a.reg22;a.reg33=a.reg23;a.reg34=a.reg24;a.reg35=a.reg25;a.reg36=a.reg26;\na.reg37=a.reg27;a.reg38=a.reg28;a.n=0;for(var b=a.avg=0;5>b;b++){a.n+=1;a.ran1=div(randint(100),100);a.ran2=div(randint(100),200)-.25;a.tx=Math.cos(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.ty=Math.sin(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.c1=Math.cos(a.v1);a.c2=Math.cos(a.v2+a.ty);a.c3=Math.cos(a.v3+a.tx);a.s1=Math.sin(a.v1);a.s2=Math.sin(a.v2+a.ty);a.s3=Math.sin(a.v3+a.tx);a.reg10=a.c2*a.c1;a.reg11=a.c2*a.s1;a.reg12=-a.s2;a.reg13=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg14=a.s3*a.s2*a.s1+a.c3*a.c1;a.reg15=a.s3*\na.c2;a.reg16=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg17=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg18=a.c3*a.c2;a.reg20=a.reg30;a.reg21=a.reg31;a.reg22=a.reg32;a.reg23=a.reg33;a.reg24=a.reg34;a.reg25=a.reg35;a.reg26=a.reg36;a.reg27=a.reg37;a.reg28=a.reg38;a.q20=a.reg10*a.reg20+a.reg11*a.reg23+a.reg12*a.reg26;a.q21=a.reg10*a.reg21+a.reg11*a.reg24+a.reg12*a.reg27;a.q22=a.reg10*a.reg22+a.reg11*a.reg25+a.reg12*a.reg28;a.q23=a.reg13*a.reg20+a.reg14*a.reg23+a.reg15*a.reg26;a.q24=a.reg13*a.reg21+a.reg14*a.reg24+a.reg15*a.reg27;\na.q25=a.reg13*a.reg22+a.reg14*a.reg25+a.reg15*a.reg28;a.q26=a.reg16*a.reg20+a.reg17*a.reg23+a.reg18*a.reg26;a.q27=a.reg16*a.reg21+a.reg17*a.reg24+a.reg18*a.reg27;a.q28=a.reg16*a.reg22+a.reg17*a.reg25+a.reg18*a.reg28;a.reg20=a.q20;a.reg21=a.q21;a.reg22=a.q22;a.reg23=a.q23;a.reg24=a.q24;a.reg25=a.q25;a.reg26=a.q26;a.reg27=a.q27;a.reg28=a.q28;a.dist=.002;var c,d=0;do{d+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=a.posy;a.uvz+=a.posz;\na.uvx=8*(div(a.uvx,8)+30.5-Math.floor(div(a.uvx,8)+30.5)-.5);a.uvy=8*(div(a.uvy,8)+30.5-Math.floor(div(a.uvy,8)+30.5)-.5);a.uvz=8*(div(a.uvz,8)+30.5-Math.floor(div(a.uvz,8)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>a.uvz?1:0)?\n-2-a.uvz:a.uvz,a.slen=a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)+a.uvx0,a.uvy=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)+a.uvy0,a.uvz=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.1;c=(.6>a.dist?1:0)*(30<a.len?1:0)}while(.00001<\nMath.abs(c)&&1048576>d);a.megabuf[Math.floor(a.n)]=a.megabuf[Math.floor(a.n)]*a.dec_s+(1-a.dec_s)*a.dist;a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5))}a.n=0;for(b=a.avg=0;5>b;b++)a.n+=1,a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5));a.xslope=Math.min(Math.max(div(2,a.avg)*(a.megabuf[1]-a.megabuf[3]),-3),3);a.yslope=Math.min(Math.max(div(2,a.avg)*(a.megabuf[4]-a.megabuf[2]),-3),3);a.monitor=a.avg;a.dist_=a.dist_*a.dec_s+(1-a.dec_s)*a.dist;a.q10=a.ds*a.q7;a.q14=Math.abs(a.ds)+2*(Math.abs(a.v1)+\nMath.abs(a.v2)+Math.abs(a.v3))+div(1,255)+.05*a.start;a.q19=.6+.4*Math.sin(.02*a.time+6*a.cran0);a.start*=.9;a.q11=a.v1;a.q12=a.v2;a.q13=a.v3;a.monitor=a.q16;", pixel_eqs_str: "a.warp=0;a.zoom=1;a.dx=div(-a.q12,a.q16)*(1+0*pow(a.x-.5,2));a.dy=div(a.q13,a.q16)*(1+0*pow(a.y-.5,2));a.rot=a.q11;", warp: "float sustain;\nfloat xlat_mutabledist;\nfloat xlat_mutablestruc;\nvec2 xlat_mutableuv1;\nvec3 xlat_mutableuv2;\n shader_body { \n  mat3 tmpvar_1;\n  tmpvar_1[uint(0)].x = q20;\n  tmpvar_1[uint(0)].y = q23;\n  tmpvar_1[uint(0)].z = q26;\n  tmpvar_1[1u].x = q21;\n  tmpvar_1[1u].y = q24;\n  tmpvar_1[1u].z = q27;\n  tmpvar_1[2u].x = q22;\n  tmpvar_1[2u].y = q25;\n  tmpvar_1[2u].z = q28;\n  vec3 tmpvar_2;\n  tmpvar_2.x = q4;\n  tmpvar_2.y = q5;\n  tmpvar_2.z = q6;\n  sustain = (0.98 - q14);\n  vec2 uv_3;\n  vec3 ret_4;\n  vec2 tmpvar_5;\n  tmpvar_5 = (uv - 0.5);\n  xlat_mutableuv1 = ((tmpvar_5 * aspect.xy) * q16);\n  vec4 tmpvar_6;\n  tmpvar_6 = texture (sampler_pc_main, uv);\n  uv_3 = ((tmpvar_5 * (1.0 - \n    (q10 / (1.0 - ((tmpvar_6.z + \n      (0.003921569 * tmpvar_6.y)\n    ) + (q10 * 0.7))))\n  )) + 0.5);\n  vec4 tmpvar_7;\n  tmpvar_7 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));\n  xlat_mutabledist = tmpvar_7.x;\n  if ((tmpvar_7.y > 0.2)) {\n    vec3 tmpvar_8;\n    tmpvar_8 = (tmpvar_7.xyz - vec3(0.4, 0.5, 0.5));\n    vec2 uvi_9;\n    uvi_9 = ((tmpvar_8.zy * 0.003) + uv_3);\n    vec2 pix_10;\n    vec4 nb2_11;\n    vec4 nb_12;\n    vec2 x_13;\n    x_13 = (uvi_9 - 0.5);\n    pix_10 = (texsize.zw * (1.0 + (\n      sqrt(dot (x_13, x_13))\n     * 8.0)));\n    float tmpvar_14;\n    tmpvar_14 = (q10 * 0.7);\n    vec4 tmpvar_15;\n    tmpvar_15 = texture (sampler_pc_main, (uvi_9 - pix_10));\n    nb_12.x = (1.0 - ((tmpvar_15.z + \n      (0.003921569 * tmpvar_15.y)\n    ) + tmpvar_14));\n    vec4 tmpvar_16;\n    tmpvar_16 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(1.0, -1.0))));\n    nb_12.y = (1.0 - ((tmpvar_16.z + \n      (0.003921569 * tmpvar_16.y)\n    ) + tmpvar_14));\n    vec4 tmpvar_17;\n    tmpvar_17 = texture (sampler_pc_main, (uvi_9 + pix_10));\n    nb_12.z = (1.0 - ((tmpvar_17.z + \n      (0.003921569 * tmpvar_17.y)\n    ) + tmpvar_14));\n    vec4 tmpvar_18;\n    tmpvar_18 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(-1.0, 1.0))));\n    nb_12.w = (1.0 - ((tmpvar_18.z + \n      (0.003921569 * tmpvar_18.y)\n    ) + tmpvar_14));\n    vec4 tmpvar_19;\n    tmpvar_19 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(0.0, -1.0))));\n    nb2_11.x = (1.0 - ((tmpvar_19.z + \n      (0.003921569 * tmpvar_19.y)\n    ) + tmpvar_14));\n    vec4 tmpvar_20;\n    tmpvar_20 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(1.0, 0.0))));\n    nb2_11.y = (1.0 - ((tmpvar_20.z + \n      (0.003921569 * tmpvar_20.y)\n    ) + tmpvar_14));\n    vec4 tmpvar_21;\n    tmpvar_21 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(0.0, 1.0))));\n    nb2_11.z = (1.0 - ((tmpvar_21.z + \n      (0.003921569 * tmpvar_21.y)\n    ) + tmpvar_14));\n    vec4 tmpvar_22;\n    tmpvar_22 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(-1.0, 0.0))));\n    nb2_11.w = (1.0 - ((tmpvar_22.z + \n      (0.003921569 * tmpvar_22.y)\n    ) + tmpvar_14));\n    vec4 tmpvar_23;\n    tmpvar_23 = min (nb_12, nb2_11);\n    nb_12.zw = tmpvar_23.zw;\n    nb_12.xy = min (tmpvar_23.xy, tmpvar_23.zw);\n    xlat_mutabledist = (min (nb_12.x, nb_12.y) + ((0.008 * tmpvar_8.x) * abs(tmpvar_8.y)));\n  };\n  vec4 tmpvar_24;\n  tmpvar_24 = texture (sampler_pc_main, uv_3);\n  float tmpvar_25;\n  tmpvar_25 = min (xlat_mutabledist, (1.0 - (\n    (tmpvar_24.z + (0.003921569 * tmpvar_24.y))\n   + \n    (q10 * 0.7)\n  )));\n  xlat_mutabledist = tmpvar_25;\n  float tmpvar_26;\n  tmpvar_26 = (tmpvar_25 + pow (tmpvar_25, 3.0));\n  vec3 tmpvar_27;\n  tmpvar_27.xy = (xlat_mutableuv1 * tmpvar_26);\n  tmpvar_27.z = tmpvar_26;\n  xlat_mutableuv2 = (((tmpvar_27 / q7) * tmpvar_1) + tmpvar_2);\n  xlat_mutableuv2 = ((fract(\n    ((xlat_mutableuv2 / 8.0) + 0.5)\n  ) - 0.5) * 8.0);\n  float li_28;\n  vec3 zz0_29;\n  vec3 zz_30;\n  zz0_29 = (xlat_mutableuv2 + q8);\n  li_28 = 0.0;\n  zz_30 = ((2.0 * clamp (xlat_mutableuv2, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - xlat_mutableuv2);\n  float tmpvar_31;\n  tmpvar_31 = dot (zz_30, zz_30);\n  if ((tmpvar_31 <= 0.25)) {\n    zz_30 = (zz_30 * 4.0);\n    li_28 = 24.0;\n  } else {\n    if ((tmpvar_31 <= 1.0)) {\n      zz_30 = (zz_30 / tmpvar_31);\n    };\n  };\n  zz_30 = ((2.6 * zz_30) + zz0_29);\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\n  float tmpvar_32;\n  tmpvar_32 = dot (zz_30, zz_30);\n  if ((tmpvar_32 <= 0.25)) {\n    zz_30 = (zz_30 * 4.0);\n    li_28 = 24.0;\n  } else {\n    if ((tmpvar_32 <= 1.0)) {\n      zz_30 = (zz_30 / tmpvar_32);\n    };\n  };\n  zz_30 = ((2.6 * zz_30) + zz0_29);\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\n  float tmpvar_33;\n  tmpvar_33 = dot (zz_30, zz_30);\n  if ((tmpvar_33 <= 0.25)) {\n    zz_30 = (zz_30 * 4.0);\n    li_28 = 24.0;\n  } else {\n    if ((tmpvar_33 <= 1.0)) {\n      zz_30 = (zz_30 / tmpvar_33);\n    };\n  };\n  zz_30 = ((2.6 * zz_30) + zz0_29);\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\n  float tmpvar_34;\n  tmpvar_34 = dot (zz_30, zz_30);\n  if ((tmpvar_34 <= 0.25)) {\n    zz_30 = (zz_30 * 4.0);\n    li_28 = 24.0;\n  } else {\n    if ((tmpvar_34 <= 1.0)) {\n      zz_30 = (zz_30 / tmpvar_34);\n    };\n  };\n  zz_30 = ((2.6 * zz_30) + zz0_29);\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\n  float tmpvar_35;\n  tmpvar_35 = dot (zz_30, zz_30);\n  if ((tmpvar_35 <= 0.25)) {\n    zz_30 = (zz_30 * 4.0);\n    li_28 = 24.0;\n  } else {\n    if ((tmpvar_35 <= 1.0)) {\n      zz_30 = (zz_30 / tmpvar_35);\n    };\n  };\n  zz_30 = ((2.6 * zz_30) + zz0_29);\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\n  float tmpvar_36;\n  tmpvar_36 = dot (zz_30, zz_30);\n  if ((tmpvar_36 <= 0.25)) {\n    zz_30 = (zz_30 * 4.0);\n    li_28 = 24.0;\n  } else {\n    if ((tmpvar_36 <= 1.0)) {\n      zz_30 = (zz_30 / tmpvar_36);\n    };\n  };\n  zz_30 = ((2.6 * zz_30) + zz0_29);\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\n  float tmpvar_37;\n  tmpvar_37 = dot (zz_30, zz_30);\n  if ((tmpvar_37 <= 0.25)) {\n    zz_30 = (zz_30 * 4.0);\n    li_28 = 24.0;\n  } else {\n    if ((tmpvar_37 <= 1.0)) {\n      zz_30 = (zz_30 / tmpvar_37);\n    };\n  };\n  zz_30 = ((2.6 * zz_30) + zz0_29);\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\n  float tmpvar_38;\n  tmpvar_38 = dot (zz_30, zz_30);\n  if ((tmpvar_38 <= 0.25)) {\n    zz_30 = (zz_30 * 4.0);\n    li_28 = 24.0;\n  } else {\n    if ((tmpvar_38 <= 1.0)) {\n      zz_30 = (zz_30 / tmpvar_38);\n    };\n  };\n  zz_30 = ((2.6 * zz_30) + zz0_29);\n  vec4 tmpvar_39;\n  tmpvar_39.xyz = zz_30;\n  tmpvar_39.w = li_28;\n  float tmpvar_40;\n  tmpvar_40 = sqrt(dot (zz_30, zz_30));\n  xlat_mutablestruc = (sqrt(dot (tmpvar_39.xyw, tmpvar_39.xyw)) / 24.0);\n  vec4 tmpvar_41;\n  tmpvar_41 = texture (sampler_pc_main, uv_3);\n  float tmpvar_42;\n  float tmpvar_43;\n  tmpvar_43 = (q10 * 0.7);\n  tmpvar_42 = ((log(\n    (1.0 + (tmpvar_40 / 24.0))\n  ) * 0.02) * (1.0 - (1.0 - \n    ((tmpvar_41.z + (0.003921569 * tmpvar_41.y)) + tmpvar_43)\n  )));\n  float tmpvar_44;\n  vec4 tmpvar_45;\n  tmpvar_45 = texture (sampler_pc_main, uv_3);\n  tmpvar_44 = (1.0 - ((tmpvar_45.z + \n    (0.003921569 * tmpvar_45.y)\n  ) + tmpvar_43));\n  if ((((tmpvar_25 <= tmpvar_44) && (tmpvar_40 < 24.0)) && (tmpvar_25 > 0.005))) {\n    ret_4.x = (((1.0 - sustain) * xlat_mutablestruc) + (sustain * mix (texture (sampler_main, uv_3).xyz, \n      ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1)\n    , vec3(\n      (q14 * 4.0)\n    )).x));\n    float x_46;\n    x_46 = ((1.0 - tmpvar_25) * 255.0);\n    float ip_47;\n    ip_47 = float(int(x_46));\n    vec2 tmpvar_48;\n    tmpvar_48.x = (x_46 - ip_47);\n    tmpvar_48.y = (ip_47 / 255.0);\n    ret_4.yz = tmpvar_48;\n  } else {\n    vec3 tmpvar_49;\n    tmpvar_49.y = 0.0;\n    tmpvar_49.x = sustain;\n    tmpvar_49.z = (1.0 - tmpvar_42);\n    vec3 tmpvar_50;\n    tmpvar_50.xy = vec2(0.003921569, 0.0);\n    tmpvar_50.z = (q14 / 6.0);\n    ret_4 = ((texture (sampler_fc_main, uv_3).xyz * tmpvar_49) - tmpvar_50);\n  };\n  vec4 tmpvar_51;\n  tmpvar_51.w = 1.0;\n  tmpvar_51.xyz = ret_4;\n  ret = tmpvar_51.xyz;\n }", comp: " shader_body { \n  vec3 tmpvar_1;\n  tmpvar_1.x = q4;\n  tmpvar_1.y = q5;\n  tmpvar_1.z = q6;\n  mat3 tmpvar_2;\n  tmpvar_2[uint(0)].x = q20;\n  tmpvar_2[uint(0)].y = q23;\n  tmpvar_2[uint(0)].z = q26;\n  tmpvar_2[1u].x = q21;\n  tmpvar_2[1u].y = q24;\n  tmpvar_2[1u].z = q27;\n  tmpvar_2[2u].x = q22;\n  tmpvar_2[2u].y = q25;\n  tmpvar_2[2u].z = q28;\n  vec2 tmpvar_3;\n  tmpvar_3.x = q1;\n  tmpvar_3.y = q2;\n  vec2 uv_4;\n  vec3 ret_5;\n  uv_4 = (((uv - 0.5) * 0.9) + 0.5);\n  vec3 tmpvar_6;\n  tmpvar_6.xy = ((uv_4 - 0.5) * min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - \n    ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2)\n  .z)));\n  tmpvar_6.z = min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - (\n    (texture (sampler_blur2, uv_4).xyz * scale2)\n   + bias2).z));\n  float tmpvar_7;\n  tmpvar_7 = clamp ((abs(\n    ((1.0 - ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2).z) - clamp ((1.0 - (\n      (texture (sampler_blur2, tmpvar_3).xyz * scale2)\n     + bias2).z), 0.1, 0.4))\n  ) + 0.2), 0.0, 1.0);\n  float tmpvar_8;\n  tmpvar_8 = clamp (((1.0 - \n    exp(-(((texture (sampler_blur1, uv_4).xyz * scale1) + bias1).x))\n  ) - 0.2), 0.0, 1.0);\n  ret_5 = ((mix (texture (sampler_main, uv_4).xyz, \n    ((texture (sampler_blur1, uv_4).xyz * scale1) + bias1)\n  , vec3(tmpvar_7)).x * (0.2 + \n    ((1.0 - tmpvar_7) * (1.0 - min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - \n      ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2)\n    .z))))\n  )) * (1.0 + (0.5 * \n    sin((((tmpvar_6 / q7) * tmpvar_2) + tmpvar_1))\n  )));\n  vec3 tmpvar_9;\n  tmpvar_9.xy = vec2(0.0, 1.0);\n  tmpvar_9.z = (tmpvar_8 * 3.0);\n  ret_5 = (mix (ret_5, tmpvar_9, vec3(tmpvar_8)) + ((\n    pow ((1.0 - mix (texture (sampler_main, uv_4).xyz, (\n      (texture (sampler_blur1, uv_4).xyz * scale1)\n     + bias1), vec3(0.8, 0.8, 0.8)).z), 3.0)\n   * \n    (0.5 + (0.5 * slow_roam_cos))\n  ) * q19).xyz);\n  ret_5 = (1.0 - exp((-2.0 * ret_5)));\n  vec4 tmpvar_10;\n  tmpvar_10.w = 1.0;\n  tmpvar_10.xyz = ret_5;\n  ret = tmpvar_10.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1.980001, decay: 0.5, echo_zoom: 0.999998, echo_alpha: 0.5, echo_orient: 3, wave_mode: 7, additivewave: 1, wave_thick: 1, modwavealphabyvolume: 1, wave_brighten: 0, darken: 1, wave_a: 1e-3, wave_scale: 0.958178, wave_smoothing: 0.45, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 1.4595, warpscale: 2.0067, zoom: 0.9999, warp: 0.01, sx: 0.9999, ob_r: 0.3999, ob_a: 0.2, ib_size: 0, mv_x: 64, mv_y: 48, mv_l: 1.85, mv_r: 0.4999, mv_g: 0.4999, mv_b: 0.4999, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 1, sides: 100, additive: 1, x: 0.26, y: 0.2, rad: 0.393173, tex_zoom: 0.9355, r: 0, g: 0.55, b: 0.5, g2: 0.4, b2: 0.4, a2: 0.07, border_r: 0.3, border_g: 0.7, border_b: 0.8, border_a: 0}, init_eqs_str: "a.g0=0;a.y0=0;a.q1=0;a.x0=0;a.q24=0;a.q26=0;a.r0=0;a.trig=0;a.q2=0;a.b0=0;a.rad0=0;", frame_eqs_str: "a.trig=a.q24;a.x0=a.x0*bnot(a.trig)+a.trig*(.5+div(randint(100),200));a.y0=a.y0*bnot(a.trig)+a.trig*(.5+div(randint(100),200));a.x0+=div(.1*a.q1*(3+a.q26),a.fps);a.y0+=div(.1*a.q2*(3+a.q26),a.fps);a.x0-=Math.floor(a.x0);a.y0-=Math.floor(a.y0);a.tex_ang=a.time;a.tex_zoom=a.q1;a.ang=div(a.time,100)*a.q2;a.x=a.x0;a.y=a.y0;a.rad0=a.rad0*bnot(a.trig)+a.trig*(.04+div(randint(100),1E3));a.rad=a.rad0;a.r0=bnot(a.trig)*a.r0+div(a.trig*randint(10),10);a.g0=bnot(a.trig)*a.g0+div(a.trig*\nrandint(10),10);a.b0=bnot(a.trig)*a.b0+div(a.trig*randint(10),10);a.r=a.r0;a.b=a.b0;a.g=a.g0;a.r2=0;a.b2=0;a.g2=0;a.a=1;a.a2=.3;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.index2=0;a.index4=0;a.index=0;a.q22=0;a.q21=0;a.q1=0;a.dec_med=0;a.index3=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.q11=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.q3=0;a.t0=0;a.q28=0;a.q20=0;", frame_eqs_str: "a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),2);a.index3=mod(a.index3+a.is_beat*bnot(a.index)*bnot(a.index2),3);a.monitor=a.index4;\na.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass+a.mid+a.treb;a.q11=Math.min(a.q22,3);a.k1=a.is_beat*equal(a.index,0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.14159265359*a.p2,2);a.q27=8-a.index;a.q28=a.index2;a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.zoom=1+.02*a.q1;a.rot=.01*a.q2;a.dx=0*a.index;a.wave_a=0;", pixel_eqs_str: "", pixel_eqs: "", warp: "float xlat_mutabledx;\nfloat xlat_mutabledy;\nvec2 xlat_mutableuv2;\nvec2 xlat_mutablezz;\n shader_body { \n  vec2 uv_1;\n  vec3 crisp_2;\n  vec2 tmpvar_3;\n  tmpvar_3.y = 0.0;\n  tmpvar_3.x = texsize.w;\n  vec2 tmpvar_4;\n  tmpvar_4.x = 0.0;\n  tmpvar_4.y = texsize.z;\n  xlat_mutablezz = ((uv * texsize.xy) * 0.01);\n  vec2 tmpvar_5;\n  tmpvar_5.x = (cos((xlat_mutablezz.y * q1)) * sin(-(xlat_mutablezz.y)));\n  tmpvar_5.y = (sin(xlat_mutablezz.x) * cos((xlat_mutablezz.y * q2)));\n  uv_1 = (uv - ((tmpvar_5 * texsize.zw) * (8.0 + \n    (6.0 * q11)\n  )));\n  xlat_mutableuv2 = (((uv_1 / 2.0) * q27) / 4.0);\n  xlat_mutabledx = dot ((texture (sampler_main, (xlat_mutableuv2 + tmpvar_3)).xyz - texture (sampler_main, (xlat_mutableuv2 - tmpvar_3)).xyz), vec3(0.32, 0.49, 0.29));\n  xlat_mutabledy = dot ((texture (sampler_main, (xlat_mutableuv2 + tmpvar_4)).xyz - texture (sampler_main, (xlat_mutableuv2 - tmpvar_4)).xyz), vec3(0.32, 0.49, 0.29));\n  float tmpvar_6;\n  tmpvar_6 = (0.15 + (0.1 * q28));\n  vec2 tmpvar_7;\n  tmpvar_7 = (xlat_mutableuv2 + (time / 100.0));\n  xlat_mutabledx = (xlat_mutabledx + (tmpvar_6 * (texture (sampler_noise_hq, tmpvar_7).x - 0.5)));\n  xlat_mutabledy = (xlat_mutabledy + (tmpvar_6 * (texture (sampler_noise_hq, tmpvar_7).y - 0.5)));\n  vec2 tmpvar_8;\n  tmpvar_8.x = xlat_mutabledx;\n  tmpvar_8.y = xlat_mutabledy;\n  xlat_mutablezz = tmpvar_8;\n  crisp_2 = (texture (sampler_main, (uv_1 + (tmpvar_8 * 0.04))).xyz + texture (sampler_main, uv_1).xyz);\n  crisp_2 = (crisp_2 * 0.5);\n  crisp_2 = (crisp_2 + ((0.05 * \n    (0.9 + (0.1 * roam_cos))\n  .xyz) - (\n    sqrt(dot (tmpvar_8, tmpvar_8))\n   * 0.3)));\n  vec4 tmpvar_9;\n  tmpvar_9.w = 1.0;\n  tmpvar_9.xyz = ((crisp_2 * 0.97) - 0.015);\n  ret = tmpvar_9.xyz;\n }", comp: "vec2 xlat_mutabledz;\nvec3 xlat_mutableneu;\nvec3 xlat_mutableret1;\nvec2 xlat_mutableuv3;\n shader_body { \n  vec2 uv2_1;\n  vec2 tmpvar_2;\n  tmpvar_2.y = 0.0;\n  tmpvar_2.x = texsize.z;\n  vec2 tmpvar_3;\n  tmpvar_3.x = 0.0;\n  tmpvar_3.y = texsize.w;\n  xlat_mutabledz.x = dot ((texture (sampler_main, (uv + tmpvar_2)).xyz - texture (sampler_main, (uv - tmpvar_2)).xyz), vec3(0.32, 0.49, 0.29));\n  xlat_mutabledz.y = dot ((texture (sampler_main, (uv + tmpvar_3)).xyz - texture (sampler_main, (uv - tmpvar_3)).xyz), vec3(0.32, 0.49, 0.29));\n  uv2_1 = (uv - 0.5);\n  xlat_mutableuv3 = ((0.2 * uv2_1) + 0.5);\n  float tmpvar_4;\n  tmpvar_4 = (time / 2.0);\n  xlat_mutableuv3 = ((0.2 * cos(\n    ((42.0 * fract(xlat_mutableuv3)) + tmpvar_4)\n  )) + (99.0 * xlat_mutabledz));\n  float tmpvar_5;\n  tmpvar_5 = clamp ((0.01 / sqrt(\n    dot (xlat_mutableuv3, xlat_mutableuv3)\n  )), 0.0, 1.0);\n  xlat_mutableneu = ((0.1 * vec3(tmpvar_5)) + (0.9 * dot (vec3(tmpvar_5), vec3(0.32, 0.49, 0.29))));\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * 1.252262));\n  xlat_mutableuv3 = ((0.2 * uv2_1) + 0.5);\n  xlat_mutableuv3 = ((0.2 * cos(\n    ((42.0 * fract(xlat_mutableuv3)) + tmpvar_4)\n  )) + (99.0 * xlat_mutabledz));\n  float tmpvar_6;\n  tmpvar_6 = clamp ((0.01 / sqrt(\n    dot (xlat_mutableuv3, xlat_mutableuv3)\n  )), 0.0, 1.0);\n  xlat_mutableneu = ((0.1 * vec3(tmpvar_6)) + (0.9 * dot (vec3(tmpvar_6), vec3(0.32, 0.49, 0.29))));\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * 1.252262));\n  vec4 tmpvar_7;\n  tmpvar_7.w = 1.0;\n  tmpvar_7.xyz = (xlat_mutableret1 + clamp ((\n    (16.0 * ((0.5 * texture (sampler_main, (uv + \n      (0.1 * xlat_mutabledz)\n    )).xyz) + 0.01))\n   * \n    (0.1 + xlat_mutableret1)\n  ), 0.0, 1.0));\n  ret = tmpvar_7.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 4, gammaadj: 1.98, decay: 0.5, echo_zoom: 1, echo_alpha: 0.5, echo_orient: 3, wave_mode: 4, additivewave: 1, wave_thick: 1, modwavealphabyvolume: 1, wave_brighten: 0, darken: 1, wave_a: 1e-3, wave_scale: 0.527, wave_smoothing: 0.45, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 1.459, warpscale: 2.007, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0.8, wave_g: 0.49, ob_size: 0.015, ob_a: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 1.85, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0, b2x: 0.3, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, samples: 506, sep: 116, spectrum: 1, thick: 1, scaling: 1.07408, smoothing: 0, a: 0.7}, init_eqs_str: "a.n=0;a.m=0;", frame_eqs_str: "", point_eqs_str: "a.n=Math.floor((a.reg00+.5)*a.sample);a.m=30001+div(a.n,div(a.reg00,a.reg01));a.gmegabuf[Math.floor(a.m)]=a.value1+a.value2;a.x=a.gmegabuf[Math.floor(1E4+a.n)];a.y=a.gmegabuf[Math.floor(15E3+a.n)];a.a=a.gmegabuf[Math.floor(2E4+a.n)];a.b=Math.min(Math.max(a.gmegabuf[Math.floor(25E3+a.n)],0),1);a.r=1-a.b;a.g=.5;"}, {baseVals: {enabled: 1, samples: 506, thick: 1, scaling: 0.89152, smoothing: 0.82}, init_eqs_str: "a.n=0;", frame_eqs_str: "", point_eqs_str: "a.n=Math.floor((a.reg00+.5)*a.sample)+a.reg00;a.x=a.gmegabuf[Math.floor(1E4+a.n)];a.y=a.gmegabuf[Math.floor(15E3+a.n)];a.a=a.gmegabuf[Math.floor(2E4+a.n)];a.b=Math.min(Math.max(a.gmegabuf[Math.floor(25E3+a.n)],0),1);a.r=1-a.b;a.g=.5;"}, {baseVals: {enabled: 1, samples: 506, thick: 1, scaling: 0.89152, smoothing: 0.82}, init_eqs_str: "a.n=0;", frame_eqs_str: "", point_eqs_str: "a.n=Math.floor((a.reg00+.5)*a.sample)+2*a.reg00;a.x=a.gmegabuf[Math.floor(1E4+a.n)];a.y=a.gmegabuf[Math.floor(15E3+a.n)];a.a=a.gmegabuf[Math.floor(2E4+a.n)];a.b=Math.min(Math.max(a.gmegabuf[Math.floor(25E3+a.n)],0),1);a.r=1-a.b;a.g=.5;"}, {baseVals: {enabled: 1, samples: 506, spectrum: 1, thick: 1}, init_eqs_str: "a.n=0;", frame_eqs_str: "", point_eqs_str: "a.n=Math.floor((a.reg00-.5)*a.sample)+3*a.reg00;a.x=a.gmegabuf[Math.floor(1E4+a.n)];a.y=a.gmegabuf[Math.floor(15E3+a.n)];a.a=a.gmegabuf[Math.floor(2E4+a.n)];a.b=Math.min(Math.max(a.gmegabuf[Math.floor(25E3+a.n)],0),1);a.r=1-a.b;a.g=.5;"}], init_eqs_str: "a.xang=0;a.fov=0;a.hell=0;a.cbeat=0;a.index2=0;a.bindex=0;a.ran4=0;a.index=0;a.dec_v=0;a.yang=0;a.q29=0;a.q6=0;a.amp_=0;a.xlen=0;a.smooth=0;a.q1=0;a.dec_med=0;a.sum=0;a.q5=0;a.dec_f=0;a.trely=0;a.flen=0;a.reg01=0;a.my=0;a.oz=0;a.imag=0;a.is_beat=0;a.yind=0;a.oy0a=0;a.dec_slow=0;a.ran2=0;a.ind=0;a.z0=0;a.ylen=0;a.real=0;a.ran4_=0;a.ran3=0;a.q4=0;a.mz=0;a.oy0=0;a.amp=0;a.tc0=0;a.oy=0;a.avg=0;a.mx=0;a.vol=0;a.ran2_=0;a.peak=0;a.decc=0;a.q2=0;a.bd_bt=0;a.zang=0;a.q3=0;a.reg00=0;\na.trelz=0;a.q32=0;a.ran3_=0;a.q28=0;a.trelx=0;a.q30=0;a.ox=0;a.xind=0;for(var b=a.index=0;7E4>b;b++)a.megabuf[Math.floor(a.index)]=0,a.gmegabuf[Math.floor(a.index)]=0,a.index+=1;a.zang=1;a.yang=0;a.zang=2;", frame_eqs_str: "a.xlen=45;a.ylen=45;a.flen=30;a.reg00=div(a.xlen*a.ylen,4);a.reg01=div(a.reg00,4);a.dec_med=1-div(.06*30,a.fps);a.dec_slow=1-div(.6,a.fps);a.dec_f=pow(.8,div(30,a.fps));a.q30=a.dec_slow;a.smooth=Math.max(1,pow(6,div(a.fps,30))-2);a.cbeat=a.bass+a.mid+a.treb;a.decc=.00001<Math.abs(a.vol>a.cbeat?1:0)?.8:a.dec_med;a.vol=a.vol*a.decc+(1-a.decc)*a.cbeat;a.avg=a.avg*a.dec_slow+a.cbeat*(1-a.dec_slow);a.is_beat=above(a.cbeat,1.5*a.avg)*above(a.time,a.tc0+.2);a.tc0=.00001<Math.abs(bor(a.is_beat,\na.bd_bt))?a.time:a.tc0;a.peak=.00001<Math.abs(a.is_beat)?a.cbeat:a.peak*a.dec_med;a.ind=0;a.sum=0;a.amp=.01;for(var b=0;b<a.reg01;b++)a.sum+=div(a.gmegabuf[Math.floor(a.ind+3E4)],a.reg01),a.amp+=pow(a.gmegabuf[Math.floor(a.ind+3E4)],2),a.ind+=1;a.ind=0;a.amp_=a.amp_*a.dec_med+600*div((1-a.dec_med)*sqrt(a.amp),a.reg01);for(b=0;b<a.reg01;b++)a.megabuf[Math.floor(a.ind+3E4)]=div(a.gmegabuf[Math.floor(a.ind+3E4)]-a.sum,a.amp_),a.ind+=1;for(b=a.index2=0;b<a.flen;b++){a.index=0;a.real=0;for(var c=a.imag=\n0;c<a.flen;c++)a.real+=Math.cos(6.28*div(a.index,a.flen)*a.index2)*a.megabuf[Math.floor(div(a.index*a.reg01,8)+30002)],a.imag+=Math.sin(6.28*div(a.index,a.flen)*a.index2)*a.megabuf[Math.floor(div(a.index*a.reg01,8)+30002)],a.index+=1;a.megabuf[Math.floor(1E4+a.index2)]=a.megabuf[Math.floor(1E4+a.index2)]*a.dec_f+a.real;a.megabuf[Math.floor(15E3+a.index2)]=a.megabuf[Math.floor(15E3+a.index2)]*a.dec_f+a.imag;a.index2+=1}a.ind=1;for(b=0;b<div(a.flen,2);b++){a.cx=a.megabuf[Math.floor(1E4+a.ind)];a.cy=\na.megabuf[Math.floor(15E3+a.ind)];a.yind=-1;for(c=0;3>c;c++){a.xind=-1;for(var d=0;3>d;d++)a.ox=mod((a.cx+.5)*a.xlen+a.xind,a.xlen),a.oy=mod((a.cy+.5)*a.ylen+a.yind,a.ylen),a.amp=3*(a.cx*a.cx+a.cy*a.cy),a.megabuf[Math.floor(a.oy*a.ylen+a.ox)]-=div(div(60,a.fps)*sqrt(a.amp)*above(a.amp,.02),1+a.xind*a.xind+a.yind*a.yind),a.xind+=1;a.yind+=1}a.ind+=1}for(b=a.yind=0;b<a.ylen;b++){for(c=a.xind=0;c<a.xlen;c++)a.megabuf[Math.floor(a.yind*a.ylen+a.xind+5E3)]=a.dec_med*(div(a.gmegabuf[Math.floor(a.yind*a.ylen+\nmod(a.xind+1,a.xlen))]+a.gmegabuf[Math.floor(a.yind*a.ylen+mod(a.xlen+a.xind-1,a.xlen))]+a.gmegabuf[Math.floor(mod(a.yind+1,a.ylen)*a.ylen+a.xind)]+a.gmegabuf[Math.floor(mod(a.yind+a.ylen-1,a.ylen)*a.ylen+a.xind)]+a.gmegabuf[Math.floor(a.yind*a.ylen+a.xind)]*a.smooth*4,2+2*a.smooth)-a.megabuf[Math.floor(a.yind*a.ylen+a.xind)]),a.xind+=1;a.yind+=1}a.bindex+=a.is_beat;.00001<Math.abs(a.is_beat&&.00001>Math.abs(mod(a.bindex,4)-0)?1:0)?a.ran2=div(randint(100)-30,60):0;.00001<Math.abs(a.is_beat&&.00001>\nMath.abs(mod(a.bindex,4)-2)?1:0)?a.ran3=div(randint(100)-30,60):0;.00001<Math.abs(a.is_beat&&.00001>Math.abs(mod(a.bindex,6)-2)?1:0)?a.ran4=div(randint(100)-30,60):0;a.dec_v=Math.min(Math.max(0,1-div(8*a.vol,a.fps)),a.dec_slow);a.ran2_=a.ran2_*a.dec_v+(1-a.dec_v)*a.ran2;a.ran3_=a.ran3_*a.dec_v+(1-a.dec_v)*a.ran3;a.ran4_=a.ran4_*a.dec_v+(1-a.dec_v)*a.ran4;a.trelx+=div(div(a.ran2_,a.fps),7);a.trely+=div(div(a.ran3_,a.fps),2);a.trelz+=div(div(a.ran4_,a.fps),6);a.zang=6*Math.sin(a.trelz);a.xang=6*Math.sin(div(a.zang,\n5)+a.trelx);a.yang=6*Math.sin(0*div(a.zang,3)+a.trely);a.q1=Math.cos(a.xang);a.q2=Math.sin(a.xang);a.q3=Math.cos(a.yang);a.q4=Math.sin(a.yang);a.q5=Math.cos(a.zang);a.q6=Math.sin(a.zang);a.fov=1;for(b=a.yind=0;b<a.ylen;b++){for(c=a.xind=0;c<a.xlen;c++)a.ind=a.yind*a.ylen+a.xind,a.megabuf[Math.floor(a.ind)]=a.gmegabuf[Math.floor(a.ind)],a.gmegabuf[Math.floor(a.ind)]=a.megabuf[Math.floor(a.ind+5E3)],a.oz=a.yind-div(a.ylen,2),a.ox=.00001<Math.abs(bnot(mod(a.yind,2)))?a.xind:a.xlen-a.xind-1,a.oy0a=div(a.oy0+\na.oy0a,2.5),a.oy=a.gmegabuf[Math.floor(a.yind*a.ylen+a.ox)],a.oy0=a.oy,a.ox-=div(a.xlen,2),a.mx=a.ox*a.q5-a.oy*a.q6,a.my=a.ox*a.q6+a.oy*a.q5,a.ox=a.mx,a.oy=a.my,a.mx=a.ox*a.q3+a.oz*a.q4,a.mz=-a.ox*a.q4+a.oz*a.q3,a.ox=a.mx,a.oz=a.mz,a.my=a.oy*a.q1-a.oz*a.q2,a.mz=a.oy*a.q2+a.oz*a.q1,a.z0=90+40*Math.sin(14*a.trelz),a.oy=a.my,a.oz=a.mz+a.z0,a.gmegabuf[Math.floor(1E4+a.ind)]=div(a.fov*a.ox,a.oz)+.5,a.gmegabuf[Math.floor(15E3+a.ind)]=div(a.fov*a.oy,a.oz)+.5,a.hell=Math.max(Math.min(.5+div(a.oy0,4),1),.1),\na.gmegabuf[Math.floor(2E4+a.ind)]=Math.max(Math.min(a.hell*(.5+.1*(a.oy0a-a.oy0)),1),.1),a.gmegabuf[Math.floor(25E3+a.ind)]=div(a.oy0,16)+.5,a.xind+=1;a.yind+=1}a.q29=div(50*a.fov,a.z0);a.q32=a.aspecty;a.q28=Math.min(div(a.vol,3)-.3,1);a.monitor=a.is_beat;", pixel_eqs_str: "a.rot=0;a.zoom=1.1;a.warp=0;a.dy=.02;", warp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = vec3(0.0, 0.0, 0.0);\n  ret = tmpvar_1.xyz;\n }", comp: "vec3 xlat_mutablecol;\n shader_body { \n  vec2 uv_1;\n  uv_1 = uv;\n  int iter_3;\n  vec3 ret_4;\n  ret_4 = texture (sampler_main, uv).xyz;\n  iter_3 = int((clamp (q29, 0.0, 1.0) * 8.0));\n  for (int n_2 = 1; n_2 < iter_3; n_2++) {\n    vec2 tmpvar_5;\n    tmpvar_5.y = 0.0;\n    tmpvar_5.x = float(n_2);\n    vec2 tmpvar_6;\n    tmpvar_6.y = 0.0;\n    tmpvar_6.x = float(n_2);\n    ret_4 = max (max (ret_4, texture (sampler_main, (uv_1 - \n      (texsize.zw * tmpvar_5)\n    )).xyz), texture (sampler_main, (uv_1 + (texsize.zw * tmpvar_6))).xyz);\n  };\n  float tmpvar_7;\n  tmpvar_7 = clamp ((1.0 - (2.0 * \n    dot (ret_4, vec3(0.32, 0.49, 0.29))\n  )), 0.0, 1.0);\n  float tmpvar_8;\n  float tmpvar_9;\n  tmpvar_9 = (uv.x - 0.5);\n  tmpvar_8 = (0.5 / ((\n    (uv.y + ((tmpvar_9 * 1.4) * (q5 * q3)))\n   - 0.4) + (0.3 * q4)));\n  vec2 tmpvar_10;\n  tmpvar_10.x = (tmpvar_8 * tmpvar_9);\n  tmpvar_10.y = tmpvar_8;\n  vec3 tmpvar_11;\n  tmpvar_11.x = q2;\n  tmpvar_11.y = q4;\n  tmpvar_11.z = q6;\n  xlat_mutablecol = (0.5 + (0.5 * tmpvar_11));\n  float x_12;\n  x_12 = ((uv.x - (\n    dot (ret_4, vec3(0.32, 0.49, 0.29))\n   * 5.0)) + 0.5);\n  ret_4 = (ret_4 * (q28 + (\n    ((6.0 * (0.05 / sqrt(\n      (x_12 * x_12)\n    ))) * (1.0 + xlat_mutablecol))\n   / 2.0)));\n  vec2 tmpvar_13;\n  tmpvar_13.x = q1;\n  tmpvar_13.y = (q3 + time);\n  float tmpvar_14;\n  tmpvar_14 = (((\n    (texture (sampler_noise_lq, (tmpvar_10 + tmpvar_13)).x * tmpvar_7)\n   * \n    float((tmpvar_8 > 0.0))\n  ) * 0.2) * min (1.0, (1.0/(tmpvar_8))));\n  ret_4 = (ret_4 + tmpvar_14);\n  ret_4 = (ret_4 + ((\n    (sin((12.0 * q2)) * tmpvar_7)\n   * tmpvar_14) * dot (\n    (12.0 * ((texture (sampler_blur1, (tmpvar_10 - vec2(-0.5, 0.3))).xyz * scale1) + bias1))\n  , vec3(0.32, 0.49, 0.29))));\n  ret_4 = (ret_4 + ((\n    ((0.5 / abs(tmpvar_8)) * normalize(xlat_mutablecol))\n   * \n    float((tmpvar_8 < 0.0))\n  ) * tmpvar_7));\n  vec4 tmpvar_15;\n  tmpvar_15.w = 1.0;\n  tmpvar_15.xyz = ret_4;\n  ret = tmpvar_15.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1.980001, decay: 0.5, echo_zoom: 0.999998, echo_alpha: 0.5, echo_orient: 3, modwavealphabyvolume: 1, darken: 1, wave_a: 1e-3, wave_scale: 10.437056, wave_smoothing: 0.45, wave_mystery: 0.08, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 1.4595, warpscale: 2.0067, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0, wave_g: 0.99, ob_size: 0, ob_r: 1, ob_g: 1, ob_b: 1, ib_size: 0, mv_x: 64, mv_y: 48, mv_l: 1.85, mv_r: 0.4999, mv_g: 0.4999, mv_b: 0.4999, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 1, rad: 0.048958, tex_ang: 1.00531, tex_zoom: 1.531168, r: 0.5, g: 1, b: 0.9, r2: 0.83, g2: 0.93, b2: 0.8, a2: 1, border_b: 0, border_a: 0}, init_eqs_str: "a.trel=0;a.q20=0;a.q28=0;a.q26=0;", frame_eqs_str: "a.trel=div(a.time,2)+a.q20;a.x=.5+Math.sin(2*a.trel);a.y=.5+Math.cos(1.3*a.trel+div(a.q28,3));a.a=div(a.q26,4)+.2;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 1, x: 0.503, rad: 0.038857, tex_zoom: 0.609857, g: 0.1, a: 0.9, r2: 1, b2: 1, border_r: 0.5, border_g: 0.5, border_b: 0.5, border_a: 0}, init_eqs_str: "a.is_beat=0;a.t0=0;a.q21=0;", frame_eqs_str: "a.x=div(randint(10),10);a.y=div(randint(10),10);a.r=div(randint(4),3);a.g=div(randint(4),3);a.b=div(randint(4),3);a.is_beat=above(a.time,a.t0+.03);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.a=Math.min(div(a.q21,2),.9)*a.is_beat;a.rad=div(a.a*a.a,3);"}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, sep: 120, additive: 1, scaling: 0.891519, smoothing: 0.82, a: 0.6}, init_eqs_str: "a.k1=0;a.k2=0;a.xi=0;a.yi=0;a.dx=0;a.dy=0;a.q22=0;a.t2=0;a.t1=1+.3*(.01*randint(101)-.01*randint(101));a.t2=1+.3*(.01*randint(101)-.01*randint(101));a.t3=1+.3*(.01*randint(101)-.01*randint(101));a.t4=1+.3*(.01*randint(101)-.01*randint(101));a.t5=1+.3*(.01*randint(101)-.01*randint(101));a.t6=1+.3*(.01*randint(101)-.01*randint(101));a.t7=1+.3*(.01*randint(101)-.01*randint(101));a.t8=1+.3*(.01*randint(101)-.01*randint(101));", frame_eqs_str: "a.t2+=a.bass_att;", point_eqs_str: "a.k1=mod(100*a.sample,8);a.k2=bnot(a.k1);a.xi=a.value1*a.k2+a.xi*(1-a.k2);a.yi=a.value2*(1-a.k2)+a.yi*a.k2;a.dx=.99*a.dx+a.xi;a.dy=.99*a.dy+a.yi;a.x=.5+div(a.xi,2);a.y=.5+div(a.yi,2);a.a=div(a.q22,8);a.a=Math.min(a.a,.2);"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.index=0;a.q22=0;a.q21=0;a.fade=0;a.q1=0;a.dec_med=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.q3=0;a.t0=0;a.q32=0;a.q20=0;a.fade=.5;", frame_eqs_str: "a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.5+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass+a.mid+a.treb;a.k1=a.is_beat*equal(a.index,0);a.p1=\na.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.14159265358*a.p2,2);a.q27=a.index+1;a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.zoom=1;a.rot=-0*a.index;a.fade=a.fade*a.dec_med+pow(.996,div(30,a.fps))*(1-a.dec_med);a.q32=a.fade;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec2 zz_1;\n  mat2 tmpvar_2;\n  tmpvar_2[uint(0)] = _qa.xy;\n  tmpvar_2[1u] = _qa.zw;\n  zz_1 = (((\n    (uv - vec2(0.5, 0.5))\n   * texsize.xy) * (0.015 * q27)) * tmpvar_2);\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = (((q32 * texture (sampler_main, \n    (uv + ((clamp (\n      (sin(zz_1) / cos(zz_1))\n    , vec2(-20.0, -20.0), vec2(20.0, 20.0)) * texsize.zw) * 8.0))\n  ).xyz) + (\n    (0.03 * texture (sampler_noise_lq, ((uv * 0.3) + (0.01 * rand_frame).xy)))\n  .xyz * \n    (1.0 - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))\n  )) - 0.02);\n  ret = tmpvar_3.xyz;\n }", comp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1 = texture (sampler_main, uv);\n  vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = ((tmpvar_1.xyz + clamp (\n    (3.0 * (((texture (sampler_blur1, \n      (uv - (0.01 * tmpvar_1.xyz).xy)\n    ).xyz * scale1) + bias1) - vec3(0.1, 0.1, 0.2)))\n  , 0.0, 1.0)) * 1.3);\n  ret = tmpvar_2.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 4, gammaadj: 1.98, decay: 0.5, echo_zoom: 0.952, echo_alpha: 0.5, echo_orient: 3, wave_mode: 6, additivewave: 1, wave_thick: 1, modwavealphabyvolume: 1, wave_brighten: 0, darken: 1, wave_a: 1e-3, wave_scale: 2.103, wave_smoothing: 0.54, wave_mystery: 0.38, modwavealphastart: 0.81, modwavealphaend: 1.4, warpanimspeed: 1.459, warpscale: 2.007, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0, wave_g: 0, wave_b: 0, ob_size: 0.015, ob_b: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 1.85, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 1, sides: 16, thickoutline: 1, textured: 1, num_inst: 3, x: 0.73, rad: 0.29466, tex_zoom: 1.87511, r: 0.7, g: 0.7, b: 1, g2: 0, border_b: 0, border_a: 0}, init_eqs_str: "a.trig=0;a.q25=0;a.x0=0;a.y0=0;", frame_eqs_str: "a.trig=a.q25;a.a=.8*a.trig;a.a2=0;a.x0=a.x0*bnot(a.trig)+div(a.trig*randint(100),100);a.y0=a.y0*bnot(a.trig)+div(a.trig*randint(100),100);a.tex_ang=randint(20);a.rad=.1+div(randint(10),8);a.x=a.x0;a.y=a.y0;a.r=.7+.3*Math.sin(div(a.time,12));a.b=.7+.3*Math.sin(div(a.time,15));a.g=.7+.3*Math.sin(div(a.time,8));a.r2=a.r;a.b2=a.b;a.g2=a.g;"}, {baseVals: {enabled: 1, sides: 36, thickoutline: 1, textured: 1, num_inst: 4, x: 0.3, rad: 0.05429, ang: 1.25664, tex_ang: 0.37699, tex_zoom: 1.02841, g: 0.7, b: 0.5, r2: 1, g2: 0, border_g: 0.59, border_b: 0, border_a: 0}, init_eqs_str: "a.q31=0;a.q32=0;a.q30=0;", frame_eqs_str: "a.x=a.q31;a.y=a.q32;a.rad=.06;a.tex_ang=a.time;a.a=a.q30;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.q25=0;a.index=0;a.q12=0;a.q22=0;a.q21=0;a.q15=0;a.q29=0;a.q6=0;a.dec_med=0;a.q5=0;a.mindev=0;a.trel=0;a.t0a=0;a.mov1=0;a.vis=0;a.is_beat=0;a.q31=0;a.q23=0;a.q24=0;a.dec_slow=0;a.q11=0;a.hpeak=0;a.q10=0;a.sdev=0;a.med=0;a.spb=0;a.dir=0;a.spb_=0;a.q16=0;a.rota=0;a.q19=0;a.vol=0;a.peak=0;a.trig1=0;a.wamp=0;a.speed=0;a.t0=0;a.vol_=0;a.q32=0;a.q7=0;a.wamp_=0;a.q30=0;a.q20=0;a.q8=0;a.t0a=a.time;a.t0=a.time+.5;a.spb_=.5;a.volb=.5;a.volx=.5;a.vol_=1;a.index=0;a.mov1=0;a.sdev=.1;a.wamp_=\n.1;", frame_eqs_str: "a.dec_med=pow(.8,div(30,a.fps));a.dec_slow=pow(.95,div(30,a.fps));a.vol=div(a.bass+a.med+a.treb,1.5);a.vol_=a.vol_*a.dec_slow+(1-a.dec_slow)*a.vol;a.is_beat=above(a.vol,a.vol_+2*a.peak)*above(a.time,a.t0+.45*a.spb_);a.t0a=.00001<Math.abs(a.is_beat)?a.t0:a.t0a;a.t0=.00001<Math.abs(a.is_beat)?a.time:a.t0;a.peak=.00001<Math.abs(a.is_beat)?a.vol:a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,128);a.spb=Math.min(a.t0-a.t0a+.01,2);a.spb_=.00001<Math.abs(a.is_beat)?.9*a.spb_+.1*a.spb:\na.spb_;a.q20=a.vol_;a.q21=above(a.vol,2.7*a.vol_);a.q22=Math.max(0,a.peak-0)+.01;a.hpeak=a.hpeak*a.dec_med+(1-a.dec_med)*a.q21;a.q23=a.hpeak*(1+randint(8));a.q24=a.is_beat;a.q25=div(a.q22*(1+randint(8)),8);a.mindev=Math.min(Math.min(Math.abs(a.spb-a.spb_),Math.abs(2*a.spb-a.spb_)),Math.abs(a.spb-2*a.spb_));a.sdev=.00001<Math.abs(a.is_beat)?.8*a.sdev+.2*pow(a.mindev+.02,2):a.sdev;a.speed=div(div(1,a.fps),a.spb_);a.trel+=a.speed;a.q10=a.trel;a.wamp=Math.min(div(.001,a.sdev),.15);a.wamp_=a.wamp_*a.dec_slow+\n(1-a.dec_slow)*a.wamp;a.q11=Math.sin(div(a.trel,2))*a.wamp_;a.q12=div(a.wamp_,2);a.rota=2*a.wamp_*Math.sin(div(a.trel,3));a.q5=Math.cos(a.rota);a.q6=Math.sin(a.rota);a.q7=-a.q6;a.q8=a.q5;a.q15=.05*-Math.sin(.5*a.trel);a.q16=div(Math.cos(a.trel)*a.wamp_,2);a.q19=.1*Math.sin(div(a.trel,12));a.trig1=bnot(a.vis)*bnot(randint(100*a.fps));a.vis=.00001<Math.abs(a.trig1)?1:a.vis*below(a.mov1,1);a.q30=a.vis;a.mov1=.00001<Math.abs(a.vis)?a.mov1+div(2*a.speed,a.fps):-1;a.dir=.00001<Math.abs(a.trig1)?randint(100):\na.dir;a.q31=.5+.5*Math.cos(a.dir)*a.mov1;a.q32=.5+.5*Math.sin(a.dir)*a.mov1;a.q29=2+Math.sin(div(a.time,17));a.monitor=a.wamp;", pixel_eqs_str: "a.zoom=1+.02*a.rad*a.q20;a.dy=-0;a.warp=.1;a.dx=0;", warp: "mat2 ofs;\nvec2 xlat_mutableuv2;\nfloat xlat_mutablezv;\n shader_body { \n  mat2 tmpvar_1;\n  tmpvar_1[uint(0)].x = texsize.z;\n  tmpvar_1[uint(0)].y = 0.0;\n  tmpvar_1[1u].x = 0.0;\n  tmpvar_1[1u].y = texsize.w;\n  ofs = (tmpvar_1 * 4.0);\n  vec2 tmpvar_2;\n  tmpvar_2.x = ((uv.x - 0.5) + q19);\n  tmpvar_2.y = (uv.y - 0.5);\n  vec2 v_3;\n  v_3.x = ofs[0].x;\n  v_3.y = ofs[1].x;\n  vec2 v_4;\n  v_4.x = ofs[0].x;\n  v_4.y = ofs[1].x;\n  vec2 v_5;\n  v_5.x = ofs[0].y;\n  v_5.y = ofs[1].y;\n  vec2 v_6;\n  v_6.x = ofs[0].y;\n  v_6.y = ofs[1].y;\n  vec2 tmpvar_7;\n  tmpvar_7.x = (texture (sampler_main, (uv + v_3)) - texture (sampler_main, (uv - v_4))).z;\n  tmpvar_7.y = (texture (sampler_main, (uv + v_5)) - texture (sampler_main, (uv - v_6))).z;\n  xlat_mutablezv = (time * 0.08);\n  vec2 tmpvar_8;\n  tmpvar_8.x = (0.02 * time);\n  tmpvar_8.y = (-0.05 * time);\n  xlat_mutableuv2 = ((3.0 * tmpvar_2) + tmpvar_8);\n  vec3 tmpvar_9;\n  tmpvar_9.xy = xlat_mutableuv2;\n  tmpvar_9.z = xlat_mutablezv;\n  vec3 tmpvar_10;\n  tmpvar_10.xy = (xlat_mutableuv2 * vec2(2.0, 2.0));\n  tmpvar_10.z = (xlat_mutablezv * 2.0);\n  vec3 tmpvar_11;\n  tmpvar_11.xy = (xlat_mutableuv2 * vec2(4.0, 4.0));\n  tmpvar_11.z = (xlat_mutablezv * 3.0);\n  vec3 tmpvar_12;\n  tmpvar_12.xy = (xlat_mutableuv2 * vec2(8.0, 8.0));\n  tmpvar_12.z = (xlat_mutablezv * 7.0);\n  xlat_mutableuv2 = (tmpvar_2 + ((\n    (((texture (sampler_noisevol_hq, tmpvar_9).z + (texture (sampler_noisevol_hq, tmpvar_10).z / 2.0)) + (texture (sampler_noisevol_hq, tmpvar_11).z / 4.0)) + (texture (sampler_noisevol_hq, tmpvar_12).z / 8.0))\n   - 1.0) * 0.1));\n  vec4 tmpvar_13;\n  tmpvar_13.w = 1.0;\n  tmpvar_13.xyz = (((\n    (((0.2 + (\n      (((1.0 + bass_att) * 0.01) / sqrt(dot (xlat_mutableuv2, xlat_mutableuv2)))\n     * \n      (1.0 + normalize(slow_roam_cos))\n    .xyz)) + ((rand_preset.z - 0.5) * xlat_mutableuv2.y)) * 0.1)\n   / 2.0) + (texture (sampler_main, \n    (uv - (0.02 * tmpvar_7))\n  ).xyz * 0.9)) - 0.01);\n  ret = tmpvar_13.xyz;\n }", comp: "float xlat_mutablerain;\nvec3 xlat_mutableret1;\nvec2 xlat_mutablers;\nvec2 xlat_mutablers0;\nvec2 xlat_mutableuv1;\nfloat xlat_mutablewater;\nfloat xlat_mutablez;\n shader_body { \n  vec2 uv_1;\n  mat2 tmpvar_2;\n  tmpvar_2[uint(0)] = _qb.xy;\n  tmpvar_2[1u] = _qb.zw;\n  vec2 tmpvar_3;\n  tmpvar_3.x = q15;\n  tmpvar_3.y = q16;\n  uv_1 = (((\n    (((uv - 0.5) * tmpvar_2) * 0.7)\n   * aspect.xy) + 0.5) + tmpvar_3);\n  vec2 tmpvar_4;\n  tmpvar_4.x = 0.5;\n  tmpvar_4.y = ((q11 + 0.6) + (q12 * (\n    sin(((uv_1.x * 6.0) + q10))\n   * \n    cos(((uv_1.y * 8.0) + (time * 0.6)))\n  )));\n  vec2 tmpvar_5;\n  tmpvar_5.x = (uv_1.x * 4.0);\n  tmpvar_5.y = uv_1.y;\n  vec2 tmpvar_6;\n  tmpvar_6.x = (uv_1.x * 4.0);\n  tmpvar_6.y = uv_1.y;\n  xlat_mutablerain = (texture (sampler_noise_lq, ((tmpvar_5 * 0.2) - time)).x + texture (sampler_noise_lq, ((tmpvar_6 * 0.5) - time)).x);\n  float tmpvar_7;\n  tmpvar_7 = (time / 4.0);\n  xlat_mutablerain = (xlat_mutablerain * clamp ((\n    (q20 / 2.0)\n   - \n    abs(sin(((uv.x / 4.0) - tmpvar_7)))\n  ), 0.0, 1.0));\n  xlat_mutableuv1 = ((uv_1 - tmpvar_4) + (xlat_mutablerain * 0.01));\n  vec3 tmpvar_8;\n  tmpvar_8.x = xlat_mutableuv1.y;\n  tmpvar_8.y = (xlat_mutableuv1.x * 2.0);\n  tmpvar_8.z = (time * 0.2);\n  xlat_mutableuv1 = (xlat_mutableuv1 + ((texture (sampler_noisevol_hq, tmpvar_8) * \n    (0.5 - abs(xlat_mutableuv1.y))\n  ).x * 0.05));\n  float tmpvar_9;\n  tmpvar_9 = clamp ((128.0 * xlat_mutableuv1.y), 0.0, 1.0);\n  xlat_mutablez = (0.4 / xlat_mutableuv1.y);\n  xlat_mutablers0.x = (xlat_mutableuv1.x * xlat_mutablez);\n  xlat_mutablers0.y = xlat_mutablez;\n  vec2 tmpvar_10;\n  tmpvar_10.x = (xlat_mutablers0.x + tmpvar_7);\n  tmpvar_10.y = (xlat_mutablez + (time * 4.0));\n  xlat_mutablers = (tmpvar_10 * tmpvar_9);\n  xlat_mutablewater = (texture (sampler_noise_hq, xlat_mutablers) + texture (sampler_noise_hq, ((xlat_mutablers / 4.0) - (time / 8.0)))).x;\n  xlat_mutablewater = (xlat_mutablewater - 1.0);\n  vec2 tmpvar_11;\n  tmpvar_11.x = (xlat_mutableuv1.x + 0.5);\n  tmpvar_11.y = abs((0.5 - xlat_mutableuv1.y));\n  xlat_mutableret1 = (((texture (sampler_main, uv_1).xyz * \n    (1.0 - tmpvar_9)\n  ) + (\n    ((texture (sampler_main, (tmpvar_11 - (0.2 * xlat_mutablewater))).xyz * tmpvar_9) * pow ((1.0/(xlat_mutablez)), 0.2))\n   * \n    (2.0 - rand_preset.y)\n  )) + ((\n    (((0.25 + rand_preset.y) * (1.0 + (rand_preset.x * xlat_mutablewater))) * tmpvar_9)\n   / xlat_mutablez) * vec3(0.0, 0.1, 0.1)));\n  xlat_mutableret1 = (xlat_mutableret1 + (0.06 * xlat_mutablerain));\n  vec4 tmpvar_12;\n  tmpvar_12.w = 1.0;\n  tmpvar_12.xyz = (1.0 - exp((\n    (-(pow (xlat_mutableret1, vec3(1.5, 1.5, 1.5))) * 8.0)\n   * \n    (1.0 + (q23 * 4.0))\n  )));\n  ret = tmpvar_12.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 4, gammaadj: 1.98, decay: 0.5, echo_zoom: 0.952, echo_alpha: 0.5, echo_orient: 3, wave_mode: 4, additivewave: 1, wave_thick: 1, modwavealphabyvolume: 1, wave_brighten: 0, darken: 1, wave_a: 1e-3, wave_scale: 0.527, wave_smoothing: 0.45, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 1.459, warpscale: 2.007, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0.8, wave_g: 0.49, ob_size: 0.015, ob_b: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 1.85, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 1, sides: 12, additive: 1, num_inst: 571, x: 0.26, y: 0.2, rad: 0.39317, tex_zoom: 0.9355, g2: 0, a2: 0.2, border_g: 0, border_b: 0, border_a: 0}, init_eqs_str: "a.px=0;a.fov=0;a.q12=0;a.copy=0;a.q18=0;a.tht=0;a.q15=0;a.flim=0;a.q1=0;a.q5=0;a.py=0;a.mov1=0;a.vis=0;a.oz=0;a.k1=0;a.q11=0;a.z0=0;a.q10=0;a.copies=0;a.v0=0;a.q4=0;a.burst=0;a.oy=0;a.rota=0;a.q19=0;a.q17=0;a.spur=0;a.q2=0;a.q14=0;a.rotmode=0;a.q3=0;a.t0=0;a.phi=0;a.ox=0;", frame_eqs_str: "a.mov1=a.q1;a.rotmode=a.q3;a.burst=a.q10;a.copies=a.q14;a.copy=div(mod(a.instance,a.copies),a.copies);a.k1=div(Math.floor(div(a.instance,a.copies))*a.copies,a.num_inst);a.k1=div(Math.floor(a.k1*a.burst),a.burst)+div(a.k1,a.burst);a.mov1=a.mov1+a.k1-a.copy*a.q2;a.mov1-=Math.floor(a.mov1);a.rotmode-=a.copy*a.q4;a.rota=a.mov1*a.rotmode*a.q5*2;a.mov1=a.mov1*(1-a.rotmode)+a.rotmode*(.5+.025*a.k1);a.mov1=pow(a.mov1,.9);a.tht=Math.sin(a.k1*a.k1*123.2)*(.2+0*a.rotmode);a.phi=1613.3*\na.k1+a.rota;a.v0=(1+.3*Math.cos(13234.7*a.k1))*a.q5;a.z0=div(a.q18,a.q5);a.t0=.4;a.spur=(a.mov1-a.t0)*above(a.mov1-a.t0,0)*a.q15;a.py=a.spur*Math.sin(6.28*a.copy);a.px=a.spur*Math.cos(6.28*a.copy);a.fov=2*a.z0;a.ox=(a.mov1-a.q19)*a.v0*Math.sin(a.tht)*Math.cos(a.phi);a.oy=a.mov1*a.v0*(1-a.mov1)*Math.cos(2*a.tht)-.25;a.oz=a.mov1*a.v0*Math.sin(a.tht)*Math.sin(a.phi);a.ox=a.ox+(a.k1-.5)*a.q17+a.px;a.oy-=a.py;a.oz+=3*a.py;a.rad=div(.025*a.z0,a.oz+a.z0)*(1-.5*a.mov1);a.x=.5+div(a.fov*a.ox,a.oz+a.z0);a.y=\n.5+div(a.fov*a.oy,a.oz+a.z0);a.vis=above(a.mov1,a.q11)*below(a.mov1,a.q12)*above(a.oz,-a.z0);a.a=div(.7*a.vis,sqrt(a.copies))*(1+above(a.spur,0));a.a2=0;a.g=a.flim;"}, {baseVals: {enabled: 1, sides: 13, additive: 1, num_inst: 212, x: 0.65, y: 0.38, rad: 1.26467, tex_zoom: 0.73678, g: 1, a: 0.3, r2: 1, g2: 0, border_r: 0.5, border_g: 0.5, border_b: 0, border_a: 0}, init_eqs_str: "a.mov2=0;a.q25=0;a.copy=0;a.tht=0;a.q29=0;a.trel=0;a.mov1=0;a.oz=0;a.k1=0;a.z0=0;a.copies=0;a.k2=0;a.oy=0;a.stray=0;a.q27=0;a.size0=0;a.phase=0;a.t0=0;a.phi=0;a.ox=0;", frame_eqs_str: "a.trel=a.q25;a.copies=1;a.copy=div(mod(a.instance,a.copies),a.copies);a.k1=div(Math.floor(div(a.instance,a.copies))*a.copies,a.num_inst);a.k2=a.k1+.5;a.trel=a.trel;a.t0=.5;a.phase=above(a.trel,a.t0);a.mov1=bnot(a.phase)*(a.t0-a.trel+.01*a.k1);a.mov2=a.phase*(a.trel-a.t0);a.stray=1.2-a.phase;a.tht=3.14*Math.sin(1234.2*a.k1+a.time*bnot(a.phase))*a.stray;a.phi=3245.1*a.k1;a.size0=.02;a.ox=a.mov1*a.q27+Math.sin(a.tht)*Math.cos(a.phi)*(a.size0+a.mov2*(2+a.k1));a.oy=12*a.mov1+div(Math.cos(a.tht)*\n(a.size0+4*a.mov2*a.k2)*(1-a.mov2*a.k2),2);a.oz=8*a.mov1+Math.sin(a.tht)*Math.sin(a.phi)*(a.size0+2*a.mov2*(2+a.k1));a.z0=1;a.rad=div(div(.03,a.oz+a.z0),1+div(a.trel*randint(100),50));a.x=.5+div(a.ox,a.oz+a.z0);a.y=a.q29+.2+div(a.oy,a.oz+a.z0);a.a=.1*bnot(a.phase)+a.phase*Math.max(0,1-0*a.mov2)*above(a.oz+a.z0,0)*.8;"}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.stop=0;a.q25=0;a.index=0;a.q12=0;a.q18=0;a.q22=0;a.q21=0;a.q13=0;a.q15=0;a.q29=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.vshift=0;a.lo=0;a.xtime=0;a.t0a=0;a.mov1=0;a.is_beat=0;a.q31=0;a.q23=0;a.q24=0;a.dec_slow=0;a.q11=0;a.hpeak=0;a.q10=0;a.copies=0;a.q4=0;a.med=0;a.hi=0;a.vs0=0;a.bursts=0;a.spb_=0;a.volb=0;a.q16=0;a.q26=0;a.q19=0;a.q17=0;a.vol=0;a.peak=0;a.spur=0;a.q2=0;a.q27=0;a.q14=0;a.rotmode=0;a.wind=0;a.tmp=0;a.xbase=0;a.speed=0;a.q3=0;a.t0=0;a.vol_=0;a.q32=0;a.spread=0;\na.q28=0;a.q30=0;a.q20=0;a.volx=0;a.t0a=a.time;a.t0=a.time+.5;a.spb_=.5;a.volb=.5;a.volx=.5;a.vol_=1;a.index=0;a.mov1=0;", frame_eqs_str: "a.dec_med=pow(.85,div(30,a.fps));a.dec_slow=pow(.95,div(30,a.fps));a.vol=div(a.bass+a.med+a.treb,1.5);a.vol_=a.vol_*a.dec_slow+(1-a.dec_slow)*a.vol;a.is_beat=above(a.vol,.1+a.vol_+2*a.peak)*above(a.time,a.t0+.45*a.spb_);a.t0a=.00001<Math.abs(a.is_beat)?a.t0:a.t0a;a.t0=.00001<Math.abs(a.is_beat)?a.time:a.t0;a.peak=.00001<Math.abs(a.is_beat)?a.vol:a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,128);a.spb_=.00001<Math.abs(a.is_beat)?.9*a.spb_+.1*Math.min(a.t0-a.t0a+.01,2):a.spb_;\na.q20=a.vol_;a.q21=above(a.vol,2.7*a.vol_);a.q22=Math.max(0,a.peak-0)+.01;a.hpeak=a.hpeak*a.dec_med+(1-a.dec_med)*a.q21;a.q23=a.hpeak*(1+randint(8));a.q24=a.is_beat;a.volb=bnot(a.q24)*a.volb+a.q24*a.vol_;a.volx+=div(.2,a.fps)*Math.max(Math.min(a.volb-a.volx,1),-1)*bnot(a.rotmode);a.rotmode=Math.max(Math.min(4*Math.sin(div(a.mov1,2.4)-1.5)-3,1),0);a.stop=(.00001<Math.abs(bnot(a.stop))?bnot(mod(a.index,24)):below(a.lo,1))*bnot(a.rotmode);a.spread=.00001<Math.abs(below(a.lo,1))?a.spread:div(randint(2)*\nrandint(12),20);a.copies=.00001<Math.abs(below(a.lo,1))?a.copies:3+randint(2)*randint(8);a.spur=.00001<Math.abs(below(a.lo,1))?a.spur:.1*above(a.copies,5);a.bursts=.00001<Math.abs(below(a.lo,1))?a.bursts:1+randint(2)*randint(6);a.xbase=.00001<Math.abs(below(a.lo,1))?a.xbase:randint(2)*(div(randint(10),10)-.5);a.vs0=.00001<Math.abs(a.is_beat*bnot(mod(a.index,77)))?div(randint(5),4)-.7:a.vs0;a.vshift+=div(3,a.fps)*Math.max(Math.min(a.vs0-a.vshift,.04),-.04);a.speed=div(div(.15,a.fps),a.spb_);a.tmp=\na.mov1;a.mov1+=a.speed;a.q2=a.mov1-a.tmp;a.q1=a.mov1;a.tmp=a.rotmode;a.q3=a.rotmode;a.q4=a.rotmode-a.tmp;a.tmp=a.volx;a.q5=a.volx;a.q6=a.q5-a.tmp;a.q10=a.bursts;a.lo=.00001<Math.abs(a.stop)?a.lo+a.speed:0;a.hi=.00001<Math.abs(above(a.lo,1))?0:a.hi+a.speed;a.q11=a.lo;a.q12=a.hi;a.q13=0*sqrt(a.q22);a.q14=a.copies;a.q15=a.spur*(1-a.rotmode);a.q16=0;a.q17=a.spread*(1-a.rotmode);a.q18=div(1,Math.min(Math.max(10*Math.sin(div(a.mov1,2)),1),4));a.q19=a.xbase;a.xtime=.00001<Math.abs(a.stop*a.q21*above(a.xtime,\n2))?0:a.xtime+div(.2,a.fps);a.q25=a.xtime;a.q26=.00001<Math.abs(below(a.xtime,.55))?pow(32,512*-sqr(a.xtime-.55)):pow(2,3*-sqr(a.xtime-.55));a.q27=4*Math.sin(div(a.time,29));a.wind+=div(.5,a.fps)*(a.volx-1.5);a.q28=a.wind;a.q29=a.vshift;a.q30=Math.max(Math.sin(div(a.mov1,2.2))*Math.sin(div(a.time,7)),0)+a.q26;a.q31=2*a.q5-2+Math.sin(div(a.time,17));a.q32=3+2*Math.sin(div(a.time,27));a.monitor=a.vshift;", pixel_eqs_str: "a.zoom=1;a.dy=-0;a.warp=0;", warp: "mat2 ofs;\nfloat xlat_mutablegreen;\nfloat xlat_mutablek1;\nfloat xlat_mutablered;\nvec2 xlat_mutableuv2;\nfloat xlat_mutablewave;\nfloat xlat_mutablezv;\n shader_body { \n  mat2 tmpvar_1;\n  tmpvar_1[uint(0)].x = texsize.z;\n  tmpvar_1[uint(0)].y = 0.0;\n  tmpvar_1[1u].x = 0.0;\n  tmpvar_1[1u].y = texsize.w;\n  ofs = (tmpvar_1 * 4.0);\n  float delta_2;\n  float ky_3;\n  vec2 tmpvar_4;\n  tmpvar_4.x = (uv.x - 0.5);\n  tmpvar_4.y = ((uv.y - 0.5) + q29);\n  vec2 v_5;\n  v_5.x = ofs[0].x;\n  v_5.y = ofs[1].x;\n  vec2 v_6;\n  v_6.x = ofs[0].x;\n  v_6.y = ofs[1].x;\n  vec2 v_7;\n  v_7.x = ofs[0].y;\n  v_7.y = ofs[1].y;\n  vec2 v_8;\n  v_8.x = ofs[0].y;\n  v_8.y = ofs[1].y;\n  vec2 tmpvar_9;\n  tmpvar_9.x = (texture (sampler_main, (uv + v_5)) - texture (sampler_main, (uv - v_6))).x;\n  tmpvar_9.y = (texture (sampler_main, (uv + v_7)) - texture (sampler_main, (uv - v_8))).x;\n  xlat_mutablered = (0.5 * texture (sampler_main, (uv - (0.004 * tmpvar_9))).x);\n  xlat_mutablered = (xlat_mutablered + (0.5 * texture (sampler_main, uv).x));\n  vec2 tmpvar_10;\n  tmpvar_10.x = tmpvar_4.x;\n  tmpvar_10.y = (0.0078125 * (float(\n    int((tmpvar_4.y * 128.0))\n  ) + abs(\n    (fract((tmpvar_4.y * 128.0)) - 0.5)\n  )));\n  vec2 tmpvar_11;\n  tmpvar_11 = (tmpvar_10 * 4.0);\n  ky_3 = clamp ((-0.5 - tmpvar_11.y), 0.0, 1.0);\n  xlat_mutablek1 = (abs((\n    fract((tmpvar_11.x * 2.0))\n   - 0.5)) * 8.0);\n  xlat_mutablek1 = (xlat_mutablek1 - sign(xlat_mutablek1));\n  delta_2 = (0.1 + (rand_preset * 0.05)).x;\n  xlat_mutablek1 = (xlat_mutablek1 - ((\n    (4.0 * sign(xlat_mutablek1))\n   * ky_3) * ky_3));\n  ky_3 = clamp ((ky_3 - delta_2), 0.0, 1.0);\n  xlat_mutablek1 = (xlat_mutablek1 - ((\n    (8.0 * sign(xlat_mutablek1))\n   * ky_3) * ky_3));\n  ky_3 = clamp ((ky_3 - delta_2), 0.0, 1.0);\n  xlat_mutablek1 = (xlat_mutablek1 - ((\n    (12.0 * sign(xlat_mutablek1))\n   * ky_3) * ky_3));\n  ky_3 = clamp ((ky_3 - delta_2), 0.0, 1.0);\n  xlat_mutablek1 = (xlat_mutablek1 - ((\n    (16.0 * sign(xlat_mutablek1))\n   * ky_3) * ky_3));\n  ky_3 = clamp ((ky_3 - delta_2), 0.0, 1.0);\n  float tmpvar_12;\n  tmpvar_12 = clamp (xlat_mutablek1, -1.6, 1.6);\n  xlat_mutablek1 = tmpvar_12;\n  xlat_mutablegreen = (cos((tmpvar_12 * 2.0)) - 0.1);\n  xlat_mutablewave = ((sin(\n    ((q1 * 8.0) - (uv.x * 6.0))\n  ) / 2.0) * q3);\n  xlat_mutablewave = ((xlat_mutablewave * float(\n    (xlat_mutablewave >= 0.0)\n  )) + (q30 * 0.02));\n  xlat_mutablered = (xlat_mutablered + ((\n    (xlat_mutablewave / abs(sin((\n      (1.0/(tmpvar_12))\n     + \n      (q1 / 8.0)\n    ))))\n   * xlat_mutablegreen) * ky_3));\n  xlat_mutablezv = ((time * 0.08) + (0.2 * sin(\n    ((uv * 16.0) + time)\n  ))).x;\n  vec2 tmpvar_13;\n  tmpvar_13.x = q28;\n  tmpvar_13.y = (0.2 * time);\n  xlat_mutableuv2 = ((tmpvar_4 * 2.0) + tmpvar_13);\n  vec3 tmpvar_14;\n  tmpvar_14.xy = xlat_mutableuv2;\n  tmpvar_14.z = xlat_mutablezv;\n  vec3 tmpvar_15;\n  tmpvar_15.xy = (xlat_mutableuv2 * vec2(2.0, 2.0));\n  tmpvar_15.z = (xlat_mutablezv * 2.0);\n  vec3 tmpvar_16;\n  tmpvar_16.xy = (xlat_mutableuv2 * vec2(4.0, 4.0));\n  tmpvar_16.z = (xlat_mutablezv * 3.0);\n  vec3 tmpvar_17;\n  tmpvar_17.xy = (xlat_mutableuv2 * vec2(8.0, 8.0));\n  tmpvar_17.z = (xlat_mutablezv * 7.0);\n  xlat_mutableuv2 = (tmpvar_4 + ((\n    ((texture (sampler_noisevol_hq, tmpvar_14).z + (texture (sampler_noisevol_hq, tmpvar_15).z / 2.0)) + (texture (sampler_noisevol_hq, tmpvar_16).z / 4.0))\n   + \n    (texture (sampler_noisevol_hq, tmpvar_17).z / 8.0)\n  ) * 0.1));\n  vec3 tmpvar_18;\n  tmpvar_18.x = xlat_mutablered;\n  tmpvar_18.y = xlat_mutablegreen;\n  tmpvar_18.z = ((1.0 + xlat_mutableuv2.y) * sqrt(dot (xlat_mutableuv2, xlat_mutableuv2)));\n  vec4 tmpvar_19;\n  tmpvar_19.w = 1.0;\n  tmpvar_19.xyz = ((tmpvar_18 * 0.8) - 0.005);\n  ret = tmpvar_19.xyz;\n }", comp: "float trel;\nfloat vshift;\nvec3 xlat_mutableret1;\nvec2 xlat_mutablers;\nvec2 xlat_mutablers0;\nfloat xlat_mutablesmoke;\nfloat xlat_mutablesmoke2;\nvec2 xlat_mutableuv_l;\nfloat xlat_mutablew;\nfloat xlat_mutablez;\n shader_body { \n  trel = (time / 2.0);\n  vshift = (0.5 - q29);\n  vec2 tmpvar_1;\n  tmpvar_1.x = rand_preset.x;\n  tmpvar_1.y = ((-0.1 - (rand_preset.y / 2.0)) + vshift);\n  vec2 tmpvar_2;\n  tmpvar_2.y = 0.0;\n  tmpvar_2.x = (0.005 * time);\n  xlat_mutableuv_l = (uv + tmpvar_2);\n  vec2 tmpvar_3;\n  vec2 tmpvar_4;\n  tmpvar_4 = (uv - 0.5);\n  tmpvar_3 = sin(((\n    (tmpvar_4 * aspect.xy)\n   + 0.5) - (tmpvar_1 * aspect.xy)));\n  vec2 tmpvar_5;\n  tmpvar_5 = fract(uv);\n  vec3 tmpvar_6;\n  tmpvar_6 = vec3((texture (sampler_fc_main, tmpvar_5).x + (2.0 * (\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\n   + bias2).x)));\n  vec3 tmpvar_7;\n  tmpvar_7.x = tmpvar_6.x;\n  tmpvar_7.y = pow (tmpvar_6.x, 2.1);\n  tmpvar_7.z = pow (tmpvar_6.x, 4.0);\n  xlat_mutablew = ((uv.y - (\n    ((dot (texture (sampler_noise_hq, vec2((xlat_mutableuv_l.x / 6.0))), vec4(0.32, 0.49, 0.29, 0.0)) + uv.x) - 0.5)\n   / 4.0)) - vshift);\n  xlat_mutablez = (0.2 / xlat_mutablew);\n  float tmpvar_8;\n  tmpvar_8 = clamp ((-0.2 - (\n    (8.0 * q5)\n   * xlat_mutablew)), 0.0, 1.0);\n  xlat_mutablers0.x = (((uv.x - 0.5) * (1.0 + \n    abs(xlat_mutablez)\n  )) * 2.0);\n  xlat_mutablers0.y = xlat_mutablez;\n  xlat_mutablers0 = (xlat_mutablers0 * ((4.0 * \n    float((xlat_mutablez <= 0.0))\n  ) + 1.0));\n  vec2 tmpvar_9;\n  tmpvar_9.x = 0.0;\n  tmpvar_9.y = (1.5 + xlat_mutablew);\n  vec2 x_10;\n  x_10 = (xlat_mutablers0 - tmpvar_9);\n  float tmpvar_11;\n  tmpvar_11 = ((q26 / sqrt(\n    dot (x_10, x_10)\n  )) / 4.0);\n  xlat_mutablers0 = (xlat_mutablers0 * (1.0 + (tmpvar_11 * tmpvar_11)));\n  xlat_mutablers.x = (xlat_mutablers0 * 2.0).x;\n  xlat_mutablers.y = (xlat_mutablers0.y + (trel * 0.5));\n  float tmpvar_12;\n  tmpvar_12 = (texture (sampler_main, uv).y * tmpvar_8);\n  vec3 tmpvar_13;\n  tmpvar_13.xy = (xlat_mutablers * 2.0);\n  tmpvar_13.z = (0.2 * trel);\n  float tmpvar_14;\n  tmpvar_14 = dot (((\n    ((2.0 * clamp ((texture (sampler_noisevol_hq, \n      (tmpvar_13 * float((xlat_mutablez >= 0.0)))\n    ) - 0.2), 0.0, 1.0)).xyz * clamp ((texture (sampler_noise_hq, (xlat_mutablers / 16.0)) - 0.5), 0.0, 1.0).x)\n   / \n    sqrt(abs(xlat_mutablez))\n  ) + tmpvar_11), vec3(0.32, 0.49, 0.29));\n  vec3 tmpvar_15;\n  tmpvar_15.x = tmpvar_14;\n  tmpvar_15.y = pow (tmpvar_14, 2.1);\n  tmpvar_15.z = pow (tmpvar_14, 6.0);\n  xlat_mutableret1 = (((\n    ((uv.y * (1.0 + q23)) + (0.1 / sqrt(dot (tmpvar_3, tmpvar_3))))\n   * vec3(0.1, 0.1, 0.2)) * tmpvar_8) + (clamp (tmpvar_15, 0.0, 1.0) * (1.0 - \n    clamp ((-1.0 - (12.0 * xlat_mutablew)), 0.0, 1.0)\n  )));\n  xlat_mutableret1 = (xlat_mutableret1 * clamp ((1.0 - \n    (tmpvar_12 * 8.0)\n  ), 0.0, 1.0));\n  vec4 tmpvar_16;\n  tmpvar_16 = texture (sampler_main, fract((tmpvar_4 + 0.5)));\n  xlat_mutablesmoke = (tmpvar_16.z * (tmpvar_16.z * q5));\n  xlat_mutableret1 = (xlat_mutableret1 * clamp ((1.0 - \n    ((xlat_mutablesmoke * q32) * tmpvar_8)\n  ), 0.0, 1.0));\n  xlat_mutablesmoke2 = (texture (sampler_main, ((tmpvar_4 / 2.0) + 0.5)).z * q30);\n  xlat_mutableret1 = (xlat_mutableret1 + (clamp (tmpvar_7, 0.0, 1.0) - (\n    ((xlat_mutablez * clamp ((xlat_mutablesmoke + \n      (xlat_mutablew * q31)\n    ), 0.0, 1.0)) * vec3(1.0, 0.4, 0.1))\n   * tmpvar_8)));\n  float tmpvar_17;\n  tmpvar_17 = clamp (((\n    (tmpvar_12 * xlat_mutablez)\n   * xlat_mutablez) / 16.0), 0.0, 1.0);\n  vec3 tmpvar_18;\n  tmpvar_18.x = tmpvar_17;\n  tmpvar_18.y = pow (tmpvar_17, 2.1);\n  tmpvar_18.z = pow (tmpvar_17, 6.0);\n  xlat_mutableret1 = (xlat_mutableret1 + clamp (tmpvar_18, 0.0, 1.0));\n  xlat_mutableret1 = (xlat_mutableret1 * clamp ((\n    (((dot (texture (sampler_noise_mq, vec2(\n      ((xlat_mutableuv_l.x / 4.0) + (0.02 * trel))\n    )), vec4(0.32, 0.49, 0.29, 0.0)) / 6.0) - uv.y) + 0.8)\n   * 32.0), 0.0, 1.0));\n  vec3 tmpvar_19;\n  tmpvar_19.x = xlat_mutablesmoke2;\n  tmpvar_19.y = pow (xlat_mutablesmoke2, 2.1);\n  tmpvar_19.z = pow (xlat_mutablesmoke2, 6.0);\n  xlat_mutableret1 = ((xlat_mutableret1 * clamp (\n    (1.0 - xlat_mutablesmoke2)\n  , 0.0, 1.0)) + clamp (tmpvar_19, 0.0, 1.0));\n  vec4 tmpvar_20;\n  tmpvar_20.w = 1.0;\n  tmpvar_20.xyz = (1.0 - exp((\n    -(xlat_mutableret1)\n   * 2.0)));\n  ret = tmpvar_20.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 3, gammaadj: 1.98, decay: 0.5, echo_zoom: 1, echo_alpha: 0.5, echo_orient: 3, wave_mode: 6, wave_thick: 1, modwavealphabyvolume: 1, wave_brighten: 0, darken: 1, wave_a: 1e-3, wave_scale: 0.527, wave_smoothing: 0.09, modwavealphastart: 0, modwavealphaend: 1.32, warpanimspeed: 1.459, warpscale: 2.007, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0.8, wave_g: 0.49, ob_a: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 1.85, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0, b2x: 0.7, b1ed: 0}, shapes: [{baseVals: {enabled: 1, sides: 12, num_inst: 1024, rad: 0.03632, tex_ang: 1.00531, tex_zoom: 1.53117, b: 1, a: 0, g2: 0, border_b: 0, border_a: 0}, init_eqs_str: "a.fov=0;a.n=0;a.x0=0;a.y0=0;a.z0=0;a.q32=0;a.t1=0;", frame_eqs_str: "a.fov=a.reg03;a.n=a.instance*a.reg00;a.x0=a.gmegabuf[Math.floor(a.n)];a.y0=a.gmegabuf[Math.floor(a.n+1)];a.z0=a.gmegabuf[Math.floor(a.n+2)]+a.reg02;a.x=div(a.x0,a.z0)*a.fov+.5;a.y=div(a.y0,a.z0)*a.q32*a.fov+.5;a.r=a.gmegabuf[Math.floor(a.n+3)];a.g=a.gmegabuf[Math.floor(a.n+4)];a.b=a.gmegabuf[Math.floor(a.n+5)];a.r2=div(a.r,2);a.g2=div(a.g,2);a.b2=div(a.b2,2);a.a=div(a.instance,1024);a.a2=.5*a.a;a.rad=Math.min(div(.02,a.z0),.5)*(0<a.z0?1:0)*2.5*sqrt(a.a);a.rad*=a.gmegabuf[Math.floor(a.n+\n6)];--a.t1;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, scaling: 2.15542, smoothing: 0.2, r: 0, a: 0.7}, init_eqs_str: "a.fov=0;a.n=0;a.t1=0;a.x0=0;a.y0=0;a.z0=0;a.k1=0;a.t2=0;", frame_eqs_str: "a.t1=1023;a.t2=0;", point_eqs_str: "a.fov=a.reg03;a.n=a.t1*a.reg00;a.x0=a.gmegabuf[Math.floor(a.n)];a.y0=a.gmegabuf[Math.floor(a.n+1)];a.z0=a.gmegabuf[Math.floor(a.n+2)]+a.reg02;a.x=div(a.x0,a.z0)*a.fov+.5;a.y=div(a.y0,a.z0)*a.fov+.5;a.a=Math.max(0,div(a.t1,1024));a.k1=a.reg01+a.t1;a.r=a.gmegabuf[Math.floor(a.n+3)];a.g=a.gmegabuf[Math.floor(a.n+4)];a.b=a.gmegabuf[Math.floor(a.n+5)];a.a=div(div(a.t1,1024)*(.5<=a.z0?1:0),2);--a.t1;a.gmegabuf[Math.floor(1E4+a.t2)]=Math.abs(a.value1+a.value2);a.t2+=1;"}, {baseVals: {enabled: 1, scaling: 0.89152, smoothing: 0.82, r: 0, a: 0.1}, init_eqs_str: "a.fov=0;a.n=0;a.t1=0;a.x0=0;a.y0=0;a.z0=0;", frame_eqs_str: "a.t1=512;", point_eqs_str: "a.fov=a.reg03;a.n=a.t1*a.reg00;a.x0=a.gmegabuf[Math.floor(a.n)];a.y0=a.gmegabuf[Math.floor(a.n+1)];a.z0=a.gmegabuf[Math.floor(a.n+2)]+a.reg02;a.x=div(a.x0,a.z0)*a.fov+.5;a.y=div(a.y0,a.z0)*a.fov+.5;a.r=a.gmegabuf[Math.floor(a.n+3)];a.g=a.gmegabuf[Math.floor(a.n+4)];a.b=a.gmegabuf[Math.floor(a.n+5)];a.a=div(div(a.t1,1024)*(.5<=a.z0?1:0),2);--a.t1;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: 'a.xang=0;a.n=0;a.fov=0;a.index2=0;a.ran9=0;a.ran5_=0;a.right=0;a.ran4=0;a.index=0;a.q12=0;a.yang=0;a.q6=0;a.y0=0;a.ran8=0;a.q1=0;a.r1=0;a.q5=0;a.ran1_=0;a.points=0;a.dt1=0;a.dec_f=0;a.x0=0;a["new"]=0;a.dec_s=0;a.k3=0;a.reg01=0;a.my=0;a.oz=0;a.is_beat=0;a.k1=0;a.ran2=0;a.q11=0;a.z0=0;a.q10=0;a.ran4_=0;a.ran9_=0;a.ran3=0;a.ran5=0;a.dec_m=0;a.ran7=0;a.k2=0;a.mz=0;a.ran8_=0;a.ddy=0;a.ran6=0;a.dec2=0;a.ran6_=0;a.oy=0;a.rsum=0;a.mx=0;a.beat=0;a.vol=0;a.ran2_=0;a.peak=0;a.ddx=0;a.q2=\n0;a.zang=0;a.trel1=0;a.ran7_=0;a.t0=0;a.dec=0;a.m=0;a.ran1=0;a.q32=0;a.ran3_=0;a.left=0;a.pk=0;a.recsize=0;a.ox=0;a.zofs=0;for(var b=a.index=0;1E5>b;b++)a.megabuf[Math.floor(a.index)]=0,a.gmegabuf[Math.floor(a.index)]=0,a.index+=1;a.recsize=8;a.reg00=a.recsize;a.points=1024;a.reg01=0;a.zofs=1+2*div(randint(100),100);a.reg02=a.zofs;a.fov=.3;a.reg03=a.fov;', frame_eqs_str: 'a.dec_f=pow(.3,div(30,a.fps));a.dec_m=pow(.85,div(30,a.fps));a.dec_s=pow(.95,div(30,a.fps));a.beat=a.bass+a.mid+a.treb-(a.bass_att+a.mid_att+a.treb_att)+(a.bass+a.mid+a.treb);a.beat/=3;a.peak=a.peak*a.dec_m+(1-a.dec_m)*pow(a.beat-1,1)*(1<a.beat?1:0)*4;a.is_beat=above(a.beat,1)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),8);.00001<Math.abs(a.is_beat)?(a.ran1=div(randint(100),50)-\n1,a.ran2=div(randint(100),50)-1,a.ran3=div(randint(100),50)-1):0;a.ran1_=a.dec_m*a.ran1_+(1-a.dec_m)*a.ran1;a.ran2_=a.dec_m*a.ran2_+(1-a.dec_m)*a.ran2;a.ran3_=a.dec_m*a.ran3_+(1-a.dec_m)*a.ran3;a.rsum=sqrt(a.ran1_*a.ran1_+a.ran2_*a.ran2_+a.ran3_*a.ran3_);.00001<Math.abs(a.is_beat*(.00001>Math.abs(a.index-2)?1:0))?(a.ran4=div(randint(100),50)-1,a.ran5=div(randint(100),50)-1,a.ran6=div(randint(100),50)-1):0;a.ran4_=a.dec_m*a.ran4_+(1-a.dec_m)*a.ran4;a.ran5_=a.dec_m*a.ran5_+(1-a.dec_m)*a.ran5;a.ran6_=\na.dec_m*a.ran6_+(1-a.dec_m)*a.ran6;.00001<Math.abs(a.is_beat*(.00001>Math.abs(a.index-6)?1:0))?(a.ran7=div(randint(100),50)-1,a.ran8=div(randint(100),50)-1,a.ran9=div(randint(100),50)-1):0;a.ran7_=a.dec_m*a.ran7_+(1-a.dec_m)*a.ran7;a.ran8_=a.dec_m*a.ran8_+(1-a.dec_m)*a.ran8;a.ran9_=a.dec_m*a.ran9_+(1-a.dec_m)*a.ran9;a.pk=sqrt(a.peak+.1);a["new"]=Math.floor(12*(a.ran4-a.ran5)*a.pk-div(12*(a.ran3-a.ran1),a.pk));a["new"]=Math.max(Math.min(a["new"],20),2);a.reg01+=a["new"];a.dec=a.dec_m;a.n=a.recsize*\na.points;a.m=0;a.dt1=div(div(.00001<Math.abs(0<a.ran1?1:0)?4*a.pk:div(4,a.pk),a.fps)*a["new"],6);a.vol=Math.max(a.ran1+a.ran2,.2)*a.pk*2;for(var b=0;b<a["new"];b++)a.trel1+=a.dt1,a.x0=a.x0*a.dec+(1-a.dec)*(Math.sin(a.trel1+6*a.ran3)*a.vol+a.ran1),a.y0=a.y0*a.dec+(1-a.dec)*(Math.sin(a.trel1+6*a.ran2)*a.vol+a.ran2),a.z0=a.z0*a.dec+(1-a.dec)*(Math.sin(a.trel1+6*a.ran1)*a.vol+a.ran3),a.gmegabuf[Math.floor(a.n)]=a.x0,a.gmegabuf[Math.floor(a.n+1)]=a.y0,a.gmegabuf[Math.floor(a.n+2)]=a.z0,a.gmegabuf[Math.floor(a.n+\n3)]=div(div(a.ran1_,a.rsum),3)+.5,a.gmegabuf[Math.floor(a.n+4)]=div(div(a.ran2_,a.rsum),3)+.5,a.gmegabuf[Math.floor(a.n+5)]=div(div(a.ran3_,a.rsum),3)+.5,a.gmegabuf[Math.floor(a.n+6)]=0*a.gmegabuf[Math.floor(1E4+a.m)]+1,a.n+=a.recsize,a.m+=1;for(b=a.n=0;b<a.recsize*a.points;b++)a.gmegabuf[Math.floor(a.n)]=a.gmegabuf[Math.floor(a.n+a["new"]*a.recsize)],a.n+=1;a.xang=div(a.ran4_,a.fps);a.yang=div(a.ran5_,a.fps);a.zang=div(a.ran6_,a.fps);a.ddx=Math.min(Math.max(a.ddx+div(a.yang,a.fps),-1),1);a.ddy=Math.min(Math.max(a.ddy+\ndiv(a.xang,a.fps),-1),1);a.q1=2*a.ddx;a.q2=2*a.ddy;for(b=a.n=0;b<a.points;b++)a.ox=a.gmegabuf[Math.floor(a.n)],a.oy=a.gmegabuf[Math.floor(a.n+1)],a.oz=a.gmegabuf[Math.floor(a.n+2)],a.mx=a.ox*Math.cos(a.zang)-a.oy*Math.sin(a.zang),a.my=a.ox*Math.sin(a.zang)+a.oy*Math.cos(a.zang),a.ox=a.mx,a.oy=a.my,a.mx=a.ox*Math.cos(a.yang)+a.oz*Math.sin(a.yang),a.mz=-a.ox*Math.sin(a.yang)+a.oz*Math.cos(a.yang),a.ox=a.mx,a.oz=a.mz,a.my=a.oy*Math.cos(a.xang)-a.oz*Math.sin(a.xang),a.mz=a.oy*Math.sin(a.xang)+a.oz*Math.cos(a.xang),\na.oy=a.my,a.oz=a.mz,a.gmegabuf[Math.floor(a.n)]=a.ox,a.gmegabuf[Math.floor(a.n+1)]=a.oy,a.gmegabuf[Math.floor(a.n+2)]=a.oz,a.n+=a.recsize;a.k1=div(div(a.ran7_,a.fps),2);a.k2=div(div(a.ran8_,a.fps),2);a.k3=div(Math.abs(a.ran9_),a.fps);a.dec=.4+.6*a.ran5_;a.dec2=1-a.dec;a.r1=.5+.3*a.ran4_;for(b=a.n=0;b<a.points-1;b++)a.m=a.n*a.recsize,a.left=mod(a.n-1+a.points,a.points)*a.recsize,a.right=mod(a.n+1+a.points,a.points)*a.recsize,a.gmegabuf[Math.floor(a.m)]=a.dec*a.gmegabuf[Math.floor(a.m)]+a.dec2*(a.gmegabuf[Math.floor(a.left)]*\na.r1+a.gmegabuf[Math.floor(a.right)]*(1-a.r1)+a.k1),a.gmegabuf[Math.floor(a.m+1)]=a.dec*a.gmegabuf[Math.floor(a.m+1)]+a.dec2*(a.gmegabuf[Math.floor(a.left+1)]*a.r1+a.gmegabuf[Math.floor(a.right+1)]*(1-a.r1)+a.k2),a.n+=1;a.m=mod(a.frame,a.points);a.m=Math.max(0,Math.floor(1024+200*(a.t0-a.time)));a.n=a.m*a.recsize;a.q5=div(a.gmegabuf[Math.floor(a.n)],a.gmegabuf[Math.floor(a.n+2)]+a.zofs)*a.fov;a.q6=div(-a.gmegabuf[Math.floor(a.n+1)],a.gmegabuf[Math.floor(a.n+2)]+a.zofs)*a.fov;a.q10=sqrt(a.gmegabuf[Math.floor(a.n+\n3)]);a.q11=sqrt(a.gmegabuf[Math.floor(a.n+4)]);a.q12=sqrt(a.gmegabuf[Math.floor(a.n+5)]);a.monitor=a.m;a.q32=a.aspecty;', pixel_eqs_str: "a.rot=0;a.zoom=1;a.warp=0;a.dy=0;a.dx=-0;", warp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = vec3(0.0, 0.0, 0.0);\n  ret = tmpvar_1.xyz;\n }", comp: "float xlat_mutablesmask;\nvec2 xlat_mutableuv1;\nvec2 xlat_mutableuv2;\nvec2 xlat_mutableuv3;\nvec2 xlat_mutableuv4;\n shader_body { \n  float flash_1;\n  float dist_2;\n  float stars_3;\n  vec3 ret_4;\n  xlat_mutableuv1 = ((uv - 0.5) * aspect.xy);\n  float tmpvar_5;\n  tmpvar_5 = (0.1 * time);\n  float tmpvar_6;\n  tmpvar_6 = (0.2 * rad);\n  dist_2 = ((1.0 - fract(\n    (0.3333333 + tmpvar_5)\n  )) * (1.0 - tmpvar_6));\n  vec2 tmpvar_7;\n  tmpvar_7.x = q1;\n  tmpvar_7.y = q2;\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_7);\n  xlat_mutableuv4 = ((32.0 * dist_2) * xlat_mutableuv3);\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.9);\n  vec2 tmpvar_8;\n  tmpvar_8 = abs((fract(xlat_mutableuv4) - 0.5));\n  stars_3 = max (0.0, clamp ((\n    (1.0 - dist_2)\n   * \n    ((0.1 / sqrt(dot (tmpvar_8, tmpvar_8))) * xlat_mutablesmask)\n  ), 0.0, 1.0));\n  dist_2 = ((1.0 - fract(\n    (0.6666667 + tmpvar_5)\n  )) * (1.0 - tmpvar_6));\n  vec2 tmpvar_9;\n  tmpvar_9.x = q1;\n  tmpvar_9.y = q2;\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_9);\n  xlat_mutableuv4 = ((32.0 * dist_2) * xlat_mutableuv3);\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.9);\n  vec2 tmpvar_10;\n  tmpvar_10 = abs((fract(xlat_mutableuv4) - 0.5));\n  stars_3 = (stars_3 + max (stars_3, clamp (\n    ((1.0 - dist_2) * ((0.1 / sqrt(\n      dot (tmpvar_10, tmpvar_10)\n    )) * xlat_mutablesmask))\n  , 0.0, 1.0)));\n  dist_2 = ((1.0 - fract(\n    (1.0 + tmpvar_5)\n  )) * (1.0 - tmpvar_6));\n  vec2 tmpvar_11;\n  tmpvar_11.x = q1;\n  tmpvar_11.y = q2;\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_11);\n  xlat_mutableuv4 = ((32.0 * dist_2) * xlat_mutableuv3);\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.9);\n  vec2 tmpvar_12;\n  tmpvar_12 = abs((fract(xlat_mutableuv4) - 0.5));\n  stars_3 = (stars_3 + max (stars_3, clamp (\n    ((1.0 - dist_2) * ((0.1 / sqrt(\n      dot (tmpvar_12, tmpvar_12)\n    )) * xlat_mutablesmask))\n  , 0.0, 1.0)));\n  vec2 tmpvar_13;\n  tmpvar_13.x = q5;\n  tmpvar_13.y = q6;\n  xlat_mutableuv2 = (xlat_mutableuv1 - tmpvar_13);\n  float tmpvar_14;\n  tmpvar_14 = ((0.01 / sqrt(\n    dot (xlat_mutableuv2, xlat_mutableuv2)\n  )) * min (3.0, (\n    ((mid - 0.5) * float((mid > 0.5)))\n   * 2.0)));\n  flash_1 = tmpvar_14;\n  float angle_15;\n  float tmpvar_16;\n  tmpvar_16 = abs(xlat_mutableuv2.x);\n  if ((xlat_mutableuv2.y >= 0.0)) {\n    angle_15 = (1.0 - ((xlat_mutableuv2.y - tmpvar_16) / (xlat_mutableuv2.y + tmpvar_16)));\n  } else {\n    angle_15 = (3.0 - ((xlat_mutableuv2.y + tmpvar_16) / (tmpvar_16 - xlat_mutableuv2.y)));\n  };\n  angle_15 = (angle_15 * 0.25);\n  float tmpvar_17;\n  if ((xlat_mutableuv2.x < 0.0)) {\n    tmpvar_17 = -(angle_15);\n  } else {\n    tmpvar_17 = angle_15;\n  };\n  flash_1 = (tmpvar_14 * (tmpvar_14 / (\n    abs((fract((\n      (3.0 * tmpvar_17)\n     + \n      (time * 2.0)\n    )) - 0.5))\n   + 0.18)));\n  vec3 tmpvar_18;\n  tmpvar_18 = max ((texture (sampler_main, uv).xyz * 2.0), ((\n    (texture (sampler_blur2, uv).xyz * scale2)\n   + bias2) * 2.0));\n  vec2 tmpvar_19;\n  tmpvar_19 = sin(xlat_mutableuv3);\n  ret_4 = (clamp ((0.025 / \n    sqrt(dot (tmpvar_19, tmpvar_19))\n  ), 0.0, 1.0) * vec3(0.4, 0.1, 1.0));\n  ret_4 = (ret_4 + clamp ((stars_3 * stars_3), 0.0, 1.0));\n  ret_4 = (ret_4 * clamp ((1.0 - \n    (2.0 * dot (tmpvar_18, vec3(0.32, 0.49, 0.29)))\n  ), 0.0, 1.0));\n  ret_4 = (ret_4 + tmpvar_18);\n  vec3 tmpvar_20;\n  tmpvar_20.x = q10;\n  tmpvar_20.y = q11;\n  tmpvar_20.z = q12;\n  ret_4 = (ret_4 + ((2.0 * \n    clamp (flash_1, 0.0, 1.0)\n  ) * tmpvar_20));\n  vec4 tmpvar_21;\n  tmpvar_21.w = 1.0;\n  tmpvar_21.xyz = ret_4;\n  ret = tmpvar_21.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 4, gammaadj: 1.98, decay: 0.5, echo_zoom: 1, echo_alpha: 0.5, echo_orient: 3, additivewave: 1, wave_thick: 1, modwavealphabyvolume: 1, darken: 1, wave_a: 1e-3, wave_scale: 0.133, wave_smoothing: 0, wave_mystery: -1, modwavealphastart: 1, modwavealphaend: 1.3, warpanimspeed: 1.459, warpscale: 2.007, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0.5, wave_g: 0.5, wave_b: 0.5, ob_size: 0.015, ob_b: 1, ib_size: 0.26, mv_a: 0, b2x: 0.3, b1ed: 0}, shapes: [{baseVals: {enabled: 1, sides: 40, thickoutline: 1, rad: 0.06623, tex_zoom: 1.79845, r: 0, a: 0.1, g2: 0, border_b: 0, border_a: 0}, init_eqs_str: "a.vol=0;a.bob=0;a.border_1=0;a.ro=0;a.sp=0;a.red=0;a.spi=0;a.tm=0;a.bob=1.5;a.ro=0;a.red=randint(20);", frame_eqs_str: "a.vol=1+.2*div(a.bass_att+a.treb_att+a.mid_att,3);a.bob=a.bob*above(a.bob,.01)-.01+(1-above(a.bob,.01));a.bob=.4+.4*Math.sin(.8*a.time);a.bob*=a.vol;a.border_1=.4;a.sides=30;a.ro+=.02;a.ang=a.ro;a.sp=.025*a.red;a.spi=.5-a.sp;a.tm=.1*a.time;a.border_r=.5+a.sp*Math.sin(.6*a.tm)+a.spi*Math.cos(1.46*a.tm);a.border_g=.5+a.sp*Math.sin(1.294*a.tm)+a.spi*Math.cos(.87*a.tm);a.border_b=.5+a.sp*Math.sin(1.418*a.tm)+a.spi*Math.cos(.76*a.tm);"}, {baseVals: {enabled: 1, sides: 40, additive: 1, num_inst: 4, g: 1, b: 1, g2: 0, border_a: 0}, init_eqs_str: "", frame_eqs_str: "a.x=.5+.225*Math.sin(.7*div(a.time,a.instance));a.y=.5+.3*Math.cos(.7*div(a.time,a.instance));a.x-=.4*a.x*Math.sin(a.time);a.y-=.4*a.y*Math.cos(a.time);a.rad*=a.mid_att;a.r=.5+.5*Math.sin(.5*a.frame);a.b=.5+.5*Math.sin(.5*a.frame+2.094);a.g=.5+.5*Math.sin(.5*a.frame+4.188);"}, {baseVals: {enabled: 1, sides: 40, additive: 1, g: 1, b: 1, g2: 0, border_a: 0}, init_eqs_str: "", frame_eqs_str: "a.x=.5+.5*(.3*Math.sin(1.1*a.time)+.7*Math.sin(.5*a.time));a.x=.5+.225*Math.sin(a.time+2.09);a.y=.5+.3*Math.cos(a.time+2.09);a.rad*=a.bass_att;a.r=.5+.5*Math.sin(.5*a.frame);a.b=.5+.5*Math.sin(.5*a.frame+2.094);a.g=.5+.5*Math.sin(.5*a.frame+4.188);"}, {baseVals: {enabled: 1, sides: 40, additive: 1, num_inst: 5, rad: 0.07419, g: 1, b: 1, g2: 0, border_a: 0}, init_eqs_str: "", frame_eqs_str: "a.x=.5+.225*Math.sin(div(a.time,a.instance));a.y=.5+.3*Math.cos(div(a.time,a.instance));a.x+=.4*a.x*Math.sin(a.time);a.y+=.4*a.y*Math.cos(a.time);a.rad*=a.treb_att;a.r=.5+.5*Math.sin(.5*a.frame);a.b=.5+.5*Math.sin(.5*a.frame+2.094);a.g=.5+.5*Math.sin(.5*a.frame+4.188);"}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.index2=0;a.index=0;a.q22=0;a.q21=0;a.q1=0;a.dec_med=0;a.ps=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.q3=0;a.t0=0;a.q28=0;a.q20=0;", frame_eqs_str: "a.dec_med=pow(.7,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),2);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.ps=.9*a.ps+.1*a.q22;a.q23=a.ps;a.q24=a.is_beat;\na.q26=a.bass_att+a.mid_att+a.treb_att;a.q27=a.index+1;a.q28=a.index2;a.k1=a.is_beat*equal(mod(a.index,2),0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.1416*a.p2,4);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;", pixel_eqs_str: "a.zoom=1.05;", warp: " shader_body { \n  vec2 uv_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (uv - vec2(0.5, 0.5));\n  vec4 tmpvar_3;\n  tmpvar_3.w = 0.0;\n  vec4 tmpvar_4;\n  tmpvar_4 = texture (sampler_blur1, uv);\n  tmpvar_3.xyz = ((tmpvar_4.xyz * scale1) + bias1);\n  float tmpvar_5;\n  tmpvar_5 = (dot (tmpvar_3, roam_sin) * 16.0);\n  mat2 tmpvar_6;\n  tmpvar_6[uint(0)].x = cos(tmpvar_5);\n  tmpvar_6[uint(0)].y = -(sin(tmpvar_5));\n  tmpvar_6[1u].x = sin(tmpvar_5);\n  tmpvar_6[1u].y = cos(tmpvar_5);\n  uv_1 = ((tmpvar_2 + (\n    (0.2 * dot (((tmpvar_4.xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29)))\n   * \n    (tmpvar_2 * tmpvar_6)\n  )) - 0.5);\n  vec2 tmpvar_7;\n  tmpvar_7 = ((uv_1 * texsize.xy) * 0.02);\n  vec2 tmpvar_8;\n  tmpvar_8.x = (cos((tmpvar_7.y * q1)) * sin(-(tmpvar_7.y)));\n  tmpvar_8.y = (sin(tmpvar_7.x) * cos((tmpvar_7.y * q2)));\n  uv_1 = (uv_1 - ((tmpvar_8 * texsize.zw) * 12.0));\n  vec4 tmpvar_9;\n  tmpvar_9.w = 1.0;\n  tmpvar_9.xyz = ((texture (sampler_main, uv_1).xyz * 0.98) - 0.02);\n  ret = tmpvar_9.xyz;\n }", comp: "vec3 xlat_mutableret1;\nvec2 xlat_mutablers;\nvec2 xlat_mutableuv1;\nfloat xlat_mutablez;\n shader_body { \n  xlat_mutableuv1 = (uv - 0.5);\n  xlat_mutablez = (0.2 / abs(xlat_mutableuv1.y));\n  xlat_mutablers.x = (xlat_mutableuv1.x * xlat_mutablez);\n  xlat_mutablers.y = ((xlat_mutablez / 2.0) + (time * 4.0));\n  vec4 tmpvar_1;\n  tmpvar_1 = texture (sampler_noise_hq, xlat_mutablers);\n  xlat_mutableret1 = ((tmpvar_1.xyz * vec3(\n    greaterThanEqual (tmpvar_1.xyz, vec3(0.0, 0.0, 0.0))\n  )) - 0.6);\n  float tmpvar_2;\n  tmpvar_2 = clamp ((128.0 * xlat_mutableuv1.y), 0.0, 1.0);\n  vec2 tmpvar_3;\n  tmpvar_3 = fract(((\n    (xlat_mutableuv1 * (1.0 - abs(xlat_mutableuv1.x)))\n   - 0.5) - (\n    (xlat_mutableret1 * 0.05)\n   * tmpvar_2).xy));\n  float x_4;\n  x_4 = (tmpvar_3.y - 0.52);\n  vec3 tmpvar_5;\n  tmpvar_5 = (texture (sampler_main, tmpvar_3) + ((0.02 / \n    (0.02 + sqrt((x_4 * x_4)))\n  ) * slow_roam_sin)).xyz;\n  xlat_mutableret1 = tmpvar_5;\n  vec2 tmpvar_6;\n  tmpvar_6 = (32.0 * ((\n    (uv * mat2(0.6, -0.8, 0.8, 0.6))\n   + \n    (tmpvar_5 * 0.1)\n  .xy) + (time / 64.0)));\n  vec2 tmpvar_7;\n  tmpvar_7 = abs((fract(tmpvar_6) - 0.5));\n  vec3 tmpvar_8;\n  tmpvar_8 = clamp (((0.25 / \n    sqrt(dot (tmpvar_7, tmpvar_7))\n  ) * vec3((texture (sampler_pw_noise_lq, \n    (tmpvar_6 / 256.0)\n  ).y - 0.9))), 0.0, 1.0);\n  vec4 tmpvar_9;\n  tmpvar_9.w = 1.0;\n  tmpvar_9.xyz = (tmpvar_5 + ((\n    (tmpvar_8.x * tmpvar_8.x)\n   + \n    ((rand_preset * (0.5 - uv.y)).xyz * vec3(0.0, 0.0, 1.0))\n  ) * (1.0 - tmpvar_2)));\n  ret = tmpvar_9.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 2, gammaadj: 1.98, decay: 0.5, echo_zoom: 1, echo_alpha: 0.5, echo_orient: 3, wave_mode: 3, wave_thick: 1, wrap: 0, darken: 1, wave_a: 100, wave_scale: 0.282, wave_smoothing: 0.9, wave_mystery: 1, warpanimspeed: 1.459, warpscale: 2.007, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0.5, wave_g: 0.5, wave_b: 0.5, ob_size: 0.05, ob_g: 0.1, ob_b: 1, ob_a: 1, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, mv_a: 0, b1ed: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, spectrum: 1, thick: 1, scaling: 0.2248}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;", frame_eqs_str: "a.r=a.bass;a.g=a.treb;a.b=.5;", point_eqs_str: "a.ma+=3.1415*above(a.bass,1)*.01*a.bass;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0002*Math.cos(a.ma);a.my+=.0002*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.8);"}, {baseVals: {enabled: 1, spectrum: 1, thick: 1, scaling: 0.2743}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;", frame_eqs_str: "a.r=a.bass;a.g=a.treb;a.b=.5;", point_eqs_str: "a.ma+=3.1415*above(a.mid,1)*.01*a.mid;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0004*Math.cos(a.ma);a.my+=.0004*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.3);"}, {baseVals: {enabled: 1, thick: 1, scaling: 2.0231, smoothing: 0}, init_eqs_str: "a.d=0;a.tt2=0;a.res=0;a.tt1=0;a.diff=0;a.tt3=0;a.beat=0;a.vol=0;a.m=0;a.monitor=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;", frame_eqs_str: "a.vol=8*a.bass+5*a.mid+3*a.treb;a.m=.97*a.m+.08*a.vol;a.monitor=a.vol;a.beat=above(a.vol,a.res)*above(a.vol,a.m)*above(a.vol,16);a.diff=(1-a.beat)*a.diff+a.beat*(a.vol-a.res);a.res=a.beat*(a.vol+.04*a.m)+(1-a.beat)*(a.res-div(60*(.1+.02*a.diff),a.fps));a.res=Math.max(0,a.res);", point_eqs_str: "a.tt3=.6*a.tt3+1*a.value1;a.tt2=.7*a.tt2+.2*a.tt3;a.tt1=.8*a.tt1+.1*a.tt2;a.d=.9*a.d+.2*a.tt1;a.y=.5+a.d*a.sample*(1-a.sample)*2;a.x=-.05+1.1*a.sample;"}, {baseVals: {enabled: 0}}], init_eqs_str: "a.look=0;a.n=0;a.reg26=0;a.uvx0=0;a.reg34=0;a.reg28=0;a.reg23=0;a.q25=0;a.angchg=0;a.reg20=0;a.reg15=0;a.reg10=0;a.q12=0;a.v3=0;a.q22=0;a.q21=0;a.diry=0;a.q13=0;a.q6=0;a.posx=0;a.fps_=0;a.reg25=0;a.uvx=0;a.q1=0;a.travel=0;a.posz=0;a.q5=0;a.dirz=0;a.dec_s=0;a.reg16=0;a.slow=0;a.reg36=0;a.reg22=0;a.uvy=0;a.rotz=0;a.ly=0;a.dist_=0;a.q23=0;a.q24=0;a.reg24=0;a.cran0=0;a.ran2=0;a.q11=0;a.q10=0;a.reg14=0;a.posy=0;a.reg31=0;a.dirx=0;a.q4=0;a.start=0;a.reg12=0;a.reg13=0;a.c2=0;a.reg37=\n0;a.s3=0;a.yslope=0;a.lampy=0;a.q16=0;a.xslope=0;a.q26=0;a.reg38=0;a.reg35=0;a.reg11=0;a.tx=0;a.avg=0;a.uvz=0;a.c3=0;a.uvy0=0;a.reg27=0;a.q19=0;a.beat=0;a.reg32=0;a.lx=0;a.reg21=0;a.uvz0=0;a.len=0;a.reg18=0;a.reg30=0;a.q2=0;a.q27=0;a.slen=0;a.q14=0;a.dist=0;a.reg17=0;a.v1=0;a.speed=0;a.s1=0;a.t0=0;a.s2=0;a.ran1=0;a.reg33=0;a.q7=0;a.ds=0;a.q28=0;a.lampx=0;a.ty=0;a.c1=0;a.v2=0;a.q20=0;a.q8=0;a.avg=.01;a.q7=.25;a.q8=randint(2)-1;a.q16=1+randint(2);a.q18=randint(.8)+.1;a.q30=1;a.q31=128;a.start=1;a.travel=\n0;a.rotz=0;a.look=0;a.slow=0;a.t0=a.time+3;a.lampx=.5;a.lampy=.5;a.cran0=randint(1);for(var b=a.n=0;1E4>b;b++)a.gmegabuf[Math.floor(a.n)]=0,a.n+=1;for(b=a.n=0;1E4>b;b++)a.megabuf[Math.floor(a.n)]=0,a.n+=1;a.trelx=0;a.trely=0;a.trelz=0;a.reg20=1;a.reg21=0;a.reg22=0;a.reg23=0;a.reg24=1;a.reg25=0;a.reg26=0;a.reg27=0;a.reg28=1;b=0;do{b+=1;var c;a.ran1=div(randint(800),100);a.ran2=div(randint(800),100);a.ran3=div(randint(800),100);a.posx=randint(5)-2;a.posy=randint(5)-2;a.posz=randint(5)-2;a.c1=Math.cos(a.ran1);\na.c2=Math.cos(a.ran2);a.c3=Math.cos(a.ran3);a.s1=Math.sin(a.ran1);a.s2=Math.sin(a.ran2);a.s3=Math.sin(a.ran3);a.reg20=a.c2*a.c1;a.reg21=a.c2*a.s1;a.reg22=-a.s2;a.reg23=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg24=a.s3*a.s2*a.s1+a.c3*a.c1;a.reg25=a.s3*a.c2;a.reg26=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg27=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg28=a.c3*a.c2;a.dist=.001;var d=0;do{d+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=a.posy;a.uvz+=a.posz;a.uvx=8*(div(a.uvx,\n8)+30.5-Math.floor(div(a.uvx,8)+30.5)-.5);a.uvy=8*(div(a.uvy,8)+30.5-Math.floor(div(a.uvy,8)+30.5)-.5);a.uvz=8*(div(a.uvz,8)+30.5-Math.floor(div(a.uvz,8)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>a.uvz?1:0)?-2-a.uvz:a.uvz,a.slen=\na.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)+a.uvx0,a.uvy=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)+a.uvy0,a.uvz=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.05;c=(.6>a.dist?1:0)*(30<a.len?1:0)}while(.00001<Math.abs(c)&&1048576>\nd);d=.06>a.dist?1:0}while(.00001<Math.abs(d)&&1048576>b);", frame_eqs_str: "a.wave_a=0;a.fps_=0*a.fps_+1*(.00001<Math.abs(25>=a.fps?1:0)?a.fps:25+.5*(a.fps-25));a.dec_s=1-div(.06*30,a.fps_);a.beat=a.time>a.t0+3?1:0;a.t0=.00001<Math.abs(a.beat)?a.time:a.t0;a.speed=div(Math.min(.2,a.dist_-.02)*(1+2*a.avg)*(1-0*a.slow)*.7,a.q7);a.ds=a.ds*a.dec_s+div((1-a.dec_s)*a.speed*.25,a.fps_);a.rotz=.00001<Math.abs(.00001>Math.abs(a.rotz-0)?1:0)?a.beat*(randint(100)<20*a.travel?1:0)*(div(randint(10),10)-.3):bnot(a.beat*(30>randint(100)?1:0))*a.rotz;a.slow=.00001<\nMath.abs(bnot(a.slow))?a.beat*(6>randint(1E3*a.avg)?1:0):bnot(a.beat*(50>randint(100)?1:0));a.look=.00001<Math.abs(bnot(a.look))?a.beat*(12>randint(1E3*a.speed)?1:0):bnot(a.beat*(50>randint(100)?1:0));a.lx=.00001<Math.abs(a.beat)?div(randint(150),200)+.15:a.lx;a.ly=.00001<Math.abs(a.beat)?div(randint(150),200)+.15:a.ly;a.lampx=a.lampx*a.dec_s+(1-a.dec_s)*(.00001<Math.abs(a.look)?a.lx:.5);a.lampy=a.lampy*a.dec_s+(1-a.dec_s)*(.00001<Math.abs(a.look)?a.ly:.5);a.q1=a.lampx;a.q2=a.lampy;a.dirx=a.reg26;\na.diry=a.reg27;a.dirz=a.reg28;a.posx+=a.ds*a.dirx;a.posy+=a.ds*a.diry;a.posz+=a.ds*a.dirz;a.q4=a.posx;a.q5=a.posy;a.q6=a.posz;a.angchg=(.2-a.dist_)*(.2>a.dist_?1:0)*2;a.travel=.00001<Math.abs(0<a.angchg?1:0)?0:a.travel+a.ds;a.v1=a.v1*a.dec_s+(1-a.dec_s)*a.rotz*a.ds;a.v2=a.v2*a.dec_s+div((1-a.dec_s)*a.angchg*a.xslope,a.fps_);a.v3=a.v3*a.dec_s+(1-a.dec_s)*(div(a.angchg*a.yslope,a.fps_)+2*a.v1*Math.sin(.1*a.time));a.reg30=a.reg20;a.reg31=a.reg21;a.reg32=a.reg22;a.reg33=a.reg23;a.reg34=a.reg24;a.reg35=\na.reg25;a.reg36=a.reg26;a.reg37=a.reg27;a.reg38=a.reg28;a.n=0;for(var b=a.avg=0;5>b;b++){a.n+=1;a.ran1=div(randint(100),100);a.ran2=div(randint(100),200)-.25;a.tx=Math.cos(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.ty=Math.sin(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.c1=Math.cos(a.v1);a.c2=Math.cos(a.v2+a.ty);a.c3=Math.cos(a.v3+a.tx);a.s1=Math.sin(a.v1);a.s2=Math.sin(a.v2+a.ty);a.s3=Math.sin(a.v3+a.tx);a.reg10=a.c2*a.c1;a.reg11=a.c2*a.s1;a.reg12=-a.s2;a.reg13=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg14=a.s3*a.s2*\na.s1+a.c3*a.c1;a.reg15=a.s3*a.c2;a.reg16=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg17=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg18=a.c3*a.c2;a.reg20=a.reg30;a.reg21=a.reg31;a.reg22=a.reg32;a.reg23=a.reg33;a.reg24=a.reg34;a.reg25=a.reg35;a.reg26=a.reg36;a.reg27=a.reg37;a.reg28=a.reg38;a.q20=a.reg10*a.reg20+a.reg11*a.reg23+a.reg12*a.reg26;a.q21=a.reg10*a.reg21+a.reg11*a.reg24+a.reg12*a.reg27;a.q22=a.reg10*a.reg22+a.reg11*a.reg25+a.reg12*a.reg28;a.q23=a.reg13*a.reg20+a.reg14*a.reg23+a.reg15*a.reg26;a.q24=a.reg13*a.reg21+a.reg14*\na.reg24+a.reg15*a.reg27;a.q25=a.reg13*a.reg22+a.reg14*a.reg25+a.reg15*a.reg28;a.q26=a.reg16*a.reg20+a.reg17*a.reg23+a.reg18*a.reg26;a.q27=a.reg16*a.reg21+a.reg17*a.reg24+a.reg18*a.reg27;a.q28=a.reg16*a.reg22+a.reg17*a.reg25+a.reg18*a.reg28;a.reg20=a.q20;a.reg21=a.q21;a.reg22=a.q22;a.reg23=a.q23;a.reg24=a.q24;a.reg25=a.q25;a.reg26=a.q26;a.reg27=a.q27;a.reg28=a.q28;a.dist=.002;var c,d=0;do{d+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;\na.uvy+=a.posy;a.uvz+=a.posz;a.uvx=8*(div(a.uvx,8)+30.5-Math.floor(div(a.uvx,8)+30.5)-.5);a.uvy=8*(div(a.uvy,8)+30.5-Math.floor(div(a.uvy,8)+30.5)-.5);a.uvz=8*(div(a.uvz,8)+30.5-Math.floor(div(a.uvz,8)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<\nMath.abs(-1>a.uvz?1:0)?-2-a.uvz:a.uvz,a.slen=a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)+a.uvx0,a.uvy=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)+a.uvy0,a.uvz=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.1;c=(.6>a.dist?1:0)*(30<\na.len?1:0)}while(.00001<Math.abs(c)&&1048576>d);a.megabuf[Math.floor(a.n)]=a.megabuf[Math.floor(a.n)]*a.dec_s+(1-a.dec_s)*a.dist;a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5))}a.n=0;for(b=a.avg=0;5>b;b++)a.n+=1,a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5));a.xslope=Math.min(Math.max(div(2,a.avg)*(a.megabuf[1]-a.megabuf[3]),-3),3);a.yslope=Math.min(Math.max(div(2,a.avg)*(a.megabuf[4]-a.megabuf[2]),-3),3);a.monitor=a.avg;a.dist_=a.dist_*a.dec_s+(1-a.dec_s)*a.dist;a.q10=a.ds*a.q7;a.q14=Math.abs(a.ds)+\n2*(Math.abs(a.v1)+Math.abs(a.v2)+Math.abs(a.v3))+div(1,255)+.05*a.start;a.q19=.6+.4*Math.sin(.02*a.time+6*a.cran0);a.start*=.9;a.q11=a.v1;a.q12=a.v2;a.q13=a.v3;a.monitor=a.q16;", pixel_eqs_str: "a.warp=0;a.zoom=1;a.dx=div(-a.q12,a.q16)*(1+0*pow(a.x-.5,2));a.dy=div(a.q13,a.q16)*(1+0*pow(a.y-.5,2));a.rot=a.q11;", warp: " shader_body { \n  float dy_1;\n  float dx_2;\n  vec3 ret_3;\n  vec2 tmpvar_4;\n  tmpvar_4 = ((uv * texsize.xy) * texsize_noise_lq.zw);\n  vec2 tmpvar_5;\n  tmpvar_5 = (texsize.zw * 4.0);\n  vec2 tmpvar_6;\n  tmpvar_6.x = (((2.0 * \n    ((texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1) + bias1)\n  )).y * 0.5);\n  tmpvar_6.y = (((2.0 * \n    ((texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1) + bias1)\n  )).y * 0.5);\n  ret_3.y = texture (sampler_fw_main, clamp ((uv + (\n    (tmpvar_6 * texsize.zw)\n   * 4.0)), 0.0, 1.0)).y;\n  ret_3.y = (ret_3.y + ((\n    (ret_3 - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))\n  .y * 0.025) + -0.01));\n  ret_3.y = (ret_3.y + ((texture (sampler_noise_lq, tmpvar_4).y - 0.5) * 0.02));\n  dx_2 = (((2.0 * \n    ((texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1) + bias1)\n  )).z * 0.5);\n  dy_1 = (((2.0 * \n    ((texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1) + bias1)\n  )).z * 0.5);\n  vec2 tmpvar_7;\n  tmpvar_7.x = dx_2;\n  tmpvar_7.y = dy_1;\n  ret_3.z = ((texture (sampler_main, (uv - \n    ((tmpvar_7 * texsize.zw) * 4.0)\n  )).z - (ret_3.y * 0.01)) + 0.004);\n  ret_3.z = (ret_3.z + ((texture (sampler_noise_lq, tmpvar_4).y - 0.5) * 0.01));\n  dx_2 = (((2.0 * \n    ((texture (sampler_blur1, (uv + (tmpvar_5 * vec2(1.0, 0.0)))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv + (tmpvar_5 * vec2(-1.0, 0.0)))).xyz * scale1) + bias1)\n  )).x * 0.5);\n  dy_1 = (((2.0 * \n    ((texture (sampler_blur1, (uv + (tmpvar_5 * vec2(0.0, 1.0)))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv + (tmpvar_5 * vec2(0.0, -1.0)))).xyz * scale1) + bias1)\n  )).x * 0.5);\n  vec2 tmpvar_8;\n  tmpvar_8.x = dx_2;\n  tmpvar_8.y = dy_1;\n  vec2 tmpvar_9;\n  tmpvar_9 = (tmpvar_8 * texsize.zw);\n  vec2 domain_10;\n  domain_10 = (uv - (tmpvar_9 * 2.5));\n  vec4 tmpvar_11;\n  tmpvar_11.w = 0.0;\n  tmpvar_11.xyz = max (vec4(0.0, 0.0, 0.0, 0.0), texture (sampler_fc_main, (domain_10 + (texsize.zw * vec2(-1.0, 0.0))))).xyz;\n  vec4 tmpvar_12;\n  tmpvar_12.w = 0.0;\n  tmpvar_12.xyz = max (tmpvar_11, texture (sampler_fc_main, (domain_10 + (texsize.zw * vec2(0.0, -1.0))))).xyz;\n  vec4 tmpvar_13;\n  tmpvar_13.w = 0.0;\n  tmpvar_13.xyz = max (tmpvar_12, texture (sampler_fc_main, domain_10)).xyz;\n  vec4 tmpvar_14;\n  tmpvar_14.w = 0.0;\n  tmpvar_14.xyz = max (tmpvar_13, texture (sampler_fc_main, (domain_10 + (texsize.zw * vec2(0.0, 1.0))))).xyz;\n  ret_3.x = ((max (tmpvar_14, texture (sampler_fc_main, \n    (domain_10 + (texsize.zw * vec2(1.0, 0.0)))\n  )).x + (\n    (texture (sampler_main, (uv + (tmpvar_9 * 4.0))).x - ((texture (sampler_blur1, (uv + \n      (tmpvar_9 * 4.0)\n    )).xyz * scale1) + bias1).x)\n   * 0.206)) - 0.09);\n  vec4 tmpvar_15;\n  tmpvar_15.w = 1.0;\n  tmpvar_15.xyz = ret_3;\n  ret = tmpvar_15.xyz;\n }", comp: "float xlat_mutablelamp;\nvec2 xlat_mutablers0;\nvec2 xlat_mutablerss;\nvec2 xlat_mutableuv1;\n shader_body { \n  vec3 tmpvar_1;\n  tmpvar_1.x = q4;\n  tmpvar_1.y = q5;\n  tmpvar_1.z = q6;\n  mat3 tmpvar_2;\n  tmpvar_2[uint(0)].x = q20;\n  tmpvar_2[uint(0)].y = q23;\n  tmpvar_2[uint(0)].z = q26;\n  tmpvar_2[1u].x = q21;\n  tmpvar_2[1u].y = q24;\n  tmpvar_2[1u].z = q27;\n  tmpvar_2[2u].x = q22;\n  tmpvar_2[2u].y = q25;\n  tmpvar_2[2u].z = q28;\n  vec2 tmpvar_3;\n  tmpvar_3.x = q1;\n  tmpvar_3.y = q2;\n  vec2 uv_4;\n  vec3 dots_5;\n  vec3 ret_6;\n  vec2 tmpvar_7;\n  vec2 tmpvar_8;\n  tmpvar_8 = (uv - 0.5);\n  tmpvar_7 = (0.5 + (tmpvar_8 * vec2(1.1, 0.81)));\n  vec2 tmpvar_9;\n  tmpvar_9 = (uv - vec2(0.5, 0.5));\n  uv_4 = (tmpvar_8 * aspect.xy);\n  float tmpvar_10;\n  float tmpvar_11;\n  tmpvar_11 = (min (abs(\n    (uv_4.y / uv_4.x)\n  ), 1.0) / max (abs(\n    (uv_4.y / uv_4.x)\n  ), 1.0));\n  float tmpvar_12;\n  tmpvar_12 = (tmpvar_11 * tmpvar_11);\n  tmpvar_12 = (((\n    ((((\n      ((((-0.01213232 * tmpvar_12) + 0.05368138) * tmpvar_12) - 0.1173503)\n     * tmpvar_12) + 0.1938925) * tmpvar_12) - 0.3326756)\n   * tmpvar_12) + 0.9999793) * tmpvar_11);\n  tmpvar_12 = (tmpvar_12 + (float(\n    (abs((uv_4.y / uv_4.x)) > 1.0)\n  ) * (\n    (tmpvar_12 * -2.0)\n   + 1.570796)));\n  tmpvar_10 = (tmpvar_12 * sign((uv_4.y / uv_4.x)));\n  if ((abs(uv_4.x) > (1e-08 * abs(uv_4.y)))) {\n    if ((uv_4.x < 0.0)) {\n      if ((uv_4.y >= 0.0)) {\n        tmpvar_10 += 3.141593;\n      } else {\n        tmpvar_10 = (tmpvar_10 - 3.141593);\n      };\n    };\n  } else {\n    tmpvar_10 = (sign(uv_4.y) * 1.570796);\n  };\n  xlat_mutablers0.x = ((tmpvar_10 / 3.1416) * 2.0);\n  xlat_mutablers0.y = (0.02 / sqrt(dot (uv_4, uv_4)));\n  vec2 tmpvar_13;\n  tmpvar_13.x = xlat_mutablers0.x;\n  tmpvar_13.y = (xlat_mutablers0.y + time);\n  xlat_mutablerss = (tmpvar_13 * mat2(0.7, -0.7, 0.7, 0.7));\n  vec4 tmpvar_14;\n  tmpvar_14 = vec4(greaterThanEqual ((texture (sampler_pw_noise_lq, \n    (xlat_mutablerss / 32.0)\n  ) - 0.7), vec4(0.0, 0.0, 0.0, 0.0)));\n  vec2 tmpvar_15;\n  tmpvar_15 = abs((fract(\n    (xlat_mutablerss * 8.0)\n  ) - 0.5));\n  vec2 tmpvar_16;\n  tmpvar_16.x = (xlat_mutablers0.x * 2.0);\n  tmpvar_16.y = (xlat_mutablers0.y + (time / 2.0));\n  xlat_mutablerss = (tmpvar_16 * mat2(0.7, -0.7, 0.7, 0.7));\n  vec4 tmpvar_17;\n  tmpvar_17 = vec4(greaterThanEqual ((texture (sampler_pw_noise_lq, \n    (xlat_mutablerss / 32.0)\n  ) - 0.7), vec4(0.0, 0.0, 0.0, 0.0)));\n  vec2 tmpvar_18;\n  tmpvar_18 = abs((fract(\n    (xlat_mutablerss * 8.0)\n  ) - 0.5));\n  xlat_mutablerss = tmpvar_18;\n  dots_5 = (vec3((clamp (\n    (0.04 / sqrt(dot (tmpvar_15, tmpvar_15)))\n  , 0.0, 1.0) * tmpvar_14.x)) + (clamp (\n    (0.04 / sqrt(dot (tmpvar_18, tmpvar_18)))\n  , 0.0, 1.0) * tmpvar_17.x));\n  dots_5 = (dots_5 * clamp ((0.04 / \n    abs((0.01 / xlat_mutablers0.y))\n  ), 0.0, 1.0));\n  dots_5 = (dots_5 * (dots_5 * 2.0));\n  vec2 tmpvar_19;\n  tmpvar_19.x = -((tmpvar_9.y * -1024.0));\n  tmpvar_19.y = (tmpvar_9.x * -1024.0);\n  vec2 tmpvar_20;\n  tmpvar_20.x = tmpvar_19.x;\n  tmpvar_20.y = -(tmpvar_19.y);\n  uv_4 = (vec2(-100.0, 100.0) * (tmpvar_20 / (\n    (tmpvar_19.x * tmpvar_19.x)\n   + \n    (tmpvar_19.y * tmpvar_19.y)\n  )).yx);\n  uv_4 = (0.5 + ((\n    (1.0 - abs(((\n      fract((mix ((0.5 + \n        ((tmpvar_7 - 0.5) * 2.0)\n      ), (uv_4 + 0.5), vec2(0.5, 0.5)) * 0.5))\n     * 2.0) - 1.0)))\n   - 0.5) * 0.98));\n  uv_4 = (((uv_4 - 0.5) * 0.9) + 0.5);\n  xlat_mutableuv1 = ((uv_4 - tmpvar_3) * aspect.xy);\n  float tmpvar_21;\n  tmpvar_21 = min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - (\n    (texture (sampler_blur2, uv_4).xyz * scale2)\n   + bias2).z));\n  vec3 tmpvar_22;\n  tmpvar_22.xy = ((uv_4 - 0.5) * min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - \n    ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2)\n  .z)));\n  tmpvar_22.z = min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - (\n    (texture (sampler_blur2, uv_4).xyz * scale2)\n   + bias2).z));\n  float tmpvar_23;\n  tmpvar_23 = clamp ((abs(\n    ((1.0 - ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2).z) - clamp ((1.0 - (\n      (texture (sampler_blur2, tmpvar_3).xyz * scale2)\n     + bias2).z), 0.1, 0.4))\n  ) + 0.2), 0.0, 1.0);\n  vec3 tmpvar_24;\n  tmpvar_24 = mix (texture (sampler_main, uv_4).xyz, ((texture (sampler_blur1, uv_4).xyz * scale1) + bias1), vec3(tmpvar_23));\n  float tmpvar_25;\n  tmpvar_25 = clamp (((1.0 - \n    exp(-(((texture (sampler_blur1, uv_4).xyz * scale1) + bias1).x))\n  ) - 0.2), 0.0, 1.0);\n  ret_6 = ((tmpvar_24.x * (0.2 + \n    ((1.0 - tmpvar_23) * (1.0 - tmpvar_21))\n  )) * (1.0 + (0.5 * \n    sin((((tmpvar_22 / q7) * tmpvar_2) + tmpvar_1))\n  )));\n  vec3 tmpvar_26;\n  tmpvar_26.xy = vec2(0.0, 1.0);\n  tmpvar_26.z = (tmpvar_25 * 3.0);\n  vec3 tmpvar_27;\n  tmpvar_27 = mix (ret_6, tmpvar_26, vec3(tmpvar_25));\n  xlat_mutablelamp = (((\n    clamp ((1.0 - (4.0 * sqrt(\n      dot (xlat_mutableuv1, xlat_mutableuv1)\n    ))), 0.0, 1.0)\n   * tmpvar_24.x) * clamp (\n    (1.0 - (2.0 * mix (tmpvar_21, (1.0 - \n      ((texture (sampler_blur1, uv_4).xyz * scale1) + bias1)\n    .z), 0.2)))\n  , 0.0, 1.0)) * 1.8);\n  ret_6 = (tmpvar_27 + ((1.0 - \n    dot (tmpvar_27, vec3(0.32, 0.49, 0.29))\n  ) * xlat_mutablelamp));\n  ret_6 = (1.0 - exp((-2.0 * ret_6)));\n  ret_6 = (ret_6 + (dots_5 * (1.0 + ret_6)));\n  vec4 tmpvar_28;\n  tmpvar_28.w = 1.0;\n  tmpvar_28.xyz = ret_6;\n  ret = tmpvar_28.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 3, wave_mode: 4, additivewave: 1, wave_dots: 1, modwavealphabyvolume: 1, wave_a: 0.331, wave_scale: 0.898, wave_smoothing: 0.108, wave_mystery: 0.1, modwavealphastart: 0.72, modwavealphaend: 1.28, zoom: 1.3345, wave_r: 0, wave_g: 0.5, wave_b: 0.5, wave_y: 0.54, mv_x: 24.8, mv_dy: 0.16, mv_l: 1.5, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, samples: 352, usedots: 1, additive: 1, scaling: 0.03856, smoothing: 0.2, g: 0}, init_eqs_str: "a.t02=0;a.q1=0;a.ratio=0;a.ampl=0;a.x1=0;a.y1=0;", frame_eqs_str: "a.q1=a.bass_att;", point_eqs_str: "a.r=Math.abs(Math.sin(div(a.frame,38)));a.g=.5*Math.abs(Math.cos(div(a.frame,45)));a.b=.5*Math.abs(Math.sin(div(a.frame,133)));a.a=.3;a.t02+=div(a.q1,10);a.ratio=Math.sin(div(a.frame,49));a.ampl=.01+.4*sqr(Math.sin(div(a.frame,18))*Math.cos(div(a.frame,123)));a.x1=div(a.r-.5,15)+.5+a.ampl*Math.sin(6.28*a.sample);a.y1=div(a.b-.5,15)+.5+a.ampl*Math.cos(6.28*a.sample);a.x=a.x1+.2*(a.ampl+a.ratio)*Math.sin(6.28*a.sample*a.ratio*7.3);a.y=a.y1+.2*(a.ampl+a.ratio)*Math.cos(37.68*a.sample);\n"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.oldshift=0;a.shift=0;a.normalframez=0;a.crash=0;a.nex=0;a.rshift=0;a.q1=0;a.zoom1=0;", frame_eqs_str: "a.dx=0;a.oldshift=a.shift;a.normalframez+=1;a.shift=above(a.bass_att,1)*above(a.treb_att,.9);a.crash=Math.abs(a.oldshift-a.shift);a.nex=1*equal(a.rshift,0)+2*equal(a.rshift,1);a.rshift=.00001<Math.abs(a.crash)?a.nex:a.rshift;a.monitor=a.rshift;a.wave_r=div(Math.floor(randint(200)),200);a.wave_g=div(Math.floor(randint(200)),200);a.wave_b=div(Math.floor(randint(200)),200);a.warp=0;a.q1=above(a.bass_att,1.3);a.zoom1=a.zoom+.15-.3*mod(a.normalframez,2);a.zoom=.00001<Math.abs(a.shift)?\na.zoom1:1;a.rot=a.rot-.1+.1*a.rshift;", pixel_eqs_str: "a.dy=.007*-below(a.y,.4)+.007*above(a.y,.6);", warp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = ((texture (sampler_main, (uv_orig + \n    ((uv - uv_orig) * dot (texture (sampler_main, uv).xyz, vec3(0.32, 0.49, 0.29)))\n  )).xyz * 0.99) - 0.002);\n  ret = tmpvar_1.xyz;\n }", comp: " shader_body { \n  vec3 ret_1;\n  ret_1 = (texture (sampler_main, uv).xyz * 2.0);\n  ret_1 = (ret_1 * (1.0 - ret_1));\n  ret_1 = (((1.0 - \n    pow (clamp (ret_1, 0.0, 1.0), vec3(0.5, 0.5, 0.5))\n  ) * 1.5) - 0.75);\n  vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = ret_1;\n  ret = tmpvar_2.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, decay: 1, echo_zoom: 1, echo_orient: 3, wave_mode: 1, wrap: 0, darken_center: 1, wave_a: 1e-3, zoom: 0.97, rot: -6.27999, warp: 52e-5, wave_r: 0, wave_g: 0, wave_b: 0, ob_r: 1, ob_g: 1, ob_b: 1, mv_a: 0}, shapes: [{baseVals: {enabled: 1, sides: 100, textured: 1, rad: 0.49849, g: 1, b: 1, a: 0.7, r2: 1, g2: 0, b2: 1, a2: 0.7, border_a: 0}, init_eqs_str: "a.q2=0;a.tex_capture=0;a.q3=0;", frame_eqs_str: "a.r2=.5+.5*Math.sin(.35*a.q2);a.g2=.5+.5*Math.sin(.578*a.q2);a.b2=.5+.5*Math.sin(.689*a.q2);a.ang=a.q2;a.tex_capture=above(a.q3,2);"}, {baseVals: {enabled: 1, sides: 100, textured: 1, rad: 0.74218, g: 1, b: 1, a: 0.6, r2: 1, g2: 0, b2: 1, a2: 0.6, border_a: 0}, init_eqs_str: "a.q2=0;a.tex_capture=0;a.q3=0;", frame_eqs_str: "a.r2=.5+.5*Math.sin(.45*a.q2);a.g2=.5+.5*Math.sin(.678*a.q2);a.b2=.5+.5*Math.sin(.689*a.q2);a.ang=1.05*-a.q2;a.tex_capture=above(a.q3,2);"}, {baseVals: {enabled: 1, sides: 100, textured: 1, rad: 1.00035, g: 1, b: 1, a: 0.5, r2: 1, g2: 0, b2: 1, a2: 0.5, border_a: 0}, init_eqs_str: "a.q2=0;a.tex_capture=0;a.q3=0;", frame_eqs_str: "a.r2=.5+.5*Math.sin(.45*a.q2);a.g2=.5+.5*Math.sin(.578*a.q2);a.b2=.5+.5*Math.sin(.789*a.q2);a.ang=.899*a.q2;a.tex_capture=above(a.q3,2);"}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, sep: 1, spectrum: 1, thick: 1, additive: 1}, init_eqs_str: "a.xx=0;a.s=0;a.xs=0;a.ss=0;a.q1=0;a.xd=0;a.zd=0;a.v=0;a.yx=0;a.angle2=0;a.zs=0;a.angle=0;a.ys=0;a.xn=0;a.yd=0;a.angle3=0;a.yn=0;a.u=0;a.zx=0;", frame_eqs_str: "", point_eqs_str: "a.u=3.14159*Math.cos(.1*a.q1);a.v=6.28318*Math.cos(.015*a.q1);a.s=314*a.sample;a.ss=6280*a.sample;a.xs=(.3+.1*Math.cos(a.s))*Math.cos(a.ss)*.2*Math.cos(a.v);a.ys=(.3+.1*Math.cos(a.s))*Math.sin(a.ss)*6*a.u;a.zs=.1*Math.sin(a.s)*Math.sin(a.v);a.angle=.1*a.q1;a.yx=a.ys*Math.cos(a.angle)-a.zs*Math.sin(a.angle);a.zx=a.ys*Math.sin(a.angle)+a.zs*Math.cos(a.angle);a.xx=a.xs;a.angle2=.11*a.q1;a.xd=a.xx*Math.cos(a.angle2)-a.zx*Math.sin(a.angle2);a.zd=a.xx*Math.sin(a.angle2)+a.zx*Math.cos(a.angle2);\na.yd=a.yx;a.angle3=.15*a.q1;a.xn=a.xd*Math.cos(a.angle3)-a.yd*Math.sin(a.angle3);a.yn=a.xd*Math.sin(a.angle3)+a.yd*Math.cos(a.angle3);a.zd=a.zd;a.x=a.xn*a.zd*.3+.5;a.y=a.yn*a.zd*.36+.5;a.r=.5+.5*Math.sin(1.2*a.q1+a.x+a.x);a.g=.5+.5*Math.sin(1.5*a.q1+a.x+a.y);a.b=.5+.5*Math.sin(1.36*a.q1+a.y+a.y);"}, {baseVals: {enabled: 1, sep: 1, spectrum: 1, thick: 1, additive: 1}, init_eqs_str: "a.xx=0;a.s=0;a.xs=0;a.ss=0;a.q1=0;a.xd=0;a.zd=0;a.v=0;a.yx=0;a.angle2=0;a.zs=0;a.angle=0;a.ys=0;a.xn=0;a.yd=0;a.angle3=0;a.yn=0;a.u=0;a.zx=0;", frame_eqs_str: "", point_eqs_str: "a.u=3.14159*Math.cos(.1*a.q1);a.v=6.28318*Math.cos(.015*a.q1);a.s=314*a.sample;a.ss=6280*a.sample;a.xs=(.3+.1*Math.cos(a.s))*Math.cos(a.ss)*.2*Math.cos(a.v);a.ys=(.3+.1*Math.cos(a.s))*Math.sin(a.ss)*6*a.u;a.zs=.1*Math.sin(a.s)*Math.sin(a.v);a.angle=.1*a.q1;a.yx=a.ys*Math.cos(a.angle)-a.zs*Math.sin(a.angle);a.zx=a.ys*Math.sin(a.angle)+a.zs*Math.cos(a.angle);a.xx=a.xs;a.angle2=.13*a.q1;a.xd=a.xx*Math.cos(a.angle2)-a.zx*Math.sin(a.angle2);a.zd=a.xx*Math.sin(a.angle2)+a.zx*Math.cos(a.angle2);\na.yd=a.yx;a.angle3=.16*a.q1;a.xn=a.xd*Math.cos(a.angle3)-a.yd*Math.sin(a.angle3);a.yn=a.xd*Math.sin(a.angle3)+a.yd*Math.cos(a.angle3);a.zd=a.zd;a.x=a.xn*a.zd*.3+.5;a.y=a.yn*a.zd*.36+.5;a.r=.5+.5*Math.sin(1.2*a.q1+a.x+a.x);a.g=.5+.5*Math.sin(1.5*a.q1+a.x+a.y);a.b=.5+.5*Math.sin(1.36*a.q1+a.y+a.y);"}, {baseVals: {enabled: 1, sep: 1, spectrum: 1, thick: 1, additive: 1}, init_eqs_str: "a.xx=0;a.s=0;a.xs=0;a.ss=0;a.q1=0;a.xd=0;a.zd=0;a.v=0;a.yx=0;a.angle2=0;a.zs=0;a.angle=0;a.ys=0;a.xn=0;a.yd=0;a.angle3=0;a.yn=0;a.u=0;a.zx=0;", frame_eqs_str: "", point_eqs_str: "a.u=3.14159*Math.cos(.1*a.q1);a.v=6.28318*Math.cos(.015*a.q1);a.s=314*a.sample;a.ss=6280*a.sample;a.xs=(.3+.1*Math.cos(a.s))*Math.cos(a.ss)*.2*Math.cos(a.v);a.ys=(.3+.1*Math.cos(a.s))*Math.sin(a.ss)*6*a.u;a.zs=.1*Math.sin(a.s)*Math.sin(a.v);a.angle=.1*a.q1;a.yx=a.ys*Math.cos(a.angle)-a.zs*Math.sin(a.angle);a.zx=a.ys*Math.sin(a.angle)+a.zs*Math.cos(a.angle);a.xx=a.xs;a.angle2=.16*a.q1;a.xd=a.xx*Math.cos(a.angle2)-a.zx*Math.sin(a.angle2);a.zd=a.xx*Math.sin(a.angle2)+a.zx*Math.cos(a.angle2);\na.yd=a.yx;a.angle3=.16*a.q1;a.xn=a.xd*Math.cos(a.angle3)-a.yd*Math.sin(a.angle3);a.yn=a.xd*Math.sin(a.angle3)+a.yd*Math.cos(a.angle3);a.zd=a.zd;a.x=a.xn*a.zd*.3+.5;a.y=a.yn*a.zd*.36+.5;a.r=.5+.5*Math.sin(1.2*a.q1+a.x+a.x);a.g=.5+.5*Math.sin(1.5*a.q1+a.x+a.y);a.b=.5+.5*Math.sin(1.36*a.q1+a.y+a.y);"}, {baseVals: {enabled: 0}}], init_eqs_str: "a.basstime=0;a.stickybit=0;a.volavg2=0;a.q1=0;a.decay_r=0;a.sample1=0;a.difftime=0;a.diff=0;a.decay_b=0;a.edge=0;a.volavg=0;a.bit2=0;a.vol=0;a.q2=0;a.q3=0;a.basssum=0;a.decay_g=0;a.sample2=0;", frame_eqs_str: "a.basstime+=.03*a.bass;a.q1=4*a.basstime;a.basstime=.00001<Math.abs(below(a.basstime,1E3))?1E3:a.basstime;a.basstime+=.03*a.bass_att;a.vol=pow(a.bass+a.mid+a.treb,2);a.basssum=a.vol;a.stickybit=mod(a.time,2);a.volavg+=a.vol*equal(a.stickybit,1);a.sample1+=equal(a.stickybit,1);a.volavg2+=a.vol*equal(a.stickybit,0);a.sample2+=equal(a.stickybit,0);a.edge=bnot(equal(a.bit2,a.stickybit));a.volavg-=a.volavg*a.edge*a.stickybit;a.volavg2-=a.volavg2*a.edge*equal(a.stickybit,0);a.sample1-=\na.sample1*a.edge*a.stickybit;a.sample2-=a.sample2*a.edge*equal(a.stickybit,0);a.diff=.00001<Math.abs(equal(a.stickybit,1))?div(a.basssum,div(a.volavg2,a.sample2)):0;a.diff=.00001<Math.abs(equal(a.stickybit,0))?div(a.basssum,div(a.volavg,a.sample1)):a.diff;a.q3=a.diff;a.bit2=mod(a.time,2);a.difftime+=.03*a.diff;a.q2=a.difftime;a.difftime=.00001<Math.abs(above(a.difftime,2E3))?0:a.difftime;a.monitor=3.14*Math.abs(Math.cos(a.time));a.mv_a=above(a.diff,10);", pixel_eqs_str: "a.zoom=1+.05*a.q3*a.rad;a.decay_r=.2*a.rad*Math.sin(.35*a.q2)+.85+.1*Math.sin(a.q2);a.decay_g=.2*a.rad*Math.sin(.5*a.q2)+.85+.1*Math.sin(.7*a.q2);a.decay_b=.2*a.rad*Math.sin(.4*a.q2)+.85+.1*Math.sin(.8*a.q2);a.rot=0;", warp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = (texture (sampler_fc_main, uv).xyz * (0.8 + (q3 * 0.1)));\n  ret = tmpvar_1.xyz;\n }", comp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = (texture (sampler_main, uv).xyz * 2.0);\n  ret = tmpvar_1.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1, decay: 1, echo_zoom: 1.007, echo_alpha: 0.5, echo_orient: 1, wave_mode: 7, additivewave: 1, modwavealphabyvolume: 1, wave_a: 0.1, wave_scale: 3.815, wave_smoothing: 0.9, modwavealphastart: 0, modwavealphaend: 1.1, zoom: 1.0099, warp: 0.04177, wave_r: 0.65, wave_g: 0.65, ob_size: 7e-3, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 0.85, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0}, shapes: [{baseVals: {enabled: 1, sides: 3, x: 0.37, rad: 6.81129, ang: 3.64425, r: 0, a: 0.5, g2: 0, a2: 0.5, border_a: 1}, init_eqs_str: "a.q1=0;a.t1=0;a.t1=.01*randint(100);a.t2=.01*randint(100);", frame_eqs_str: "a.ang=a.q1*(.303+.01*a.t1);a.r=Math.min(1,Math.max(0,.1*Math.sin(.417*a.time+1)));a.g=Math.min(1,Math.max(0,.1*Math.sin(.391*a.time+2)));a.b=Math.min(1,Math.max(0,.1*Math.sin(.432*a.time+4)));a.r2=Math.min(1,Math.max(0,a.r2+.02*Math.sin(.657*a.time+3)));a.g2=Math.min(1,Math.max(0,a.g2+.02*Math.sin(.737*a.time+5)));a.b2=Math.min(1,Math.max(0,a.b2+.02*Math.sin(.884*a.time+6)));a.additive=.5+.15*(a.bass+a.bass_att);"}, {baseVals: {enabled: 1, sides: 100, additive: 1, textured: 1, x: 0.37, rad: 0.89796, ang: 3.64425, g: 1, b: 1, a: 0.5, g2: 0, a2: 1, border_a: 0}, init_eqs_str: "a.q1=0;a.t1=0;a.t1=.01*randint(100);a.t2=.01*randint(100);", frame_eqs_str: "a.x+=.07*Math.sin(.15*a.q1+3);a.y+=.03*Math.sin(.19*a.q1+1);a.tex_ang=a.q1*(.01+.0001*a.t1);a.r=Math.min(1,Math.max(0,a.r+.01*Math.sin(.0417*a.time+1)));a.g=Math.min(1,Math.max(0,a.g+.01*Math.sin(.391*a.time+2)));a.b=Math.min(1,Math.max(0,a.b+.01*Math.sin(.432*a.time+4)));a.r2=Math.min(1,Math.max(0,a.r2+.01*Math.sin(.457*a.time+3)));a.g2=Math.min(1,Math.max(0,a.g2+.01*Math.sin(.0437*a.time+5)));a.b2=Math.min(1,Math.max(0,a.b2+.01*Math.sin(.484*a.time+6)));"}, {baseVals: {enabled: 1, sides: 100, additive: 1, textured: 1, x: 0.67, y: 0.43, rad: 0.51386, ang: 4.20974, g: 1, b: 1, g2: 0, a2: 1, border_a: 0}, init_eqs_str: "a.q1=0;a.t1=0;a.t2=0;a.t1=.01*randint(100);a.t2=.01*randint(100);", frame_eqs_str: "a.x+=.05*Math.sin(.017*a.q1);a.y+=.09*Math.sin(.013*a.q1);a.tex_ang=a.q1*(.02+.0001*a.t1);a.rad*=.9+.2*a.t2;a.r=Math.min(1,Math.max(0,a.r+.01*Math.sin(.417*a.time+1)));a.g=Math.min(1,Math.max(0,a.g+.01*Math.sin(.391*a.time+2)));a.b=Math.min(1,Math.max(0,a.b+.01*Math.sin(.432*a.time+4)));a.r2=Math.min(1,Math.max(0,a.r2+.01*Math.sin(.457*a.time+3)));a.g2=Math.min(1,Math.max(0,a.g2+.01*Math.sin(.437*a.time+5)));a.b2=Math.min(1,Math.max(0,a.b2+.01*Math.sin(.484*a.time+6)));"}, {baseVals: {enabled: 1, sides: 100, additive: 1, textured: 1, rad: 0.22298, r: 0.6, g: 0.8, b: 1, g2: 0, a2: 1, border_a: 0}, init_eqs_str: "a.q1=0;", frame_eqs_str: "a.x+=.08*Math.sin(.25*a.q1);a.y+=.1*Math.sin(.5*a.q1+2);a.ang=a.time;"}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.movement=0;a.q1=0;", frame_eqs_str: "a.movement=a.movement+.1*Math.max(0,a.bass+a.bass_att-2)+.15*pow(a.bass,3)+.005;a.q1=a.movement;a.monitor=a.q1;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec3 ret_1;\n  vec4 tmpvar_2;\n  tmpvar_2 = texture (sampler_main, uv);\n  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - \n    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)\n  ) * 0.5));\n  ret_1 = (ret_1 * 0.9);\n  ret_1 = (ret_1 + ((\n    ((texture (sampler_noise_lq, ((\n      (uv_orig * texsize.xy)\n     * \n      (texsize_noise_lq.zw * 0.4)\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\n   * 12.0) * clamp (\n    (treb_att - 1.0)\n  , 0.0, 1.0)));\n  vec3 tmpvar_3;\n  tmpvar_3 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.08, 0.08, 0.08));\n  ret_1 = tmpvar_3;\n  vec4 tmpvar_4;\n  tmpvar_4.w = 1.0;\n  tmpvar_4.xyz = tmpvar_3;\n  ret = tmpvar_4.xyz;\n }", comp: " shader_body { \n  vec2 uv_1;\n  vec2 uv3_2;\n  vec2 uv2_3;\n  uv_1 = (uv - 0.5);\n  uv_1 = (uv_1 * aspect.xy);\n  uv2_3.x = ((uv_1.x * -0.497265) - (uv_1.y * 0.8675987));\n  uv2_3.y = ((uv_1.x * 0.8675987) + (uv_1.y * -0.497265));\n  uv3_2.x = ((uv_1.x * -0.5000263) - (uv_1.y * -0.8660102));\n  uv3_2.y = ((uv_1.x * -0.8660102) + (uv_1.y * -0.5000263));\n  vec4 tmpvar_4;\n  tmpvar_4.w = 1.0;\n  tmpvar_4.xyz = max (max (texture (sampler_main, (uv_1 + 0.5)).xyz, texture (sampler_main, (uv2_3 + 0.5)).xyz), texture (sampler_main, (uv3_2 + 0.5)).xyz);\n  ret = tmpvar_4.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 4, gammaadj: 1.49, decay: 0.5, echo_zoom: 1.002, echo_alpha: 0.5, echo_orient: 1, wave_mode: 7, additivewave: 1, modwavealphabyvolume: 1, wave_brighten: 0, wave_a: 1e-3, wave_scale: 1.157, wave_smoothing: 0.63, modwavealphastart: 0.71, modwavealphaend: 1.3, warpscale: 16.016, zoomexp: 11.56276, fshader: 1, zoom: 1.05971, warp: 0.13126, wave_r: 0.65, wave_g: 0.65, wave_b: 0.65, ob_size: 0, ob_a: 1, ib_size: 0, mv_x: 64, mv_y: 48, mv_l: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 1, sides: 14, num_inst: 512, rad: 0.1026, tex_ang: 0.62832, r2: 1, g2: 0, a2: 1, border_a: 0}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;a.r_border=0;a.g_border=0;a.b_border=0;", frame_eqs_str: "a.ma+=3.1415*above(a.bass,1)*.01*a.bass;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0002*Math.cos(a.ma);a.my+=.0002*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.rad=div(a.bass+a.treb,30);a.a=above(a.bass+a.mid+a.treb,.8);a.r=div(Math.floor(randint(100)),100);a.g=div(Math.floor(randint(100)),\n100);a.b=div(Math.floor(randint(100)),100);a.r2=div(Math.floor(randint(100)),100);a.g2=div(Math.floor(randint(100)),100);a.b2=div(Math.floor(randint(100)),100);a.r_border=div(Math.floor(randint(100)),100);a.g_border=div(Math.floor(randint(100)),100);a.b_border=div(Math.floor(randint(100)),100);"}, {baseVals: {enabled: 1, sides: 23, num_inst: 1024, rad: 0.10262, ang: 0.43982, tex_ang: 0.62832, a: 0.5, r2: 1, g2: 0, a2: 0.5, border_a: 0}, init_eqs_str: "a.ma=0;a.mx=0;a.my=0;a.r_border=0;a.g_border=0;a.b_border=0;", frame_eqs_str: "a.ma+=3.1415*above(a.bass,1)*.05*a.bass;a.ma-=3.1415*above(a.mid,1)*.05*a.mid;a.mx+=.0001*Math.cos(a.ma);a.my+=.0001*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.rad=div(a.bass+a.treb,25);a.a=above(a.bass+a.mid+a.treb,.1);a.r=div(Math.floor(randint(100)),100);a.g=div(Math.floor(randint(100)),\n100);a.b=div(Math.floor(randint(100)),100);a.r2=div(Math.floor(randint(100)),100);a.g2=div(Math.floor(randint(100)),100);a.b2=div(Math.floor(randint(100)),100);a.r_border=div(Math.floor(randint(100)),100);a.g_border=div(Math.floor(randint(100)),100);a.b_border=div(Math.floor(randint(100)),100);"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.y3=0;a.y1=0;a.xx=0;a.q12=0;a.x1=0;a.vx3=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.q9=0;a.d1=0;a.si1=0;a.vx4=0;a.grav=0;a.x3=0;a.d2=0;a.q11=0;a.q10=0;a.xx2=0;a.q4=0;a.yy1=0;a.vy4=0;a.dir=0;a.bounce=0;a.x4=0;a.r=0;a.x2=0;a.vy2=0;a.y2=0;a.q2=0;a.m1=0;a.spring=0;a.si2=0;a.vx2=0;a.q3=0;a.resist=0;a.yy=0;a.y4=0;a.q7=0;a.vy3=0;a.xx1=0;a.b1=0;a.q8=0;", frame_eqs_str: "a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+2*(a.xx1-a.xx2);a.y1=.4+a.yy1;a.x1=Math.max(0,Math.min(1,a.x1));a.y1=Math.max(0,Math.min(1,a.y1));a.spring=10;a.grav=.5;a.resist=1;a.bounce=.75;a.dt=.0005*div(60,a.fps);a.vx2=a.vx2*(1-a.resist*a.dt)+a.dt*(a.x1+a.x3-2*a.x2)*a.spring;a.vy2=a.vy2*(1-a.resist*a.dt)+a.dt*((a.y1+a.y3-2*a.y2)*a.spring-a.grav);a.vx3=a.vx3*(1-a.resist*a.dt)+a.dt*(a.x2+a.x4-2*a.x3)*a.spring;a.vy3=a.vy3*(1-\na.resist*a.dt)+a.dt*((a.y2+a.y4-2*a.y3)*a.spring-a.grav);a.vx4=a.vx4*(1-a.resist*a.dt)+a.dt*(a.x3-a.x4)*a.spring;a.vy4=a.vy4*(1-a.resist*a.dt)+a.dt*((a.y3-a.y4)*a.spring-a.grav);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:Math.abs(a.vx2)*a.bounce;a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:-Math.abs(a.vx2)*a.bounce;a.vx3=.00001<Math.abs(above(a.x3,0))?a.vx3:Math.abs(a.vx3)*a.bounce;a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:-Math.abs(a.vx3)*\na.bounce;a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:Math.abs(a.vx4)*a.bounce;a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:-Math.abs(a.vx4)*a.bounce;a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:Math.abs(a.vy2)*a.bounce;a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:-Math.abs(a.vy2)*a.bounce;a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:Math.abs(a.vy3)*a.bounce;a.vy3=.00001<Math.abs(below(a.y3,1))?a.vy3:-Math.abs(a.vy3)*a.bounce;a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:Math.abs(a.vy4)*a.bounce;a.vy4=.00001<\nMath.abs(below(a.y4,1))?a.vy4:-Math.abs(a.vy4)*a.bounce;a.q1=a.x1;a.q2=a.x2;a.q3=a.x3;a.q4=a.x4;a.q5=a.y1;a.q6=a.y2;a.q7=a.y3;a.q8=a.y4;a.q9=div(1,a.aspectx);a.q10=div(1,a.aspecty);a.zoom=1;a.r=.96*a.r+(a.x1-.5);a.rot=.1*a.r;a.q12=Math.atan2(a.vx4,a.vy4);a.q11=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.zoom=1.001;a.rot=0;a.warp=.2;a.wave_a=0;", pixel_eqs_str: "a.dir=-a.q12+Math.asin(1);a.b1=.1;a.m1=25*a.q11;a.xx=a.q4;a.yy=1-a.q8;a.x1=a.xx-Math.sin(a.dir)*a.b1;a.y1=a.yy-Math.cos(a.dir)*a.b1;a.x2=a.xx+Math.sin(a.dir)*a.b1;a.y2=a.yy+Math.cos(a.dir)*a.b1;a.d1=sqrt((a.x1-a.x)*(a.x1-a.x)+(a.y1-a.y)*(a.y1-a.y))-2*a.b1;a.d2=sqrt((a.x2-a.x)*(a.x2-a.x)+(a.y2-a.y)*(a.y2-a.y))-2*a.b1;a.si1=sigmoid(-a.d1,1E3);a.si2=sigmoid(-a.d2,1E3);a.dx=2*(a.si1*Math.sin(a.y1-a.y)*a.m1*a.d1-a.si2*Math.sin(a.y2-a.y)*a.m1*a.d2);a.dy=2*(-a.si1*Math.sin(a.x1-a.x)*\na.m1*a.d1+a.si2*Math.sin(a.x2-a.x)*a.m1*a.d2);", warp: " shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1 = mix (uv_orig, uv, vec2(0.3, 0.3));\n  vec2 tmpvar_2;\n  tmpvar_2 = (texsize.zw * 3.0);\n  vec2 tmpvar_3;\n  tmpvar_3.x = dot (((\n    (texture (sampler_blur1, (tmpvar_1 + (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)\n   + bias1) - (\n    (texture (sampler_blur1, (tmpvar_1 - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)\n   + bias1)), vec3(0.32, 0.49, 0.29));\n  tmpvar_3.y = dot (((\n    (texture (sampler_blur1, (tmpvar_1 + (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)\n   + bias1) - (\n    (texture (sampler_blur1, (tmpvar_1 - (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)\n   + bias1)), vec3(0.32, 0.49, 0.29));\n  vec4 tmpvar_4;\n  tmpvar_4.w = 1.0;\n  tmpvar_4.xyz = (texture (sampler_fc_main, (tmpvar_1 + (\n    (tmpvar_3 * texsize.zw)\n   * 9.0))) - 0.01).xyz;\n  ret = tmpvar_4.xyz;\n }", comp: " shader_body { \n  vec2 uv_1;\n  vec3 ret3_2;\n  vec3 ret_3;\n  vec2 tmpvar_4;\n  tmpvar_4 = (((uv - 0.5) * vec2(-1.0, 1.0)) + 0.5);\n  vec3 tmpvar_5;\n  tmpvar_5 = abs(((texture (sampler_main, uv).xyz * \n    clamp ((((\n      (texture (sampler_blur2, uv).xyz * scale2)\n     + bias2) * 2.8) - 0.13), 0.0, 1.0)\n  ) - (texture (sampler_main, tmpvar_4).xyz * \n    clamp ((((\n      (texture (sampler_blur2, tmpvar_4).xyz * scale2)\n     + bias2) * 2.8) - 0.13), 0.0, 1.0)\n  )));\n  ret3_2 = (tmpvar_5 * sqrt(tmpvar_5));\n  ret3_2 = (ret3_2 * vec3(0.9, 1.6, 2.3));\n  ret3_2 = (ret3_2 * 3.0);\n  vec3 tmpvar_6;\n  tmpvar_6 = pow (ret3_2, (1.0 - ret3_2));\n  ret3_2 = tmpvar_6;\n  uv_1 = (uv * 2.0);\n  vec2 tmpvar_7;\n  tmpvar_7 = floor((fract(\n    (uv_1 * 0.5)\n  ) * 2.0));\n  uv_1 = ((fract(uv_1) * (1.0 - tmpvar_7)) + (tmpvar_7 * fract(\n    (1.0 - uv_1)\n  )));\n  vec2 tmpvar_8;\n  tmpvar_8.x = rad;\n  tmpvar_8.y = uv_1.y;\n  uv_1 = tmpvar_8;\n  vec2 tmpvar_9;\n  tmpvar_9 = ((0.5 - tmpvar_8.yx) + 0.5);\n  ret_3 = (texture (sampler_main, tmpvar_8.yx).xyz * clamp ((\n    (((texture (sampler_blur2, tmpvar_8.yx).xyz * scale2) + bias2) * 2.8)\n   - 0.13), 0.0, 1.0));\n  vec3 tmpvar_10;\n  tmpvar_10 = mix (ret_3, (texture (sampler_main, tmpvar_9).xyz * clamp (\n    ((((texture (sampler_blur2, tmpvar_9).xyz * scale2) + bias2) * 2.8) - 0.13)\n  , 0.0, 1.0)), vec3(0.5, 0.5, 0.5));\n  ret_3 = (tmpvar_10 * tmpvar_10);\n  ret_3 = (ret_3 * vec3(0.9, 1.6, 2.3));\n  ret_3 = (ret_3 * 3.0);\n  ret_3 = (max (tmpvar_6, (0.8 * vec3(\n    (0.5 * dot (ret_3, vec3(0.32, 0.49, 0.29)))\n  ))) - (roam_sin.xyz * roam_cos.zxy));\n  vec4 tmpvar_11;\n  tmpvar_11.w = 1.0;\n  tmpvar_11.xyz = ret_3;\n  ret = tmpvar_11.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 0, gammaadj: 1.35, decay: 1, echo_zoom: 2.144269, echo_alpha: 0.31, echo_orient: 3, wave_mode: 7, wave_brighten: 0, wrap: 0, wave_a: 4.1, wave_scale: 5.552, wave_smoothing: 0.504, modwavealphastart: 0.71, modwavealphaend: 1.3, warpscale: 1.331, zoom: 0.999514, cx: -1, warp: 0.72142, sy: 0.980296, wave_g: 0, wave_b: 0, ob_size: 0.5, ob_r: 1, ib_size: 0.5, ib_r: 1, ib_g: 0, ib_b: 0, mv_x: 64, mv_y: 48, mv_l: 0.85, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 1, sides: 5, textured: 1, rad: 0.98608, tex_ang: 3.14159, tex_zoom: 0.999794, g: 1, b: 1, r2: 1, b2: 1, a2: 1, border_a: 0}, init_eqs_str: "", frame_eqs_str: "a.ang=Math.sin(div(a.time,65));"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.bl=0;a.tic=0;a.swi=0;a.q6=0;a.it=0;a.q1=0;a.q5=0;a.bvb=0;a.itar=0;a.mid_avg=0;a.tin=0;a.bass_avg=0;a.vav=0;a.rate=0;a.bd=0;a.q4=0;a.cha=0;a.ra=0;a.treb_avg=0;a.ul=0;a.db=0;a.gv=0;a.q2=0;a.iter=0;a.q3=0;a.vm=0;a.cma=0;a.cm=0;a.rb=0;", frame_eqs_str: "a.bl=3.8;a.ul=7.9;a.rate=11.9;a.cha=.01;a.gv=.00001<Math.abs(above(a.gv,a.bl))?.00001<Math.abs(below(a.gv,a.ul))?.00001<Math.abs(above(a.fps,a.rate))?a.gv+a.cha:a.gv-a.cha:a.ul-.1:a.bl+.1;a.monitor=a.gv;a.wave_a=0;a.tic=Math.min(a.time-a.tin,1);a.tin=a.time;a.ra=10;a.treb_avg=a.tic*(a.treb_avg*(div(1,a.tic)-a.ra)+a.ra*a.treb);a.mid_avg=a.tic*(a.mid_avg*(div(1,a.tic)-a.ra)+a.ra*a.mid);a.bass_avg=a.tic*(a.bass_avg*(div(1,a.tic)-a.ra)+a.ra*a.bass);a.rb=1;a.vav=a.tic*(a.vav*(div(1,\na.tic)-a.rb)+a.rb*(a.bass+a.treb+a.mid)*.33333);a.q1=a.treb_avg;a.q2=a.mid_avg;a.q3=a.bass_avg;a.db=a.bass-a.bass_avg;a.it=(a.it+a.tic)*below(a.it,1);a.rb=.5*div(1,a.tic);a.bvb=a.tic*(a.bass*a.rb+(div(1,a.tic)-a.rb)*a.bvb);a.bd=a.bass-a.bvb;a.vm=a.vm-a.tic+a.swi;a.swi=above(a.bd-a.vm,0);a.q4=1-a.swi;a.cm=.00001<Math.abs(above(a.iter,30)+equal(a.time,0))?randint(3)+1:a.cm;a.iter=(a.iter+a.tic)*(1-above(a.iter,30));a.q5=.00001<Math.abs(equal(a.cm,0))?3:a.cm;a.cma=.00001<Math.abs(above(a.itar,5)+equal(a.time,\n0))?Math.floor(5*a.vav):a.cma;a.itar=(a.itar+a.tic)*(1-above(a.itar,5));a.q6=Math.floor(5*a.vav);a.decay=.97;a.zoom=1.01;a.sx=1;a.sy=1;", pixel_eqs_str: "a.warp=a.bass;", warp: " shader_body { \n  vec3 ret_1;\n  ret_1 = ((texture (sampler_main, uv_orig).xyz * vec3(0.97, 1.0, 0.97)) - vec3(0.03, 0.0, 0.03));\n  vec4 tmpvar_2;\n  tmpvar_2 = texture (sampler_blur1, uv_orig);\n  ret_1.z = (ret_1.z + ((\n    (tmpvar_2.xyz * scale1)\n   + bias1).z * 0.45));\n  ret_1.x = (ret_1.x + ((\n    ((tmpvar_2.xyz * scale1) + bias1)\n  .z * 0.05) + (\n    ((texture (sampler_blur3, uv_orig).xyz * scale3) + bias3)\n  .z * 0.05)));\n  ret_1.z = (ret_1.z - ret_1.x);\n  ret_1.y = clamp (texture (sampler_pw_main, uv_orig).y, 0.0, 1.0);\n  ret_1 = (ret_1 * 0.98);\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = ret_1;\n  ret = tmpvar_3.xyz;\n }", comp: " shader_body { \n  vec3 ret_1;\n  vec3 tmpvar_2;\n  tmpvar_2.z = 0.0;\n  tmpvar_2.xy = texsize.zw;\n  vec3 tmpvar_3;\n  tmpvar_3 = (tmpvar_2 * 2.5);\n  ret_1 = (texture (sampler_main, uv).xyz * 0.5);\n  ret_1 = (ret_1 + (vec3(3.4, 2.38, 1.02) * (\n    dot (((texture (sampler_blur1, (uv + tmpvar_3.xz)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\n   - \n    dot (((texture (sampler_blur1, (uv - tmpvar_3.xz)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\n  )));\n  ret_1 = (ret_1 + (vec3(0.68, 1.7, 2.38) * (\n    dot (((texture (sampler_blur1, (uv + tmpvar_3.zy)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\n   - \n    dot (((texture (sampler_blur1, (uv - tmpvar_3.zy)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\n  )));\n  ret_1 = (ret_1 * 1.5);\n  vec4 tmpvar_4;\n  tmpvar_4.w = 1.0;\n  tmpvar_4.xyz = ret_1;\n  ret = tmpvar_4.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 2.05, decay: 0.99, echo_zoom: 1.008, echo_alpha: 0.5, echo_orient: 1, wave_thick: 1, wave_brighten: 0, darken: 1, wave_a: 0.625, wave_scale: 1.187, wave_smoothing: 0, modwavealphastart: 0.71, modwavealphaend: 1.3, warpanimspeed: 1.459, warpscale: 2.007, fshader: 0.19, zoom: 0.9999, warp: 0.01, sx: 0.9999, wave_r: 0.5, wave_g: 0.5, wave_b: 0.5, ob_r: 1, ob_g: 1, ob_b: 1, ib_size: 0.26, mv_x: 64, mv_y: 48, mv_l: 0.85, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0.5}, shapes: [{baseVals: {enabled: 1, sides: 9, thickoutline: 1, textured: 1, rad: 0.12566, ang: 3.39292, tex_ang: 0.3768, tex_zoom: 0.32473, g: 1, b: 1, r2: 1, b2: 1, a2: 1, border_r: 0.03, border_g: 0.67, border_b: 0.79, border_a: 1}, init_eqs_str: "a.q1=0;a.q2=0;a.q3=0;", frame_eqs_str: "a.x+=.13*Math.sin(.9*a.time);a.y+=.16*Math.sin(.5*a.time);a.border_r=a.q1;a.border_b=a.q2;a.border_g=a.q3;"}, {baseVals: {enabled: 1, sides: 3, thickoutline: 1, rad: 0.12572, a2: 1, border_g: 0, border_b: 0, border_a: 1}, init_eqs_str: "a.q1=0;a.q2=0;a.q3=0;", frame_eqs_str: "a.rad=a.rad-.2+.2*a.bass_att;a.r=a.r+.25*Math.sin(1.1*a.time)+.2*Math.sin(.25*a.time);a.g=a.g+.25*Math.cos(1.5*a.time)+.22*Math.cos(.24*a.time);a.b=a.b+.25*Math.sin(.6*a.time)+.27*Math.cos(.7*a.time);a.r2=1-Math.abs(a.r);a.g2=1-Math.abs(a.g);a.b2=1-Math.abs(a.b);a.ang+=3*Math.abs(Math.tan(1*a.time));a.x=a.x+.14*Math.cos(a.time)+.2*Math.sin(.42*a.time);a.y=a.y+.16*Math.sin(1.2*a.time)+.15*Math.sin(.8*a.time)+.21*Math.cos(.45*a.time);a.border_r=a.q1;a.border_b=a.q2;a.border_g=\na.q3;"}, {baseVals: {enabled: 1, ang: 0.03, r: 0.21, g: 0.44, b: 0.23, r2: 0.18, b2: 0.11, a2: 1, border_r: 0.15, border_g: 0.4, border_b: 0.48, border_a: 1}, init_eqs_str: "a.q1=0;a.q2=0;a.q3=0;", frame_eqs_str: "a.ang=2.4*a.time;a.x=.5+.22*Math.cos(3.3*a.time)+.14*Math.cos(1.2*a.time);a.y=.5+.26*Math.sin(3.1*a.time)+.13*Math.sin(1.7*a.time);a.r=.5+.5*Math.sin(1.013*a.time+5);a.g=.5+.5*Math.sin(1.063*a.time+2);a.b=.5+.5*Math.sin(1.054*a.time+1);a.r2=.5+.5*Math.sin(1.085*a.time+3);a.g2=.5+.5*Math.sin(1.056*a.time+1);a.b2=.5+.5*Math.sin(1.038*a.time+4);a.border_r=a.q1;a.border_b=a.q2;a.border_g=a.q3;"}, {baseVals: {enabled: 1, sides: 5, x: 0.51, y: 0.49, rad: 0.09986, ang: 0.06283, a2: 1, border_r: 0.46, border_g: 0.28, border_b: 0.54, border_a: 1}, init_eqs_str: "a.q4=0;a.q1=0;a.q2=0;a.q3=0;", frame_eqs_str: "a.x=.5+.07*Math.cos(.5*a.q4)+.31*Math.sin(3.5*a.time);a.y=.5+.07*Math.sin(.5*a.q4)+.31*Math.cos(3.5*a.time);a.r=.5+.5*Math.sin(1.013*a.time+2);a.g=.5+.5*Math.sin(.863*a.time+3);a.b=.5+.5*Math.sin(1.054*a.time+1);a.r2=.5+.5*Math.sin(1.185*a.time+3);a.g2=.5+.5*Math.sin(1.356*a.time+2);a.b2=.5+.5*Math.sin(.738*a.time+4);a.border_r=a.q1;a.border_b=a.q2;a.border_g=a.q3;"}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.index2=0;a.xk=0;a.kiss=0;a.sw=0;a.yk=0;a.index=0;a.q22=0;a.q21=0;a.q29=0;a.q6=0;a.dt=0;a.y0=0;a.q1=0;a.dec_med=0;a.q5=0;a.index3=0;a.q9=0;a.x0=0;a.ax=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.vx=0;a.dec_slow=0;a.q10=0;a.vy=0;a.q4=0;a.k2=0;a.q26=0;a.ay=0;a.p2=0;a.avg=0;a.beat=0;a.vol=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.q3=0;a.t0=0;a.m=0;a.q7=0;a.q28=0;a.v2=0;a.q20=0;a.q8=0;a.vol=0;a.p1=0;a.vx=.2;a.vy=-.1;a.kx=0;a.ky=0;", frame_eqs_str: "a.dec_med=pow(.96,div(30,a.fps));a.dec_slow=pow(.999,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.5+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),2);a.index3=mod(a.index3+a.is_beat*bnot(a.index)*bnot(a.index2),2);a.q20=a.avg;a.q21=\na.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.vol=a.bass_att+a.treb_att;a.v2=a.v2*a.dec_med+a.vol*(1-a.dec_med);a.q26=Math.max(Math.atan(a.vol-a.v2),0);a.q27=a.index+1;a.sw=a.sw*a.dec_med+(1-a.dec_med)*mod(a.index2,2);a.q28=a.sw;a.kiss=a.kiss*a.dec_med+(1-a.dec_med)*bnot(a.index2)*below(a.index,4);a.q29=a.kiss;a.k1=a.is_beat*bnot(a.index);a.k2=a.is_beat*bnot(a.index);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.1416*a.p2,2);a.monitor=a.k1;a.q1=Math.cos(a.rott);\na.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.q5=Math.cos(div(a.time,4));a.q6=-Math.sin(div(a.time,4));a.q7=-a.q6;a.q8=a.q5;a.zoom=1;a.rot=-0;a.dt=div(3,a.fps);a.m=1;a.x0=0;a.y0=0;a.ax=div(-(a.xk-a.x0),a.m)+div(sign(a.vx+.001)*a.dt*a.bass,40);a.ay=div(-(a.yk-a.y0),a.m)+div(sign(a.vy+.001)*a.dt*a.treb,40);a.monitor=a.index3;a.vx=a.vx*a.dec_slow+a.ax*a.dt;a.vy=a.vy*a.dec_slow+a.ay*a.dt;a.xk+=a.vx*a.dt;a.yk+=a.vy*a.dt;a.q9=a.xk;a.q10=a.yk;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1 = ((uv * texsize.xy) * 0.08);\n  vec3 tmpvar_2;\n  tmpvar_2 = (texture (sampler_main, (uv - (\n    ((sin(tmpvar_1) / cos(tmpvar_1)) * texsize.zw)\n   * 3.0))).xyz + (vec3(dot (texture (sampler_noise_lq, \n    ((((texsize.xy * texsize_noise_lq.zw).x * uv) * 0.02) + (0.1 * rand_frame).xy)\n  ), vec4(0.32, 0.49, 0.29, 0.0))) / 30.0));\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = ((mix (tmpvar_2, \n    (1.0 - tmpvar_2.zyx)\n  , vec3(0.01, 0.01, 0.01)) - 0.03) - (0.2 * pow (\n    (1.0 - rad)\n  , 18.0)));\n  ret = tmpvar_3.xyz;\n }", comp: " shader_body { \n  vec2 uv_1;\n  vec2 tmpvar_2;\n  tmpvar_2.x = cos(((uv.y * texsize.y) / 2.0));\n  tmpvar_2.y = sin(((uv.x * texsize.x) / 2.0));\n  uv_1 = (uv + ((2.0 * texsize.zw) * tmpvar_2));\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = (1.4 * pow ((\n    clamp (((texture (sampler_blur1, uv_1).xyz * scale1) + bias1), 0.0, 1.0)\n   * \n    (texture (sampler_pc_main, uv_1).xyz - ((texture (sampler_blur3, uv_1).xyz * scale3) + bias3))\n  ), vec3(0.5, 0.5, 0.5)));\n  ret = tmpvar_3.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 4, gammaadj: 1.98, echo_zoom: 2.448, echo_alpha: 0.5, wave_thick: 1, wrap: 0, wave_a: 3.645, wave_scale: 1.951, wave_smoothing: 0.5, wave_mystery: -0.5, warpscale: 2.853, zoomexp: 2.1, zoom: 1.025, warp: 1.29077, wave_g: 0, wave_b: 0, ob_size: 0, ob_a: 1, ib_size: 0, ib_r: 0, ib_g: 0, ib_b: 0, mv_x: 64, mv_y: 48, mv_l: 0, mv_b: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 1, sides: 100, rad: 0.13518, g2: 0, a2: 1, border_r: 0, border_g: 0, border_b: 0, border_a: 1}, init_eqs_str: "a.q8=0;", frame_eqs_str: "a.x=.3+.05*Math.sin(.89*a.q8);a.y=.4-.05*Math.cos(.77*a.q8);a.r=.25+.25*Math.sin(.7679*a.time);a.g=.25+.25*Math.sin(.8079*a.time);a.b=.25+.25*Math.sin(.7339*a.time);a.r2=.25+.25*Math.sin(.6979*a.time);a.g2=.25+.25*Math.sin(.849*a.time);a.b2=.25+.25*Math.sin(.8079*a.time);"}, {baseVals: {enabled: 1, sides: 100, rad: 0.06623, g2: 0, a2: 1, border_r: 0, border_g: 0, border_b: 0, border_a: 1}, init_eqs_str: "a.q8=0;", frame_eqs_str: "a.x=.3-.05*Math.sin(.7089*a.q8);a.y=.4+.05*Math.cos(.5077*a.q8);a.r=.25+.25*Math.sin(.6479*a.time);a.g=.25+.25*Math.sin(.5079*a.time);a.b=.25+.25*Math.sin(.9339*a.time);a.r2=.25+.25*Math.sin(.779*a.time);a.g2=.25+.25*Math.sin(.707*a.time);a.b2=.25+.25*Math.sin(.747*a.time);"}, {baseVals: {enabled: 1, sides: 100, rad: 0.03646, g2: 0, a2: 1, border_r: 0, border_g: 0, border_b: 0, border_a: 1}, init_eqs_str: "a.q8=0;", frame_eqs_str: "a.x=.3+.05*Math.sin(.679*a.q8);a.y=.4-.05*Math.cos(.877*a.q8);a.r=.25+.25*Math.sin(.5679*a.time);a.g=.25+.25*Math.sin(.4079*a.time);a.b=.25+.25*Math.sin(1.1339*a.time);a.r2=.25+.25*Math.sin(.9979*a.time);a.g2=.25+.25*Math.sin(.891*a.time);a.b2=.25+.25*Math.sin(.713*a.time);"}, {baseVals: {enabled: 1, sides: 100, rad: 0.0122, g2: 0, a2: 1, border_r: 0, border_g: 0, border_b: 0, border_a: 1}, init_eqs_str: "a.q8=0;", frame_eqs_str: "a.x=.3+.05*Math.sin(.916*a.q8);a.y=.4-.05*Math.cos(.977*a.q8);a.r=.25+.25*Math.sin(1.1679*a.time);a.g=.25+.25*Math.sin(1.18079*a.time);a.b=.25+.25*Math.sin(1.17339*a.time);a.r2=.25+.25*Math.sin(1.16979*a.time);a.g2=.25+.25*Math.sin(1.1849*a.time);a.b2=.25+.25*Math.sin(1.81079*a.time);"}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.myrad=0;a.q25=0;a.q12=0;a.q18=0;a.q22=0;a.q21=0;a.vt=0;a.q13=0;a.q15=0;a.q29=0;a.q6=0;a.q1=0;a.myx=0;a.q5=0;a.vb=0;a.q9=0;a.myy=0;a.oldq8=0;a.q31=0;a.q23=0;a.q24=0;a.q11=0;a.q10=0;a.q4=0;a.q16=0;a.mybass=0;a.q26=0;a.rd=0;a.q19=0;a.q17=0;a.q2=0;a.q27=0;a.q14=0;a.q3=0;a.vvm=0;a.q32=0;a.vvb=0;a.q7=0;a.q28=0;a.vm=0;a.q30=0;a.q20=0;a.vvt=0;a.q8=0;", frame_eqs_str: "a.vb=.95*a.vb+(1-a.vb)*pow(a.bass_att,2)*.02;a.vvb=.95*a.vvb+(1-a.vvb)*a.vb*.01;a.vm=.95*a.vm+(1-a.vm)*pow(a.mid_att,2)*.02;a.vvm=.95*a.vvm+(1-a.vvm)*a.vm*.01;a.vt=.95*a.vt+(1-a.vt)*pow(a.treb_att,2)*.02;a.vvt=.95*a.vvt+(1-a.vvt)*a.vt*.01;a.vvb=Math.min(1,Math.max(0,a.vvb));a.vvm=Math.min(1,Math.max(0,a.vvm));a.vvt=Math.min(1,Math.max(0,a.vvt));a.q1=2*a.vvb;a.q2=2*a.vvm;a.q3=2*a.vvt;a.q4=5*(a.q1+a.q2+a.q3);a.q5=5*(a.q1+a.q2+a.q3);a.q6=5*(a.q1+a.q2+a.q3);a.q7=5*(a.q1+a.q2+a.q3);\na.q8=5*(a.q1+a.q2+a.q3);a.q9=5*(a.q1+a.q2+a.q3);a.q10=5*(a.q1+a.q2+a.q3);a.q11=5*(a.q1+a.q2+a.q3);a.q12=5*(a.q1+a.q2+a.q3);a.q13=5*(a.q1+a.q2+a.q3);a.q14=5*(a.q1+a.q2+a.q3);a.q15=5*(a.q1+a.q2+a.q3);a.q16=5*(a.q1+a.q2+a.q3);a.q17=5*(a.q1+a.q2+a.q3);a.q18=5*(a.q1+a.q2+a.q3);a.q19=5*(a.q1+a.q2+a.q3);a.q20=5*(a.q1+a.q2+a.q3);a.q21=5*(a.q1+a.q2+a.q3);a.q22=5*(a.q1+a.q2+a.q3);a.q23=5*(a.q1+a.q2+a.q3);a.q24=5*(a.q1+a.q2+a.q3);a.q25=5*(a.q1+a.q2+a.q3);a.q26=5*(a.q1+a.q2+a.q3);a.q27=5*(a.q1+a.q2+a.q3);a.q28=\n5*(a.q1+a.q2+a.q3);a.q29=5*(a.q1+a.q2+a.q3);a.q30=5*(a.q1+a.q2+a.q3);a.q31=5*(a.q1+a.q2+a.q3);a.q32=5*(a.q1+a.q2+a.q3);a.warp=0;a.rot=0;a.cx=.5;a.cy=.5;a.q1=.5+.1*Math.sin(a.time);a.q2=.5-.1*Math.cos(a.time);a.wave_a=0;a.decay=.95;a.q1=.5+.1*Math.sin(a.q8);a.q2=.5;a.q8=a.oldq8+.003*div(pow(1+1.2*a.bass+.4*a.bass_att+.1*a.treb+.1*a.treb_att+.1*a.mid+.1*a.mid_att,6),a.fps);a.oldq8=a.q8;a.mybass+=.01*(a.bass+a.bass_att);a.zoom=1.09;a.q1=.5+0*Math.sin(.12*a.q8);a.q2=.5-0*Math.cos(.177*a.q8);", pixel_eqs_str: "a.myx=1.1*(a.x-a.q1);a.myy=1.1*(a.y-a.q2);a.myrad=a.myx*a.myx+a.myy*a.myy;a.dx=(.5+.02*Math.sin(a.q8))*div(a.myy,a.myrad+1);a.dy=-(.5+.02*Math.sin(.897*a.q8))*div(a.myx,a.myrad+1);a.rd=a.bass*a.rad;a.rot=div(a.rd,10);a.sy=1.02+div(a.rad,10);a.sx=a.sy-a.myrad;", warp: " shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1 = ((uv_orig - 0.5) * vec2(1.81, 1.81));\n  vec2 tmpvar_2;\n  tmpvar_2.x = ((tmpvar_1.x * tmpvar_1.x) - (tmpvar_1.y * tmpvar_1.y));\n  tmpvar_2.y = ((2.0 * tmpvar_1.x) * tmpvar_1.y);\n  vec4 tmpvar_3;\n  tmpvar_3.w = 1.0;\n  tmpvar_3.xyz = (texture (sampler_fc_main, (tmpvar_2 + vec2(0.448, 0.701))) - 0.004).xyz;\n  ret = tmpvar_3.xyz;\n }", comp: "vec3 xlat_mutableneu;\nvec3 xlat_mutableret1;\n shader_body { \n  vec2 uv_1;\n  float inten_2;\n  float dist_3;\n  vec2 uv2_4;\n  uv_1 = (uv - 0.5);\n  uv_1 = (uv_1 * aspect.xy);\n  float tmpvar_5;\n  tmpvar_5 = (time / 2.0);\n  dist_3 = (1.0 - fract(tmpvar_5));\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 8.0);\n  vec2 tmpvar_6;\n  tmpvar_6.x = q1;\n  tmpvar_6.y = q2;\n  vec2 tmpvar_7;\n  tmpvar_7 = fract(((\n    ((3.0 * uv_1) * dist_3)\n   + 0.5) + (tmpvar_6 * 0.05)));\n  xlat_mutableneu = (texture (sampler_main, tmpvar_7).xyz - ((texture (sampler_blur1, \n    (tmpvar_7 + 0.003)\n  ).xyz * scale1) + bias1));\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * inten_2));\n  uv2_4.x = ((uv_1.x * -0.4990803) - (uv_1.y * 0.8665558));\n  uv2_4.y = ((uv_1.x * 0.8665558) + (uv_1.y * -0.4990803));\n  dist_3 = (1.0 - fract((0.3333333 + tmpvar_5)));\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 8.0);\n  vec2 tmpvar_8;\n  tmpvar_8.x = q1;\n  tmpvar_8.y = q2;\n  vec2 tmpvar_9;\n  tmpvar_9 = fract(((\n    ((3.0 * uv2_4) * dist_3)\n   + 0.5) + (tmpvar_8 * 0.05)));\n  xlat_mutableneu = (texture (sampler_main, tmpvar_9).xyz - ((texture (sampler_blur1, \n    (tmpvar_9 + 0.003)\n  ).xyz * scale1) + bias1));\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_2));\n  uv2_4.x = ((uv_1.x * -0.5018377) - (uv_1.y * -0.8649619));\n  uv2_4.y = ((uv_1.x * -0.8649619) + (uv_1.y * -0.5018377));\n  dist_3 = (1.0 - fract((0.6666667 + tmpvar_5)));\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 8.0);\n  vec2 tmpvar_10;\n  tmpvar_10.x = q1;\n  tmpvar_10.y = q2;\n  vec2 tmpvar_11;\n  tmpvar_11 = fract(((\n    ((3.0 * uv2_4) * dist_3)\n   + 0.5) + (tmpvar_10 * 0.05)));\n  xlat_mutableneu = (texture (sampler_main, tmpvar_11).xyz - ((texture (sampler_blur1, \n    (tmpvar_11 + 0.003)\n  ).xyz * scale1) + bias1));\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_2));\n  uv2_4.x = ((uv_1.x * 0.9999949) - (uv_1.y * -0.003185092));\n  uv2_4.y = ((uv_1.x * -0.003185092) + (uv_1.y * 0.9999949));\n  dist_3 = (1.0 - fract((1.0 + tmpvar_5)));\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 8.0);\n  vec2 tmpvar_12;\n  tmpvar_12.x = q1;\n  tmpvar_12.y = q2;\n  vec2 tmpvar_13;\n  tmpvar_13 = fract(((\n    ((3.0 * uv2_4) * dist_3)\n   + 0.5) + (tmpvar_12 * 0.05)));\n  xlat_mutableneu = (texture (sampler_main, tmpvar_13).xyz - ((texture (sampler_blur1, \n    (tmpvar_13 + 0.003)\n  ).xyz * scale1) + bias1));\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_2));\n  vec4 tmpvar_14;\n  tmpvar_14.w = 1.0;\n  tmpvar_14.xyz = (xlat_mutableret1 * 4.0);\n  ret = tmpvar_14.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 5, gammaadj: 1, decay: 1, echo_zoom: 1, echo_orient: 1, wave_thick: 1, wave_brighten: 0, wrap: 0, brighten: 1, wave_a: 0.401, wave_scale: 3.177, wave_smoothing: 0, wave_mystery: -0.4, modwavealphastart: 1, modwavealphaend: 1, warpanimspeed: 2.289, warpscale: 5.472, zoomexp: 0.01, zoom: 0.9901, warp: 1.8566, ob_size: 5e-3, ob_a: 1, ib_size: 0, ib_r: 1, ib_g: 0, ib_b: 0, ib_a: 1, mv_x: 64, mv_y: 48, mv_l: 0, mv_b: 0, mv_a: 0}, shapes: [{baseVals: {enabled: 1, sides: 12, additive: 1, num_inst: 512, y: 0.55, rad: 0.034, tex_zoom: 0.7874, g: 0.45, g2: 0, border_a: 0}, init_eqs_str: "a.my_z=0;a.d=0;a.y3=0;a.z2=0;a.y1=0;a.w=0;a.w2=0;a.t1=0;a.x1=0;a.rnd2=0;a.zoom=0;a.p=0;a.q1=0;a.q5=0;a.z3=0;a.w3=0;a.t3=0;a.my_x=0;a.x3=0;a.wv=0;a.my_y=0;a.q4=0;a.t=0;a.w1=0;a.i=0;a.x2=0;a.t2=0;a.l=0;a.y2=0;a.rnd4=0;a.wh=0;a.q2=0;a.z1=0;a.rnd3=0;a.rnd1=0;a.q3=0;a.t4=0;a.started=0;a.t1=.412;a.t2=.4563;a.t3=.6452;a.t4=.2565;", frame_eqs_str: "a.rnd1=.00001<Math.abs(equal(a.instance,0))?a.t1:a.rnd1;a.rnd2=.00001<Math.abs(equal(a.instance,0))?a.t2:a.rnd2;a.rnd3=.00001<Math.abs(equal(a.instance,0))?a.t3:a.rnd3;a.rnd4=.00001<Math.abs(equal(a.instance,0))?a.t4:a.rnd4;a.rnd1=4*a.rnd1*(1-a.rnd1);a.rnd2=4*a.rnd2*(1-a.rnd2);a.rnd3=4*a.rnd3*(1-a.rnd3);a.rnd4=4*a.rnd4*(1-a.rnd4);a.t=.6;a.t=a.rnd1+a.time*a.t-Math.floor(a.rnd1+a.time*a.t);a.t+=.1*a.rnd2;a.wh=a.rnd4*Math.asin(1)*4;a.wv=.25+.1*a.rnd3;a.d=1.4;a.zoom=1;a.l=1;a.w1=\na.q3;a.w2=a.q4;a.w3=a.q5;a.i=a.instance;a.my_x=a.t*Math.cos(a.wh)*Math.sin(a.wv)*a.l;a.my_y=(-.5+(a.t-.75)*(a.t-.75))*Math.cos(a.wv)*a.l;a.my_z=a.t*Math.sin(a.wh)*Math.sin(a.wv)*a.l;a.x1=Math.cos(a.w1)*a.my_x+Math.sin(a.w1)*a.my_y;a.y1=-Math.sin(a.w1)*a.my_x+Math.cos(a.w1)*a.my_y;a.z1=a.my_z;a.x2=Math.cos(a.w2)*a.x1+Math.sin(a.w2)*a.z1;a.z2=-Math.sin(a.w2)*a.x1+Math.cos(a.w2)*a.z1;a.y2=a.y1;a.y3=Math.cos(a.w3)*a.y2+Math.sin(a.w3)*a.z2;a.z3=-Math.sin(a.w3)*a.y2+Math.cos(a.w3)*a.z2;a.x3=a.x2;a.l=sqrt(a.x3*\na.x3+a.y3*a.y3);a.w=Math.atan2(a.x3,a.y3);a.p=Math.tan(Math.asin(1)+Math.atan2(a.d+a.z3,a.l));a.d=sqrt(a.x3*a.x3+a.y3*a.y3+(a.z3+a.d)*(a.z3+a.d));a.rad=div(a.rad,a.d);a.my_x=a.zoom*Math.sin(a.w)*a.p;a.my_y=a.zoom*Math.cos(a.w)*a.p;a.x=.5+a.my_x;a.y=.5+a.my_y;a.x=.5+div(a.x-.5,a.q2);a.y=.5+div(a.y-.5,a.q1);"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.q1=0;a.q2=0;a.b=0;a.m=0;a.t=0;a.q3=0;a.q4=0;a.q5=0;", frame_eqs_str: "a.wave_a=0;a.q1=a.aspectx;a.q2=a.aspecty;a.b+=a.bass*a.bass*.85;a.m+=a.mid*a.mid*.85;a.t+=a.treb*a.treb*.85;a.q3=.012*a.b;a.q4=.012*a.m;a.q5=.012*a.t;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec2 my_uv_1;\n  vec3 ret_2;\n  vec2 tmpvar_3;\n  tmpvar_3 = (vec2(1280.0, 1024.0) * texsize.zw);\n  float tmpvar_4;\n  vec2 tmpvar_5;\n  tmpvar_5 = (uv + vec2(0.005, 0.0));\n  vec2 tmpvar_6;\n  tmpvar_6 = (uv - vec2(0.005, 0.0));\n  tmpvar_4 = (((\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\n   + bias2)).x * tmpvar_3.x);\n  float tmpvar_7;\n  vec2 tmpvar_8;\n  tmpvar_8 = (uv + vec2(0.0, 0.005));\n  vec2 tmpvar_9;\n  tmpvar_9 = (uv - vec2(0.0, 0.005));\n  tmpvar_7 = (((\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\n   + bias2)).x * tmpvar_3.y);\n  vec2 tmpvar_10;\n  tmpvar_10.x = tmpvar_4;\n  tmpvar_10.y = tmpvar_7;\n  vec2 tmpvar_11;\n  tmpvar_11.x = (((\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\n   + bias2)).x * tmpvar_3.x);\n  tmpvar_11.y = (((\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\n   + bias2)).x * tmpvar_3.y);\n  ret_2.x = texture (sampler_fw_main, ((uv - (tmpvar_10 * 0.01)) + (tmpvar_11 * 0.003))).x;\n  vec4 tmpvar_12;\n  tmpvar_12 = texture (sampler_blur3, uv);\n  ret_2.x = (ret_2.x + ((ret_2.x - \n    ((tmpvar_12.xyz * scale3) + bias3)\n  .x) * 0.1));\n  ret_2.x = (ret_2.x + 0.004);\n  vec2 tmpvar_13;\n  tmpvar_13.x = tmpvar_7;\n  tmpvar_13.y = -(tmpvar_4);\n  my_uv_1 = (uv + ((tmpvar_13 * 0.05) * (1.2 - \n    ((tmpvar_12.xyz * scale3) + bias3)\n  .y)));\n  ret_2.z = texture (sampler_fw_main, my_uv_1).z;\n  vec2 x_14;\n  x_14 = (my_uv_1 - uv);\n  ret_2.z = (ret_2.z + ((\n    ((ret_2.z - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z) * sqrt(dot (x_14, x_14)))\n   * 180.0) / sqrt(\n    dot (tmpvar_3, tmpvar_3)\n  )));\n  ret_2.z = (ret_2.z * 0.8);\n  ret_2.z = (ret_2.z + 0.004);\n  vec2 tmpvar_15;\n  tmpvar_15.x = -(tmpvar_7);\n  tmpvar_15.y = tmpvar_4;\n  my_uv_1 = (tmpvar_15 * 0.045);\n  vec2 tmpvar_16;\n  tmpvar_16.x = (((\n    (texture (sampler_blur2, (uv + vec2(0.01, 0.0))).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, (uv - vec2(0.01, 0.0))).xyz * scale2)\n   + bias2)).y * tmpvar_3.x);\n  tmpvar_16.y = (((\n    (texture (sampler_blur2, (uv + vec2(0.0, 0.01))).xyz * scale2)\n   + bias2) - (\n    (texture (sampler_blur2, (uv - vec2(0.0, 0.01))).xyz * scale2)\n   + bias2)).y * tmpvar_3.y);\n  my_uv_1 = (my_uv_1 + (uv - (tmpvar_16 * 0.03)));\n  ret_2.y = texture (sampler_fw_main, my_uv_1).y;\n  ret_2.y = (ret_2.y + ((\n    (ret_2.y - ((texture (sampler_blur3, my_uv_1).xyz * scale3) + bias3).y)\n   * 0.1) + 0.01));\n  vec4 tmpvar_17;\n  tmpvar_17.w = 1.0;\n  tmpvar_17.xyz = ret_2;\n  ret = tmpvar_17.xyz;\n }", comp: " shader_body { \n  vec2 uv1_1;\n  vec3 tmpvar_2;\n  tmpvar_2 = texture (sampler_main, uv).xyz;\n  vec2 tmpvar_3;\n  tmpvar_3.y = 0.0;\n  tmpvar_3.x = texsize.z;\n  vec2 tmpvar_4;\n  tmpvar_4.x = 0.0;\n  tmpvar_4.y = texsize.w;\n  vec2 tmpvar_5;\n  tmpvar_5.x = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;\n  tmpvar_5.y = (texture (sampler_main, (uv - tmpvar_4)).xyz - texture (sampler_main, (uv + tmpvar_4)).xyz).x;\n  uv1_1 = ((0.3 * cos(\n    (((uv - 0.5) * 2.0) + 1.7)\n  )) - (2.0 * tmpvar_5));\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = ((-(tmpvar_2) / 4.0) + ((6.0 * vec3(\n    clamp ((0.03 / sqrt(dot (uv1_1, uv1_1))), 0.0, 1.0)\n  )) * (-0.08 + tmpvar_2)));\n  ret = tmpvar_6.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 2, decay: 0.99, wave_brighten: 0, wave_a: 1, wave_scale: 0.01, wave_mystery: -0.2, warpanimspeed: 3.434, warpscale: 1.295, zoom: 1.025, warp: 0.11284, wave_r: 0, wave_g: 0, wave_b: 0, ob_size: 5e-3, ob_b: 1, ob_a: 1, mv_x: 64, mv_y: 48, mv_l: 5, mv_g: 0, mv_b: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.d=0;a.cx1=0;a.y3=0;a.y1=0;a.cy1=0;a.q25=0;a.q12=0;a.q18=0;a.x1=0;a.q22=0;a.q21=0;a.vt=0;a.q13=0;a.q15=0;a.q29=0;a.q6=0;a.q1=0;a.q5=0;a.vb=0;a.q9=0;a.x3=0;a.q31=0;a.q23=0;a.q24=0;a.q11=0;a.q10=0;a.q4=0;a.dir=0;a.q16=0;a.q26=0;a.x2=0;a.q19=0;a.q17=0;a.y2=0;a.q2=0;a.q27=0;a.q14=0;a.q3=0;a.vvm=0;a.q32=0;a.vvb=0;a.q7=0;a.q28=0;a.vm=0;a.q30=0;a.q20=0;a.vvt=0;a.q8=0;", frame_eqs_str: "a.vb=.95*a.vb+(1-a.vb)*pow(a.bass_att,2)*.02;a.vvb=.95*a.vvb+(1-a.vvb)*a.vb*.01;a.vm=.95*a.vm+(1-a.vm)*pow(a.mid_att,2)*.02;a.vvm=.95*a.vvm+(1-a.vvm)*a.vm*.01;a.vt=.95*a.vt+(1-a.vt)*pow(a.treb_att,2)*.02;a.vvt=.95*a.vvt+(1-a.vvt)*a.vt*.01;a.vvb=Math.min(1,Math.max(0,a.vvb));a.vvm=Math.min(1,Math.max(0,a.vvm));a.vvt=Math.min(1,Math.max(0,a.vvt));a.q1=10*(a.vvb+a.vvm+a.vvt);a.q2=10*(a.vvb+a.vvm+a.vvt);a.q3=10*(a.vvb+a.vvm+a.vvt);a.q4=10*(a.vvb+a.vvm+a.vvt);a.q5=10*(a.vvb+a.vvm+\na.vvt);a.q6=10*(a.vvb+a.vvm+a.vvt);a.q7=10*(a.vvb+a.vvm+a.vvt);a.q8=10*(a.vvb+a.vvm+a.vvt);a.q9=10*(a.vvb+a.vvm+a.vvt);a.q10=10*(a.vvb+a.vvm+a.vvt);a.q11=10*(a.vvb+a.vvm+a.vvt);a.q12=10*(a.vvb+a.vvm+a.vvt);a.q13=10*(a.vvb+a.vvm+a.vvt);a.q14=10*(a.vvb+a.vvm+a.vvt);a.q15=10*(a.vvb+a.vvm+a.vvt);a.q16=10*(a.vvb+a.vvm+a.vvt);a.q17=10*(a.vvb+a.vvm+a.vvt);a.q18=10*(a.vvb+a.vvm+a.vvt);a.q19=10*(a.vvb+a.vvm+a.vvt);a.q20=10*(a.vvb+a.vvm+a.vvt);a.q21=10*(a.vvb+a.vvm+a.vvt);a.q22=10*(a.vvb+a.vvm+a.vvt);a.q23=\n10*(a.vvb+a.vvm+a.vvt);a.q24=10*(a.vvb+a.vvm+a.vvt);a.q25=10*(a.vvb+a.vvm+a.vvt);a.q26=10*(a.vvb+a.vvm+a.vvt);a.q27=10*(a.vvb+a.vvm+a.vvt);a.q28=10*(a.vvb+a.vvm+a.vvt);a.q29=10*(a.vvb+a.vvm+a.vvt);a.q30=10*(a.vvb+a.vvm+a.vvt);a.q31=10*(a.vvb+a.vvm+a.vvt);a.q32=10*(a.vvb+a.vvm+a.vvt);a.zoom=.995;a.wave_a=0;a.mv_g=.45+.3*Math.sin(1.33*a.time)+.25*Math.sin(a.treb);a.mv_r=.45+.3*Math.sin(1.13*a.time)+.0825*(a.bass+a.treb+a.mid);a.mv_b=.45+.3*Math.sin(1.23*a.time)+.25*Math.sin(a.bass);a.mv_dx=.1*Math.sin(.1*\na.time);a.mv_dy=.13*Math.cos(.084*a.time);a.mv_x=64-Math.floor(32*(Math.sin(1.5*a.time)+1));a.mv_y=48-Math.floor(22*(Math.cos(1.5*a.time)+1));a.monitor=a.mv_y;", pixel_eqs_str: "a.cx1=.5+.2*Math.sin(.618*a.time);a.cy1=.5+.2*Math.cos(1.618*a.time);a.dir=a.bass;a.d=sqrt((a.x-a.cx1)*(a.x-a.cx1)+(a.y-a.cy1)*(a.y-a.cy1));a.x1=.00001<Math.abs(above(a.d,.3))?0:.05*Math.sin(a.y-a.cy1)*a.dir;a.y1=.00001<Math.abs(above(a.d,.3))?0:.05*-Math.sin(a.x-a.cx1)*a.dir;a.cx1=.5+.3*Math.sin(2.618*a.time);a.cy1=.5+.3*Math.cos(3.14*a.time);a.dir=2*-a.mid;a.d=sqrt((a.x-a.cx1)*(a.x-a.cx1)+(a.y-a.cy1)*(a.y-a.cy1));a.x2=.00001<Math.abs(above(a.d,.2))?0:.05*Math.sin(a.y-a.cy1)*\na.dir;a.y2=.00001<Math.abs(above(a.d,.2))?0:.05*-Math.sin(a.x-a.cx1)*a.dir;a.cx1=.5+.4*Math.sin(2.618*-a.time);a.cy1=.5+.4*Math.cos(1.14*-a.time);a.dir=3*a.treb;a.d=sqrt((a.x-a.cx1)*(a.x-a.cx1)+(a.y-a.cy1)*(a.y-a.cy1));a.x3=.00001<Math.abs(above(a.d,.1))?0:.05*Math.sin(a.y-a.cy1)*a.dir;a.y3=.00001<Math.abs(above(a.d,.1))?0:.05*-Math.sin(a.x-a.cx1)*a.dir;a.dx=a.dx+a.x1+a.x2+a.x3;a.dy=a.dy+a.y1+a.y2+a.y3;", warp: " shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1 = mix (uv_orig, uv, vec2(0.3, 0.3));\n  vec2 tmpvar_2;\n  tmpvar_2 = (texsize.zw * 3.0);\n  vec2 tmpvar_3;\n  tmpvar_3.x = dot (((\n    (texture (sampler_blur1, (tmpvar_1 + (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)\n   + bias1) - (\n    (texture (sampler_blur1, (tmpvar_1 - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)\n   + bias1)), vec3(0.32, 0.49, 0.29));\n  tmpvar_3.y = dot (((\n    (texture (sampler_blur1, (tmpvar_1 + (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)\n   + bias1) - (\n    (texture (sampler_blur1, (tmpvar_1 - (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)\n   + bias1)), vec3(0.32, 0.49, 0.29));\n  vec4 tmpvar_4;\n  tmpvar_4.w = 1.0;\n  tmpvar_4.xyz = (texture (sampler_fc_main, (tmpvar_1 + (\n    (tmpvar_3 * texsize.zw)\n   * 9.0))) - 0.01).xyz;\n  ret = tmpvar_4.xyz;\n }", comp: " shader_body { \n  vec2 uv_1;\n  vec3 ret_2;\n  uv_1 = (0.5 + ((uv - 0.5) * 0.98));\n  vec2 tmpvar_3;\n  tmpvar_3 = (texsize.zw * 4.0);\n  vec3 tmpvar_4;\n  tmpvar_4 = (((texture (sampler_blur1, \n    (uv_1 + (vec2(1.0, 0.0) * tmpvar_3))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv_1 - (vec2(1.0, 0.0) * tmpvar_3))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_5;\n  tmpvar_5 = (((texture (sampler_blur1, \n    (uv_1 + (vec2(0.0, 1.0) * tmpvar_3))\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \n    (uv_1 - (vec2(0.0, 1.0) * tmpvar_3))\n  ).xyz * scale1) + bias1));\n  vec3 tmpvar_6;\n  tmpvar_6.z = 0.0;\n  tmpvar_6.x = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));\n  tmpvar_6.y = dot (tmpvar_5, vec3(0.32, 0.49, 0.29));\n  vec4 tmpvar_7;\n  tmpvar_7 = texture (sampler_noisevol_hq, ((vec3(0.05, 0.05, 0.0) * (\n    ((uv_1.xyy + (tmpvar_6 * 0.5)) * texsize.xyy)\n   * texsize_noisevol_hq.zww)) + (vec3(0.0, 0.0, 0.2) * time)));\n  vec2 tmpvar_8;\n  tmpvar_8.x = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));\n  tmpvar_8.y = dot (tmpvar_5, vec3(0.32, 0.49, 0.29));\n  uv_1 = (uv_1 - (tmpvar_8 * 0.04));\n  ret_2 = (abs((\n    ((texture (sampler_main, uv_1).xyz + ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)) - ((texture (sampler_blur2, uv_1).xyz * scale2) + bias2))\n   - \n    ((texture (sampler_blur3, uv_1).xyz * scale3) + bias3)\n  )) * (dot (tmpvar_7, vec4(0.32, 0.49, 0.29, 0.0)) * 3.0));\n  vec3 tmpvar_9;\n  tmpvar_9 = pow (ret_2, vec3(0.5, 0.5, 0.5));\n  ret_2 = tmpvar_9;\n  vec4 tmpvar_10;\n  tmpvar_10.w = 1.0;\n  tmpvar_10.xyz = tmpvar_9;\n  ret = tmpvar_10.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 3, echo_zoom: 1, wave_mode: 1, wave_thick: 1, wrap: 0, invert: 1, wave_scale: 0.5, wave_smoothing: 0.45, warpanimspeed: 2.217, warpscale: 100, zoomexp: 100, zoom: 1.01, warp: 1.25946, wave_r: 0, wave_g: 0, wave_b: 0, ob_r: 1, ob_g: 1, ob_b: 1, ob_a: 1, ib_r: 1, ib_g: 1, ib_b: 1, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.q1=0;", frame_eqs_str: "a.q1=.0003*pow(1.2+1*a.bass+.4*a.bass_att+.1*a.treb+.1*a.treb_att+.1*a.mid+.1*a.mid_att,6);a.monitor=a.q1;a.wave_r+=.5*Math.sin(1.13*a.time);a.wave_g+=.5*Math.sin(1.23*a.time);a.wave_b+=.5*Math.sin(1.33*a.time);a.ob_r+=Math.sin(2.26*a.time);a.ob_g+=Math.sin(2.46*a.time);a.ob_b+=Math.sin(2.66*a.time);", pixel_eqs_str: "a.zoom+=.125*Math.sin(a.q1);a.rot+=div(.25*Math.sin(100*a.fps)*a.q1,2);a.zoom-=.05*Math.sin(a.rad);a.rot+=.05*Math.sin(5*a.fps);", warp: " shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = fract(uv);\n  vec2 tmpvar_3;\n  tmpvar_3 = (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy);\n  vec2 tmpvar_4;\n  tmpvar_4 = (texsize.zw * 12.0);\n  vec3 tmpvar_5;\n  tmpvar_5 = (((2.0 * \n    ((texture (sampler_blur3, (uv_orig + (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale3) + bias3)\n  ) - (2.0 * \n    ((texture (sampler_blur3, (uv_orig - (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale3) + bias3)\n  )) * 0.5);\n  vec3 tmpvar_6;\n  tmpvar_6 = (((2.0 * \n    ((texture (sampler_blur3, (uv_orig + (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale3) + bias3)\n  ) - (2.0 * \n    ((texture (sampler_blur3, (uv_orig - (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale3) + bias3)\n  )) * 0.5);\n  ret_1.x = ((texture (sampler_fc_main, tmpvar_2).x - (\n    (((texture (sampler_blur3, tmpvar_2).xyz * scale3) + bias3) - texture (sampler_fc_main, tmpvar_2).xyz)\n  .x * 0.1)) - 0.035);\n  vec2 tmpvar_7;\n  tmpvar_7.x = tmpvar_5.x;\n  tmpvar_7.y = tmpvar_6.x;\n  vec2 tmpvar_8;\n  tmpvar_8.x = tmpvar_5.y;\n  tmpvar_8.y = tmpvar_6.y;\n  ret_1.y = (((texture (sampler_fc_main, \n    (((uv_orig + (\n      ((texture (sampler_noise_lq, tmpvar_3).xy - 0.5) * texsize.zw)\n     * 4.0)) - ((tmpvar_7 * texsize.zw) * 4.0)) + ((tmpvar_8 * texsize.zw) * 8.0))\n  ).y + \n    ((texture (sampler_noise_lq, tmpvar_3).xyz - 0.5) * 0.1)\n  ) - 0.012) + (texture (sampler_pc_main, uv_orig).z * 0.2)).x;\n  vec2 tmpvar_9;\n  tmpvar_9.x = tmpvar_6.x;\n  tmpvar_9.y = -(tmpvar_5.x);\n  vec2 tmpvar_10;\n  tmpvar_10 = ((uv_orig + (\n    ((texture (sampler_noise_lq, tmpvar_3).xy - 0.5) * texsize.zw)\n   * 2.0)) + ((tmpvar_9 * texsize.zw) * 64.0));\n  ret_1.z = (((\n    (texture (sampler_fc_main, tmpvar_10).z + ((texture (sampler_fc_main, tmpvar_10).z - (\n      (texture (sampler_blur2, tmpvar_10).xyz * scale2)\n     + bias2).z) * 0.2))\n   + \n    (texture (sampler_noise_lq, tmpvar_3).xyz * 0.1)\n  ) - (\n    (texture (sampler_blur3, uv_orig).xyz * scale3)\n   + bias3).x) - (clamp (\n    (1.0 - ((texture (sampler_blur2, uv_orig).xyz * scale2) + bias2).x)\n  , 0.0, 1.0) * 0.04)).x;\n  vec4 tmpvar_11;\n  tmpvar_11.w = 1.0;\n  tmpvar_11.xyz = ret_1;\n  ret = tmpvar_11.xyz;\n }", comp: "vec2 xlat_mutabled;\nvec3 xlat_mutabledx;\nvec3 xlat_mutabledy;\n shader_body { \n  vec3 ret_1;\n  xlat_mutabled = (texsize.zw * 1.5);\n  xlat_mutabledx = (texture (sampler_main, (uv_orig + (vec2(1.0, 0.0) * xlat_mutabled))).xyz - texture (sampler_main, (uv_orig - (vec2(1.0, 0.0) * xlat_mutabled))).xyz);\n  xlat_mutabledy = (texture (sampler_main, (uv_orig + (vec2(0.0, 1.0) * xlat_mutabled))).xyz - texture (sampler_main, (uv_orig - (vec2(0.0, 1.0) * xlat_mutabled))).xyz);\n  vec2 tmpvar_2;\n  tmpvar_2.x = xlat_mutabledx.y;\n  tmpvar_2.y = xlat_mutabledy.y;\n  vec2 x_3;\n  x_3 = (tmpvar_2 * 8.0);\n  ret_1 = (((texture (sampler_main, uv).x * \n    (1.0 - sqrt(dot (x_3, x_3)))\n  ) * pow (hue_shader, vec3(6.0, 6.0, 6.0))) * 1.4);\n  vec2 tmpvar_4;\n  tmpvar_4.x = xlat_mutabledx.z;\n  tmpvar_4.y = xlat_mutabledy.z;\n  vec2 x_5;\n  x_5 = (tmpvar_4 * 4.0);\n  vec3 tmpvar_6;\n  tmpvar_6 = mix (ret_1, vec3(1.0, 1.0, 1.0), vec3(sqrt(dot (x_5, x_5))));\n  ret_1 = tmpvar_6;\n  vec4 tmpvar_7;\n  tmpvar_7.w = 1.0;\n  tmpvar_7.xyz = tmpvar_6;\n  ret = tmpvar_7.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 3, gammaadj: 1.3, decay: 1, echo_zoom: 1.75, echo_alpha: 0.15, echo_orient: 3, wave_mode: 1, wave_dots: 1, darken: 1, wave_scale: 0.5, wave_smoothing: 0.9, warp: 0.01, mv_l: 5}, shapes: [{baseVals: {enabled: 1, sides: 100, border_a: 0}, init_eqs_str: "a.q1=0;", frame_eqs_str: "a.r+=Math.sin(.339*a.time);a.g+=Math.sin(.369*a.time);a.b+=Math.sin(.399*a.time);a.r2+=Math.sin(.113*a.time);a.g2+=Math.sin(.123*a.time);a.b2+=Math.sin(.133*a.time);a.rad=div(a.q1,3);"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "a.q1=0;", frame_eqs_str: "a.q1=.0003*pow(1+1.2*a.bass+.4*a.bass_att+.1*a.treb+.1*a.treb_att+.1*a.mid+.1*a.mid_att,6);a.mv_a=a.q1;a.mv_x+=Math.sin(a.time);a.mv_y+=Math.cos(a.time);a.mv_dx+=1.25*Math.sin(8*a.fps);a.mv_dy+=1.35*Math.sin(8*a.fps);a.mv_r+=Math.sin(.565*a.time);a.mv_g+=Math.sin(.615*a.time);a.mv_b+=Math.sin(.665*a.time);a.wave_r+=.5*Math.sin(1.13*a.time);a.wave_g+=.5*Math.sin(1.23*a.time);a.wave_b+=.5*Math.sin(1.33*a.time);", pixel_eqs_str: "a.zoom+=.0125*a.q1;a.rot+=.025*Math.sin(10*a.fps)*a.q1;a.warp=0;", warp: " shader_body { \n  vec2 my_uv_1;\n  vec3 ret_2;\n  vec3 tmpvar_3;\n  tmpvar_3 = ((640.0 * texsize.z) * ((2.0 * \n    ((texture (sampler_blur2, (uv + vec2(0.01, 0.0))).xyz * scale2) + bias2)\n  ) - (2.0 * \n    ((texture (sampler_blur2, (uv - vec2(0.01, 0.0))).xyz * scale2) + bias2)\n  )));\n  vec3 tmpvar_4;\n  tmpvar_4 = ((512.0 * texsize.w) * ((2.0 * \n    ((texture (sampler_blur2, (uv + vec2(0.0, 0.01))).xyz * scale2) + bias2)\n  ) - (2.0 * \n    ((texture (sampler_blur2, (uv - vec2(0.0, 0.01))).xyz * scale2) + bias2)\n  )));\n  vec2 tmpvar_5;\n  tmpvar_5.x = tmpvar_3.y;\n  tmpvar_5.y = tmpvar_4.y;\n  vec2 tmpvar_6;\n  tmpvar_6.x = tmpvar_3.x;\n  tmpvar_6.y = tmpvar_4.x;\n  vec2 tmpvar_7;\n  tmpvar_7.x = tmpvar_4.y;\n  tmpvar_7.y = -(tmpvar_3.y);\n  vec2 tmpvar_8;\n  tmpvar_8 = (uv - ((\n    ((tmpvar_5 * 0.3) + (tmpvar_6 * 0.1))\n   + \n    (tmpvar_7 * 0.01)\n  ) * 0.01));\n  ret_2.x = texture (sampler_fw_main, (tmpvar_8 - floor(tmpvar_8))).x;\n  ret_2.x = (ret_2.x + ((\n    (2.0 * ret_2.x)\n   - \n    (2.0 * ((texture (sampler_blur1, tmpvar_8).xyz * scale1) + bias1).x)\n  ) * 0.25));\n  vec2 tmpvar_9;\n  tmpvar_9.x = tmpvar_3.y;\n  tmpvar_9.y = tmpvar_4.y;\n  vec2 tmpvar_10;\n  tmpvar_10.x = tmpvar_4.x;\n  tmpvar_10.y = -(tmpvar_3.y);\n  my_uv_1 = ((uv - (tmpvar_9 * 0.01)) + (tmpvar_10 * 0.001));\n  ret_2.y = texture (sampler_fw_main, (my_uv_1 - floor(my_uv_1))).y;\n  ret_2.y = (ret_2.y + ((\n    ((2.0 * ret_2.y) - (2.0 * ((texture (sampler_blur3, my_uv_1).xyz * scale3) + bias3).y))\n   * 0.025) + 0.01));\n  vec4 tmpvar_11;\n  tmpvar_11.w = 1.0;\n  tmpvar_11.xyz = ret_2;\n  ret = tmpvar_11.xyz;\n }", comp: "vec2 xlat_mutablefactorA;\n shader_body { \n  vec2 uv_1;\n  vec2 dz_2;\n  vec3 dy_3;\n  vec3 dx_4;\n  vec2 d_5;\n  vec3 ret_6;\n  xlat_mutablefactorA = (uv - vec2(0.5, 0.5));\n  vec2 tmpvar_7;\n  tmpvar_7.x = -((xlat_mutablefactorA.y * -1024.0));\n  tmpvar_7.y = (xlat_mutablefactorA.x * -1024.0);\n  vec2 tmpvar_8;\n  tmpvar_8.x = tmpvar_7.x;\n  tmpvar_8.y = -(tmpvar_7.y);\n  uv_1 = (vec2(-100.0, 100.0) * (tmpvar_8 / (\n    (tmpvar_7.x * tmpvar_7.x)\n   + \n    (tmpvar_7.y * tmpvar_7.y)\n  )).yx);\n  uv_1 = (0.5 + ((\n    (1.0 - abs(((\n      fract((mix ((0.5 + \n        (((0.5 + (\n          (uv - 0.5)\n         * vec2(1.1, 0.81))) - 0.5) * 2.0)\n      ), (uv_1 + 0.5), vec2(0.5, 0.5)) * 0.5))\n     * 2.0) - 1.0)))\n   - 0.5) * 0.98));\n  vec2 tmpvar_9;\n  vec2 tmpvar_10;\n  tmpvar_10 = (vec2(1.0, 0.0) * texsize.zw);\n  tmpvar_9.x = (texture (sampler_main, (uv_1 + tmpvar_10)).xyz - texture (sampler_main, (uv_1 - tmpvar_10)).xyz).y;\n  vec2 tmpvar_11;\n  tmpvar_11 = (vec2(0.0, 1.0) * texsize.zw);\n  tmpvar_9.y = (texture (sampler_main, (uv_1 + tmpvar_11)).xyz - texture (sampler_main, (uv_1 - tmpvar_11)).xyz).y;\n  d_5 = (texsize.zw * 2.0);\n  dx_4 = (((2.0 * \n    ((texture (sampler_blur1, (uv_1 + (vec2(1.0, 0.0) * d_5))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv_1 - (vec2(1.0, 0.0) * d_5))).xyz * scale1) + bias1)\n  )) * 0.5);\n  dy_3 = (((2.0 * \n    ((texture (sampler_blur1, (uv_1 + (vec2(0.0, 1.0) * d_5))).xyz * scale1) + bias1)\n  ) - (2.0 * \n    ((texture (sampler_blur1, (uv_1 - (vec2(0.0, 1.0) * d_5))).xyz * scale1) + bias1)\n  )) * 0.5);\n  vec2 tmpvar_12;\n  tmpvar_12.x = dx_4.y;\n  tmpvar_12.y = dy_3.y;\n  dz_2 = ((tmpvar_9 * 3.0) + tmpvar_12);\n  ret_6 = (vec3(((\n    pow ((sqrt(dot (dz_2, dz_2)) * 0.8), 0.7)\n   + \n    (((texture (sampler_blur2, uv_1).xyz * scale2) + bias2).y * 0.4)\n  ) - 0.1)) * vec3(0.3, 0.5, 0.7));\n  vec2 tmpvar_13;\n  tmpvar_13.x = dx_4.x;\n  tmpvar_13.y = dy_3.x;\n  vec3 tmpvar_14;\n  tmpvar_14 = mix (mix (ret_6, vec3(0.2, 0.1, 0.0), vec3((texture (sampler_main, \n    (uv_1 + ((tmpvar_13 * texsize.zw) * 18.0))\n  ).x * 6.0))), vec3(1.0, 1.0, 1.0), texture (sampler_main, uv_1).zzz);\n  ret_6 = tmpvar_14;\n  vec4 tmpvar_15;\n  tmpvar_15.w = 1.0;\n  tmpvar_15.xyz = tmpvar_14;\n  ret = tmpvar_15.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 3, wave_mode: 2, wrap: 0, wave_a: 1e-3, wave_scale: 5.819, wave_mystery: -0.38, wave_r: 0.5, wave_g: 0.5, wave_b: 0.5, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1, thick: 1}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: "a.y=a.sample;a.x=.003*(a.value1+a.value2);a.a=.1*(a.value1+a.value2);a.r=.5+.3*Math.sin(10*a.sample+a.time);a.g=.5+.3*Math.cos(10*a.sample-1.334*a.time);a.b=.5+.3*Math.sin(10*a.sample+.998*a.time);"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "", frame_eqs_str: "a.warp=0;a.wave_r=a.wave_r+.4*Math.sin(.333*a.time)+.2*a.bass_att;a.wave_g=a.wave_g+.4*Math.sin(.555*a.time)+.2*a.treb_att;a.wave_b=a.wave_b+.4*Math.sin(.444*a.time)+.2*a.mid_att;", pixel_eqs_str: "", pixel_eqs: "", warp: " shader_body { \n  vec2 muv_1;\n  vec3 ret_2;\n  float tmpvar_3;\n  tmpvar_3 = (2.0 * bass_att);\n  muv_1.x = (uv.x - ((\n    ((0.01 * cos((\n      (uv.x * (5.0 + tmpvar_3))\n     + time))) + (0.01 * cos((\n      (uv.y * (5.0 + tmpvar_3))\n     + time))))\n   * 0.5) * treb_att));\n  float tmpvar_4;\n  tmpvar_4 = (2.0 * mid_att);\n  muv_1.y = (uv.y + ((\n    ((0.01 * sin((\n      (uv.x * (5.0 + tmpvar_4))\n     + time))) - (0.01 * cos((\n      (uv.y * (5.0 + tmpvar_4))\n     + time))))\n   * 0.5) * bass_att));\n  vec3 tmpvar_5;\n  tmpvar_5 = ((texture (sampler_blur2, muv_1).xyz * scale2) + bias2);\n  vec4 tmpvar_6;\n  tmpvar_6 = texture (sampler_pw_main, muv_1);\n  ret_2.x = (tmpvar_6.x + (tmpvar_5.x * (bass_att * 0.05)));\n  ret_2.y = (tmpvar_6.y + (tmpvar_5.y * (treb_att * 0.05)));\n  ret_2.z = (tmpvar_6.z + (tmpvar_5.z * (mid_att * 0.05)));\n  if ((ret_2.x > 0.9)) {\n    ret_2.x = 0.0;\n  };\n  if ((ret_2.y > 0.9)) {\n    ret_2.y = 0.0;\n  };\n  if ((ret_2.z > 0.9)) {\n    ret_2.z = 0.0;\n  };\n  vec4 tmpvar_7;\n  tmpvar_7.w = 1.0;\n  tmpvar_7.xyz = ret_2;\n  ret = tmpvar_7.xyz;\n }", comp: " shader_body { \n  vec3 ret1_1;\n  vec2 uv1_2;\n  vec3 ret_3;\n  vec4 tmpvar_4;\n  tmpvar_4 = texture (sampler_main, uv);\n  ret_3 = (tmpvar_4.xyz * (0.6 + (0.3 * \n    sin(((uv.x * 10.0) + time))\n  )));\n  vec2 tmpvar_5;\n  tmpvar_5.x = (texture (sampler_main, (uv - vec2(0.001, 0.0))).xyz - texture (sampler_main, (uv + vec2(0.001, 0.0))).xyz).x;\n  tmpvar_5.y = (texture (sampler_main, (uv - vec2(0.0, 0.001))).xyz - texture (sampler_main, (uv + vec2(0.0, 0.001))).xyz).x;\n  uv1_2 = ((0.5 * cos(\n    (((uv - 0.5) * 1.5) + 1.6)\n  )) - (3.0 * tmpvar_5));\n  ret1_1 = ((0.3 * dot (tmpvar_4.xyz, vec3(0.32, 0.49, 0.29))) + ((\n    clamp ((0.01 / sqrt(dot (uv1_2, uv1_2))), 0.0, 1.0)\n   * \n    mix (vec3(dot (((texture (sampler_blur2, uv).xyz * scale2) + bias2), vec3(0.32, 0.49, 0.29))), ret_3, pow (ret_3, vec3((0.05 + (mid_att * 0.03)))))\n  ) * (\n    (4.0 + bass)\n   + \n    (mid + treb_att)\n  )));\n  ret_3 = ret1_1;\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = ret1_1;\n  ret = tmpvar_6.xyz;\n }"};
    }, function(a, e) {
      a.exports = {baseVals: {rating: 3, gammaadj: 1, decay: 0.997, echo_zoom: 0.997, echo_orient: 1, wave_thick: 1, wave_brighten: 0, darken: 1, wave_a: 1e-3, wave_scale: 0.01, wave_smoothing: 0.27, wave_mystery: -0.38, modwavealphastart: 0.71, modwavealphaend: 1.3, warpscale: 1.331, zoom: 0.99951, warp: 0.01, ob_size: 0.5, ob_r: 0.01, ib_size: 0.26, ib_r: 1, ib_g: 1, ib_b: 1, mv_x: 64, mv_y: 48, mv_l: 0.85, mv_r: 0.5, mv_g: 0.5, mv_b: 0.5, mv_a: 0}, shapes: [{baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], waves: [{baseVals: {enabled: 1}, init_eqs_str: "", frame_eqs_str: "", point_eqs_str: "a.x=.5+.2*a.bass*Math.sin(20*a.sample*a.time*a.treb);a.y=.5+.2*a.bass*Math.cos(20*a.sample*a.time*a.treb);a.r=1+.5*Math.sin(.1*a.sample+10*a.time*a.bass);a.g=1+.5*Math.sin(2*a.sample+50*a.time*a.treb);a.b=1+.5*Math.sin(5*a.sample+20*a.time*a.mid);a.a=a.r;"}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}, {baseVals: {enabled: 0}}], init_eqs_str: "", frame_eqs_str: "a.warp=0;a.decay=.92;", pixel_eqs_str: "a.zoom+=.03*a.bass_att*a.bass_att*a.rad;a.rot+=a.rad*bitand(-2.5,5*Math.cos(a.time))*.01;", warp: " shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = texture (sampler_main, uv).xyz;\n  ret = tmpvar_1.xyz;\n }", comp: " shader_body { \n  vec2 uv1_1;\n  vec3 ret_2;\n  vec3 tmpvar_3;\n  tmpvar_3 = texture (sampler_main, uv).xyz;\n  vec2 tmpvar_4;\n  tmpvar_4.x = (texture (sampler_main, (uv - vec2(0.001, 0.0))).xyz - texture (sampler_main, (uv + vec2(0.001, 0.0))).xyz).x;\n  tmpvar_4.y = (texture (sampler_main, (uv - vec2(0.0, 0.001))).xyz - texture (sampler_main, (uv + vec2(0.0, 0.001))).xyz).x;\n  uv1_1 = ((0.5 * cos(\n    (((uv - 0.5) * 1.5) + 1.6)\n  )) - (3.0 * tmpvar_4));\n  ret_2 = (0.8 * ((0.3 * \n    dot (tmpvar_3, vec3(0.32, 0.49, 0.29))\n  ) + (\n    (clamp ((0.01 / sqrt(\n      dot (uv1_1, uv1_1)\n    )), 0.0, 1.0) * tmpvar_3)\n   * \n    ((4.0 + bass) + (mid + treb_att))\n  )));\n  ret_2 = (ret_2 * 0.77);\n  vec4 tmpvar_5;\n  tmpvar_5.w = 1.0;\n  tmpvar_5.xyz = ret_2;\n  ret = tmpvar_5.xyz;\n }"};
    }, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(a, e, t) {
      Object.defineProperty(e, "__esModule", {value: true});
      var r = _(t(6)), n = _(t(7));
      function _(a2) {
        return a2 && a2.__esModule ? a2 : {default: a2};
      }
      var s = {};
      s["$$$ Royal - Mashup (197)"] = t(35), s["$$$ Royal - Mashup (220)"] = t(36), s["$$$ Royal - Mashup (431)"] = t(37), s["_Aderrasi - Wanderer in Curved Space - mash0000 - faclempt kibitzing meshuggana schmaltz (Geiss color mix)"] = t(38), s["_Geiss - Artifact 01"] = t(39), s["_Geiss - Desert Rose 2"] = t(40), s["_Geiss - untitled"] = t(41), s._Mig_049 = t(42), s._Mig_085 = t(43), s["_Rovastar + Geiss - Hurricane Nightmare (Posterize Mix)"] = t(44), s["Aderrasi + Geiss - Airhandler (Kali Mix) - Canvas Mix"] = t(45), s["Aderrasi - Potion of Spirits"] = t(20), s["Aderrasi - Songflower (Moss Posy)"] = t(21), s["Aderrasi - Storm of the Eye (Thunder) - mash0000 - quasi pseudo meta concentrics"] = t(46), s["An AdamFX n Martin Infusion 2 flexi - Why The Sky Looks Diffrent Today - AdamFx n Martin Infusion - Tack Tile Disfunction B"] = t(47), s["cope + martin - mother-of-pearl"] = t(48), s["Cope - The Neverending Explosion of Red Liquid Fire"] = t(49), s["Eo.S. + Phat - cubetrace - v2"] = t(22), s["Eo.S. + Zylot - skylight (Stained Glass Majesty mix)"] = t(23), s["Eo.S. - glowsticks v2 05 and proton lights (+Krash′s beat code) _Phat_remix02b"] = t(24), s["fiShbRaiN + Flexi - witchcraft 2.0"] = t(50), s["flexi + amandio c - organic [random mashup]"] = t(51), s["flexi + amandio c - organic12-3d-2.milk"] = t(52), s["Flexi + amandio c - piercing 05 - Kopie (2) - Kopie"] = t(53), s["flexi + fishbrain - neon mindblob grafitti"] = t(54), s["flexi + geiss - pogo cubes vs. tokamak vs. game of life [stahls jelly 4.5 finish]"] = t(55), s["Flexi + Martin - astral projection"] = t(56), s["Flexi + Martin - cascading decay swing"] = t(57), s["Flexi + stahlregen - jelly showoff parade"] = t(58), s["Flexi - alien fish pond"] = t(59), s["Flexi - area 51"] = t(60), s["flexi - bouncing balls [double mindblob neon mix]"] = t(61), s["Flexi - infused with the spiral"] = t(62), s["Flexi - mindblob [shiny mix]"] = t(63), s["Flexi - mindblob mix"] = t(64), s["flexi - mom, why the sky looks different today"] = t(65), s["flexi - patternton, district of media, capitol of the united abstractions of fractopia"] = t(66), s["Flexi - predator-prey-spirals"] = t(67), s["Flexi - smashing fractals [acid etching mix]"] = t(68), s["flexi - swing out on the spiral"] = t(69), s["Flexi - truly soft piece of software - this is generic texturing (Jelly) "] = t(70), s["flexi - what is the matrix"] = t(71), s["Flexi, fishbrain, Geiss + Martin - tokamak witchery"] = t(72), s["Flexi, martin + geiss - dedicated to the sherwin maxawow"] = t(73), s["Fumbling_Foo & Flexi, Martin, Orb, Unchained - Star Nova v7b"] = t(74), s["Geiss + Flexi + Martin - disconnected"] = t(75), s["Geiss - Cauldron - painterly 2 (saturation remix)"] = t(76), s["Geiss - Reaction Diffusion 2"] = t(77), s["Geiss - Spiral Artifact"] = t(78), s["Geiss - Thumb Drum"] = t(79), s["Geiss, Flexi + Stahlregen - Thumbdrum Tokamak [crossfiring aftermath jelly mashup]"] = t(80), s["Goody - The Wild Vort"] = t(81), s["high-altitude basket unraveling - singh grooves nitrogen argon nz+"] = t(82), s["Idiot - Star Of Annon"] = t(25), s["Krash + Illusion - Spiral Movement"] = t(26), s["martin + flexi - diamond cutter [prismaticvortex.com] - camille - i wish i wish i wish i was constrained"] = t(83), s["Martin - acid wiring"] = t(84), s["martin - angel flight"] = t(85), s["martin - another kind of groove"] = t(86), s["martin - bombyx mori"] = t(87), s["martin - castle in the air"] = t(88), s["martin - chain breaker"] = t(89), s["Martin - charisma"] = t(90), s["martin - disco mix 4"] = t(91), s["martin - extreme heat"] = t(92), s["martin - frosty caves 2"] = t(93), s["martin - fruit machine"] = t(94), s["martin - ghost city"] = t(95), s["martin - glass corridor"] = t(96), s["martin - infinity (2010 update)"] = t(27), s["Martin - liquid arrows"] = t(97), s["martin - mandelbox explorer - high speed demo version"] = t(98), s["martin - mucus cervix"] = t(99), s["Martin - QBikal - Surface Turbulence IIb"] = t(100), s["martin - reflections on black tiles"] = t(101), s["martin - stormy sea (2010 update)"] = t(102), s["martin - The Bridge of Khazad-Dum"] = t(103), s["martin - witchcraft reloaded"] = t(104), s["martin [shadow harlequins shape code] - fata morgana"] = t(105), s["martin, flexi, fishbrain + sto - enterstate [random mashup]"] = t(106), s["Milk Artist At our Best - FED - SlowFast Ft AdamFX n Martin - HD CosmoFX"] = t(107), s["ORB - Waaa"] = t(108), s["Phat+fiShbRaiN+Eo.S_Mandala_Chasers_remix"] = t(28), s["Rovastar + Loadus + Geiss - FractalDrop (Triple Mix)"] = t(109), s["Rovastar - Oozing Resistance"] = t(29), s["sawtooth grin roam"] = t(110), s["shifter - dark tides bdrv mix 2"] = t(111), s["suksma - heretical crosscut playpen"] = t(112), s["suksma - Rovastar - Sunflower Passion (Enlightment Mix)_Phat_edit + flexi und martin shaders - circumflex in character classes in regular expression"] = t(113), s["suksma - uninitialized variabowl (hydroponic chronic)"] = t(114), s["suksma - vector exp 1 - couldn′t not"] = t(115), s["TonyMilkdrop - Leonardo Da Vinci's Balloon [Flexi - merry-go-round + techstyle]"] = t(116), s["TonyMilkdrop - Magellan's Nebula [Flexi - you enter first + multiverse]"] = t(117), s["Unchained & Rovastar - Wormhole Pillars (Hall of Shadows mix)"] = t(30), s["Unchained - Rewop"] = t(31), s["Unchained - Unified Drag 2"] = t(32), s["yin - 191 - Temporal singularities"] = t(33), s["Zylot - Paint Spill (Music Reactive Paint Mix)"] = t(118), s["Zylot - Star Ornament"] = t(34), s["Zylot - True Visionary (Final Mix)"] = t(119);
      var v = function() {
        function a2() {
          (0, r.default)(this, a2);
        }
        return (0, n.default)(a2, null, [{key: "getPresets", value: function() {
          return s;
        }}]), a2;
      }();
      e.default = v, a.exports = v;
    }]);
  });
});
var __pika_web_default_export_for_treeshaking__2 = /* @__PURE__ */ getDefaultExportFromCjs(butterchurnPresets_min);
var butterchurn_presets_default = __pika_web_default_export_for_treeshaking__2;

// build/skin/makiClasses/Avs.js
var Avs = class extends Vis_default {
  init() {
    this._mode = "milkdrop";
    super.init();
    this._uiRoot._avss.push(this);
  }
  handleAction(action, param = null, actionTarget = null, source = null) {
    action = action.toLowerCase();
    if (["vis_prev", "vis_next", "vis_f5"].includes(action)) {
      this._painter.doAction(action, param);
      return true;
    }
    return false;
  }
};
var Avs_default = Avs;
Avs.GUID = "OFFICIALLY-NO-GUID";
var ButterchurnPaintHandler = class extends VisPaintHandler {
  constructor() {
    super(...arguments);
    this._visualizer = null;
    this._presetIndex = 10;
  }
  prepare() {
  }
  _buildButterchurn() {
    const audio = this._vis._uiRoot.audio;
    const canvas = this._vis._canvas;
    const width = canvas.width;
    const height = canvas.height;
    this._visualizer = butterchurn_default.createVisualizer(audio._context, canvas, {
      width,
      height
    });
    this._visualizer.connectAudio(audio._analyser);
    this._visualizer.setRendererSize(width, height);
    this.loadPreset();
  }
  paintFrame() {
    if (!this._visualizer) {
      if (!document.getElementById(this._vis._canvas.id))
        return;
      if (!(this._vis._uiRoot.audio.getState() == AUDIO_PLAYING))
        return;
      this._buildButterchurn();
    }
    this._visualizer.render();
  }
  doAction(action, param) {
    switch (action) {
      case "vis_prev":
        this._presetIndex--;
        this.loadPreset();
        break;
      case "vis_next":
        this._presetIndex++;
        this.loadPreset();
        break;
      case "vis_f5":
        break;
    }
  }
  loadPreset() {
    if (!this._visualizer)
      return;
    const presets = butterchurn_presets_default.getPresets();
    const presetNames = Object.keys(presets);
    this._presetIndex = circular(this._presetIndex, 0, presetNames.length - 1);
    const presetName = this._presetIndex == 0 ? "Flexi, martin + geiss - dedicated to the sherwin maxawow" : presetNames[this._presetIndex];
    const preset = presets[presetName];
    this._visualizer.loadPreset(preset, 1);
    const canvas = this._vis._canvas;
    const bound = canvas.getBoundingClientRect();
    const width = Math.max(bound.width, 10);
    const height = Math.max(bound.height, 10);
    canvas.width = width;
    canvas.height = height;
    this._visualizer.setRendererSize(width, height);
    this._visualizer.launchSongTitleAnim(`Preset:[${this._presetIndex}] : ${presetName}`);
    this._visualizer.renderer.supertext.duration = 7;
    this._visualizer.render();
  }
};
registerPainter("milkdrop", ButterchurnPaintHandler);

// build/_snowpack/pkg/common/Parser-28c61110.js
var emptyString = "";
var StringScanner = class {
  constructor(string) {
    this.chars = [...string];
    this.charCount = this.chars.length;
    this.charIndex = 0;
    this.charsToBytes = new Array(this.charCount);
    this.multiByteMode = false;
    this.string = string;
    let {chars, charCount, charsToBytes} = this;
    if (charCount === string.length) {
      for (let i = 0; i < charCount; ++i) {
        charsToBytes[i] = i;
      }
    } else {
      for (let byteIndex = 0, charIndex = 0; charIndex < charCount; ++charIndex) {
        charsToBytes[charIndex] = byteIndex;
        byteIndex += chars[charIndex].length;
      }
      this.multiByteMode = true;
    }
  }
  get isEnd() {
    return this.charIndex >= this.charCount;
  }
  _charLength(string) {
    let {length} = string;
    if (length < 2 || !this.multiByteMode) {
      return length;
    }
    return string.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, "_").length;
  }
  advance(count = 1) {
    this.charIndex = Math.min(this.charCount, this.charIndex + count);
  }
  consume(count = 1) {
    let chars = this.peek(count);
    this.advance(count);
    return chars;
  }
  consumeMatch(regex) {
    if (!regex.sticky) {
      throw new Error('`regex` must have a sticky flag ("y")');
    }
    regex.lastIndex = this.charsToBytes[this.charIndex];
    let result = regex.exec(this.string);
    if (result === null) {
      return emptyString;
    }
    let match = result[0];
    this.advance(this._charLength(match));
    return match;
  }
  consumeMatchFn(fn) {
    let startIndex = this.charIndex;
    while (!this.isEnd && fn(this.peek())) {
      this.advance();
    }
    return this.charIndex > startIndex ? this.string.slice(this.charsToBytes[startIndex], this.charsToBytes[this.charIndex]) : emptyString;
  }
  consumeString(stringToConsume) {
    if (this.consumeStringFast(stringToConsume)) {
      return stringToConsume;
    }
    if (!this.multiByteMode) {
      return emptyString;
    }
    let {length} = stringToConsume;
    let charLengthToMatch = this._charLength(stringToConsume);
    if (charLengthToMatch !== length && stringToConsume === this.peek(charLengthToMatch)) {
      this.advance(charLengthToMatch);
      return stringToConsume;
    }
    return emptyString;
  }
  consumeStringFast(stringToConsume) {
    if (this.peek() === stringToConsume[0]) {
      let {length} = stringToConsume;
      if (length === 1) {
        this.advance();
        return stringToConsume;
      }
      if (this.peek(length) === stringToConsume) {
        this.advance(length);
        return stringToConsume;
      }
    }
    return emptyString;
  }
  consumeUntilMatch(regex) {
    if (!regex.global) {
      throw new Error('`regex` must have a global flag ("g")');
    }
    let byteIndex = this.charsToBytes[this.charIndex];
    regex.lastIndex = byteIndex;
    let match = regex.exec(this.string);
    if (match === null || match.index === byteIndex) {
      return emptyString;
    }
    let result = this.string.slice(byteIndex, match.index);
    this.advance(this._charLength(result));
    return result;
  }
  consumeUntilString(searchString) {
    let {charIndex, charsToBytes, string} = this;
    let byteIndex = charsToBytes[charIndex];
    let matchByteIndex = string.indexOf(searchString, byteIndex);
    if (matchByteIndex <= 0) {
      return emptyString;
    }
    let result = string.slice(byteIndex, matchByteIndex);
    this.advance(this._charLength(result));
    return result;
  }
  peek(count = 1) {
    if (this.charIndex >= this.charCount) {
      return emptyString;
    }
    if (count === 1) {
      return this.chars[this.charIndex];
    }
    let {charsToBytes, charIndex} = this;
    return this.string.slice(charsToBytes[charIndex], charsToBytes[charIndex + count]);
  }
  reset(index = 0) {
    this.charIndex = index >= 0 ? Math.min(this.charCount, index) : Math.max(0, this.charIndex + index);
  }
};
var StringScanner_1 = StringScanner;
var predefinedEntities = Object.freeze(Object.assign(Object.create(null), {
  amp: "&",
  apos: "'",
  gt: ">",
  lt: "<",
  quot: '"'
}));
var predefinedEntities_1 = predefinedEntities;
function isNameChar(char) {
  if (isNameStartChar(char)) {
    return true;
  }
  let cp = getCodePoint(char);
  return cp === 45 || cp === 46 || cp >= 48 && cp <= 57 || cp === 183 || cp >= 768 && cp <= 879 || cp >= 8255 && cp <= 8256;
}
var isNameChar_1 = isNameChar;
function isNameStartChar(char) {
  let cp = getCodePoint(char);
  return cp === 58 || cp === 95 || cp >= 65 && cp <= 90 || cp >= 97 && cp <= 122 || cp >= 192 && cp <= 214 || cp >= 216 && cp <= 246 || cp >= 248 && cp <= 767 || cp >= 880 && cp <= 893 || cp >= 895 && cp <= 8191 || cp >= 8204 && cp <= 8205 || cp >= 8304 && cp <= 8591 || cp >= 11264 && cp <= 12271 || cp >= 12289 && cp <= 55295 || cp >= 63744 && cp <= 64975 || cp >= 65008 && cp <= 65533 || cp >= 65536 && cp <= 983039;
}
var isNameStartChar_1 = isNameStartChar;
function isNotXmlChar(char) {
  return !isXmlChar(char);
}
var isNotXmlChar_1 = isNotXmlChar;
function isReferenceChar(char) {
  return char === "#" || isNameChar(char);
}
var isReferenceChar_1 = isReferenceChar;
function isWhitespace(char) {
  let cp = getCodePoint(char);
  return cp === 32 || cp === 9 || cp === 10 || cp === 13;
}
var isWhitespace_1 = isWhitespace;
function isXmlChar(char) {
  let cp = getCodePoint(char);
  return cp === 9 || cp === 10 || cp === 13 || cp >= 32 && cp <= 55295 || cp >= 57344 && cp <= 65533 || cp >= 65536 && cp <= 1114111;
}
var isXmlChar_1 = isXmlChar;
function getCodePoint(char) {
  return char.codePointAt(0) || -1;
}
var syntax = {
  predefinedEntities: predefinedEntities_1,
  isNameChar: isNameChar_1,
  isNameStartChar: isNameStartChar_1,
  isNotXmlChar: isNotXmlChar_1,
  isReferenceChar: isReferenceChar_1,
  isWhitespace: isWhitespace_1,
  isXmlChar: isXmlChar_1
};
var XmlNode = class {
  constructor() {
    this.parent = null;
  }
  get document() {
    return this.parent ? this.parent.document : null;
  }
  get isRootNode() {
    return this.parent ? this.parent === this.document : false;
  }
  get preserveWhitespace() {
    return Boolean(this.parent && this.parent.preserveWhitespace);
  }
  get type() {
    return "";
  }
  toJSON() {
    let json = {
      type: this.type
    };
    if (this.isRootNode) {
      json.isRootNode = true;
    }
    if (this.preserveWhitespace) {
      json.preserveWhitespace = true;
    }
    return json;
  }
};
XmlNode.TYPE_CDATA = "cdata";
XmlNode.TYPE_COMMENT = "comment";
XmlNode.TYPE_DOCUMENT = "document";
XmlNode.TYPE_ELEMENT = "element";
XmlNode.TYPE_PROCESSING_INSTRUCTION = "pi";
XmlNode.TYPE_TEXT = "text";
var XmlNode_1 = XmlNode;
var XmlText = class extends XmlNode_1 {
  constructor(text = "") {
    super();
    this.text = text;
  }
  get type() {
    return XmlNode_1.TYPE_TEXT;
  }
  toJSON() {
    return Object.assign(XmlNode_1.prototype.toJSON.call(this), {
      text: this.text
    });
  }
};
var XmlText_1 = XmlText;
var XmlCdata = class extends XmlText_1 {
  get type() {
    return XmlNode_1.TYPE_CDATA;
  }
};
var XmlCdata_1 = XmlCdata;
var XmlComment = class extends XmlNode_1 {
  constructor(content = "") {
    super();
    this.content = content;
  }
  get type() {
    return XmlNode_1.TYPE_COMMENT;
  }
  toJSON() {
    return Object.assign(XmlNode_1.prototype.toJSON.call(this), {
      content: this.content
    });
  }
};
var XmlComment_1 = XmlComment;
var XmlElement = class extends XmlNode_1 {
  constructor(name, attributes = Object.create(null), children = []) {
    super();
    this.name = name;
    this.attributes = attributes;
    this.children = children;
  }
  get isEmpty() {
    return this.children.length === 0;
  }
  get preserveWhitespace() {
    let node = this;
    while (node instanceof XmlElement) {
      if ("xml:space" in node.attributes) {
        return node.attributes["xml:space"] === "preserve";
      }
      node = node.parent;
    }
    return false;
  }
  get text() {
    return this.children.map((child) => "text" in child ? child.text : "").join("");
  }
  get type() {
    return XmlNode_1.TYPE_ELEMENT;
  }
  toJSON() {
    return Object.assign(XmlNode_1.prototype.toJSON.call(this), {
      name: this.name,
      attributes: this.attributes,
      children: this.children.map((child) => child.toJSON())
    });
  }
};
var XmlElement_1 = XmlElement;
var XmlDocument = class extends XmlNode_1 {
  constructor(children = []) {
    super();
    this.children = children;
  }
  get document() {
    return this;
  }
  get root() {
    return this.children.find((child) => child instanceof XmlElement_1) || null;
  }
  get text() {
    return this.children.map((child) => "text" in child ? child.text : "").join("");
  }
  get type() {
    return XmlNode_1.TYPE_DOCUMENT;
  }
  toJSON() {
    return Object.assign(XmlNode_1.prototype.toJSON.call(this), {
      children: this.children.map((child) => child.toJSON())
    });
  }
};
var XmlDocument_1 = XmlDocument;
var XmlProcessingInstruction = class extends XmlNode_1 {
  constructor(name, content = "") {
    super();
    this.name = name;
    this.content = content;
  }
  get type() {
    return XmlNode_1.TYPE_PROCESSING_INSTRUCTION;
  }
  toJSON() {
    return Object.assign(XmlNode_1.prototype.toJSON.call(this), {
      name: this.name,
      content: this.content
    });
  }
};
var XmlProcessingInstruction_1 = XmlProcessingInstruction;
var emptyString$1 = "";
var Parser = class {
  constructor(xml, options = {}) {
    this.document = new XmlDocument_1();
    this.currentNode = this.document;
    this.options = options;
    this.scanner = new StringScanner_1(normalizeXmlString(xml));
    this.consumeProlog();
    if (!this.consumeElement()) {
      this.error("Root element is missing or invalid");
    }
    while (this.consumeMisc()) {
    }
    if (!this.scanner.isEnd) {
      this.error("Extra content at the end of the document");
    }
  }
  addNode(node) {
    node.parent = this.currentNode;
    this.currentNode.children.push(node);
  }
  addText(text) {
    let {children} = this.currentNode;
    if (children.length > 0) {
      let prevNode = children[children.length - 1];
      if (prevNode instanceof XmlText_1) {
        prevNode.text += text;
        return;
      }
    }
    this.addNode(new XmlText_1(text));
  }
  consumeAttributeValue() {
    let {scanner} = this;
    let quote = scanner.peek();
    if (quote !== '"' && quote !== "'") {
      return false;
    }
    scanner.advance();
    let chars;
    let isClosed = false;
    let value = emptyString$1;
    let regex = quote === '"' ? /[^"&<]+/y : /[^'&<]+/y;
    matchLoop:
      while (!scanner.isEnd) {
        chars = scanner.consumeMatch(regex);
        if (chars) {
          this.validateChars(chars);
          value += chars.replace(/[\t\r\n]/g, " ");
        }
        let nextChar = scanner.peek();
        switch (nextChar) {
          case quote:
            isClosed = true;
            break matchLoop;
          case "&":
            value += this.consumeReference();
            continue;
          case "<":
            this.error("Unescaped `<` is not allowed in an attribute value");
            break;
          case emptyString$1:
            this.error("Unclosed attribute");
            break;
        }
      }
    if (!isClosed) {
      this.error("Unclosed attribute");
    }
    scanner.advance();
    return value;
  }
  consumeCdataSection() {
    let {scanner} = this;
    if (!scanner.consumeStringFast("<![CDATA[")) {
      return false;
    }
    let text = scanner.consumeUntilString("]]>");
    this.validateChars(text);
    if (!scanner.consumeStringFast("]]>")) {
      this.error("Unclosed CDATA section");
    }
    if (this.options.preserveCdata) {
      this.addNode(new XmlCdata_1(text));
    } else {
      this.addText(text);
    }
    return true;
  }
  consumeCharData() {
    let {scanner} = this;
    let charData = scanner.consumeUntilMatch(/<|&|]]>/g);
    if (!charData) {
      return false;
    }
    this.validateChars(charData);
    if (scanner.peek() === "]" && scanner.peek(3) === "]]>") {
      this.error("Element content may not contain the CDATA section close delimiter `]]>`");
    }
    this.addText(charData);
    return true;
  }
  consumeComment() {
    let {scanner} = this;
    if (!scanner.consumeStringFast("<!--")) {
      return false;
    }
    let content = scanner.consumeUntilString("--");
    this.validateChars(content);
    if (!scanner.consumeStringFast("-->")) {
      if (scanner.peek(2) === "--") {
        this.error("The string `--` isn't allowed inside a comment");
      } else {
        this.error("Unclosed comment");
      }
    }
    if (this.options.preserveComments) {
      this.addNode(new XmlComment_1(content.trim()));
    }
    return true;
  }
  consumeContentReference() {
    let ref = this.consumeReference();
    if (ref) {
      this.addText(ref);
      return true;
    }
    return false;
  }
  consumeDoctypeDeclaration() {
    let {scanner} = this;
    if (!scanner.consumeStringFast("<!DOCTYPE") || !this.consumeWhitespace()) {
      return false;
    }
    scanner.consumeMatch(/[^[>]+/y);
    if (scanner.consumeMatch(/\[[\s\S]+?\][\x20\t\r\n]*>/y)) {
      return true;
    }
    if (!scanner.consumeStringFast(">")) {
      this.error("Unclosed doctype declaration");
    }
    return true;
  }
  consumeElement() {
    let {scanner} = this;
    let mark = scanner.charIndex;
    if (scanner.peek() !== "<") {
      return false;
    }
    scanner.advance();
    let name = this.consumeName();
    if (!name) {
      scanner.reset(mark);
      return false;
    }
    let attributes = Object.create(null);
    while (this.consumeWhitespace()) {
      let attrName = this.consumeName();
      if (!attrName) {
        continue;
      }
      let attrValue = this.consumeEqual() && this.consumeAttributeValue();
      if (attrValue === false) {
        this.error("Attribute value expected");
      }
      if (attrName in attributes) {
        this.error(`Duplicate attribute: ${attrName}`);
      }
      if (attrName === "xml:space" && attrValue !== "default" && attrValue !== "preserve") {
        this.error('Value of the `xml:space` attribute must be "default" or "preserve"');
      }
      attributes[attrName] = attrValue;
    }
    if (this.options.sortAttributes) {
      let attrNames = Object.keys(attributes).sort();
      let sortedAttributes = Object.create(null);
      for (let i = 0; i < attrNames.length; ++i) {
        let attrName = attrNames[i];
        sortedAttributes[attrName] = attributes[attrName];
      }
      attributes = sortedAttributes;
    }
    let isEmpty = Boolean(scanner.consumeStringFast("/>"));
    let element = new XmlElement_1(name, attributes);
    element.parent = this.currentNode;
    if (!isEmpty) {
      if (!scanner.consumeStringFast(">")) {
        this.error(`Unclosed start tag for element \`${name}\``);
      }
      this.currentNode = element;
      this.consumeCharData();
      while (this.consumeElement() || this.consumeContentReference() || this.consumeCdataSection() || this.consumeProcessingInstruction() || this.consumeComment()) {
        this.consumeCharData();
      }
      let endTagMark = scanner.charIndex;
      let endTagName;
      if (!scanner.consumeStringFast("</") || !(endTagName = this.consumeName()) || endTagName !== name) {
        scanner.reset(endTagMark);
        this.error(`Missing end tag for element ${name}`);
      }
      this.consumeWhitespace();
      if (!scanner.consumeStringFast(">")) {
        this.error(`Unclosed end tag for element ${name}`);
      }
      this.currentNode = element.parent;
    }
    this.addNode(element);
    return true;
  }
  consumeEqual() {
    this.consumeWhitespace();
    if (this.scanner.consumeStringFast("=")) {
      this.consumeWhitespace();
      return true;
    }
    return false;
  }
  consumeMisc() {
    return this.consumeComment() || this.consumeProcessingInstruction() || this.consumeWhitespace();
  }
  consumeName() {
    return syntax.isNameStartChar(this.scanner.peek()) ? this.scanner.consumeMatchFn(syntax.isNameChar) : emptyString$1;
  }
  consumeProcessingInstruction() {
    let {scanner} = this;
    let mark = scanner.charIndex;
    if (!scanner.consumeStringFast("<?")) {
      return false;
    }
    let name = this.consumeName();
    if (name) {
      if (name.toLowerCase() === "xml") {
        scanner.reset(mark);
        this.error("XML declaration isn't allowed here");
      }
    } else {
      this.error("Invalid processing instruction");
    }
    if (!this.consumeWhitespace()) {
      if (scanner.consumeStringFast("?>")) {
        this.addNode(new XmlProcessingInstruction_1(name));
        return true;
      }
      this.error("Whitespace is required after a processing instruction name");
    }
    let content = scanner.consumeUntilString("?>");
    this.validateChars(content);
    if (!scanner.consumeStringFast("?>")) {
      this.error("Unterminated processing instruction");
    }
    this.addNode(new XmlProcessingInstruction_1(name, content));
    return true;
  }
  consumeProlog() {
    let {scanner} = this;
    let mark = scanner.charIndex;
    this.consumeXmlDeclaration();
    while (this.consumeMisc()) {
    }
    if (this.consumeDoctypeDeclaration()) {
      while (this.consumeMisc()) {
      }
    }
    return mark < scanner.charIndex;
  }
  consumeReference() {
    let {scanner} = this;
    if (scanner.peek() !== "&") {
      return false;
    }
    scanner.advance();
    let ref = scanner.consumeMatchFn(syntax.isReferenceChar);
    if (scanner.consume() !== ";") {
      this.error("Unterminated reference (a reference must end with `;`)");
    }
    let parsedValue;
    if (ref[0] === "#") {
      let codePoint = ref[1] === "x" ? parseInt(ref.slice(2), 16) : parseInt(ref.slice(1), 10);
      if (isNaN(codePoint)) {
        this.error("Invalid character reference");
      }
      parsedValue = String.fromCodePoint(codePoint);
      if (!syntax.isXmlChar(parsedValue)) {
        this.error("Character reference resolves to an invalid character");
      }
    } else {
      parsedValue = syntax.predefinedEntities[ref];
      if (parsedValue === void 0) {
        let {
          ignoreUndefinedEntities,
          resolveUndefinedEntity
        } = this.options;
        let wrappedRef = `&${ref};`;
        if (resolveUndefinedEntity) {
          let resolvedValue = resolveUndefinedEntity(wrappedRef);
          if (resolvedValue !== null && resolvedValue !== void 0) {
            let type = typeof resolvedValue;
            if (type !== "string") {
              throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${type}`);
            }
            return resolvedValue;
          }
        }
        if (ignoreUndefinedEntities) {
          return wrappedRef;
        }
        scanner.reset(-wrappedRef.length);
        this.error(`Named entity isn't defined: ${wrappedRef}`);
      }
    }
    return parsedValue;
  }
  consumeSystemLiteral() {
    let {scanner} = this;
    let quote = scanner.consumeStringFast('"') || scanner.consumeStringFast("'");
    if (!quote) {
      return false;
    }
    let value = scanner.consumeUntilString(quote);
    this.validateChars(value);
    if (!scanner.consumeStringFast(quote)) {
      this.error("Missing end quote");
    }
    return value;
  }
  consumeWhitespace() {
    return Boolean(this.scanner.consumeMatchFn(syntax.isWhitespace));
  }
  consumeXmlDeclaration() {
    let {scanner} = this;
    if (!scanner.consumeStringFast("<?xml")) {
      return false;
    }
    if (!this.consumeWhitespace()) {
      this.error("Invalid XML declaration");
    }
    let version2 = Boolean(scanner.consumeStringFast("version")) && this.consumeEqual() && this.consumeSystemLiteral();
    if (version2 === false) {
      this.error("XML version is missing or invalid");
    } else if (!/^1\.[0-9]+$/.test(version2)) {
      this.error("Invalid character in version number");
    }
    if (this.consumeWhitespace()) {
      let encoding = Boolean(scanner.consumeStringFast("encoding")) && this.consumeEqual() && this.consumeSystemLiteral();
      if (encoding) {
        this.consumeWhitespace();
      }
      let standalone = Boolean(scanner.consumeStringFast("standalone")) && this.consumeEqual() && this.consumeSystemLiteral();
      if (standalone) {
        if (standalone !== "yes" && standalone !== "no") {
          this.error('Only "yes" and "no" are permitted as values of `standalone`');
        }
        this.consumeWhitespace();
      }
    }
    if (!scanner.consumeStringFast("?>")) {
      this.error("Invalid or unclosed XML declaration");
    }
    return true;
  }
  error(message) {
    let {charIndex, string: xml} = this.scanner;
    let column = 1;
    let excerpt = "";
    let line = 1;
    for (let i = 0; i < charIndex; ++i) {
      let char = xml[i];
      if (char === "\n") {
        column = 1;
        excerpt = "";
        line += 1;
      } else {
        column += 1;
        excerpt += char;
      }
    }
    let eol = xml.indexOf("\n", charIndex);
    excerpt += eol === -1 ? xml.slice(charIndex) : xml.slice(charIndex, eol);
    let excerptStart = 0;
    if (excerpt.length > 50) {
      if (column < 40) {
        excerpt = excerpt.slice(0, 50);
      } else {
        excerptStart = column - 20;
        excerpt = excerpt.slice(excerptStart, column + 30);
      }
    }
    let err = new Error(`${message} (line ${line}, column ${column})
  ${excerpt}
` + " ".repeat(column - excerptStart + 1) + "^\n");
    Object.assign(err, {
      column,
      excerpt,
      line,
      pos: charIndex
    });
    throw err;
  }
  validateChars(string) {
    let charIndex = 0;
    for (let char of string) {
      if (syntax.isNotXmlChar(char)) {
        this.scanner.reset(-([...string].length - charIndex));
        this.error("Invalid character");
      }
      charIndex += 1;
    }
  }
};
var Parser_1 = Parser;
function normalizeXmlString(xml) {
  if (xml[0] === "\uFEFF") {
    xml = xml.slice(1);
  }
  return xml.replace(/\r\n?/g, "\n");
}

// build/_snowpack/pkg/@rgrove/parse-xml.js
function parseXml(xml, options) {
  return new Parser_1(xml, options).document;
}
parseXml.XmlCdata = XmlCdata_1;
parseXml.XmlComment = XmlComment_1;
parseXml.XmlDocument = XmlDocument_1;
parseXml.XmlElement = XmlElement_1;
parseXml.XmlNode = XmlNode_1;
parseXml.XmlProcessingInstruction = XmlProcessingInstruction_1;
parseXml.XmlText = XmlText_1;
var src = parseXml;
var XmlDocument2 = src.XmlDocument;
var XmlElement2 = src.XmlElement;

// build/skin/makiClasses/WindowHolder.js
var WindowHolder = class extends Group_default {
  setXmlAttr(_key, value) {
    const key = _key.toLowerCase();
    if (super.setXmlAttr(key, value)) {
      return true;
    }
    switch (key) {
      case "hold":
        this._hold = value.toLowerCase();
        this._buildConent();
        break;
      default:
        return false;
    }
    return true;
  }
  getguid() {
    return this._hold;
  }
  getcontent() {
    return this._heldObj;
  }
  _buildConent() {
    const id2 = this._uiRoot.guid2alias(this._hold);
    switch (id2) {
      case "avs":
        const gui = new Avs_default(this._uiRoot);
        const spec = new XmlElement2("dummy", {fitparent: "1"});
        gui.setXmlAttributes(spec.attributes);
        this.addChild(gui);
        this._heldObj = gui;
        break;
    }
  }
  getcomponentname() {
    if (this._heldObj) {
      return this._heldObj._name;
    }
    return "";
  }
};
var WindowHolder_default = WindowHolder;
WindowHolder.GUID = "403abcc04bd66f22c810a48b47259329";

// build/skin/makiClasses/File.js
var File = class extends BaseObject_default {
  constructor(uiRoot) {
    super();
    this._uiRoot = uiRoot;
  }
  load(path) {
    this._path = path;
  }
  exists() {
    const request = new XMLHttpRequest();
    request.open("GET", this._path, false);
    request.send(null);
    return request.status === 200;
  }
  getsize() {
    const request = new XMLHttpRequest();
    request.open("GET", this._path, false);
    request.send(null);
    return Number(request.getResponseHeader("content-length"));
  }
};
var File_default = File;
File.GUID = "836f8b2e4db4e0d10a0d7f93d1dcc804";

// build/skin/makiClasses/XmlDoc.js
var XmlDoc = class extends File_default {
};
var XmlDoc_default = XmlDoc;
XmlDoc.GUID = "417ffb694be8987f96d9878d68c8ee5e";

// build/skin/resolver.js
var CLASSES = [
  BaseObject_default,
  Config_default,
  ConfigItem_default,
  ConfigAttribute_default,
  WinampConfig_default,
  WinampConfigGroup,
  ComponentBucket_default,
  Region_default,
  AlbumArt_default,
  Button_default,
  SystemObject_default,
  Container_default,
  Layout_default,
  Layer_default,
  AnimatedLayer_default,
  PopupMenu_default,
  ToggleButton_default,
  Status_default,
  LayoutStatus_default,
  Text_default,
  Menu_default,
  Frame_default,
  Group_default,
  MakiMap_default,
  List_default,
  BitList_default,
  GroupList_default,
  CfgGroup_default,
  TabSheet_default,
  MouseRedir_default,
  DropDownList_default,
  Edit_default,
  Browser_default,
  Wac_default,
  QueryList_default,
  GuiList_default,
  GuiTree_default,
  TreeItem_default,
  CheckBox_default,
  Timer_default,
  Slider_default,
  Vis_default,
  EqVis_default,
  PlEdit,
  PlDir,
  PlayListGui_default,
  GuiObj_default,
  WasabiTitle_default,
  WindowHolder_default,
  Application_default,
  File_default,
  XmlDoc_default
];
var GUID_MAP = {};
for (const klass of CLASSES) {
  if (klass.GUID == null) {
    throw new Error("Expected GUID on class.");
  }
  GUID_MAP[klass.GUID.toLowerCase()] = klass;
}
function classResolver(guid) {
  const klass = GUID_MAP[guid];
  if (klass == null) {
    throw new Error(`Unresolvable class "${getClass(guid).name}" (guid: ${guid})`);
  }
  return klass;
}

// build/skin/SkinEngine.js
var SkinEngine = class {
  constructor(uiRoot) {
    this._uiRoot = uiRoot;
    this._imageManager = uiRoot.getImageManager();
  }
  getFileExtractor() {
    return null;
  }
  async buildUI() {
    const uiRoot = this._uiRoot;
    this._uiRoot.logMessage("Parsing XML and initializing images...");
    await this.parseSkin();
    uiRoot.loadTrueTypeFonts();
    uiRoot.enableDefaultGammaSet();
    uiRoot.logMessage("Rendering skin for the first time...");
    uiRoot.draw();
    uiRoot.init();
    uiRoot.logMessage("");
  }
  async parseSkin() {
  }
  addToGroup(obj, parent) {
    try {
      parent.addChild(obj);
    } catch (err) {
      console.warn("addToGroup failed. child:", obj, "pareng:", parent);
    }
  }
  async newGui(Type, node, parent) {
    const gui = new Type(this._uiRoot);
    gui.setXmlAttributes(node.attributes);
    if (parent != null)
      this.addToGroup(gui, parent);
    return gui;
  }
  async newGroup(Type, node, parent) {
    return await this.newGui(Type, node, parent);
  }
  async bitmap(node) {
    const bitmap = new Bitmap_default();
    bitmap.setXmlAttributes(node.attributes);
    this._uiRoot.addBitmap(bitmap);
    await bitmap.ensureImageLoaded(this._imageManager);
    return bitmap;
  }
  async bitmapFont(node) {
    const font = new BitmapFont_default(this._uiRoot);
    font.setXmlAttributes(node.attributes);
    this._uiRoot.addFont(font);
    await font.ensureImageLoaded(this._imageManager);
    return font;
  }
  async text(node, parent) {
    return this.newGui(Text_default, node, parent);
  }
  async button(node, parent) {
    return await this.newGui(Button_default, node, parent);
  }
  async animatedLayer(node, parent) {
    return this.newGui(AnimatedLayer_default, node, parent);
  }
  async layer(node, parent) {
    return this.newGui(Layer_default, node, parent);
  }
  async group(node, parent) {
    return await this.newGroup(Group_default, node, parent);
  }
  async layout(node, parent) {
    return this.newGroup(Layout_default, node, parent);
  }
  async container(node) {
    const container = new Container_default(this._uiRoot);
    container.setXmlAttributes(node.attributes);
    this._uiRoot.addContainers(container);
    return container;
  }
};
SkinEngine.canProcess = (filePath) => {
  return false;
};
SkinEngine.identifyByFile = (filePath) => {
  return "skin.xml";
};
SkinEngine.priority = 100;
var SKIN_ENGINES = [];
async function getSkinEngineClass(filePath) {
  const result = [];
  SKIN_ENGINES.sort((a, b) => {
    return a.priority - b.priority;
  });
  if (filePath.endsWith("/")) {
    for (const Engine of SKIN_ENGINES) {
      const aFileName = Engine.identifyByFile(filePath);
      if (aFileName) {
        const response = await fetch(filePath + aFileName);
        if (response.status == 200) {
          return [Engine];
        }
      }
    }
  }
  for (const Engine of SKIN_ENGINES) {
    if (Engine.canProcess(filePath)) {
      result.push(Engine);
    }
  }
  return result;
}
async function getSkinEngineClassByContent(classes, filePath, uiRoot) {
  for (const Engine of classes) {
    const aFileName = Engine.identifyByFile(filePath);
    const aFile = await uiRoot.getFileAsString(aFileName);
    if (aFile != null) {
      return Engine;
    }
  }
}

// build/skin/GammaGroup.js
var GammaGroup = class {
  constructor() {
    this._boost = 0;
    this._gray = 0;
  }
  setXmlAttributes(attributes) {
    for (const [key, value] of Object.entries(attributes)) {
      this.setXmlAttr(key, value);
    }
  }
  setXmlAttr(_key, value) {
    const key = _key.toLowerCase();
    switch (key) {
      case "id":
        this._id = value;
        break;
      case "value":
        this._value = value;
        break;
      case "boost":
        this._boost = num(value);
        break;
      case "gray":
        this._gray = num(value);
      default:
        return false;
    }
    return true;
  }
  getId() {
    return this._id;
  }
  getDomId() {
    return normalizeDomId(this._id);
  }
  getRgb() {
    return `rgb(${this._value})`;
  }
  transformImage(img, x, y, w, h) {
    const [r, g, b] = this._value.split(",").map((v) => {
      return Number(v) / 4096 + 1;
    });
    const safeWidth = w || img.width;
    const safeHeight = h || img.height;
    const safeLeft = x ? -x : 0;
    const safeTop = y ? -y : 0;
    const canvas = document.createElement("canvas");
    canvas.width = safeWidth;
    canvas.height = safeHeight;
    const ctx = canvas.getContext("2d");
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.drawImage(img, safeLeft, safeTop);
    const imageData = ctx.getImageData(0, 0, safeWidth, safeHeight);
    const data = imageData.data;
    for (var i = 0; i < data.length; i += 4) {
      let [ir, ig, ib] = [data[i], data[i + 1], data[i + 2]];
      if (this._gray != 0) {
        if (this._gray == 2)
          ir = (ir + ig + ib) / 3;
        if (this._gray == 1)
          ir = Math.max(ir, ig, ib);
        ig = ir;
        ib = ir;
      }
      const mult = this._boost == 2 ? 4 : 1;
      const brightness = this._boost == 1 ? 128 : this._boost == 2 ? 32 : 0;
      data[i + 0] = clamp((ir + brightness) * mult * r, 0, 255);
      data[i + 1] = clamp((ig + brightness) * mult * g, 0, 255);
      data[i + 2] = clamp((ib + brightness) * mult * b, 0, 255);
    }
    ctx.putImageData(imageData, 0, 0);
    return canvas.toDataURL();
  }
  transformColor2rgb(color) {
    const [r, g, b] = this._value.split(",").map((v) => {
      return Number(v) / 4096 + 1;
    });
    let [red, green, blue] = color.split(",").map((v) => parseInt(v));
    if (this._gray != 0) {
      if (this._gray == 2)
        red = (red + green + blue) / 3;
      if (this._gray == 1)
        red = Math.max(red, green, blue);
      green = red;
      blue = red;
    }
    const mult = this._boost == 2 ? 4 : 1;
    const brightness = this._boost == 1 ? 128 : this._boost == 2 ? 32 : 0;
    red = clamp((red + brightness) * mult * r, 0, 255);
    green = clamp((green + brightness) * mult * g, 0, 255);
    blue = clamp((blue + brightness) * mult * b, 0, 255);
    return [red, green, blue];
  }
  transformColor(color) {
    const [red, green, blue] = this.transformColor2rgb(color);
    return `rgb(${red}, ${green}, ${blue})`;
  }
};
var GammaGroup_default = GammaGroup;

// build/maki/interpreter.js
function validateMaki(program) {
  return;
}
async function interpret(start, program, stack, classResolver2, eventName, uiRoot) {
  validateMaki(program);
  const interpreter = new Interpreter(program, classResolver2, eventName, uiRoot);
  interpreter.stack = stack;
  try {
    return await interpreter.interpret(start);
  } catch (error) {
    console.warn(`Stopped executing ${program.maki_id}.
`, error);
  }
}
function validateVariable(v) {
  if (v.type === "OBJECT" && typeof v.value !== "object" && v.value !== 0) {
    debugger;
  }
}
var Interpreter = class {
  constructor(program, classResolver2, eventName, uiRoot) {
    this.debug = false;
    const {commands, methods, variables, classes, maki_id} = program;
    this.classResolver = classResolver2;
    this.commands = commands;
    this.methods = methods;
    this.variables = variables;
    this.classes = classes;
    this.maki_id = maki_id;
    this.eventName = eventName;
    this._uiRoot = uiRoot;
    this.stack = [];
    this.callStack = [];
  }
  push(variable) {
    this.stack.push(variable);
  }
  async interpret(start) {
    var _a, _b;
    for (const v of this.variables) {
      validateVariable(v);
    }
    let ip = start;
    while (ip < this.commands.length) {
      const command = this.commands[ip];
      if (this.debug) {
        console.log(command);
      }
      switch (command.opcode) {
        case 1: {
          const offsetIntoVariables = command.arg;
          this.push(this.variables[offsetIntoVariables]);
          break;
        }
        case 2: {
          this.stack.pop();
          break;
        }
        case 3: {
          const a = this.stack.pop();
          const offsetIntoVariables = command.arg;
          const current = this.variables[offsetIntoVariables];
          assume(a != null, `Assigning from invalid object into: ${current.value}. #${this.maki_id}. @${this.eventName} 
 (see next error)`);
          assume(typeof a.value === typeof current.value || current.value == null, `Assigned from one type to a different type ${typeof a.value}, ${typeof current.value}. #${this.maki_id}`);
          current.value = a.value;
          break;
        }
        case 8: {
          const a = this.stack.pop();
          const b = this.stack.pop();
          let result;
          if (a.type == "STRING" && b.type == "STRING") {
            result = V.newInt(b.value.toLowerCase() == a.value.toLowerCase());
          } else {
            result = V.newInt(b.value === a.value);
          }
          this.push(result);
          break;
        }
        case 9: {
          const a = this.stack.pop();
          const b = this.stack.pop();
          let result;
          if (a.type == "STRING" && b.type == "STRING") {
            result = V.newInt(b.value.toLowerCase() != a.value.toLowerCase());
          } else {
            result = V.newInt(b.value !== a.value);
          }
          this.push(result);
          break;
        }
        case 10: {
          const a = this.stack.pop();
          const b = this.stack.pop();
          if (!(a.type == b.type && ["INT", "FLOAT", "DOUBLE", "STRING"].includes(a.type))) {
            switch (a.type) {
              case "STRING":
              case "OBJECT":
              case "BOOLEAN":
              case "NULL":
                throw new Error("Tried to add non-numbers.10a");
            }
            switch (b.type) {
              case "STRING":
              case "OBJECT":
              case "BOOLEAN":
              case "NULL":
                throw new Error("Tried to add non-numbers.10b");
            }
          }
          if (this.debug) {
            console.log(`${b.value} > ${a.value}`);
          }
          this.push(V.newInt(b.value > a.value));
          break;
        }
        case 11: {
          const a = this.stack.pop();
          const b = this.stack.pop();
          if (!(a.type == b.type && ["INT", "FLOAT", "DOUBLE", "STRING"].includes(a.type))) {
            switch (a.type) {
              case "STRING":
              case "OBJECT":
              case "BOOLEAN":
              case "NULL":
                throw new Error("Tried to add non-numbers.11a. " + this.maki_id);
            }
            switch (b.type) {
              case "STRING":
              case "OBJECT":
              case "BOOLEAN":
              case "NULL":
                throw new Error("Tried to add non-numbers.11b");
            }
          }
          if (this.debug) {
            console.log(`${b.value} >= ${a.value}`);
          }
          this.push(V.newInt(b.value >= a.value));
          break;
        }
        case 12: {
          const a = this.stack.pop();
          const b = this.stack.pop();
          if (!(a.type == b.type && ["INT", "FLOAT", "DOUBLE", "STRING"].includes(a.type))) {
            switch (a.type) {
              case "STRING":
              case "OBJECT":
              case "BOOLEAN":
              case "NULL":
                throw new Error("Tried to add non-numbers.12a");
            }
            switch (b.type) {
              case "STRING":
              case "OBJECT":
              case "BOOLEAN":
              case "NULL":
                throw new Error("Tried to add non-numbers.12b");
            }
          }
          if (this.debug) {
            console.log(`${b.value} < ${a.value}`);
          }
          this.push(V.newInt(b.value < a.value));
          break;
        }
        case 13: {
          const a = this.stack.pop();
          const b = this.stack.pop();
          if (!(a.type == b.type && ["INT", "FLOAT", "DOUBLE", "STRING"].includes(a.type))) {
            switch (a.type) {
              case "STRING":
              case "OBJECT":
              case "BOOLEAN":
              case "NULL":
                throw new Error("Tried to add non-numbers.13a");
            }
            switch (b.type) {
              case "STRING":
              case "OBJECT":
              case "BOOLEAN":
              case "NULL":
                throw new Error("Tried to add non-numbers.13b");
            }
          }
          if (this.debug) {
            console.log(`${b.value} < ${a.value}`);
          }
          this.push(V.newInt(b.value <= a.value));
          break;
        }
        case 16: {
          const value = this.stack.pop();
          if (value.value) {
            break;
          }
          ip = command.arg - 1;
          break;
        }
        case 17: {
          const value = this.stack.pop();
          if (!value.value) {
            break;
          }
          ip = command.arg - 1;
          break;
        }
        case 18: {
          ip = command.arg - 1;
          break;
        }
        case 24:
        case 112: {
          const methodOffset = command.arg;
          const method = this.methods[methodOffset];
          let methodName = method.name;
          const returnType = method.returnType;
          const classesOffset = method.typeOffset;
          methodName = methodName.toLowerCase();
          const guid = this.classes[classesOffset];
          const klass = this.classResolver(guid);
          if (!klass) {
            throw new Error("Need to add a missing class to runtime");
          }
          if (!klass.prototype[methodName]) {
            throw new Error(`Need to add missing method: ${klass.name}.${methodName}: ${returnType}`);
          }
          let argCount = klass.prototype[methodName].length;
          const methodDefinition = getMethod2(guid, methodName);
          if (methodName.toLowerCase() != "init") {
            assert(argCount === ((_a = methodDefinition.parameters.length) != null ? _a : 0), `Arg count mismatch. Expected ${(_b = methodDefinition.parameters.length) != null ? _b : 0} arguments, but found ${argCount} for ${klass.name}.${methodName}`);
          }
          const methodArgs = [];
          while (argCount--) {
            const a = this.stack.pop();
            methodArgs.push(a.value);
          }
          const obj = this.stack.pop();
          assert((obj.type === "OBJECT" && typeof obj.value) === "object" && obj.value != null, `Guru Meditation: Tried to call method ${klass.name}.${methodName} on null object. #${this.maki_id}`);
          let result = null;
          try {
            let afunction = obj.value[methodName];
            if (afunction.constructor.name === "AsyncFunction") {
              console.log("calling fun type:", afunction.constructor.name, `@${klass.name}.${methodName}`);
              result = await obj.value[methodName](...methodArgs);
            } else {
              result = obj.value[methodName](...methodArgs);
            }
          } catch (err) {
            const args = JSON.stringify(methodArgs).replace("[", "").replace("]", "");
            console.warn(`error call: ${klass.name}.${methodName}(${args})`, `err: ${err.message} obj:`, obj);
            result = null;
          }
          if (result === void 0 && returnType !== "NULL") {
            throw new Error(`Did not expect ${klass.name}.${methodName}: ${returnType} to return undefined`);
          }
          if (result === null) {
            result = this.variables[1];
          }
          if (returnType === "BOOLEAN") {
            assert(typeof result === "boolean", `${klass.name}.${methodName} should return a boolean, but "${JSON.stringify(result)}"`);
            result = result ? 1 : 0;
          }
          if (returnType === "OBJECT") {
            assert(typeof result === "object", `Expected the returned value of ${klass.name}.${methodName} to be an object, but it was "${result}"`);
          }
          if (this.debug) {
            console.log(`Calling method ${methodName}`);
          }
          this.push({type: returnType, value: result});
          break;
        }
        case 25: {
          this.callStack.push(ip);
          const offset = command.arg;
          ip = offset - 1;
          break;
        }
        case 33: {
          ip = this.callStack.pop();
          break;
        }
        case 40: {
          break;
        }
        case 48: {
          const a = this.stack.pop();
          const b = this.stack.pop();
          if (a.type == "OBJECT" && b.type == "OBJECT") {
          }
          if (b == null) {
            const objId = a.value instanceof BaseObject_default ? a.value.getId() : "!noid";
            console.log(objId, ":=", "dest:", b, "src:", a);
            console.warn("Hey, can't move: b.value=a.value with b==nul;a=", a);
          }
          if (b != null) {
            b.value = a.value;
          }
          this.push(a);
          break;
        }
        case 56: {
          const a = this.stack.pop();
          switch (a.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
            case "NULL":
              throw new Error("Tried to increment a non-number.");
          }
          const aValue = a.value;
          a.value = aValue + 1;
          this.push({type: a.type, value: aValue});
          break;
        }
        case 57: {
          const a = this.stack.pop();
          switch (a.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
            case "NULL":
              throw new Error("Tried to decrement a non-number.");
          }
          const aValue = a.value;
          a.value = aValue - 1;
          this.push({type: a.type, value: aValue});
          break;
        }
        case 58: {
          const a = this.stack.pop();
          switch (a.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
            case "NULL":
              throw new Error("Tried to increment a non-number.");
          }
          a.value++;
          this.push(a);
          break;
        }
        case 59: {
          const a = this.stack.pop();
          switch (a.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
            case "NULL":
              throw new Error("Tried to increment a non-number.");
          }
          a.value--;
          this.push(a);
          break;
        }
        case 64: {
          const a = this.stack.pop();
          const b = this.stack.pop();
          let a_value = a.value;
          let b_value = b.value;
          switch (a.type) {
            case "BOOLEAN":
              a_value = a_value == 0 ? 0 : 1;
              break;
            case "OBJECT":
            case "NULL":
              throw new Error(`Tried to add non-numbers: ${b.type} + ${a.type}.64a`);
            case "STRING":
              if (b.type !== "STRING") {
                throw new Error(`Tried to add string and a non-string: ${b.type} + ${a.type}.`);
              }
          }
          switch (b.type) {
            case "OBJECT":
              throw new Error(`Tried to add non-numbers.64b.A:${a.type}=${a.value}B:${b.type}=${b.value}`);
            case "BOOLEAN":
              b_value = b_value == 0 ? 0 : 1;
          }
          this.push({type: a.type, value: b_value + a_value});
          break;
        }
        case 65: {
          const a = this.stack.pop();
          const b = this.stack.pop();
          switch (a.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
            case "NULL":
              throw new Error("Tried to add non-numbers.65a");
          }
          switch (b.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
            case "NULL":
              throw new Error("Tried to add non-numbers.65b");
          }
          this.push({type: a.type, value: b.value - a.value});
          break;
        }
        case 66: {
          const a = this.stack.pop();
          const b = this.stack.pop();
          switch (a.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
            case "NULL":
              throw new Error("Tried to add non-numbers.66a");
          }
          switch (b.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
            case "NULL":
              throw new Error("Tried to add non-numbers.66b");
          }
          this.push({type: a.type, value: b.value * a.value});
          break;
        }
        case 67: {
          const a = this.stack.pop();
          const b = this.stack.pop();
          switch (a.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
            case "NULL":
              throw new Error("Tried to add non-numbers.67a");
          }
          switch (b.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
              throw new Error("Tried to add non-numbers.67b");
          }
          this.push({type: a.type, value: b.value / a.value});
          break;
        }
        case 68: {
          const a = this.stack.pop();
          const b = this.stack.pop();
          switch (a.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
            case "NULL":
              throw new Error("Tried to add non-numbers.68a");
          }
          switch (b.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
              throw new Error("Tried to add non-numbers.68b");
            case "FLOAT":
            case "DOUBLE":
              const value = Math.floor(b.value) % a.value;
              this.push({type: a.type, value});
              break;
            case "INT":
              this.push({type: a.type, value: b.value % a.value});
              break;
          }
          break;
        }
        case 72: {
          assume(false, "Unimplimented & operator");
          break;
        }
        case 73: {
          assume(false, "Unimplimented | operator");
          break;
        }
        case 74: {
          const a = this.stack.pop();
          this.push(V.newInt(!a.value));
          break;
        }
        case 76: {
          const a = this.stack.pop();
          switch (a.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
            case "NULL":
              throw new Error("Tried to add non-numbers.76a");
          }
          this.push({type: a.type, value: -a.value});
          break;
        }
        case 80: {
          const a = this.stack.pop();
          const b = this.stack.pop();
          switch (a.type) {
            case "STRING":
            case "OBJECT":
            case "NULL":
              throw new Error("Tried to add non-numbers.80a");
          }
          switch (b.type) {
            case "STRING":
            case "OBJECT":
            case "NULL":
              throw new Error("Tried to add non-numbers.80b");
          }
          if (b.value && a.value) {
            this.push(a);
          } else {
            this.push(b);
          }
          break;
        }
        case 81: {
          const a = this.stack.pop();
          const b = this.stack.pop();
          switch (a.type) {
            case "STRING":
            case "OBJECT":
            case "NULL":
              throw new Error("Tried to add non-numbers.81a :" + a.type);
          }
          switch (b.type) {
            case "STRING":
            case "OBJECT":
            case "NULL":
              throw new Error("Tried to add non-numbers.81b");
          }
          if (b.value) {
            this.push(b);
          } else {
            this.push(a);
          }
          break;
        }
        case 88: {
          const a = this.stack.pop();
          const b = this.stack.pop();
          switch (a.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
            case "NULL":
              throw new Error("Tried to left shift non-numbers.88a");
          }
          switch (b.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
              throw new Error("Tried to left shift non-numbers.88b");
            case "FLOAT":
            case "DOUBLE":
            case "INT":
              this.push({type: a.type, value: b.value << a.value});
              break;
          }
          break;
        }
        case 89: {
          const a = this.stack.pop();
          const b = this.stack.pop();
          switch (a.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
            case "NULL":
              throw new Error("Tried to right shift non-numbers.89a");
          }
          switch (b.type) {
            case "STRING":
            case "OBJECT":
            case "BOOLEAN":
              throw new Error("Tried to right shift non-numbers.89b");
            case "FLOAT":
            case "DOUBLE":
            case "INT":
              this.push({type: a.type, value: b.value >> a.value});
              break;
          }
          break;
          break;
        }
        case 96: {
          const classesOffset = command.arg;
          const guid = this.classes[classesOffset];
          const Klass = this.classResolver(guid);
          const klassInst = new Klass(this._uiRoot);
          this.push({type: "OBJECT", value: klassInst});
          break;
        }
        case 97: {
          const aValue = this.stack.pop();
          break;
        }
        default:
          throw new Error(`Unhandled opcode ${command.opcode}`);
      }
      ip++;
    }
  }
};

// build/skin/VM.js
var Vm = class {
  constructor(uiRoot) {
    this._scripts = [];
    this._uiRoot = uiRoot;
  }
  dispatch1(object, event, args = []) {
    const reversedArgs = [...args].reverse();
    let executed = 0;
    for (const script of this._scripts) {
      for (const binding2 of script.bindings) {
        if (script.methods[binding2.methodOffset].name === event && (script.variables[binding2.variableOffset].value === object || script.variables[binding2.variableOffset].isClass && script.variables[binding2.variableOffset].members.find((vari) => script.variables[vari].value == object))) {
          if (event.startsWith("onleftbu")) {
            console.log("EXEC EVENT:", event, binding2);
          }
          this.interpret(script, binding2.commandOffset, event, reversedArgs);
          executed++;
        }
      }
    }
    if (event.startsWith("onleft")) {
      console.log("dispatched", executed, "x :", event, object._id);
    }
    return 0;
  }
  async dispatch(object, event, args = []) {
    const reversedArgs = [...args].reverse();
    let executed = 0;
    for (const script of this._scripts) {
      for (const binding2 of script.bindings) {
        if (script.methods[binding2.methodOffset].name === event) {
          let match = false;
          const binding_var = script.variables[binding2.variableOffset];
          if (binding_var.isClass) {
            const found = binding_var.members.find((var_index) => {
              const member_var = script.variables[var_index];
              return member_var.value == object;
            });
            if (found != null) {
              binding_var.value = object;
              match = true;
            }
          } else if (binding_var.type === "OBJECT" && binding_var.value === object) {
            match = true;
          }
          if (match) {
            await this.interpret(script, binding2.commandOffset, event, reversedArgs);
            executed++;
          }
        }
      }
    }
    return executed;
  }
  addScript(maki) {
    const index = this._scripts.length;
    this._scripts.push(maki);
    return index;
  }
  async interpret(script, commandOffset, eventName, args) {
    await interpret(commandOffset, script, args, classResolver, eventName, this._uiRoot);
  }
};
var VM_default = Vm;

// build/skin/ImageManager.js
var DEFAULT_IMAGE_URL = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg==";
var ImageManager = class {
  constructor(uiRoot) {
    this._imagePlaceholder = false;
    this._urlCache = {};
    this._imgCache = {};
    this._uiRoot = uiRoot;
  }
  dispose() {
  }
  async getUrl(filePath) {
    if (!this._urlCache.hasOwnProperty(filePath)) {
      const imgBlob = await this.getBlob(filePath);
      if (imgBlob == null) {
        this._urlCache[filePath] = null;
        return null;
      }
      const imgUrl = await getUrlFromBlob(imgBlob);
      this._urlCache[filePath] = imgUrl;
    }
    return this._urlCache[filePath];
  }
  getCachedUrl(filePath) {
    return this._urlCache[filePath];
  }
  async getBlob(filePath) {
    return await this._uiRoot.getFileAsBlob(filePath);
  }
  async loadUniquePaths() {
    const bitmaps = [];
    const filesPath = [];
    for (const bitmap of Object.values(this._uiRoot.getBitmaps())) {
      if (!bitmap.loaded()) {
        if (!filesPath.includes(bitmap.getFile())) {
          filesPath.push(bitmap.getFile());
          bitmaps.push(bitmap);
        }
      }
    }
    const fonts = this._uiRoot.getFonts();
    for (let i = fonts.length - 1; i >= 0; i--) {
      const font = fonts[i];
      if (font instanceof BitmapFont_default && !font.useExternalBitmap() && !font.getImg()) {
        if (!filesPath.includes(font.getFile())) {
          filesPath.push(font.getFile());
          bitmaps.push(font);
        }
      }
    }
    await Promise.all(filesPath.map(async (filePath) => {
      return await this.getImage(filePath);
    }));
    return bitmaps;
  }
  async ensureBitmapsLoaded() {
    const bitmaps = await this.loadUniquePaths();
    return await Promise.all(bitmaps.map(async (bitmap) => {
      return bitmap.ensureImageLoaded(this);
    }));
  }
  async getImage(filePath) {
    if (!this._imgCache.hasOwnProperty(filePath)) {
      const url = await this.getUrl(filePath);
      if (url != null) {
        const img = await loadImage(url);
        this._imgCache[filePath] = img;
      } else if (this._imagePlaceholder) {
        const img = await loadImage(DEFAULT_IMAGE_URL);
        this._imgCache[filePath] = img;
      } else {
        this._imgCache[filePath] = null;
      }
    }
    return this._imgCache[filePath];
  }
};
var ImageManager_default = ImageManager;
async function getUrlFromBlob(blob) {
  return new Promise((resolve, reject) => {
    const reader = new FileReader();
    reader.onload = function(e) {
      resolve(e.target.result);
    };
    reader.onerror = reject;
    reader.readAsDataURL(blob);
  });
}
async function loadImage(imgUrl) {
  return new Promise((resolve, reject) => {
    const img = new Image();
    img.addEventListener("load", () => {
      resolve(img);
    });
    img.addEventListener("error", (e) => {
      console.warn("cant load empty image:", imgUrl);
      reject(e);
    });
    img.src = imgUrl;
  });
}

// build/UIRoot.js
var UIRoot = class {
  constructor(id2 = "ui-root") {
    this._avss = [];
    this._div = document.createElement("div");
    this._mousePos = {x: 0, y: 0};
    this._bitmaps = {};
    this._fonts = [];
    this._colors = [];
    this._elementAlias = {};
    this._dimensions = {};
    this._groupDefs = {};
    this._gammaSets = new Map();
    this._gammaNames = {};
    this._dummyGammaGroup = null;
    this._activeGammaSetName = "";
    this._xuiGroupDefs = {};
    this._activeGammaSet = [];
    this._containers = [];
    this._systemObjects = [];
    this._buckets = [];
    this._bucketEntries = {};
    this._xFades = [];
    this._input = document.createElement("input");
    this._skinInfo = {};
    this._skin = {name: "", url: ""};
    this._skins = [];
    this._eventListener = new Emitter();
    this._additionalCss = [];
    this._objects = [];
    this.audio = AudioPlayer_default;
    this._inputChanged = () => {
      this.playlist.clear();
      for (var i = 0; i < this._input.files.length; i++) {
        const newTrack = {
          filename: this._input.files[i].name,
          file: this._input.files[i]
        };
        this.playlist.addTrack(newTrack);
      }
      this.audio.play();
    };
    this._id = id2;
    this._input.type = "file";
    this._input.setAttribute("multiple", "true");
    this._input.onchange = this._inputChanged;
    this._imageManager = new ImageManager_default(this);
    this._config = new Config_default(this);
    this._application = new Application_default(this);
    this._winampConfig = new WinampConfig_default(this);
    this.playlist = new PlEdit(this);
    this.vm = new VM_default(this);
    this.setlistenMouseMove(true);
  }
  getId() {
    return this._id;
  }
  guid2alias(guid) {
    const knownContainerGuids = {
      "{0000000a-000c-0010-ff7b-01014263450c}": "vis",
      "{45f3f7c1-a6f3-4ee6-a15e-125e92fc3f8d}": "pl",
      "{6b0edf80-c9a5-11d3-9f26-00c04f39ffc6}": "ml",
      "{7383a6fb-1d01-413b-a99a-7e6f655f4591}": "con",
      "{7a8b2d76-9531-43b9-91a1-ac455a7c8242}": "lir",
      "{a3ef47bd-39eb-435a-9fb3-a5d87f6f17a5}": "dl",
      "{f0816d7b-fffc-4343-80f2-e8199aa15cc3}": "video"
    };
    if (guid.includes(":")) {
      guid = guid.split(":")[1];
    }
    guid = guid.toLowerCase();
    return knownContainerGuids[guid] || guid;
  }
  on(event, callback) {
    return this._eventListener.on(event, callback);
  }
  trigger(event, ...args) {
    this._eventListener.trigger(event, ...args);
  }
  off(event, callback) {
    this._eventListener.off(event, callback);
  }
  reset() {
    this.deinitSkin();
    this.dispose();
    this._bitmaps = {};
    this._imageManager.dispose();
    this._imageManager = new ImageManager_default(this);
    this._fonts = [];
    this._colors = [];
    this._groupDefs = {};
    this._gammaSets = new Map();
    this._xuiGroupDefs = {};
    this._activeGammaSet = [];
    this._containers = [];
    this._systemObjects = [];
    this._gammaNames = {};
    this._buckets = [];
    this._bucketEntries = {};
    this._xFades = [];
    this._additionalCss = [];
    removeAllChildNodes(this._div);
    this._objects = [];
  }
  deinitSkin() {
    for (const container of this._containers) {
      container.dispose();
    }
    for (const systemObj of this._systemObjects) {
      systemObj.dispose();
    }
  }
  getRootDiv() {
    return this._div;
  }
  getImageManager() {
    return this._imageManager;
  }
  setImageManager(imageManager) {
    this._imageManager = imageManager;
  }
  addObject(obj) {
    this._objects.push(obj);
  }
  addBitmap(bitmap) {
    const id2 = bitmap.getId().toLowerCase();
    this._bitmaps[id2] = bitmap;
  }
  getBitmap(id2) {
    let lowercaseId = id2.toLowerCase();
    if (!this.hasBitmap(lowercaseId)) {
      lowercaseId = this._elementAlias[lowercaseId];
    }
    const found = this._bitmaps[lowercaseId];
    assume(found != null, `Could not find bitmap with id ${id2}.`);
    return found;
  }
  removeBitmap(id2) {
    delete this._bitmaps[id2.toLowerCase()];
  }
  getBitmaps() {
    return this._bitmaps;
  }
  hasBitmapFilepath(filePath) {
    for (const bitmap of Object.values(this._bitmaps)) {
      if (bitmap.getFile() == filePath) {
        return true;
      }
    }
    return false;
  }
  hasBitmap(id2) {
    const lowercaseId = id2.toLowerCase();
    const found = this._bitmaps[lowercaseId];
    return found ? true : false;
  }
  addFont(font) {
    this._fonts.push(font);
  }
  getFont(id2) {
    const found = findLast(this._fonts, (font) => font.getId().toLowerCase() === id2.toLowerCase());
    if (found == null) {
      console.warn(`Could not find true type font with id ${id2}.`);
    }
    return found != null ? found : null;
  }
  getFonts() {
    return this._fonts;
  }
  addColor(color) {
    this._colors.push(color);
  }
  addAlias(id2, target) {
    this._elementAlias[id2.toLowerCase()] = target.toLowerCase();
  }
  getAlias(id2) {
    return this._elementAlias[id2.toLowerCase()];
  }
  addDimension(id2, size) {
    this._dimensions[id2] = size;
  }
  addWidth(id2, bitmapId) {
    const bitmap = this.getBitmap(bitmapId);
    if (bitmap) {
      this.addDimension(id2, bitmap.getWidth());
    }
  }
  addHeight(id2, bitmapId) {
    const bitmap = this.getBitmap(bitmapId);
    if (bitmap) {
      this.addDimension(id2, bitmap.getHeight());
    }
  }
  getColor(id2) {
    const lowercaseId = id2.toLowerCase();
    const found = findLast(this._colors, (color) => color._id.toLowerCase() === lowercaseId);
    assume(found != null, `Could not find color with id ${id2}.`);
    return found;
  }
  addComponentBucket(bucket) {
    this._buckets.push(bucket);
  }
  addBucketEntry(windowType, entry) {
    if (!this._bucketEntries[windowType]) {
      this._bucketEntries[windowType] = [];
    }
    this._bucketEntries[windowType].push(entry);
  }
  getBucketEntries(windowType) {
    return this._bucketEntries[windowType] || [];
  }
  addXFade(xfade) {
    this._xFades.push(xfade);
  }
  getXFades() {
    return this._xFades;
  }
  addGroupDef(groupDef) {
    const groupdef_id = groupDef.attributes.id.toLowerCase();
    this._groupDefs[groupdef_id] = groupDef;
    if (groupDef.attributes.xuitag) {
      this.addXuitagGroupDefId(groupDef.attributes.xuitag, groupdef_id);
    }
  }
  addXuitagGroupDefId(xuitag, groupdef_id) {
    this._xuiGroupDefs[xuitag.toLowerCase()] = groupdef_id.toLowerCase();
  }
  getGroupDef(id2) {
    if (!id2)
      return null;
    const groupdef_id = id2.toLowerCase();
    return this._groupDefs[groupdef_id];
  }
  addContainers(container) {
    this._containers.push(container);
    return container;
  }
  getContainers() {
    return this._containers;
  }
  iterContainers(callback) {
    for (const container of this._containers) {
      if (callback(container))
        return container;
    }
  }
  findContainer(id2) {
    return this.iterContainers((ct) => {
      return ct.hasId(id2);
    });
  }
  addGammaSet(id2, gammaSet) {
    const lower = id2.toLowerCase();
    this._gammaNames[lower] = id2;
    this._gammaSets.set(lower, gammaSet);
  }
  enableGammaSet(id2) {
    if (id2) {
      console.log(`Enabling gammaset: '${id2}'`);
      const found = this._gammaSets.get(id2.toLowerCase());
      assume(found != null, `Could not find gammaset for id "${id2}" from set of ${Array.from(this._gammaSets.keys()).join(", ")}`);
      this._activeGammaSetName = id2;
      this._activeGammaSet = found || [];
      PrivateConfig_default.setPrivateString(this.getSkinName(), "_gammagroup_", id2);
    }
    this.trigger("colorthemechanged", id2 || "");
    this._setCssVars();
  }
  enableDefaultGammaSet() {
    const start = performance.now();
    const gammaSetNames = Array.from(this._gammaSets.keys());
    const firstName = gammaSetNames[0] || "";
    const lastGamma = PrivateConfig_default.getPrivateString(this.getSkinName(), "_gammagroup_", firstName);
    this.enableGammaSet(lastGamma);
    const end = performance.now();
    console.log(`Loading initial gamma took: ${(end - start) / 1e3}s`);
  }
  _getGammaGroup(id2) {
    if (!id2) {
      return this._getGammaGroupDummy();
    }
    const lower = id2.toLowerCase();
    const found = findLast(this._activeGammaSet, (gammaGroup) => {
      return gammaGroup.getId().toLowerCase() === lower;
    });
    return found != null ? found : this._getGammaGroupDummy();
  }
  _getGammaGroupDummy() {
    if (!this._dummyGammaGroup) {
      this._dummyGammaGroup = new GammaGroup_default();
      this._dummyGammaGroup.setXmlAttributes({
        id: "dummy",
        value: "0,0,0"
      });
    }
    return this._dummyGammaGroup;
  }
  _getBitmapAliases() {
    const aliases = {};
    for (const [aliasId, targetId] of Object.entries(this._elementAlias)) {
      if (this.hasBitmap(targetId)) {
        if (!aliases[targetId]) {
          aliases[targetId] = [];
        }
        aliases[targetId].push(aliasId);
      }
    }
    return aliases;
  }
  async _setCssVars() {
    const cssRules = [];
    const bitmapAliases = this._getBitmapAliases();
    const maybeBitmapAliases = (bitmap) => {
      const aliases = bitmapAliases[bitmap.getId().toLowerCase()];
      if (aliases != null) {
        for (const alias of aliases) {
          cssRules.push(`${genCssVar(alias)}: var(${bitmap.getCSSVar()});`);
        }
      }
    };
    const bitmapFonts = this._fonts.filter((font) => font instanceof BitmapFont_default && !font.useExternalBitmap());
    for (const bitmap of [...Object.values(this._bitmaps), ...bitmapFonts]) {
      cssRules.push(await bitmap.getGammaTransformedUrl(this));
      maybeBitmapAliases(bitmap);
    }
    for (const color of this._colors) {
      const groupId = color.getGammaGroup();
      const gammaGroup = this._getGammaGroup(groupId);
      const url = gammaGroup.transformColor(color.getValue());
      cssRules.push(`  ${color.getCSSVar()}: ${url};`);
    }
    for (const [dimension, size] of Object.entries(this._dimensions)) {
      cssRules.push(`  --dim-${dimension}: ${size}px;`);
    }
    for (const additionalRule of this._additionalCss) {
      cssRules.push(additionalRule);
    }
    const cssId = `${this._id}-bitmap-css`;
    let cssEl = document.querySelector(`style#${cssId}`);
    if (!cssEl) {
      cssEl = document.createElement("style");
      cssEl.setAttribute("type", "text/css");
      cssEl.setAttribute("id", cssId);
      document.head.appendChild(cssEl);
    }
    cssEl.textContent = `#${this._id} {${cssRules.join("\n")}}`;
  }
  addAdditionalCss(css) {
    this._additionalCss.push(css);
  }
  getXuiElement(xuitag) {
    const lowercaseName = xuitag.toLowerCase();
    const groupdef_id = this._xuiGroupDefs[lowercaseName];
    return this.getGroupDef(groupdef_id);
  }
  loadTrueTypeFonts() {
    const cssRules = [];
    const truetypeFonts = this._fonts.filter((font) => font instanceof TrueTypeFont_default);
    for (const ttf of truetypeFonts) {
      if (!ttf.hasUrl()) {
        continue;
      }
      cssRules.push(`@font-face {
        font-family: '${ttf.getId()}';
        src: url(${ttf.getBase64()}) format('truetype');
        font-weight: normal;
        font-style: normal;
      }`);
    }
    const cssEl = document.getElementById("truetypefont-css");
    cssEl.textContent = cssRules.join("\n");
  }
  dispatch(action, param, actionTarget) {
    switch (action.toLowerCase()) {
      case "play":
        this.audio.play();
        break;
      case "pause":
        this.audio.pause();
        break;
      case "stop":
        this.audio.stop();
        break;
      case "next":
        this.next();
        break;
      case "prev":
        this.previous();
        break;
      case "eject":
        this.eject();
        break;
      case "vis_next":
      case "vis_prev":
      case "vis_f5":
        if (this._avss.length) {
          for (const avs of this._avss) {
            avs.dispatchAction(action, param, actionTarget);
          }
        }
        break;
      case "eq_toggle":
        this.eq_toggle();
        this.trigger("eq_toggle");
        break;
      case "toggle":
        this.toggleContainer(param);
        this.trigger("toggle");
        break;
      case "close":
        this.closeContainer();
        break;
      case "menu":
        getWa5Popup(param, this).popatmouse();
        break;
      case "controlmenu":
        getWa5Popup("ControlMenu", this).popatmouse();
        break;
      case "sysmenu":
        getWa5Popup("Main", this).popatmouse();
        break;
      case "pe_add":
        getWa5Popup("Add", this).popatmouse();
        break;
      case "pe_rem":
        getWa5Popup("Remove", this).popatmouse();
        break;
      case "pe_sel":
        getWa5Popup("Select", this).popatmouse();
        break;
      case "pe_misc":
        getWa5Popup("MiscOpt", this).popatmouse();
        break;
      case "pe_list":
        getWa5Popup("Playlist", this).popatmouse();
        break;
      default:
        assume(false, `Unknown global action: ${action}`);
    }
  }
  getActionState(action, param, actionTarget = "") {
    if (action != null) {
      switch (action.toLowerCase()) {
        case "eq_toggle":
          return this.audio.getEqEnabled();
        case "toggle":
          return this.getContainerVisible(param);
      }
    }
    return null;
  }
  next() {
    const currentTrack = this.playlist.getcurrentindex();
    if (currentTrack < this.playlist.getnumtracks() - 1) {
      this.playlist.playtrack(currentTrack + 1);
    }
    this.audio.play();
  }
  previous() {
    const currentTrack = this.playlist.getcurrentindex();
    if (currentTrack > 0) {
      this.playlist.playtrack(currentTrack - 1);
    }
    this.audio.play();
  }
  eject() {
    this._input.click();
  }
  eq_toggle() {
    this.audio.setEqEnabled(!this.audio.getEqEnabled());
  }
  toggleContainer(param) {
    const container = this.findContainer(param);
    assume(container != null, `Can not toggle on unknown container: ${param}`);
    container.toggle();
  }
  getContainerVisible(param) {
    const container = this.findContainer(param);
    if (container != null) {
      return container.getVisible();
    }
  }
  closeContainer() {
    const btn = document.activeElement;
    const containerEl = btn.closest("container");
    const container_id = containerEl.getAttribute("id").toLowerCase();
    for (const container of this._containers) {
      if (container._id.toLowerCase() == container_id) {
        container.close();
      }
    }
  }
  draw() {
    this._div.setAttribute("id", this._id);
    this._div.style.imageRendering = "pixelated";
    for (const container of this.getContainers()) {
      container.draw();
      this._div.appendChild(container.getDiv());
    }
  }
  dispose() {
    this._div.remove();
    for (const obj of this._objects) {
      obj.dispose();
    }
  }
  setlistenMouseMove(listen) {
    const update = (e) => {
      this._mousePos = {
        x: e.pageX,
        y: e.pageY
      };
    };
    window.document[`${listen ? "add" : "remove"}EventListener`]("mousemove", update);
  }
  setZip(zip) {
    this._zip = zip;
    this._preferZip = zip != null;
  }
  getZip() {
    return this._zip;
  }
  setPreferZip(prefer) {
    this._preferZip = prefer;
  }
  setSkinDir(skinPath) {
    this._skinPath = skinPath;
  }
  getSkinDir() {
    return this._skinPath;
  }
  setFileExtractor(fe) {
    this._fileExtractor = fe;
  }
  async getFileAsString(filePath) {
    return await this._fileExtractor.getFileAsString(filePath);
  }
  async getFileAsBytes(filePath) {
    return await this._fileExtractor.getFileAsBytes(filePath);
  }
  async getFileAsBlob(filePath) {
    return await this._fileExtractor.getFileAsBlob(filePath);
  }
  addSystemObject(systemObj) {
    this._systemObjects.push(systemObj);
  }
  init() {
    for (const systemObject of this._systemObjects) {
      systemObject.init();
    }
    this.logMessage("Initializing Maki...");
    for (const container of this.getContainers()) {
      container.init();
    }
    this.playlist.init();
  }
  setSkinInfo(skinInfo) {
    const url = this._skinInfo.url;
    this._skinInfo = {...skinInfo, url};
  }
  setSkinUrl(url) {
    this._skinInfo.url = url;
  }
  getSkinUrl() {
    return this._skinInfo.url;
  }
  getSkinInfo() {
    return this._skinInfo;
  }
  getSkinName() {
    return this.getSkinInfo()["name"];
  }
  async switchSkin(skin) {
    const parentDiv = this.getRootDiv().parentElement;
    this.reset();
    parentDiv.appendChild(this.getRootDiv());
    const name = typeof skin === "string" ? skin : skin.name;
    const skinPath = typeof skin === "string" ? skin : skin.url;
    this.setSkinUrl(skinPath);
    let skinFetched = false;
    let SkinEngineClass2 = null;
    let SkinEngineClasses = await getSkinEngineClass(skinPath);
    if (SkinEngineClasses.length > 1) {
      await this._loadSkinPathToUiroot(skinPath, null);
      skinFetched = true;
      SkinEngineClass2 = await getSkinEngineClassByContent(SkinEngineClasses, skinPath, this);
    } else {
      SkinEngineClass2 = SkinEngineClasses[0];
    }
    if (SkinEngineClass2 == null) {
      throw new Error(`Skin not supported`);
    }
    this.SkinEngineClass = SkinEngineClass2;
    const parser = new SkinEngineClass2(this);
    if (!skinFetched)
      await this._loadSkinPathToUiroot(skinPath, parser);
    await parser.buildUI();
  }
  async _loadSkinPathToUiroot(skinPath, skinEngine) {
    let response;
    let fileExtractor;
    if (skinPath.endsWith("/")) {
      fileExtractor = new PathFileExtractor();
    } else {
      response = await fetch(skinPath);
      if (response.status == 404) {
        throw new Error(`Skin does not exist`);
      }
      if (skinEngine != null) {
        fileExtractor = skinEngine.getFileExtractor();
      }
    }
    if (fileExtractor == null) {
      if (response.headers.get("content-type").startsWith("application/")) {
        fileExtractor = new ZipFileExtractor();
      } else {
        fileExtractor = new PathFileExtractor();
      }
    }
    await fileExtractor.prepare(skinPath, response);
    this.setFileExtractor(fileExtractor);
  }
  set SkinEngineClass(Engine) {
    this._skinEngineClass = Engine;
  }
  get SkinEngineClass() {
    return this._skinEngineClass;
  }
  get APPLICATION() {
    return this._application;
  }
  get CONFIG() {
    return this._config;
  }
  get WINAMP_CONFIG() {
    return this._winampConfig;
  }
  logMessage(message) {
    this.trigger("onlogmessage", message);
  }
};

// build/WebampModernInteface.js
var WebAmpModern = class {
  constructor(parent, options = {}) {
  }
  switchSkin(skinPath) {
  }
  playSong(songurl) {
  }
  onLogMessage(callback) {
  }
};

// build/WebampModern.js
var DEFAULT_OPTIONS = {
  skin: "assets/WinampModern566.wal",
  tracks: []
};
var DIV_UNIQUER = 0;
var Webamp5 = class extends WebAmpModern {
  constructor(parent, options = {}) {
    super(parent, options);
    this._parent = parent || document.body;
    this._options = {...DEFAULT_OPTIONS, ...options};
    DIV_UNIQUER++;
    this._uiRoot = new UIRoot(`ui-root-${DIV_UNIQUER}`);
    parent.appendChild(this._uiRoot.getRootDiv());
    if (this._options.skin) this.switchSkin(this._options.skin);
    for (const song of this._options.tracks) {
      this._uiRoot.playlist.enqueuefile(song);
    }
  }
  async switchSkin(skinPath) {
    this._uiRoot.reset();
    this._parent.appendChild(this._uiRoot.getRootDiv());
    let skinFetched = false;
    let SkinEngineClass = null;
    let SkinEngineClasses = await getSkinEngineClass(skinPath);
    if (SkinEngineClasses.length > 1) {
      await this._loadSkinPathToUiroot(skinPath, this._uiRoot, null);
      skinFetched = true;
      SkinEngineClass = await getSkinEngineClassByContent(SkinEngineClasses, skinPath, this._uiRoot);
    } else {
      SkinEngineClass = SkinEngineClasses[0];
    }
    if (SkinEngineClass == null) {
      throw new Error(`Skin not supported`);
    }
    this._uiRoot.SkinEngineClass = SkinEngineClass;
    const parser = new SkinEngineClass(this._uiRoot);
    if (!skinFetched)
      await this._loadSkinPathToUiroot(skinPath, this._uiRoot, parser);
    await parser.buildUI();
  }
  async _loadSkinPathToUiroot(skinPath, uiRoot, skinEngine) {
    let response;
    let fileExtractor;
    if (skinPath.endsWith("/")) {
      fileExtractor = new PathFileExtractor();
    } else {
      response = await fetch(skinPath);
      if (response.status == 404) {
        throw new Error(`Skin does not exist`);
      }
      if (skinEngine != null) {
        fileExtractor = skinEngine.getFileExtractor();
      }
    }
    if (fileExtractor == null) {
      if (response.headers.get("content-type").startsWith("application/")) {
        fileExtractor = new ZipFileExtractor();
      } else {
        fileExtractor = new PathFileExtractor();
      }
    }
    await fileExtractor.prepare(skinPath, response);
    uiRoot.setFileExtractor(fileExtractor);
  }
  playSong(songurl) {
  }
  onLogMessage(callback) {
    this._uiRoot.on("onlogmessage", callback);
  }
};
async function main() {
  window.WebampModern = Webamp5;
}
main();
export {
  Webamp5,
  SKIN_ENGINES
};
